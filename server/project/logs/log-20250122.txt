2025-01-22 00:00:01.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:00:01.742 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:01.745 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:00:01.748 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 25.9789ms
2025-01-22 00:00:02.044 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:00:02.053 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:00:02.059 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:02.063 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:02.066 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:00:02.112 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:00:02.116 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:02.118 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:02.129 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:00:02.140 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:00:02.143 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:02.145 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.4396ms.
2025-01-22 00:00:02.155 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:00:02.160 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 86.7594ms
2025-01-22 00:00:02.165 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:02.169 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:00:02.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 127.4531ms
2025-01-22 00:00:27.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:00:27.470 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:27.472 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:00:27.473 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 41.9135ms
2025-01-22 00:00:27.783 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:00:27.788 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:00:27.792 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.6479ms
2025-01-22 00:00:27.798 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:00:27.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:00:27.807 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:27.810 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:27.811 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:00:27.855 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:00:27.858 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:27.859 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:27.868 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:00:27.874 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:00:27.876 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:27.877 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.6154ms.
2025-01-22 00:00:27.880 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:00:27.892 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 75.782ms
2025-01-22 00:00:27.894 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:27.897 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:00:27.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 102.7413ms
2025-01-22 00:00:34.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:00:34.637 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:34.638 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:00:34.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.2445ms
2025-01-22 00:00:34.875 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:00:34.878 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:00:34.880 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 4.8432ms
2025-01-22 00:00:34.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:00:34.890 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:00:34.892 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:00:34.895 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:34.897 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:00:34.944 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:00:34.946 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:34.948 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:34.956 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:00:34.969 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:00:34.971 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:00:34.973 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.6272ms.
2025-01-22 00:00:34.979 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:00:34.983 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 76.5369ms
2025-01-22 00:00:34.986 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:00:34.988 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:00:34.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 104.4358ms
2025-01-22 00:01:03.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:01:03.428 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:01:03.429 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:01:03.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.6808ms
2025-01-22 00:01:03.712 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:01:03.717 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:01:03.719 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.887ms
2025-01-22 00:01:03.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:01:03.736 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:01:03.739 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:01:03.743 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:01:03.745 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:01:03.804 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:01:03.806 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:03.808 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:03.816 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:01:03.822 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:01:03.824 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:03.825 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.2688ms.
2025-01-22 00:01:03.835 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:01:03.840 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 80.7676ms
2025-01-22 00:01:03.846 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:01:03.850 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:01:03.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 125.2731ms
2025-01-22 00:01:10.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:01:10.800 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:01:10.803 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:01:10.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.542ms
2025-01-22 00:01:11.094 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:01:11.118 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:01:11.121 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 26.3769ms
2025-01-22 00:01:11.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:01:11.138 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:01:11.141 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:01:11.146 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:01:11.151 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:01:11.193 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:01:11.195 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:11.197 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:11.206 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:01:11.213 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:01:11.216 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:01:11.218 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.4058ms.
2025-01-22 00:01:11.223 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:01:11.229 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 73.0145ms
2025-01-22 00:01:11.232 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:01:11.235 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:01:11.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 105.6024ms
2025-01-22 00:03:21.790 +02:00 [INF] Starting up the application
2025-01-22 00:03:25.983 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:03:28.396 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:03:28.590 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:03:29.081 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:03:29.134 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:03:29.137 +02:00 [INF] Hosting environment: Development
2025-01-22 00:03:29.139 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:03:30.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:03:30.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 348.0763ms
2025-01-22 00:03:30.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:03:30.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.3023ms
2025-01-22 00:03:30.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:03:31.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 364.8993ms
2025-01-22 00:03:35.257 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:03:35.267 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:03:35.273 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 16.2092ms
2025-01-22 00:03:35.278 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:03:35.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:03:35.290 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:03:35.333 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:03:35.594 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:03:35.632 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:03:35.818 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:03:35.828 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:03:35.832 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:03:35.843 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:03:35.963 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:03:36.044 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:03:36.447 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 805.3475ms
2025-01-22 00:03:36.451 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:03:36.627 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:03:36.698 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 1419.319ms
2025-01-22 00:05:06.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:05:06.760 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:05:06.763 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:05:06.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 33.8916ms
2025-01-22 00:05:07.027 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:05:07.035 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:05:07.052 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 24.5653ms
2025-01-22 00:05:07.090 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:05:07.096 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:05:07.101 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:05:07.107 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:05:07.121 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:05:07.184 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:05:07.189 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:05:07.198 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:05:07.359 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:05:07.426 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:05:07.430 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:05:07.437 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 246.5487ms.
2025-01-22 00:05:07.449 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:05:07.498 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 371.9262ms
2025-01-22 00:05:07.501 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:05:07.503 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:05:07.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 414.8822ms
2025-01-22 00:07:12.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:07:12.962 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:07:12.969 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:07:12.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 49.577ms
2025-01-22 00:07:13.298 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:07:13.336 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:07:13.339 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 40.3172ms
2025-01-22 00:07:13.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:07:13.355 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:07:13.357 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:07:13.373 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:07:13.379 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:07:13.504 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:07:13.509 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:07:13.522 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:07:13.559 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:07:13.580 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:07:13.586 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:07:13.591 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 82.0868ms.
2025-01-22 00:07:13.602 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:07:13.607 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 219.7856ms
2025-01-22 00:07:13.615 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:07:13.619 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:07:13.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 272.1352ms
2025-01-22 00:07:18.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:07:18.139 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:07:18.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 5.872ms
2025-01-22 00:07:18.149 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:07:18.152 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:07:18.154 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:07:18.156 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:07:18.157 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:07:18.194 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:07:18.198 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:07:18.200 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:07:18.202 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:07:18.208 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:07:18.224 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:07:18.544 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 381.7776ms
2025-01-22 00:07:18.546 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:07:18.675 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:07:18.708 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 558.7779ms
2025-01-22 00:10:47.496 +02:00 [INF] Starting up the application
2025-01-22 00:10:52.099 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:10:54.589 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:10:54.772 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:10:55.229 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:10:55.237 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:10:55.239 +02:00 [INF] Hosting environment: Development
2025-01-22 00:10:55.240 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:10:55.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:10:55.897 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:10:55.949 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:10:55.951 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:10:55.996 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 202.8471ms
2025-01-22 00:10:57.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:10:57.272 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:10:57.372 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:10:57.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 117.5992ms
2025-01-22 00:10:57.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:10:57.405 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:10:57.416 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:10:58.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 1473.5973ms
2025-01-22 00:10:58.836 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:10:58.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:10:58.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.7126ms
2025-01-22 00:10:58.905 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:10:59.173 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:10:59.184 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:10:59.192 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:10:59.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:10:59.634 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:10:59.764 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:10:59.766 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:10:59.778 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 593.2966ms.
2025-01-22 00:10:59.794 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 377.7462ms
2025-01-22 00:10:59.797 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:10:59.862 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 935.9576ms
2025-01-22 00:10:59.866 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:10:59.869 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:10:59.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 2480.8045ms
2025-01-22 00:11:24.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:11:24.139 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:11:24.142 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.3354ms
2025-01-22 00:11:24.148 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:11:24.152 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:11:24.153 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:11:24.162 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:11:24.184 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:11:24.247 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:11:24.252 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:11:24.255 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:11:24.260 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:11:24.304 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:11:24.358 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:11:24.770 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 579.2903ms
2025-01-22 00:11:24.773 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:11:24.913 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:11:24.970 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 821.8472ms
2025-01-22 00:13:28.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:28.869 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:28.871 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:13:28.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 28.9278ms
2025-01-22 00:13:29.258 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:29.279 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:29.282 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 23.784ms
2025-01-22 00:13:29.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:13:29.292 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:29.296 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:29.304 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:29.312 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:13:29.373 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:13:29.376 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:29.378 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:29.399 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:13:29.411 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:13:29.413 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:29.416 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.6779ms.
2025-01-22 00:13:29.425 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:13:29.428 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 111.959ms
2025-01-22 00:13:29.431 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:29.435 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:13:29.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 149.3879ms
2025-01-22 00:13:32.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:32.836 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:32.838 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:13:32.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.497ms
2025-01-22 00:13:33.105 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:13:33.111 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:33.112 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:33.117 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:33.120 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:13:33.173 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:13:33.176 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:33.179 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:33.202 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:13:33.215 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:13:33.218 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:33.221 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 44.2802ms.
2025-01-22 00:13:33.235 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:13:33.246 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 119.754ms
2025-01-22 00:13:33.253 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:33.261 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:13:33.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 157.7147ms
2025-01-22 00:13:36.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:36.636 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:36.639 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:13:36.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 11.5364ms
2025-01-22 00:13:36.865 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:36.870 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:36.873 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.8758ms
2025-01-22 00:13:36.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:13:36.886 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:36.887 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:36.891 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:36.893 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:13:37.121 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:13:37.125 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:37.128 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:37.140 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:13:37.150 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:13:37.152 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:37.155 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.4489ms.
2025-01-22 00:13:37.165 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:13:37.169 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 268.5271ms
2025-01-22 00:13:37.172 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:37.176 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:13:37.179 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 298.6705ms
2025-01-22 00:13:39.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:39.696 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:39.700 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:13:39.709 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 21.3473ms
2025-01-22 00:13:40.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:13:40.173 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:40.175 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:40.180 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:40.182 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:13:40.246 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:13:40.249 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:40.250 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:40.262 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:13:40.268 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:13:40.269 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:40.276 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.4466ms.
2025-01-22 00:13:40.280 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:13:40.284 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 96.3771ms
2025-01-22 00:13:40.286 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:40.296 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:13:40.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 130.881ms
2025-01-22 00:13:41.733 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:41.738 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:41.742 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:13:41.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 11.7262ms
2025-01-22 00:13:42.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:13:42.086 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:42.088 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.1692ms
2025-01-22 00:13:42.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:13:42.120 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:13:42.124 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:13:42.130 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:42.134 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:13:42.199 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:13:42.202 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:42.204 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:42.217 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:13:42.230 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:13:42.233 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:13:42.235 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.6298ms.
2025-01-22 00:13:42.266 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:13:42.275 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 132.109ms
2025-01-22 00:13:42.281 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:13:42.283 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:13:42.292 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 189.6298ms
2025-01-22 00:15:28.823 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:15:28.827 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:15:28.828 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:15:28.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.3382ms
2025-01-22 00:15:29.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:15:29.256 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:15:29.260 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 31.5721ms
2025-01-22 00:15:29.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:15:29.274 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:15:29.276 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:15:29.279 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:15:29.284 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:15:29.327 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:15:29.330 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:29.332 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:29.340 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:15:29.348 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:15:29.350 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:29.352 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.7217ms.
2025-01-22 00:15:29.356 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:15:29.362 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 71.6716ms
2025-01-22 00:15:29.365 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:15:29.368 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:15:29.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 101.1629ms
2025-01-22 00:15:37.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:15:37.682 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:15:37.684 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:15:37.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.8265ms
2025-01-22 00:15:37.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:15:37.942 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:15:37.944 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.539ms
2025-01-22 00:15:37.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:15:37.956 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:15:37.958 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:15:37.961 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:15:37.966 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:15:38.015 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:15:38.017 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:38.019 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:38.027 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:15:38.033 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:15:38.034 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:15:38.036 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.5494ms.
2025-01-22 00:15:38.043 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:15:38.046 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 72.5923ms
2025-01-22 00:15:38.048 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:15:38.050 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:15:38.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 100.576ms
2025-01-22 00:19:36.573 +02:00 [INF] Starting up the application
2025-01-22 00:19:40.249 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:19:42.766 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:19:42.946 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:19:43.409 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:19:43.475 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:19:43.478 +02:00 [INF] Hosting environment: Development
2025-01-22 00:19:43.480 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:19:44.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:19:44.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 320.8927ms
2025-01-22 00:19:44.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:19:44.807 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.8584ms
2025-01-22 00:19:45.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:19:45.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 324.4039ms
2025-01-22 00:20:29.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:20:29.043 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:20:29.102 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:29.104 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:20:29.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 81.4435ms
2025-01-22 00:20:29.636 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:20:29.642 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:29.660 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 24.1065ms
2025-01-22 00:20:29.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:20:29.678 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:29.688 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:29.916 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:29.947 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:20:30.122 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:20:30.133 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:30.141 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:30.391 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:20:30.491 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:20:30.495 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:30.507 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 373.8028ms.
2025-01-22 00:20:30.525 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:20:30.583 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 626.1707ms
2025-01-22 00:20:30.587 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:30.590 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:30.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 927.0587ms
2025-01-22 00:20:31.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:20:31.845 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:31.846 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 5.8013ms
2025-01-22 00:20:31.855 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:20:31.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:31.861 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:20:31.870 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:31.890 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:20:31.953 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:20:31.959 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:20:31.961 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:20:31.965 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:20:32.002 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:20:32.048 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:20:32.345 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 388.7643ms.
2025-01-22 00:20:32.349 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 454.7065ms
2025-01-22 00:20:32.352 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:32.353 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:32.356 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 0 null 500.8088ms
2025-01-22 00:20:32.361 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:20:32.365 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:32.366 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:32.373 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:32.375 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:20:32.471 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:20:32.474 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:32.476 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:32.492 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:20:32.499 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:20:32.501 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:32.504 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.308ms.
2025-01-22 00:20:32.508 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:20:32.513 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 133.9222ms
2025-01-22 00:20:32.515 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:32.517 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:32.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 157.7302ms
2025-01-22 00:20:35.346 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:20:35.351 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:35.353 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:20:35.356 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:35.357 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:20:35.391 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:20:35.394 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:20:35.397 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:20:35.400 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:20:35.409 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:20:35.425 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:20:35.633 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 238.4225ms.
2025-01-22 00:20:35.637 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 276.1419ms
2025-01-22 00:20:35.640 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:35.641 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:35.643 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 0 null 297.1158ms
2025-01-22 00:20:35.648 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:20:35.655 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:35.657 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.3209ms
2025-01-22 00:20:35.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:20:35.667 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:35.669 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:35.671 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:35.673 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:20:35.743 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:20:35.745 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:35.747 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:35.756 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:20:35.765 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:20:35.768 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:35.770 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.2847ms.
2025-01-22 00:20:35.773 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:20:35.778 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 102.5355ms
2025-01-22 00:20:35.781 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:35.785 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:35.787 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 125.9939ms
2025-01-22 00:20:44.712 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:20:44.717 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:44.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.5185ms
2025-01-22 00:20:44.726 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:20:44.731 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:44.737 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:20:44.739 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:44.741 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:20:44.779 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:20:44.782 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:20:44.784 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:20:44.787 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:20:44.795 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:20:44.808 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:20:45.019 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 237.4164ms.
2025-01-22 00:20:45.024 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 279.3828ms
2025-01-22 00:20:45.027 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:45.032 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:45.036 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 0 null 309.4307ms
2025-01-22 00:20:45.047 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:20:45.056 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:45.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.978ms
2025-01-22 00:20:45.063 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:20:45.067 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:45.069 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:45.072 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:45.073 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:20:45.110 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:20:45.113 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:45.115 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:45.125 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:20:45.130 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:20:45.132 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:45.134 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.3282ms.
2025-01-22 00:20:45.143 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:20:45.147 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 67.6159ms
2025-01-22 00:20:45.150 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:45.153 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:45.157 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 94.5138ms
2025-01-22 00:20:51.050 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:20:51.055 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:51.057 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.0721ms
2025-01-22 00:20:51.061 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:20:51.072 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:51.075 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:20:51.077 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:51.079 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:20:51.123 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:20:51.126 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:20:51.127 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:20:51.129 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:20:51.136 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:20:51.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:20:51.338 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 212.562ms.
2025-01-22 00:20:51.341 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 254.147ms
2025-01-22 00:20:51.343 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:20:51.345 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:51.346 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 0 null 284.8325ms
2025-01-22 00:20:51.355 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:20:51.359 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:51.362 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.6002ms
2025-01-22 00:20:51.368 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:20:51.372 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:20:51.373 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:20:51.376 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:51.377 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:20:51.417 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:20:51.420 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:51.421 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:51.428 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:20:51.435 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:20:51.436 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:20:51.438 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.195ms.
2025-01-22 00:20:51.446 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:20:51.449 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 65.7531ms
2025-01-22 00:20:51.451 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:20:51.454 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:20:51.459 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 90.3965ms
2025-01-22 00:23:33.280 +02:00 [INF] Starting up the application
2025-01-22 00:23:36.387 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:23:38.758 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:23:38.940 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:23:39.339 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:23:39.346 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:23:39.348 +02:00 [INF] Hosting environment: Development
2025-01-22 00:23:39.350 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:23:40.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:23:41.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 495.7141ms
2025-01-22 00:23:41.179 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:23:41.191 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.935ms
2025-01-22 00:23:41.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:23:41.839 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 426.3797ms
2025-01-22 00:24:30.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:24:30.654 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:24:30.709 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:24:30.711 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:24:30.712 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 84.7919ms
2025-01-22 00:24:31.191 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:24:31.217 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:24:31.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 51.2275ms
2025-01-22 00:24:31.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:24:31.268 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:24:31.276 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:24:31.664 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:24:31.706 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:24:31.922 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:24:31.934 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:24:31.941 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:24:32.163 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:24:32.262 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:24:32.266 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:24:32.275 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 344.6042ms.
2025-01-22 00:24:32.292 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:24:32.360 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 642.7454ms
2025-01-22 00:24:32.363 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:24:32.366 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:24:32.375 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 1114.2436ms
2025-01-22 00:24:34.207 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:24:34.212 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:24:34.213 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.1943ms
2025-01-22 00:24:34.221 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:24:34.227 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:24:34.228 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:24:34.235 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:24:34.256 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:24:34.322 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:24:34.327 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:24:34.329 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:24:34.334 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:24:34.372 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:24:34.416 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:24:34.768 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 508.116ms
2025-01-22 00:24:34.771 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:24:34.910 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:24:34.970 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 749.5482ms
2025-01-22 00:26:23.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:23.843 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:23.866 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:26:23.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 47.8073ms
2025-01-22 00:26:24.437 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:24.453 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:24.456 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 32.6957ms
2025-01-22 00:26:24.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:26:24.475 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:24.479 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:24.491 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:24.493 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:26:24.566 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:26:24.570 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:24.572 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:24.592 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:26:24.604 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:26:24.607 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:24.610 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.8186ms.
2025-01-22 00:26:24.618 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:26:24.620 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 119.4759ms
2025-01-22 00:26:24.622 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:24.625 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:26:24.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 160.0136ms
2025-01-22 00:26:34.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:34.836 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:34.837 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:26:34.839 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.855ms
2025-01-22 00:26:35.609 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:35.617 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:35.620 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.4075ms
2025-01-22 00:26:35.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:26:35.632 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:35.634 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:35.641 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:35.644 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:26:35.706 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:26:35.711 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:35.719 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:35.735 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:26:35.752 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:26:35.755 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:35.761 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.1337ms.
2025-01-22 00:26:35.767 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:26:35.771 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 113.9674ms
2025-01-22 00:26:35.777 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:35.780 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:26:35.785 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 157.6791ms
2025-01-22 00:26:41.600 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:41.604 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:41.605 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:26:41.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.7013ms
2025-01-22 00:26:42.369 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:26:42.375 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:42.377 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.6954ms
2025-01-22 00:26:42.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:26:42.388 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:26:42.391 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:26:42.401 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:42.403 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:26:42.466 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:26:42.471 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:42.474 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:42.489 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:26:42.502 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:26:42.507 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:26:42.510 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.3344ms.
2025-01-22 00:26:42.523 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:26:42.528 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 115.2024ms
2025-01-22 00:26:42.537 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:26:42.540 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:26:42.542 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 158.0193ms
2025-01-22 00:27:26.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:27:26.706 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:27:26.708 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:27:26.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 15.418ms
2025-01-22 00:27:27.147 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:27:27.174 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:27.177 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 29.3024ms
2025-01-22 00:27:27.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:27:27.190 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:27.193 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:27:27.197 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:27:27.199 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:27:27.264 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:27:27.268 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:27.270 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:27.283 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:27:27.291 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:27:27.300 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:27.303 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 35.3546ms.
2025-01-22 00:27:27.308 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:27:27.317 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 108.5063ms
2025-01-22 00:27:27.320 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:27:27.322 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:27:27.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 144.8994ms
2025-01-22 00:27:38.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:27:38.373 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:27:38.375 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:27:38.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.2793ms
2025-01-22 00:27:38.900 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:27:38.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:38.938 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 38.3857ms
2025-01-22 00:27:38.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:27:38.953 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:38.956 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:27:38.960 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:27:38.969 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:27:39.040 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:27:39.044 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:39.046 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:39.061 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:27:39.072 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:27:39.081 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:27:39.096 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 52.0945ms.
2025-01-22 00:27:39.102 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:27:39.112 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 134.6419ms
2025-01-22 00:27:39.116 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:27:39.119 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:27:39.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 181.4121ms
2025-01-22 00:27:50.797 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:27:50.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:50.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.3523ms
2025-01-22 00:27:50.811 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:27:50.821 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:27:50.823 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:27:50.826 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:27:50.828 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:27:50.882 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:27:50.886 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:27:50.889 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:27:50.891 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:27:50.904 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:27:50.919 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:27:51.257 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 417.5561ms
2025-01-22 00:27:51.260 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:27:51.474 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:27:51.511 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 700.5388ms
2025-01-22 00:28:02.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:02.952 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:02.955 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:02.957 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.8021ms
2025-01-22 00:28:03.435 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:03.441 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:03.447 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 11.814ms
2025-01-22 00:28:03.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:03.494 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:03.498 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:03.503 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:03.508 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:03.622 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:03.631 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:03.634 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:03.654 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:03.669 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:03.674 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:03.682 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.9879ms.
2025-01-22 00:28:03.690 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:03.698 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 181.624ms
2025-01-22 00:28:03.703 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:03.735 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:03.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 252.9586ms
2025-01-22 00:28:04.819 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:28:04.824 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:04.826 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.3083ms
2025-01-22 00:28:04.832 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:28:04.840 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:04.841 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:28:04.845 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:28:04.847 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:28:04.886 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:28:04.889 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:28:04.891 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:28:04.893 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:28:04.901 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:28:04.910 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:28:05.164 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 307.5647ms
2025-01-22 00:28:05.166 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:28:05.292 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:28:05.322 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 490.0943ms
2025-01-22 00:28:23.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:23.754 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:23.756 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:23.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.8749ms
2025-01-22 00:28:24.567 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:24.572 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:24.574 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.9809ms
2025-01-22 00:28:24.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:24.588 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:24.589 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:24.594 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:24.596 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:24.654 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:24.658 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:24.660 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:24.676 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:24.692 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:24.704 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:24.707 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 48.5266ms.
2025-01-22 00:28:24.719 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:24.732 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 127.3769ms
2025-01-22 00:28:24.737 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:24.740 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:24.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 162.4685ms
2025-01-22 00:28:26.604 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:26.608 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:26.610 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:26.611 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.0169ms
2025-01-22 00:28:27.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:27.112 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:27.114 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:27.118 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:27.125 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:27.204 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:27.207 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:27.210 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:27.223 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:27.234 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:27.236 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:27.239 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.2892ms.
2025-01-22 00:28:27.244 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:27.255 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 121.7183ms
2025-01-22 00:28:27.259 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:27.266 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:27.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 160.7475ms
2025-01-22 00:28:29.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:29.591 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:29.593 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:29.596 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.4449ms
2025-01-22 00:28:30.398 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:30.407 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:30.414 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 16.1053ms
2025-01-22 00:28:30.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:30.432 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:30.435 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:30.440 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:30.446 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:30.509 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:30.513 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:30.515 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:30.539 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:30.550 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:30.556 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:30.559 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 46.323ms.
2025-01-22 00:28:30.565 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:30.577 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 117.9052ms
2025-01-22 00:28:30.586 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:30.589 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:30.594 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 170.4393ms
2025-01-22 00:28:32.320 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:28:32.326 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:32.330 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 10.7023ms
2025-01-22 00:28:32.346 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:28:32.355 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:32.356 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:28:32.359 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:28:32.361 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:28:32.416 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:28:32.419 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:28:32.420 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:28:32.423 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:28:32.432 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:28:32.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:32.441 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:28:32.450 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:32.634 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:32.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 299.4745ms
2025-01-22 00:28:32.788 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 417.8516ms
2025-01-22 00:28:32.797 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:28:32.934 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:28:32.975 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 628.5205ms
2025-01-22 00:28:35.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:35.195 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:35.198 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:35.206 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:35.210 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:35.299 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:35.304 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:35.307 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:35.324 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:35.334 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:35.336 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:35.364 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 59.611ms.
2025-01-22 00:28:35.375 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:35.384 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 160.9865ms
2025-01-22 00:28:35.390 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:35.393 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:35.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 213.6168ms
2025-01-22 00:28:44.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:44.561 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:44.563 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:28:44.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.187ms
2025-01-22 00:28:44.914 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:28:44.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:44.921 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.4766ms
2025-01-22 00:28:44.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:28:44.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:28:44.939 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:28:44.943 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:44.947 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:28:45.024 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:28:45.028 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:45.031 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:45.044 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:28:45.057 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:28:45.065 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:28:45.069 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 40.0379ms.
2025-01-22 00:28:45.073 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:28:45.082 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 124.9563ms
2025-01-22 00:28:45.086 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:28:45.092 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:28:45.094 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 168.1857ms
2025-01-22 00:30:01.853 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:30:01.882 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:30:01.884 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:30:01.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 35.089ms
2025-01-22 00:30:02.430 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:30:02.435 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:02.438 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.8382ms
2025-01-22 00:30:02.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:30:02.511 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:02.513 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:30:02.517 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:30:02.522 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:30:02.611 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:30:02.624 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:02.626 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:02.641 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:30:02.668 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:30:02.671 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:02.675 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 51.1899ms.
2025-01-22 00:30:02.687 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:30:02.691 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 151.795ms
2025-01-22 00:30:02.695 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:30:02.698 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:30:02.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 231.1158ms
2025-01-22 00:30:03.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:30:03.856 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:03.858 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.236ms
2025-01-22 00:30:03.868 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:30:03.874 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:03.876 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:30:03.884 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:30:03.886 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:30:03.922 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:30:03.925 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:30:03.927 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:30:03.931 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:30:03.937 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:30:03.950 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:30:04.202 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 311.8675ms
2025-01-22 00:30:04.205 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:30:04.348 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:30:04.375 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 507.3145ms
2025-01-22 00:30:28.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:30:28.808 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:30:28.809 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:30:28.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.3202ms
2025-01-22 00:30:29.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:30:29.290 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:29.300 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 32.5349ms
2025-01-22 00:30:29.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:30:29.332 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:29.337 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:30:29.345 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:30:29.358 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:30:29.466 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:30:29.469 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:29.471 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:29.489 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:30:29.518 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:30:29.539 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:30:29.546 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 77.5381ms.
2025-01-22 00:30:29.558 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:30:29.564 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 190.8405ms
2025-01-22 00:30:29.567 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:30:29.574 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:30:29.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 253.6524ms
2025-01-22 00:30:30.761 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:30:30.766 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:30.769 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.774ms
2025-01-22 00:30:30.779 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:30:30.784 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:30:30.789 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:30:30.792 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:30:30.796 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:30:30.844 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 00:30:30.846 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-22 00:30:30.848 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:30:30.850 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-22 00:30:30.856 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 00:30:30.867 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 00:30:31.116 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 311.4528ms
2025-01-22 00:30:31.119 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 00:30:31.242 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 216
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 00:30:31.273 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 493.9481ms
2025-01-22 00:31:43.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:31:43.502 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:43.503 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:31:43.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 13.4414ms
2025-01-22 00:31:44.060 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:31:44.185 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:31:44.188 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 127.6002ms
2025-01-22 00:31:44.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:31:44.210 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:31:44.212 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:44.219 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:44.223 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:31:44.339 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:31:44.342 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:44.344 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:44.356 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:31:44.367 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:31:44.371 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:44.374 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.5462ms.
2025-01-22 00:31:44.379 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:31:44.386 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 152.4204ms
2025-01-22 00:31:44.388 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:44.390 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:31:44.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 199.3184ms
2025-01-22 00:31:54.658 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:31:54.662 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:54.663 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:31:54.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.7982ms
2025-01-22 00:31:55.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:31:55.032 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:31:55.034 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.256ms
2025-01-22 00:31:55.040 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:31:55.048 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:31:55.050 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:55.051 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:55.053 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:31:55.100 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:31:55.102 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:55.104 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:55.112 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:31:55.117 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:31:55.121 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:55.123 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.6354ms.
2025-01-22 00:31:55.127 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:31:55.130 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 67.8593ms
2025-01-22 00:31:55.132 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:55.137 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:31:55.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 99.304ms
2025-01-22 00:31:56.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:31:56.575 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:56.577 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:31:56.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.0698ms
2025-01-22 00:31:56.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:31:56.788 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:31:56.790 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:31:56.793 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:56.797 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:31:56.831 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:31:56.834 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:56.835 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:56.844 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:31:56.849 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:31:56.850 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:31:56.852 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.6691ms.
2025-01-22 00:31:56.855 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:31:56.857 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 55.4311ms
2025-01-22 00:31:56.865 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:31:56.867 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:31:56.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 85.8232ms
2025-01-22 00:32:05.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:05.862 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:05.864 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:05.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 14.1212ms
2025-01-22 00:32:06.150 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:06.156 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:06.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.9941ms
2025-01-22 00:32:06.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:06.174 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:06.177 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:06.182 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:06.185 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:06.232 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:06.235 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:06.237 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:06.246 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:06.252 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:06.253 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:06.255 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.5036ms.
2025-01-22 00:32:06.259 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:06.267 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 77.0158ms
2025-01-22 00:32:06.270 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:06.272 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:06.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 111.9899ms
2025-01-22 00:32:15.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:15.720 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:15.722 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:15.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.1804ms
2025-01-22 00:32:16.208 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:16.243 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:16.249 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 40.6004ms
2025-01-22 00:32:16.257 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:16.269 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:16.271 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:16.273 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:16.281 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:16.331 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:16.334 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:16.335 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:16.347 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:16.354 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:16.361 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:16.364 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.3564ms.
2025-01-22 00:32:16.368 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:16.373 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 85.9482ms
2025-01-22 00:32:16.375 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:16.378 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:16.380 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 122.4984ms
2025-01-22 00:32:17.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:17.760 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:17.762 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:17.764 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.0173ms
2025-01-22 00:32:18.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:18.016 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:18.018 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:18.021 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:18.028 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:18.078 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:18.081 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:18.084 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:18.096 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:18.111 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:18.116 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:18.120 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.4678ms.
2025-01-22 00:32:18.133 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:18.140 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 101.3852ms
2025-01-22 00:32:18.150 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:18.155 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:18.157 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 145.9277ms
2025-01-22 00:32:26.719 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:26.738 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:26.740 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:26.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 23.2852ms
2025-01-22 00:32:26.968 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:26.974 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:26.976 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.6457ms
2025-01-22 00:32:26.982 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:26.989 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:26.991 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:26.995 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:26.997 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:27.029 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:27.032 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:27.035 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:27.044 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:27.052 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:27.054 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:27.056 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.7921ms.
2025-01-22 00:32:27.059 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:27.062 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 57.1851ms
2025-01-22 00:32:27.067 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:27.069 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:27.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 89.1032ms
2025-01-22 00:32:29.639 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:29.645 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:29.647 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:29.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.1038ms
2025-01-22 00:32:30.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:30.049 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:30.052 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:30.056 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:30.058 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:30.111 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:30.116 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:30.118 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:30.130 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:30.141 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:30.147 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:30.151 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 35.1457ms.
2025-01-22 00:32:30.156 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:30.165 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 93.082ms
2025-01-22 00:32:30.169 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:30.180 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:30.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 143.1394ms
2025-01-22 00:32:31.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:31.947 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:31.950 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:31.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.7471ms
2025-01-22 00:32:32.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:32.190 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:32.193 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.1433ms
2025-01-22 00:32:32.201 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:32.206 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:32.213 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:32.217 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:32.220 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:32.258 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:32.261 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:32.263 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:32.270 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:32.283 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:32.285 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:32.290 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.3868ms.
2025-01-22 00:32:32.296 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:32.303 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 71.8808ms
2025-01-22 00:32:32.306 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:32.310 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:32.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 111.1561ms
2025-01-22 00:32:44.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:44.740 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:44.742 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:44.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.6869ms
2025-01-22 00:32:45.001 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:45.005 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:45.007 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.3652ms
2025-01-22 00:32:45.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:45.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:45.019 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:45.022 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:45.023 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:45.060 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:45.063 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:45.065 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:45.073 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:45.081 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:45.083 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:45.084 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.9897ms.
2025-01-22 00:32:45.087 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:45.094 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 62.5713ms
2025-01-22 00:32:45.097 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:45.099 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:45.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 87.6613ms
2025-01-22 00:32:48.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:32:48.272 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:48.274 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:32:48.276 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.7199ms
2025-01-22 00:32:48.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:32:48.503 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:32:48.505 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:32:48.509 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:48.512 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:32:48.547 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:32:48.551 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:48.554 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:48.566 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:32:48.577 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:32:48.579 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:32:48.581 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.9895ms.
2025-01-22 00:32:48.584 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:32:48.590 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 74.2294ms
2025-01-22 00:32:48.595 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:32:48.599 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:32:48.605 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 105.9385ms
2025-01-22 00:33:01.932 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:33:01.938 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:01.947 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:33:01.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 16.8867ms
2025-01-22 00:33:02.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:33:02.438 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:33:02.450 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 34.8515ms
2025-01-22 00:33:02.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:33:02.482 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:33:02.497 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:02.509 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:02.513 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:33:02.597 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:33:02.600 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:02.603 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:02.615 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:33:02.623 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:33:02.631 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:02.634 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.9104ms.
2025-01-22 00:33:02.648 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:33:02.653 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 131.7375ms
2025-01-22 00:33:02.665 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:02.669 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:33:02.671 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 200.0664ms
2025-01-22 00:33:03.450 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:33:03.453 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:03.455 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:33:03.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4761ms
2025-01-22 00:33:03.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:33:03.688 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:33:03.691 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:03.695 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:03.699 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:33:03.734 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:33:03.737 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:03.738 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:03.749 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:33:03.755 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:33:03.756 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:03.759 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.0546ms.
2025-01-22 00:33:03.766 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:33:03.769 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 64.7214ms
2025-01-22 00:33:03.771 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:03.773 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:33:03.781 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 98.5193ms
2025-01-22 00:33:18.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:33:18.808 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:18.810 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:33:18.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.8248ms
2025-01-22 00:33:19.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:33:19.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:33:19.029 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.3499ms
2025-01-22 00:33:19.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:33:19.039 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:33:19.041 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:33:19.043 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:19.044 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:33:19.083 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:33:19.085 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:19.087 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:19.096 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:33:19.102 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:33:19.103 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:33:19.105 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.2139ms.
2025-01-22 00:33:19.111 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:33:19.114 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 61.2709ms
2025-01-22 00:33:19.116 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:33:19.118 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:33:19.119 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 83.4774ms
2025-01-22 00:34:53.508 +02:00 [INF] Starting up the application
2025-01-22 00:34:57.011 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:34:59.785 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:35:00.094 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:35:00.564 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:35:00.571 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:35:00.573 +02:00 [INF] Hosting environment: Development
2025-01-22 00:35:00.574 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:35:01.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:35:02.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 339.4607ms
2025-01-22 00:35:02.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:35:02.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 20.1812ms
2025-01-22 00:35:02.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:35:02.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 338.07ms
2025-01-22 00:35:06.559 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:35:06.570 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:06.578 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 18.5025ms
2025-01-22 00:35:06.583 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:06.587 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:06.594 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:35:06.636 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:06.867 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:06.898 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:07.082 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:07.090 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:07.095 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.100 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.302 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:07.417 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.472 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:07.475 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.484 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 393.1777ms.
2025-01-22 00:35:07.503 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:07.533 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 624.694ms
2025-01-22 00:35:07.536 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:07.539 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:07.547 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 963.4529ms
2025-01-22 00:35:07.554 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:35:07.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:07.560 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.5578ms
2025-01-22 00:35:07.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:07.571 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:07.576 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:07.582 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:07.589 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:07.735 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:07.739 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.743 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.771 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:07.779 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:07.782 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:07.784 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 46.5985ms.
2025-01-22 00:35:07.790 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:07.799 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 204.4218ms
2025-01-22 00:35:07.804 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:07.805 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:07.808 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 240.2339ms
2025-01-22 00:35:10.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:35:10.500 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:10.502 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:35:10.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 13.911ms
2025-01-22 00:35:10.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:10.749 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:10.752 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:10.764 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:10.766 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:10.813 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:10.815 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:10.817 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:10.830 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:10.837 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:10.843 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:10.847 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.8365ms.
2025-01-22 00:35:10.852 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:10.859 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 87.0339ms
2025-01-22 00:35:10.862 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:10.864 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:10.866 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 121.1011ms
2025-01-22 00:35:12.046 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:35:12.050 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:12.052 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.026ms
2025-01-22 00:35:12.056 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:12.064 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:12.066 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:12.069 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:12.071 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:12.104 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:12.108 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:12.111 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.113 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.125 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:12.134 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.137 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:12.144 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.146 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.7243ms.
2025-01-22 00:35:12.149 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:12.151 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 76.4379ms
2025-01-22 00:35:12.153 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:12.160 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:12.163 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 106.2998ms
2025-01-22 00:35:12.170 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:12.176 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:12.179 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:12.181 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:12.182 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:12.256 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:12.260 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.262 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.266 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:12.274 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:12.277 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:12.279 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.7519ms.
2025-01-22 00:35:12.282 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:12.289 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 103.5821ms
2025-01-22 00:35:12.292 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:12.295 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:12.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 126.894ms
2025-01-22 00:35:13.138 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:13.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:13.145 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:13.147 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:13.148 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:13.187 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:13.191 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:13.193 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.195 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.204 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:13.213 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.218 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:13.220 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.222 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.678ms.
2025-01-22 00:35:13.227 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:13.230 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 73.6043ms
2025-01-22 00:35:13.237 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:13.239 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:13.241 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 103.2458ms
2025-01-22 00:35:13.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:35:13.254 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:13.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 5.4216ms
2025-01-22 00:35:13.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:13.268 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:13.269 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:13.271 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:13.273 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:13.355 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:13.359 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.361 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.370 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:13.380 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:13.382 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:13.384 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.5938ms.
2025-01-22 00:35:13.387 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:13.394 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 111.9034ms
2025-01-22 00:35:13.396 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:13.398 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:13.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 137.0769ms
2025-01-22 00:35:19.456 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:35:19.462 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:19.464 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 8.6966ms
2025-01-22 00:35:19.470 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:19.480 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:19.481 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:19.484 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:19.485 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:19.528 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:19.530 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:19.532 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.533 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.543 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:19.548 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.553 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:19.556 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.559 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.8177ms.
2025-01-22 00:35:19.563 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:19.569 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 75.7906ms
2025-01-22 00:35:19.573 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:19.577 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:19.579 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 108.7547ms
2025-01-22 00:35:19.599 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:35:19.607 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:19.610 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.7399ms
2025-01-22 00:35:19.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:19.621 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:19.622 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:19.627 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:19.632 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:19.707 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:19.710 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.711 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.715 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:19.725 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:19.728 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:19.730 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.2198ms.
2025-01-22 00:35:19.733 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:19.737 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 100.7463ms
2025-01-22 00:35:19.740 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:19.743 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:19.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 127.0892ms
2025-01-22 00:35:22.262 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:22.267 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:22.268 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:22.271 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:22.273 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:22.319 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:22.322 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:22.324 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.327 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.334 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:22.341 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.346 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:22.348 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.350 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.9349ms.
2025-01-22 00:35:22.353 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:22.355 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 70.751ms
2025-01-22 00:35:22.363 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:22.367 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:22.369 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 106.9384ms
2025-01-22 00:35:22.383 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:22.393 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:22.395 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:22.398 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:22.399 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:22.487 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:22.490 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.491 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.499 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:22.505 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:22.507 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:22.509 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.6488ms.
2025-01-22 00:35:22.515 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:22.518 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 109.4541ms
2025-01-22 00:35:22.520 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:22.523 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:22.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 145.066ms
2025-01-22 00:35:28.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:35:28.439 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:28.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 8.6685ms
2025-01-22 00:35:28.448 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:35:28.458 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:28.460 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:35:28.463 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:28.465 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:35:28.534 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:35:28.537 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:35:28.538 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.540 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.550 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:28.556 +02:00 [INF] Successfully fetched 1 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.558 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:35:28.560 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.562 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.0291ms.
2025-01-22 00:35:28.569 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:28.573 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 98.6641ms
2025-01-22 00:35:28.577 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:35:28.581 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:28.583 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 134.2938ms
2025-01-22 00:35:28.591 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:35:28.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:28.601 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.0771ms
2025-01-22 00:35:28.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:35:28.609 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:35:28.613 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:35:28.616 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:28.618 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:35:28.646 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:35:28.648 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.650 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.658 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:35:28.664 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:35:28.665 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:35:28.667 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.7802ms.
2025-01-22 00:35:28.670 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:35:28.677 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 54.4956ms
2025-01-22 00:35:28.679 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:35:28.681 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:35:28.683 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 77.5215ms
2025-01-22 00:40:38.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:40:38.448 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:40:38.450 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:40:38.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.5904ms
2025-01-22 00:40:39.118 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:40:39.167 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:40:39.170 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 51.7883ms
2025-01-22 00:40:39.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:40:39.281 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:40:39.284 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:40:39.294 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:40:39.296 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:40:39.401 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:40:39.409 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:39.411 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:39.428 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:40:39.443 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:40:39.447 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:39.451 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 41.8831ms.
2025-01-22 00:40:39.460 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:40:39.464 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 159.58ms
2025-01-22 00:40:39.466 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:40:39.474 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:40:39.477 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 200.1659ms
2025-01-22 00:40:48.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:40:48.564 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:40:48.566 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:40:48.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.3607ms
2025-01-22 00:40:48.809 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:40:48.816 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:40:48.818 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.9352ms
2025-01-22 00:40:48.826 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:40:48.829 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:40:48.831 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:40:48.833 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:40:48.836 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:40:48.874 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:40:48.877 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:48.879 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:48.887 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:40:48.896 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:40:48.897 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:40:48.900 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.5532ms.
2025-01-22 00:40:48.907 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:40:48.909 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 65.1777ms
2025-01-22 00:40:48.912 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:40:48.914 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:40:48.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 89.8244ms
2025-01-22 00:41:11.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:11.817 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:11.822 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:41:11.826 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 14.586ms
2025-01-22 00:41:12.159 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:12.163 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:12.166 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.0179ms
2025-01-22 00:41:12.171 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:41:12.177 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:12.179 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:12.181 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:12.183 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:41:12.224 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:41:12.228 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:12.229 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:12.238 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:41:12.245 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:41:12.247 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:12.251 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.5916ms.
2025-01-22 00:41:12.258 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:41:12.261 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 68.7888ms
2025-01-22 00:41:12.263 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:12.270 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:41:12.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 101.1898ms
2025-01-22 00:41:16.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:16.275 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:16.276 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:41:16.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 5.9179ms
2025-01-22 00:41:16.534 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:41:16.539 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:16.543 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:16.545 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:16.548 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:41:16.604 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:41:16.608 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:16.611 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:16.621 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:41:16.631 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:41:16.633 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:16.637 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.6715ms.
2025-01-22 00:41:16.641 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:41:16.647 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 89.0291ms
2025-01-22 00:41:16.650 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:16.652 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:41:16.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 120.7034ms
2025-01-22 00:41:25.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:25.969 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:25.971 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:41:25.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.1188ms
2025-01-22 00:41:26.177 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:26.183 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:26.186 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.4733ms
2025-01-22 00:41:26.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:41:26.199 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:26.201 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:26.204 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:26.209 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:41:26.264 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:41:26.267 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:26.269 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:26.277 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:41:26.282 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:41:26.284 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:26.289 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.9838ms.
2025-01-22 00:41:26.292 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:41:26.295 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 79.5647ms
2025-01-22 00:41:26.297 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:26.298 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:41:26.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 110.2824ms
2025-01-22 00:41:34.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:34.630 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:34.631 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:41:34.633 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4393ms
2025-01-22 00:41:34.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:34.895 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:34.899 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 28.2522ms
2025-01-22 00:41:34.913 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:41:34.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:34.921 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:34.924 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:34.930 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:41:35.008 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:41:35.014 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:35.016 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:35.031 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:41:35.044 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:41:35.046 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:35.054 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 40.6846ms.
2025-01-22 00:41:35.060 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:41:35.075 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 137.3177ms
2025-01-22 00:41:35.080 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:35.091 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:41:35.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 184.4351ms
2025-01-22 00:41:36.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:41:36.831 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:36.832 +02:00 [WRN] Missing Authorization Header
2025-01-22 00:41:36.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.7128ms
2025-01-22 00:41:37.067 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:41:37.071 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:41:37.074 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:41:37.077 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:37.079 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:41:37.128 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:41:37.131 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:37.132 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:37.141 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:41:37.151 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-22 00:41:37.153 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:41:37.157 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.3965ms.
2025-01-22 00:41:37.161 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:41:37.166 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 76.6071ms
2025-01-22 00:41:37.169 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:41:37.172 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:41:37.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 107.8331ms
2025-01-22 00:46:47.382 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:46:47.406 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:46:47.408 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 26.41ms
2025-01-22 00:46:47.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:46:47.437 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:46:47.439 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:46:47.447 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:46:47.711 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:46:47.719 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:46:47.7196590Z"
2025-01-22 00:46:47.747 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:46:47.753 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:46:47.7530434Z"
2025-01-22 00:46:47.754 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:46:47.7545345Z"
2025-01-22 00:46:47.756 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:46:47.7560782Z"
2025-01-22 00:46:47.757 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.5327ms.
2025-01-22 00:46:47.764 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:46:47.783 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 331.4589ms
2025-01-22 00:46:47.785 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:46:47.787 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 354.727ms
2025-01-22 00:50:49.351 +02:00 [INF] Starting up the application
2025-01-22 00:50:52.890 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 00:50:55.312 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 00:50:55.510 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 00:50:55.993 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 00:50:56.000 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 00:50:56.002 +02:00 [INF] Hosting environment: Development
2025-01-22 00:50:56.003 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 00:50:57.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 00:50:57.487 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 469.637ms
2025-01-22 00:50:57.542 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 00:50:57.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 15.4563ms
2025-01-22 00:50:57.905 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 00:50:58.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 351.8394ms
2025-01-22 00:50:59.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:50:59.717 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 00:50:59.919 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:50:59.928 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:50:59.932 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 225.8734ms
2025-01-22 00:51:00.175 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:51:00.183 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:00.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 14.0283ms
2025-01-22 00:51:00.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:51:00.206 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:00.351 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:00.386 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:51:00.781 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:51:00.785 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:51:00.7855550Z"
2025-01-22 00:51:00.891 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:51:00.949 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:00.9489370Z"
2025-01-22 00:51:00.952 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:00.9523359Z"
2025-01-22 00:51:00.954 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:00.9539973Z"
2025-01-22 00:51:00.961 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 172.9814ms.
2025-01-22 00:51:00.983 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:51:01.062 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 667.0206ms
2025-01-22 00:51:01.065 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:01.077 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 877.5105ms
2025-01-22 00:51:13.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:51:13.775 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:51:13.793 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:51:13.795 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 41.203ms
2025-01-22 00:51:14.131 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:51:14.136 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:14.138 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.3276ms
2025-01-22 00:51:14.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:51:14.148 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:14.153 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:14.159 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:51:14.206 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:51:14.209 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:51:14.2089842Z"
2025-01-22 00:51:14.237 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:51:14.242 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:14.2428768Z"
2025-01-22 00:51:14.244 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:14.2445503Z"
2025-01-22 00:51:14.248 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:14.2488528Z"
2025-01-22 00:51:14.250 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 41.8964ms.
2025-01-22 00:51:14.254 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:51:14.257 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 91.661ms
2025-01-22 00:51:14.259 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:14.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 121.8144ms
2025-01-22 00:51:17.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:51:17.481 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:51:17.484 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:51:17.487 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 12.215ms
2025-01-22 00:51:17.739 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:51:17.744 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:17.747 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:17.750 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:51:17.811 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:51:17.815 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:51:17.8155366Z"
2025-01-22 00:51:17.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:51:17.826 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:17.8269441Z"
2025-01-22 00:51:17.828 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:17.8283495Z"
2025-01-22 00:51:17.830 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:17.8303152Z"
2025-01-22 00:51:17.835 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.1049ms.
2025-01-22 00:51:17.838 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:51:17.841 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 85.2251ms
2025-01-22 00:51:17.843 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:17.847 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 107.0429ms
2025-01-22 00:51:31.091 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:51:31.096 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:51:31.098 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:51:31.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.4095ms
2025-01-22 00:51:31.354 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:51:31.358 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:31.360 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.488ms
2025-01-22 00:51:31.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:51:31.370 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:51:31.372 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:31.375 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:51:31.426 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:51:31.429 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:51:31.4293435Z"
2025-01-22 00:51:31.435 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:51:31.439 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:31.4397480Z"
2025-01-22 00:51:31.443 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:31.4432388Z"
2025-01-22 00:51:31.446 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:51:31.4459538Z"
2025-01-22 00:51:31.449 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.7649ms.
2025-01-22 00:51:31.452 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:51:31.454 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 65.7768ms
2025-01-22 00:51:31.456 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:51:31.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 96.7378ms
2025-01-22 00:52:16.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:16.766 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:16.768 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:16.770 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 39.4999ms
2025-01-22 00:52:17.072 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:52:17.076 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:17.078 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.1867ms
2025-01-22 00:52:17.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:17.109 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:17.111 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:17.113 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:17.165 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:17.169 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:17.1691538Z"
2025-01-22 00:52:17.179 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:17.210 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:17.2102733Z"
2025-01-22 00:52:17.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:17.2124240Z"
2025-01-22 00:52:17.217 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:17.2171578Z"
2025-01-22 00:52:17.219 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.3424ms.
2025-01-22 00:52:17.223 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:17.228 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 110.9044ms
2025-01-22 00:52:17.235 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:17.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 135.3332ms
2025-01-22 00:52:19.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:19.615 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:19.617 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:19.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.912ms
2025-01-22 00:52:19.941 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:19.947 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:19.950 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:19.952 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:20.003 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:20.007 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:20.0070387Z"
2025-01-22 00:52:20.016 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:20.022 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:20.0227315Z"
2025-01-22 00:52:20.027 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:20.0273053Z"
2025-01-22 00:52:20.032 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:20.0325685Z"
2025-01-22 00:52:20.034 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.149ms.
2025-01-22 00:52:20.038 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:20.047 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 87.8637ms
2025-01-22 00:52:20.049 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:20.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 110.0397ms
2025-01-22 00:52:21.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:21.715 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:21.718 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:21.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.8172ms
2025-01-22 00:52:21.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:21.984 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:21.987 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:21.989 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:22.037 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:22.040 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:22.0400779Z"
2025-01-22 00:52:22.048 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:22.056 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:22.0561857Z"
2025-01-22 00:52:22.058 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:22.0581416Z"
2025-01-22 00:52:22.067 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:22.0673417Z"
2025-01-22 00:52:22.070 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.9745ms.
2025-01-22 00:52:22.073 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:22.081 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.7419ms
2025-01-22 00:52:22.084 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:22.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 108.9456ms
2025-01-22 00:52:29.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:29.626 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:29.628 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:29.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.8036ms
2025-01-22 00:52:29.847 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:52:29.851 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:29.853 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.8606ms
2025-01-22 00:52:29.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:29.862 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:29.864 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:29.866 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:29.903 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:29.906 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:29.9063967Z"
2025-01-22 00:52:29.911 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:29.915 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:29.9159196Z"
2025-01-22 00:52:29.918 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:29.9188486Z"
2025-01-22 00:52:29.920 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:29.9203527Z"
2025-01-22 00:52:29.921 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.4364ms.
2025-01-22 00:52:29.924 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:29.926 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 50.5797ms
2025-01-22 00:52:29.929 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:29.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 73.2072ms
2025-01-22 00:52:36.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:36.597 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:36.600 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:36.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.4087ms
2025-01-22 00:52:36.862 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:52:36.867 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:36.869 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.4798ms
2025-01-22 00:52:36.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:36.879 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:36.882 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:36.886 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:36.933 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:36.936 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:36.9360456Z"
2025-01-22 00:52:36.941 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:36.948 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:36.9485019Z"
2025-01-22 00:52:36.950 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:36.9500911Z"
2025-01-22 00:52:36.952 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:36.9519832Z"
2025-01-22 00:52:36.953 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.8591ms.
2025-01-22 00:52:36.957 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:36.965 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 74.6777ms
2025-01-22 00:52:36.970 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:36.973 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 98.661ms
2025-01-22 00:52:38.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:38.634 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:38.636 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:38.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.7581ms
2025-01-22 00:52:38.954 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:38.959 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:38.961 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:38.963 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:39.006 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:39.009 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:39.0095144Z"
2025-01-22 00:52:39.015 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:39.020 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:39.0206692Z"
2025-01-22 00:52:39.021 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:39.0218324Z"
2025-01-22 00:52:39.023 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:39.0236170Z"
2025-01-22 00:52:39.025 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.7256ms.
2025-01-22 00:52:39.032 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:39.035 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 65.0555ms
2025-01-22 00:52:39.037 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:39.039 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.0112ms
2025-01-22 00:52:40.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:40.841 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:40.844 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:40.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.4056ms
2025-01-22 00:52:41.171 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:41.219 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:41.222 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:41.224 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:41.274 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:41.276 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:41.2764280Z"
2025-01-22 00:52:41.283 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:41.287 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:41.2875083Z"
2025-01-22 00:52:41.288 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:41.2886455Z"
2025-01-22 00:52:41.290 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:41.2901582Z"
2025-01-22 00:52:41.291 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.2278ms.
2025-01-22 00:52:41.298 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:41.301 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 67.5296ms
2025-01-22 00:52:41.304 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:41.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 135.7003ms
2025-01-22 00:52:42.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:42.947 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:42.955 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:42.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.5322ms
2025-01-22 00:52:43.331 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:52:43.362 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:43.371 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 39.6928ms
2025-01-22 00:52:43.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:43.387 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:43.394 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:43.397 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:43.469 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:43.476 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:43.4764511Z"
2025-01-22 00:52:43.488 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:43.817 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:43.8174112Z"
2025-01-22 00:52:43.820 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:43.8206861Z"
2025-01-22 00:52:43.826 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:43.8265547Z"
2025-01-22 00:52:43.830 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 354.3718ms.
2025-01-22 00:52:43.836 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:43.847 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 440.3701ms
2025-01-22 00:52:43.852 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:43.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 476.1191ms
2025-01-22 00:52:50.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:52:50.469 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:52:50.471 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:52:50.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.6255ms
2025-01-22 00:52:50.720 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:52:50.723 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:50.725 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.2867ms
2025-01-22 00:52:50.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:52:50.736 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:52:50.738 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:50.740 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:52:50.804 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:52:50.807 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:52:50.8070227Z"
2025-01-22 00:52:50.812 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:52:50.817 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:50.8174170Z"
2025-01-22 00:52:50.818 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:50.8185286Z"
2025-01-22 00:52:50.820 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:52:50.8200336Z"
2025-01-22 00:52:50.821 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.7225ms.
2025-01-22 00:52:50.828 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:52:50.833 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.2759ms
2025-01-22 00:52:50.834 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:52:50.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 106.4088ms
2025-01-22 00:53:00.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:53:00.052 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:53:00.055 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:53:00.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.8291ms
2025-01-22 00:53:00.307 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:53:00.312 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:00.316 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.8785ms
2025-01-22 00:53:00.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:53:00.329 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:00.331 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:00.334 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:53:00.400 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:53:00.403 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:53:00.4033638Z"
2025-01-22 00:53:00.410 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:53:00.418 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:00.4188258Z"
2025-01-22 00:53:00.420 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:00.4204138Z"
2025-01-22 00:53:00.422 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:00.4224499Z"
2025-01-22 00:53:00.424 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.0774ms.
2025-01-22 00:53:00.432 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:53:00.436 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 93.6193ms
2025-01-22 00:53:00.439 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:00.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 117.9072ms
2025-01-22 00:53:38.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:53:38.378 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:53:38.381 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:53:38.387 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 24.1125ms
2025-01-22 00:53:38.967 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:53:38.973 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:38.976 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.6471ms
2025-01-22 00:53:38.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:53:39.001 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:39.004 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:39.009 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:53:39.092 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:53:39.101 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:53:39.1015033Z"
2025-01-22 00:53:39.141 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:53:39.161 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:39.1617812Z"
2025-01-22 00:53:39.167 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:39.1679386Z"
2025-01-22 00:53:39.171 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:39.1716858Z"
2025-01-22 00:53:39.174 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 72.7068ms.
2025-01-22 00:53:39.183 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:53:39.187 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 171.095ms
2025-01-22 00:53:39.213 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:39.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 218.6297ms
2025-01-22 00:53:41.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:53:41.045 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:53:41.048 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:53:41.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.6518ms
2025-01-22 00:53:41.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:53:41.520 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:41.524 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:41.526 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:53:41.580 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:53:41.583 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:53:41.5833151Z"
2025-01-22 00:53:41.590 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:53:41.616 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:41.6167407Z"
2025-01-22 00:53:41.617 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:41.6179343Z"
2025-01-22 00:53:41.619 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:41.6194349Z"
2025-01-22 00:53:41.620 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.6187ms.
2025-01-22 00:53:41.623 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:53:41.631 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 99.831ms
2025-01-22 00:53:41.634 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:41.637 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 120.8733ms
2025-01-22 00:53:48.557 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:53:48.561 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:53:48.564 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:53:48.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.4286ms
2025-01-22 00:53:49.062 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:53:49.067 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:49.070 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.7195ms
2025-01-22 00:53:49.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:53:49.108 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:49.118 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:49.124 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:53:49.235 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:53:49.239 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:53:49.2396821Z"
2025-01-22 00:53:49.247 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:53:49.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:49.2575377Z"
2025-01-22 00:53:49.261 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:49.2615078Z"
2025-01-22 00:53:49.355 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:49.3550723Z"
2025-01-22 00:53:49.359 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 119.3512ms.
2025-01-22 00:53:49.369 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:53:49.377 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 239.6089ms
2025-01-22 00:53:49.406 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:49.409 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 312.0499ms
2025-01-22 00:53:57.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:53:57.898 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:53:57.902 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:53:57.905 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 14.0878ms
2025-01-22 00:53:58.443 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:53:58.448 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:58.450 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.0081ms
2025-01-22 00:53:58.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:53:58.485 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:53:58.488 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:58.494 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:53:58.617 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:53:58.623 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:53:58.6233381Z"
2025-01-22 00:53:58.639 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:53:58.648 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:58.6484799Z"
2025-01-22 00:53:58.654 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:58.6540781Z"
2025-01-22 00:53:58.658 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:53:58.6587419Z"
2025-01-22 00:53:58.671 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 48.0853ms.
2025-01-22 00:53:58.675 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:53:58.686 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 181.2746ms
2025-01-22 00:53:58.700 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:53:58.704 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 234.8159ms
2025-01-22 00:54:07.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:54:07.220 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:54:07.222 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:54:07.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.0572ms
2025-01-22 00:54:07.763 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:54:07.769 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:07.772 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.1066ms
2025-01-22 00:54:07.780 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:54:07.814 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:07.857 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:07.870 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:54:08.031 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:54:08.033 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:54:08.0339760Z"
2025-01-22 00:54:08.040 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:54:08.045 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:08.0458486Z"
2025-01-22 00:54:08.047 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:08.0473591Z"
2025-01-22 00:54:08.049 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:08.0492740Z"
2025-01-22 00:54:08.050 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.9408ms.
2025-01-22 00:54:08.057 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:54:08.061 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 123.8479ms
2025-01-22 00:54:08.064 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:08.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 285.9824ms
2025-01-22 00:54:19.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:54:19.283 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:54:19.285 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:54:19.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 6.6545ms
2025-01-22 00:54:19.736 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:54:19.740 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:19.742 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.1769ms
2025-01-22 00:54:19.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:54:19.752 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:19.754 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:19.756 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:54:19.819 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:54:19.833 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:54:19.8331826Z"
2025-01-22 00:54:19.851 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:54:19.863 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:19.8636753Z"
2025-01-22 00:54:19.866 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:19.8662603Z"
2025-01-22 00:54:19.873 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:19.8731131Z"
2025-01-22 00:54:19.880 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.623ms.
2025-01-22 00:54:19.889 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:54:19.896 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 129.1604ms
2025-01-22 00:54:19.906 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:19.910 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 161.9156ms
2025-01-22 00:54:47.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:54:47.459 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:54:47.462 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:54:47.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 20.1557ms
2025-01-22 00:54:47.910 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:54:47.915 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:47.918 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.1681ms
2025-01-22 00:54:47.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:54:47.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:47.959 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:47.962 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:54:48.025 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:54:48.028 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:54:48.0283066Z"
2025-01-22 00:54:48.034 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:54:48.041 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:48.0409514Z"
2025-01-22 00:54:48.042 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:48.0426238Z"
2025-01-22 00:54:48.044 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:54:48.0449781Z"
2025-01-22 00:54:48.047 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.9105ms.
2025-01-22 00:54:48.050 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:54:48.055 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.8929ms
2025-01-22 00:54:48.057 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:54:48.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 112.3678ms
2025-01-22 00:54:52.084 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - null null
2025-01-22 00:54:52.088 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:52.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - 204 null null 7.2312ms
2025-01-22 00:54:52.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/14 - application/json null
2025-01-22 00:54:52.106 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:52.110 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:54:52.133 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 00:54:52.176 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 00:54:52.180 +02:00 [INF] Starting GetByIdAsync with ID 14 at "2025-01-21T22:54:52.1802567Z"
2025-01-22 00:54:52.182 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T22:54:52.1827777Z"
2025-01-22 00:54:52.187 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T22:54:52.1870811Z"
2025-01-22 00:54:52.205 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:54:52.214 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 14 at "2025-01-21T22:54:52.2140977Z"
2025-01-22 00:54:52.216 +02:00 [INF] GetByIdAsync completed successfully with ID 14 at "2025-01-21T22:54:52.2160103Z"
2025-01-22 00:54:52.218 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.7888ms.
2025-01-22 00:54:52.221 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 00:54:52.224 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 86.0253ms
2025-01-22 00:54:52.231 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:54:52.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/14 - 200 null application/json; charset=utf-8 136.3688ms
2025-01-22 00:54:52.239 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:54:52.248 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:52.250 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 10.6531ms
2025-01-22 00:54:52.256 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - application/json 2
2025-01-22 00:54:52.262 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:54:52.266 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 00:54:52.302 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:54:52.311 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:54:52.464 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 00:54:52.471 +02:00 [INF] Starting AddToBasketAsync with GiftId: 14 and Quantity: 1
2025-01-22 00:54:52.473 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 00:54:52.477 +02:00 [INF] Received request to fetch user by token.
2025-01-22 00:54:52.478 +02:00 [INF] Parsing token...
2025-01-22 00:54:52.481 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-22 00:54:52.532 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 00:54:52.558 +02:00 [INF] User successfully found: asas
2025-01-22 00:54:52.562 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-22 00:54:52.567 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T22:54:52.5670798Z"
2025-01-22 00:54:52.575 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:54:52.584 +02:00 [INF] Gift with Id: 14 successfully retrieved.
2025-01-22 00:54:52.588 +02:00 [INF] Starting to add Gift 14 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:54:52.606 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 00:54:52.669 +02:00 [INF] Updated existing UserGift entry for Gift 14 (New Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:54:52.778 +02:00 [INF] Successfully saved changes to database for Gift 14 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-22 00:54:52.783 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 14 with Quantity: 1
2025-01-22 00:54:52.789 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 322.496ms.
2025-01-22 00:54:52.792 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 00:54:52.838 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 523.8923ms
2025-01-22 00:54:52.841 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:54:52.845 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:54:52.847 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 590.7346ms
2025-01-22 00:55:13.247 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-22 00:55:13.270 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:13.271 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 23.6565ms
2025-01-22 00:55:13.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-22 00:55:13.296 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:13.300 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:55:13.302 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 00:55:13.340 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 00:55:13.344 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T22:55:13.3443660Z"
2025-01-22 00:55:13.347 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:13.3475152Z"
2025-01-22 00:55:13.350 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:13.3500682Z"
2025-01-22 00:55:13.356 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:55:13.361 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T22:55:13.3614469Z"
2025-01-22 00:55:13.365 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T22:55:13.3658477Z"
2025-01-22 00:55:13.369 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.1058ms.
2025-01-22 00:55:13.373 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 00:55:13.375 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 68.7593ms
2025-01-22 00:55:13.380 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:55:13.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 90.6973ms
2025-01-22 00:55:13.388 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-22 00:55:13.391 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:13.393 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 5.1413ms
2025-01-22 00:55:13.401 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-22 00:55:13.404 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:13.406 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 00:55:13.409 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:55:13.412 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:55:13.490 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 00:55:13.497 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-22 00:55:13.499 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 00:55:13.500 +02:00 [INF] Received request to fetch user by token.
2025-01-22 00:55:13.503 +02:00 [INF] Parsing token...
2025-01-22 00:55:13.505 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-22 00:55:13.515 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 00:55:13.524 +02:00 [INF] User successfully found: asas
2025-01-22 00:55:13.525 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-22 00:55:13.527 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:13.5276703Z"
2025-01-22 00:55:13.531 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:55:13.540 +02:00 [INF] Gift with Id: 13 successfully retrieved.
2025-01-22 00:55:13.544 +02:00 [INF] Starting to add Gift 13 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:55:13.551 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 00:55:13.592 +02:00 [INF] Created new UserGift entry for Gift 13 (Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:55:13.723 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 00:55:13.743 +02:00 [INF] Successfully saved changes to database for Gift 13 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-22 00:55:13.748 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 13 with Quantity: 1
2025-01-22 00:55:13.751 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 253.8194ms.
2025-01-22 00:55:13.754 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 00:55:13.760 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 343.0453ms
2025-01-22 00:55:13.762 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:55:13.764 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:55:13.766 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 364.6846ms
2025-01-22 00:55:46.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:55:46.736 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:55:46.739 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:55:46.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 30.823ms
2025-01-22 00:55:47.090 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:55:47.095 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:47.097 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.9627ms
2025-01-22 00:55:47.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:55:47.141 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:47.144 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:55:47.149 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:55:47.200 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:55:47.206 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:55:47.2062592Z"
2025-01-22 00:55:47.217 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:55:47.225 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:47.2253186Z"
2025-01-22 00:55:47.227 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:47.2277031Z"
2025-01-22 00:55:47.230 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:47.2299917Z"
2025-01-22 00:55:47.231 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.4461ms.
2025-01-22 00:55:47.235 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:55:47.242 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 88.6693ms
2025-01-22 00:55:47.245 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:55:47.249 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 114.7953ms
2025-01-22 00:55:51.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:55:51.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:55:51.343 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:55:51.349 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:55:51.352 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:55:51.354 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:55:51.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 33.2131ms
2025-01-22 00:55:51.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 33.7254ms
2025-01-22 00:55:51.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:55:51.623 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:51.625 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:55:51.627 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:55:51.661 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:55:51.665 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:55:51.6655105Z"
2025-01-22 00:55:51.671 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:55:51.676 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:51.6763177Z"
2025-01-22 00:55:51.678 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:51.6781774Z"
2025-01-22 00:55:51.684 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:55:51.6843679Z"
2025-01-22 00:55:51.686 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.4859ms.
2025-01-22 00:55:51.688 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:55:51.691 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 60.2759ms
2025-01-22 00:55:51.694 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:55:51.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 80.7632ms
2025-01-22 00:55:53.800 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-22 00:55:53.805 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:53.807 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 6.7195ms
2025-01-22 00:55:53.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-22 00:55:53.816 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:53.818 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:55:53.819 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 00:55:53.849 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 00:55:53.852 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T22:55:53.8525278Z"
2025-01-22 00:55:53.856 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:53.8561328Z"
2025-01-22 00:55:53.858 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:53.8582890Z"
2025-01-22 00:55:53.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:55:53.873 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T22:55:53.8731497Z"
2025-01-22 00:55:53.875 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T22:55:53.8757533Z"
2025-01-22 00:55:53.877 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.3238ms.
2025-01-22 00:55:53.881 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 00:55:53.883 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 57.0431ms
2025-01-22 00:55:53.888 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:55:53.891 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 78.2886ms
2025-01-22 00:55:53.897 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-22 00:55:53.903 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:53.904 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 6.5447ms
2025-01-22 00:55:53.909 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-22 00:55:53.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:53.914 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 00:55:53.916 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:55:53.921 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:55:54.005 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 00:55:54.008 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-22 00:55:54.009 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 00:55:54.011 +02:00 [INF] Received request to fetch user by token.
2025-01-22 00:55:54.012 +02:00 [INF] Parsing token...
2025-01-22 00:55:54.014 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-22 00:55:54.022 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 00:55:54.033 +02:00 [INF] User successfully found: asas
2025-01-22 00:55:54.035 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-22 00:55:54.037 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T22:55:54.0375718Z"
2025-01-22 00:55:54.040 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:55:54.048 +02:00 [INF] Gift with Id: 13 successfully retrieved.
2025-01-22 00:55:54.049 +02:00 [INF] Starting to add Gift 13 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:55:54.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 00:55:54.060 +02:00 [INF] Updated existing UserGift entry for Gift 13 (New Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:55:54.065 +02:00 [INF] Successfully saved changes to database for Gift 13 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-22 00:55:54.068 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 13 with Quantity: 1
2025-01-22 00:55:54.070 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.5514ms.
2025-01-22 00:55:54.073 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 00:55:54.079 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 152.4981ms
2025-01-22 00:55:54.081 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:55:54.084 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:55:54.085 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 176.5167ms
2025-01-22 00:55:58.482 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:55:58.487 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:58.490 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.861ms
2025-01-22 00:55:58.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:55:58.504 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:55:58.512 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:55:58.516 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:55:58.522 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:55:58.550 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:55:58.556 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:55:58.560 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:55:58.691 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:55:58.707 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 2
2025-01-22 00:55:58.710 +02:00 [INF] Successfully retrieved 2 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:55:58.715 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 161.7897ms.
2025-01-22 00:55:58.719 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:55:58.726 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 199.5221ms
2025-01-22 00:55:58.731 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:55:58.734 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:55:58.735 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 235.948ms
2025-01-22 00:56:05.995 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:56:06.001 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:06.003 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.9158ms
2025-01-22 00:56:06.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:06.016 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:06.018 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:06.020 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:06.048 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:06.051 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:06.0513693Z"
2025-01-22 00:56:06.054 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:06.059 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:06.0598740Z"
2025-01-22 00:56:06.061 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:06.0615332Z"
2025-01-22 00:56:06.064 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:06.0643757Z"
2025-01-22 00:56:06.066 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.386ms.
2025-01-22 00:56:06.069 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:06.077 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 53.2265ms
2025-01-22 00:56:06.079 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:06.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 72.6378ms
2025-01-22 00:56:07.844 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - null null
2025-01-22 00:56:07.848 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:07.850 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - 204 null null 5.6696ms
2025-01-22 00:56:07.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 00:56:07.858 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:07.861 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:56:07.863 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 00:56:07.908 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 00:56:07.911 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T22:56:07.9112330Z"
2025-01-22 00:56:07.913 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T22:56:07.9130237Z"
2025-01-22 00:56:07.914 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T22:56:07.9149690Z"
2025-01-22 00:56:07.919 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:56:07.923 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T22:56:07.9237651Z"
2025-01-22 00:56:07.925 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T22:56:07.9253404Z"
2025-01-22 00:56:07.927 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0414ms.
2025-01-22 00:56:07.933 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 00:56:07.936 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 66.1374ms
2025-01-22 00:56:07.938 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 00:56:07.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 85.7164ms
2025-01-22 00:56:07.949 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-22 00:56:07.952 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:07.954 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 4.7748ms
2025-01-22 00:56:07.959 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 00:56:07.964 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:07.966 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 00:56:07.968 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:56:07.969 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 00:56:08.065 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 00:56:08.068 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 00:56:08.070 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 00:56:08.072 +02:00 [INF] Received request to fetch user by token.
2025-01-22 00:56:08.073 +02:00 [INF] Parsing token...
2025-01-22 00:56:08.075 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-22 00:56:08.080 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 00:56:08.090 +02:00 [INF] User successfully found: asas
2025-01-22 00:56:08.092 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-22 00:56:08.096 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T22:56:08.0962080Z"
2025-01-22 00:56:08.099 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 00:56:08.105 +02:00 [INF] Gift with Id: 15 successfully retrieved.
2025-01-22 00:56:08.107 +02:00 [INF] Starting to add Gift 15 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-22 00:56:08.111 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 00:56:08.115 +02:00 [INF] Created new UserGift entry for Gift 15 (Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:56:08.128 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 00:56:08.135 +02:00 [INF] Successfully saved changes to database for Gift 15 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-22 00:56:08.137 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 15 with Quantity: 1
2025-01-22 00:56:08.139 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.7914ms.
2025-01-22 00:56:08.142 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 00:56:08.145 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 171.9617ms
2025-01-22 00:56:08.147 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 00:56:08.151 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:56:08.153 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 200 null application/json; charset=utf-8 194.791ms
2025-01-22 00:56:10.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:56:10.033 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:10.035 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.9334ms
2025-01-22 00:56:10.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:56:10.050 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:10.054 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:56:10.060 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:56:10.063 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:56:10.089 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:56:10.092 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:56:10.094 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:56:10.098 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:56:10.107 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:56:10.108 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:56:10.110 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.4203ms.
2025-01-22 00:56:10.113 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:10.118 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 50.5404ms
2025-01-22 00:56:10.121 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:56:10.123 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:56:10.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 80.9135ms
2025-01-22 00:56:13.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:56:13.027 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:13.029 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.1258ms
2025-01-22 00:56:13.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:13.044 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:13.046 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:13.047 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:13.081 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:13.084 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:13.0841856Z"
2025-01-22 00:56:13.087 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:13.091 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:13.0917922Z"
2025-01-22 00:56:13.093 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:13.0937488Z"
2025-01-22 00:56:13.095 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:13.0953111Z"
2025-01-22 00:56:13.096 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.6252ms.
2025-01-22 00:56:13.102 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:13.104 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 47.1046ms
2025-01-22 00:56:13.106 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:13.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 70.7194ms
2025-01-22 00:56:28.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:56:28.332 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:56:28.335 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:56:28.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.6017ms
2025-01-22 00:56:28.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:56:28.614 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:28.616 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.3972ms
2025-01-22 00:56:28.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:28.625 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:28.627 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:28.630 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:28.671 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:28.675 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:28.6756417Z"
2025-01-22 00:56:28.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:28.686 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:28.6868078Z"
2025-01-22 00:56:28.688 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:28.6880338Z"
2025-01-22 00:56:28.689 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:28.6894852Z"
2025-01-22 00:56:28.690 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.3134ms.
2025-01-22 00:56:28.694 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:28.702 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 61.3187ms
2025-01-22 00:56:28.704 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:28.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.3853ms
2025-01-22 00:56:39.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:56:39.715 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:56:39.718 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:56:39.721 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.5042ms
2025-01-22 00:56:40.262 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:56:40.279 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:40.282 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 19.8657ms
2025-01-22 00:56:40.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:40.305 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:40.318 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:40.321 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:40.396 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:40.413 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:40.4133251Z"
2025-01-22 00:56:40.421 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:40.427 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:40.4276884Z"
2025-01-22 00:56:40.429 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:40.4295052Z"
2025-01-22 00:56:40.436 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:40.4364301Z"
2025-01-22 00:56:40.440 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.9811ms.
2025-01-22 00:56:40.446 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:40.453 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 122.4073ms
2025-01-22 00:56:40.457 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:40.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 169.849ms
2025-01-22 00:56:41.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:56:41.600 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:56:41.603 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:56:41.605 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.4128ms
2025-01-22 00:56:41.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:41.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:41.861 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:41.863 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:41.897 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:41.900 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:41.9007852Z"
2025-01-22 00:56:41.904 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:41.910 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:41.9101452Z"
2025-01-22 00:56:41.911 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:41.9117251Z"
2025-01-22 00:56:41.913 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:41.9135525Z"
2025-01-22 00:56:41.917 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.4125ms.
2025-01-22 00:56:41.920 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:41.922 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 51.4509ms
2025-01-22 00:56:41.925 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:41.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 72.5786ms
2025-01-22 00:56:45.342 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:56:45.347 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:56:45.349 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:56:45.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.2874ms
2025-01-22 00:56:45.583 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:56:45.589 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:45.592 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.1417ms
2025-01-22 00:56:45.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:56:45.602 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:56:45.604 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:45.611 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:56:45.642 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:56:45.646 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:56:45.6464190Z"
2025-01-22 00:56:45.650 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:56:45.656 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:45.6564428Z"
2025-01-22 00:56:45.659 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:45.6591938Z"
2025-01-22 00:56:45.661 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:56:45.6615901Z"
2025-01-22 00:56:45.664 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.9533ms.
2025-01-22 00:56:45.667 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:56:45.672 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 55.2485ms
2025-01-22 00:56:45.675 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:56:45.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 81.3931ms
2025-01-22 00:57:14.724 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:57:14.740 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:57:14.744 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:57:14.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 22.7009ms
2025-01-22 00:57:15.004 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 00:57:15.008 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:15.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.4304ms
2025-01-22 00:57:15.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:57:15.019 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:15.021 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:57:15.023 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:57:15.061 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:57:15.063 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:57:15.0637813Z"
2025-01-22 00:57:15.069 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:57:15.091 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:15.0910672Z"
2025-01-22 00:57:15.092 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:15.0923866Z"
2025-01-22 00:57:15.094 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:15.0943970Z"
2025-01-22 00:57:15.096 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.4863ms.
2025-01-22 00:57:15.099 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:15.101 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 68.8644ms
2025-01-22 00:57:15.106 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:57:15.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 93.2544ms
2025-01-22 00:57:19.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 00:57:19.613 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 00:57:19.616 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 00:57:19.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 26.6796ms
2025-01-22 00:57:19.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 00:57:19.862 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:19.865 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:57:19.867 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 00:57:19.903 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 00:57:19.906 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T22:57:19.9069552Z"
2025-01-22 00:57:19.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 00:57:19.919 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:19.9190062Z"
2025-01-22 00:57:19.920 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:19.9203272Z"
2025-01-22 00:57:19.922 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T22:57:19.9220179Z"
2025-01-22 00:57:19.923 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.5486ms.
2025-01-22 00:57:19.932 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:19.935 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 63.4434ms
2025-01-22 00:57:19.937 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 00:57:19.939 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 82.4214ms
2025-01-22 00:57:30.979 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:57:30.984 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:30.987 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.5432ms
2025-01-22 00:57:30.999 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:57:31.010 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:31.011 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:57:31.014 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:31.015 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:57:31.047 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:57:31.049 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:31.051 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:31.061 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:31.067 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:57:31.070 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:31.072 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.9982ms.
2025-01-22 00:57:31.077 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:31.079 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 56.8703ms
2025-01-22 00:57:31.082 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:31.086 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:31.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 88.7316ms
2025-01-22 00:57:32.884 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-22 00:57:32.887 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:32.889 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 5.496ms
2025-01-22 00:57:32.896 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - application/json null
2025-01-22 00:57:32.900 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:32.901 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:57:32.903 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:32.912 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:57:32.942 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:57:32.947 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:57:32.954 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:32.961 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:32.965 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:32.973 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:32.990 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-22 00:57:32.995 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:32.996 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.3583ms.
2025-01-22 00:57:32.999 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:33.003 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 84.6057ms
2025-01-22 00:57:33.008 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:33.011 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:33.013 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 116.3674ms
2025-01-22 00:57:33.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:57:33.025 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:33.028 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:57:33.030 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:33.031 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:57:33.110 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:57:33.113 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:33.115 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:33.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:33.124 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:57:33.126 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:33.131 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.9507ms.
2025-01-22 00:57:33.136 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:33.140 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 103.1222ms
2025-01-22 00:57:33.144 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:33.147 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:33.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 129.4ms
2025-01-22 00:57:34.855 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:57:34.861 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:34.863 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.3833ms
2025-01-22 00:57:34.867 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:57:34.874 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:34.877 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:57:34.881 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:34.882 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:57:34.908 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:57:34.912 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:57:34.914 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:34.915 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:34.920 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:34.930 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:34.937 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-22 00:57:34.942 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:34.945 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.0707ms.
2025-01-22 00:57:34.953 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:34.957 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 71.2895ms
2025-01-22 00:57:34.961 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:34.963 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:34.966 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 99.1897ms
2025-01-22 00:57:34.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:57:34.977 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:34.980 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:57:34.984 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:34.986 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:57:35.050 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:57:35.053 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.055 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.059 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:35.068 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:57:35.069 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.072 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.821ms.
2025-01-22 00:57:35.081 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:35.085 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 95.1063ms
2025-01-22 00:57:35.088 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:35.094 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:35.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 124.9421ms
2025-01-22 00:57:35.609 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-22 00:57:35.614 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:35.615 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 6.2853ms
2025-01-22 00:57:35.620 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - application/json null
2025-01-22 00:57:35.623 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:35.625 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:57:35.629 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:35.630 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:57:35.663 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:57:35.667 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:57:35.668 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.670 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.674 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:35.686 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.688 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-22 00:57:35.694 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.700 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.2578ms.
2025-01-22 00:57:35.704 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:35.708 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 69.5802ms
2025-01-22 00:57:35.712 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:57:35.716 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:35.718 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - 200 null application/json; charset=utf-8 98.699ms
2025-01-22 00:57:35.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:57:35.732 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:35.736 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:57:35.738 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:35.740 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:57:35.811 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:57:35.814 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.816 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.820 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:35.828 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:57:35.830 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:35.832 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.7735ms.
2025-01-22 00:57:35.835 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:35.841 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 93.9797ms
2025-01-22 00:57:35.844 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:35.847 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:35.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 124.0756ms
2025-01-22 00:57:55.093 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-22 00:57:55.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:55.100 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 6.6894ms
2025-01-22 00:57:55.104 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-22 00:57:55.109 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:55.111 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-22 00:57:55.114 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 00:57:55.123 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:57:55.152 +02:00 [INF] Executing action method project.Controllers.UserController.ConfirmPurchaseAsync (project) - Validation state: "Valid"
2025-01-22 00:57:55.157 +02:00 [INF] Starting ConfirmPurchaseAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.160 +02:00 [INF] Confirming purchase for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.166 +02:00 [INF] Fetching UserGifts for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 to confirm purchase
2025-01-22 00:57:55.190 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-22 00:57:55.200 +02:00 [INF] Updated Gift 13 to Purchased for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.201 +02:00 [INF] Updated Gift 14 to Purchased for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.203 +02:00 [INF] Updated Gift 15 to Purchased for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.254 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 450), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
UPDATE [UserGifts] SET [GiftStatus] = @p3
OUTPUT 1
WHERE [GiftId] = @p4 AND [UserId] = @p5;
2025-01-22 00:57:55.281 +02:00 [INF] Purchase confirmed for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.283 +02:00 [INF] Purchase confirmed for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.284 +02:00 [INF] Completed ConfirmPurchaseAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:55.287 +02:00 [INF] Executed action method project.Controllers.UserController.ConfirmPurchaseAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 131.6909ms.
2025-01-22 00:57:55.295 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 167.3581ms
2025-01-22 00:57:55.298 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 00:57:55.300 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:55.301 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 196.642ms
2025-01-22 00:57:59.798 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:57:59.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:59.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.7443ms
2025-01-22 00:57:59.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:57:59.819 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:57:59.820 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:57:59.823 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:59.826 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:57:59.856 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:57:59.862 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:59.864 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:59.871 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:57:59.880 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:57:59.882 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:57:59.884 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.4731ms.
2025-01-22 00:57:59.887 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:57:59.889 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 55.2566ms
2025-01-22 00:57:59.896 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:57:59.898 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:57:59.900 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 88.9359ms
2025-01-22 00:58:03.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-22 00:58:03.118 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:03.120 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 5.3378ms
2025-01-22 00:58:03.126 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - application/json null
2025-01-22 00:58:03.132 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:03.133 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:58:03.135 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:03.137 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:58:03.165 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:58:03.168 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:58:03.169 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.171 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:03.183 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.185 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:58:03.188 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.189 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.7557ms.
2025-01-22 00:58:03.199 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:03.202 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 61.2019ms
2025-01-22 00:58:03.204 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:03.206 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:03.207 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 81.393ms
2025-01-22 00:58:03.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:58:03.219 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:03.220 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:58:03.222 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:03.228 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:58:03.301 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:58:03.304 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.305 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.309 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:03.315 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:58:03.319 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:03.322 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.779ms.
2025-01-22 00:58:03.325 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:03.327 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 93.0103ms
2025-01-22 00:58:03.330 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:03.333 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:03.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 119.3716ms
2025-01-22 00:58:06.498 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - application/json null
2025-01-22 00:58:06.502 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:06.504 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:58:06.508 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:06.512 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:58:06.542 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:58:06.547 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:58:06.549 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.550 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.554 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:06.562 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.564 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:58:06.567 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.568 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.6528ms.
2025-01-22 00:58:06.576 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:06.579 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 62.3332ms
2025-01-22 00:58:06.582 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:06.584 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:06.587 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 88.7099ms
2025-01-22 00:58:06.594 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 00:58:06.598 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:06.599 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 5.4374ms
2025-01-22 00:58:06.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:58:06.612 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:06.614 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:58:06.618 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:06.619 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:58:06.689 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:58:06.692 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.694 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.699 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:06.710 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:58:06.716 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:06.718 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.2415ms.
2025-01-22 00:58:06.722 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:06.726 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 101.9421ms
2025-01-22 00:58:06.731 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:06.732 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:06.734 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 127.6979ms
2025-01-22 00:58:07.714 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 00:58:07.719 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:07.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 5.8863ms
2025-01-22 00:58:07.726 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-22 00:58:07.729 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:07.733 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 00:58:07.736 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:07.737 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-22 00:58:07.764 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-22 00:58:07.767 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-22 00:58:07.769 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.770 +02:00 [INF] Starting to fetch basket for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.774 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:07.783 +02:00 [INF] Successfully fetched 3 gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.785 +02:00 [INF] Serialized response: [
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "d23fde6c-0675-4ef6-8506-8a21e9a1f431",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-22 00:58:07.788 +02:00 [INF] Completed GetBasketByUserAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.790 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.4988ms.
2025-01-22 00:58:07.799 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:07.803 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 61.7084ms
2025-01-22 00:58:07.806 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-22 00:58:07.811 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:07.813 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 86.7163ms
2025-01-22 00:58:07.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 00:58:07.821 +02:00 [INF] CORS policy execution successful.
2025-01-22 00:58:07.823 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 00:58:07.828 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:07.830 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 00:58:07.890 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 00:58:07.894 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.895 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.899 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 00:58:07.906 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 00:58:07.909 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 00:58:07.912 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.7504ms.
2025-01-22 00:58:07.915 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 00:58:07.918 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 83.2302ms
2025-01-22 00:58:07.923 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 00:58:07.925 +02:00 [INF] Outgoing Response: 200
2025-01-22 00:58:07.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 109.134ms
2025-01-22 01:03:24.425 +02:00 [INF] Starting up the application
2025-01-22 01:03:28.720 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 01:03:31.210 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 01:03:31.383 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 01:03:31.798 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 01:03:31.846 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 01:03:31.848 +02:00 [INF] Hosting environment: Development
2025-01-22 01:03:31.850 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 01:03:32.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 01:03:33.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 505.6443ms
2025-01-22 01:03:33.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 01:03:33.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.2152ms
2025-01-22 01:03:33.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 01:03:33.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 320.5063ms
2025-01-22 01:04:00.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:00.836 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 01:04:00.909 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:00.911 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:00.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 111.5564ms
2025-01-22 01:04:01.430 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:01.436 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:01.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 21.7286ms
2025-01-22 01:04:01.458 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:01.462 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:01.466 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:01.701 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:01.738 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:01.918 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:01.925 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:01.930 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:02.144 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:02.244 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:02.246 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:02.255 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 328.2594ms.
2025-01-22 01:04:02.270 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:02.326 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 578.0852ms
2025-01-22 01:04:02.330 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:02.333 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:02.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 883.8593ms
2025-01-22 01:04:20.719 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:20.725 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:20.727 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:20.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.1237ms
2025-01-22 01:04:21.199 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:21.205 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:21.209 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.5004ms
2025-01-22 01:04:21.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:21.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:21.235 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:21.245 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:21.248 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:21.329 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:21.333 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:21.335 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:21.391 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:21.402 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:21.405 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:21.407 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 74.9397ms.
2025-01-22 01:04:21.418 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:21.427 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 175.1312ms
2025-01-22 01:04:21.432 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:21.457 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:21.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 245.7984ms
2025-01-22 01:04:23.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:23.611 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:23.612 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:23.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.4479ms
2025-01-22 01:04:23.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:24.003 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:24.006 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:24.014 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:24.019 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:24.095 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:24.099 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:24.101 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:24.145 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:24.304 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:24.316 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:24.322 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 223.1531ms.
2025-01-22 01:04:24.331 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:24.339 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 314.5492ms
2025-01-22 01:04:24.349 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:24.357 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:24.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 368.7907ms
2025-01-22 01:04:25.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:25.581 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:25.582 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:25.583 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.8487ms
2025-01-22 01:04:25.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:25.800 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:25.804 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:25.808 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:25.810 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:25.841 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:25.844 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:25.845 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:25.851 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:25.859 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:25.861 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:25.863 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.546ms.
2025-01-22 01:04:25.870 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:25.874 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 60.4173ms
2025-01-22 01:04:25.877 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:25.878 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:25.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 84.5116ms
2025-01-22 01:04:39.604 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:39.609 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:39.611 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:39.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.8971ms
2025-01-22 01:04:39.868 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:39.873 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:39.875 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.5161ms
2025-01-22 01:04:39.881 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:39.886 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:39.891 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:39.894 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:39.896 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:39.937 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:39.940 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:39.942 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:39.947 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:39.959 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:39.960 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:39.962 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.1854ms.
2025-01-22 01:04:39.965 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:39.973 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 73.1058ms
2025-01-22 01:04:39.977 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:39.979 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:39.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 98.8169ms
2025-01-22 01:04:44.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:44.636 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:44.638 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:44.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.1706ms
2025-01-22 01:04:44.867 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:44.872 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:44.874 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:44.877 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:44.879 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:44.937 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:44.940 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:44.943 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:44.950 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:44.957 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:44.958 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:44.961 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.2468ms.
2025-01-22 01:04:44.967 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:44.971 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 81.9591ms
2025-01-22 01:04:44.973 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:44.975 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:44.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 112.3899ms
2025-01-22 01:04:46.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:46.663 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:46.665 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:46.667 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.6148ms
2025-01-22 01:04:46.900 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:46.905 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:46.908 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.0308ms
2025-01-22 01:04:46.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:46.923 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:46.925 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:46.927 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:46.928 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:46.968 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:46.970 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:46.972 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:46.977 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:46.985 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:46.987 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:46.989 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.448ms.
2025-01-22 01:04:46.992 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:46.998 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 60.7894ms
2025-01-22 01:04:47.000 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:47.002 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:47.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 88.1492ms
2025-01-22 01:04:49.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:49.732 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:49.737 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:49.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 13.4955ms
2025-01-22 01:04:50.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:50.010 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:50.012 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:50.016 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:50.022 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:50.068 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:50.073 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:50.075 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:50.081 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:50.088 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:50.090 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:50.095 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.1231ms.
2025-01-22 01:04:50.101 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:50.106 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 77.9495ms
2025-01-22 01:04:50.110 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:50.116 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:50.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 112.1498ms
2025-01-22 01:04:51.529 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:04:51.532 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:51.533 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:04:51.535 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.3232ms
2025-01-22 01:04:51.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:04:51.775 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:04:51.777 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:04:51.780 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:51.786 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:04:51.823 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:04:51.826 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:51.828 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:51.833 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:04:51.840 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:04:51.842 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:04:51.844 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.1812ms.
2025-01-22 01:04:51.851 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:04:51.854 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 60.2745ms
2025-01-22 01:04:51.857 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:04:51.860 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:04:51.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 93.5908ms
2025-01-22 01:05:02.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:02.028 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:02.030 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:05:02.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.1066ms
2025-01-22 01:05:02.346 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:02.350 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:02.352 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.1649ms
2025-01-22 01:05:02.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:05:02.363 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:02.364 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:02.366 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:02.367 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:05:02.412 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:05:02.415 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:02.416 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:02.424 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:05:02.431 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:05:02.433 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:02.439 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.0619ms.
2025-01-22 01:05:02.442 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:05:02.444 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 68.0635ms
2025-01-22 01:05:02.446 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:02.448 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:05:02.454 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 95.3697ms
2025-01-22 01:05:22.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:23.010 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:23.033 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:05:23.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 46.6619ms
2025-01-22 01:05:23.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:23.329 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:23.333 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.2802ms
2025-01-22 01:05:23.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:05:23.350 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:23.353 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:23.358 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:23.363 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:05:23.402 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:05:23.405 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:23.406 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:23.414 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:05:23.419 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:05:23.421 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:23.426 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.6609ms.
2025-01-22 01:05:23.430 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:05:23.432 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 61.5949ms
2025-01-22 01:05:23.434 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:23.436 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:05:23.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 96.8661ms
2025-01-22 01:05:30.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:30.721 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:30.722 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:05:30.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.3264ms
2025-01-22 01:05:30.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:05:30.949 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:30.951 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.9515ms
2025-01-22 01:05:30.958 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:05:30.961 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:05:30.962 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:05:30.970 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:30.973 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:05:31.022 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:05:31.026 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:31.029 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:31.038 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:05:31.047 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:05:31.049 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:05:31.052 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.3818ms.
2025-01-22 01:05:31.060 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:05:31.064 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 82.1492ms
2025-01-22 01:05:31.067 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:05:31.069 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:05:31.074 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 116.1097ms
2025-01-22 01:07:17.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:07:17.786 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:07:17.788 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:07:17.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 50.0143ms
2025-01-22 01:07:18.164 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:07:18.169 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:07:18.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.7634ms
2025-01-22 01:07:18.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:07:18.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:07:18.189 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:07:18.192 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:07:18.196 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:07:18.261 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:07:18.263 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:18.265 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:18.279 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:07:18.288 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:07:18.292 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:18.295 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.6524ms.
2025-01-22 01:07:18.299 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:07:18.304 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 97.3002ms
2025-01-22 01:07:18.313 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:07:18.325 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:07:18.331 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 152.8394ms
2025-01-22 01:07:22.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:07:22.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:07:22.419 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:07:22.428 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:07:22.431 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:07:22.434 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:07:22.436 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 55.6439ms
2025-01-22 01:07:22.443 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 37.1227ms
2025-01-22 01:07:22.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:07:22.737 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:07:22.739 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:07:22.742 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:07:22.744 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:07:22.791 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:07:22.795 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:22.797 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:22.809 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:07:22.820 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:07:22.823 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:07:22.826 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.7878ms.
2025-01-22 01:07:22.829 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:07:22.836 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 86.4871ms
2025-01-22 01:07:22.839 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:07:22.841 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:07:22.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 112.1791ms
2025-01-22 01:08:24.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:24.448 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:24.450 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:08:24.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 17.3045ms
2025-01-22 01:08:24.774 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:24.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:24.807 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 32.8059ms
2025-01-22 01:08:24.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:08:24.819 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:24.825 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:24.829 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:24.833 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:08:24.904 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:08:24.907 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:24.909 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:24.920 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:08:24.926 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:08:24.930 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:24.932 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.5608ms.
2025-01-22 01:08:24.937 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:08:24.940 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 95.8411ms
2025-01-22 01:08:24.946 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:24.948 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:08:24.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 136.9006ms
2025-01-22 01:08:47.721 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:47.752 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:47.754 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:08:47.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 34.0018ms
2025-01-22 01:08:48.031 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:48.036 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:48.038 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.913ms
2025-01-22 01:08:48.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:08:48.048 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:48.051 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:48.054 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:48.056 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:08:48.101 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:08:48.104 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:48.106 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:48.113 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:08:48.120 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:08:48.124 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:48.126 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.7175ms.
2025-01-22 01:08:48.129 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:08:48.132 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 68.6487ms
2025-01-22 01:08:48.135 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:48.137 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:08:48.142 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 97.1217ms
2025-01-22 01:08:50.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:50.647 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:50.654 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:08:50.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 16.4246ms
2025-01-22 01:08:51.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:08:51.047 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:51.052 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:51.060 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:51.065 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:08:51.164 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:08:51.169 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:51.171 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:51.190 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:08:51.206 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:08:51.217 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:51.223 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 53.7084ms.
2025-01-22 01:08:51.230 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:08:51.236 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 146.6648ms
2025-01-22 01:08:51.239 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:51.242 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:08:51.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 214.1205ms
2025-01-22 01:08:52.624 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:52.627 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:52.629 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:08:52.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.9468ms
2025-01-22 01:08:52.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:08:52.856 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:52.858 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:52.861 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:52.864 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:08:52.906 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:08:52.908 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:52.911 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:52.921 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:08:52.930 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:08:52.931 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:52.934 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.0269ms.
2025-01-22 01:08:52.938 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:08:52.943 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 70.9805ms
2025-01-22 01:08:52.945 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:52.947 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:08:52.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 98.1751ms
2025-01-22 01:08:56.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:56.592 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:56.594 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:08:56.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.498ms
2025-01-22 01:08:56.946 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:08:56.952 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:56.956 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.8996ms
2025-01-22 01:08:56.973 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:08:56.981 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:08:56.984 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:08:56.990 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:56.997 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:08:57.048 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:08:57.052 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:57.054 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:57.065 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:08:57.079 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:08:57.084 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:08:57.091 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.6599ms.
2025-01-22 01:08:57.095 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:08:57.100 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 93.7863ms
2025-01-22 01:08:57.107 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:08:57.110 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:08:57.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 139.4777ms
2025-01-22 01:09:06.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:06.258 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:06.259 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:09:06.261 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4833ms
2025-01-22 01:09:06.506 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:06.513 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:06.516 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.3379ms
2025-01-22 01:09:06.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:09:06.533 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:06.536 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:06.540 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:06.546 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:09:06.585 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:09:06.587 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:06.589 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:06.597 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:09:06.603 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:09:06.608 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:06.611 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.7302ms.
2025-01-22 01:09:06.616 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:09:06.624 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 72.0469ms
2025-01-22 01:09:06.627 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:06.629 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:09:06.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 107.9322ms
2025-01-22 01:09:15.846 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:15.870 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:15.876 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:09:15.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 40.6029ms
2025-01-22 01:09:16.211 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:16.230 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:16.232 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 20.9965ms
2025-01-22 01:09:16.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:09:16.243 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:16.248 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:16.253 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:16.255 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:09:16.314 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:09:16.317 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:16.320 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:16.330 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:09:16.340 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:09:16.342 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:16.345 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.3492ms.
2025-01-22 01:09:16.358 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:09:16.362 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 95.1961ms
2025-01-22 01:09:16.365 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:16.390 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:09:16.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 154.5695ms
2025-01-22 01:09:17.648 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:17.655 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:17.657 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:09:17.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 11.1773ms
2025-01-22 01:09:17.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:09:17.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:17.900 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:17.904 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:17.906 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:09:17.941 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:09:17.944 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:17.946 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:17.954 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:09:17.963 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:09:17.965 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:17.968 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.7713ms.
2025-01-22 01:09:17.972 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:09:17.975 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 63.5063ms
2025-01-22 01:09:17.980 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:17.982 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:09:17.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 93.1773ms
2025-01-22 01:09:56.803 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:56.808 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:56.810 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:09:56.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.3732ms
2025-01-22 01:09:57.122 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:09:57.126 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:57.129 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.4652ms
2025-01-22 01:09:57.135 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:09:57.140 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:09:57.142 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:09:57.148 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:57.150 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:09:57.185 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:09:57.188 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:57.189 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:57.199 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:09:57.205 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:09:57.209 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:09:57.212 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.0499ms.
2025-01-22 01:09:57.215 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:09:57.219 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 63.2711ms
2025-01-22 01:09:57.224 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:09:57.225 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:09:57.227 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 91.5106ms
2025-01-22 01:10:20.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:20.790 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:20.792 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:20.794 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.7296ms
2025-01-22 01:10:21.176 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:21.180 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:21.183 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.0805ms
2025-01-22 01:10:21.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:21.193 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:21.195 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:21.201 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:21.203 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:21.240 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:21.243 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:21.245 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:21.252 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:21.258 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:21.259 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:21.265 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.5275ms.
2025-01-22 01:10:21.271 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:21.273 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 66.4528ms
2025-01-22 01:10:21.278 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:21.281 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:21.285 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 95.4452ms
2025-01-22 01:10:25.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:25.709 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:25.711 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:25.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.9994ms
2025-01-22 01:10:26.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:26.036 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:26.038 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:26.040 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:26.042 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:26.083 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:26.087 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:26.089 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:26.106 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:26.121 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:26.123 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:26.130 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.2272ms.
2025-01-22 01:10:26.146 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:26.156 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 109.807ms
2025-01-22 01:10:26.170 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:26.175 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:26.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 160.0403ms
2025-01-22 01:10:27.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:27.433 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:27.435 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:27.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.6359ms
2025-01-22 01:10:27.695 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:27.700 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:27.713 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 18.0775ms
2025-01-22 01:10:27.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:27.731 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:27.733 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:27.741 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:27.744 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:27.790 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:27.793 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:27.794 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:27.805 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:27.810 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:27.814 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:27.817 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.5036ms.
2025-01-22 01:10:27.820 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:27.823 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 69.1232ms
2025-01-22 01:10:27.825 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:27.829 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:27.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 105.4269ms
2025-01-22 01:10:36.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:36.847 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:36.849 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:36.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4513ms
2025-01-22 01:10:37.119 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:37.123 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:37.128 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.7274ms
2025-01-22 01:10:37.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:37.150 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:37.156 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:37.160 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:37.162 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:37.207 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:37.209 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:37.212 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:37.222 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:37.227 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:37.228 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:37.237 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.1976ms.
2025-01-22 01:10:37.241 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:37.246 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 73.1407ms
2025-01-22 01:10:37.249 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:37.253 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:37.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 111.3754ms
2025-01-22 01:10:44.276 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:44.279 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:44.281 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:44.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.5992ms
2025-01-22 01:10:44.517 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:44.522 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:44.526 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.0225ms
2025-01-22 01:10:44.532 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:44.541 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:44.543 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:44.546 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:44.549 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:44.607 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:44.609 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:44.611 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:44.620 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:44.625 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:44.627 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:44.629 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.9127ms.
2025-01-22 01:10:44.640 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:44.643 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 84.0595ms
2025-01-22 01:10:44.645 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:44.652 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:44.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 121.9435ms
2025-01-22 01:10:51.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:51.442 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:51.443 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:10:51.445 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4901ms
2025-01-22 01:10:51.675 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:10:51.681 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:51.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.3013ms
2025-01-22 01:10:51.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:10:51.700 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:10:51.703 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:10:51.710 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:51.712 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:10:51.745 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:10:51.748 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:51.750 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:51.758 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:10:51.763 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:10:51.765 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:10:51.767 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.817ms.
2025-01-22 01:10:51.773 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:10:51.776 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 57.682ms
2025-01-22 01:10:51.778 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:10:51.779 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:10:51.781 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 86.3788ms
2025-01-22 01:11:00.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:00.864 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:00.869 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:11:00.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 11.5765ms
2025-01-22 01:11:01.104 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:01.112 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:01.113 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.9279ms
2025-01-22 01:11:01.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:11:01.125 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:01.126 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:01.129 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:01.131 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:11:01.171 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:11:01.173 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:01.174 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:01.184 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:11:01.192 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:11:01.194 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:01.199 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.7681ms.
2025-01-22 01:11:01.203 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:11:01.206 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 66.6654ms
2025-01-22 01:11:01.209 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:01.211 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:11:01.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 97.9275ms
2025-01-22 01:11:14.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:15.002 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:15.003 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:11:15.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.4074ms
2025-01-22 01:11:15.254 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:15.259 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:15.262 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.7545ms
2025-01-22 01:11:15.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:11:15.275 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:15.278 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:15.282 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:15.285 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:11:15.328 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:11:15.332 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:15.334 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:15.344 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:11:15.354 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:11:15.356 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:15.358 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.7317ms.
2025-01-22 01:11:15.360 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:11:15.363 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 70.2956ms
2025-01-22 01:11:15.369 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:15.371 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:11:15.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 104.037ms
2025-01-22 01:11:25.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:25.201 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:25.202 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:11:25.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.2451ms
2025-01-22 01:11:25.436 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:25.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:25.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.9231ms
2025-01-22 01:11:25.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:11:25.457 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:25.459 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:25.463 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:25.468 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:11:25.526 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:11:25.528 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:25.530 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:25.538 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:11:25.546 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:11:25.547 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:25.550 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.0837ms.
2025-01-22 01:11:25.553 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:11:25.556 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 83.4847ms
2025-01-22 01:11:25.558 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:25.562 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:11:25.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 111.6023ms
2025-01-22 01:11:33.757 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:33.760 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:33.761 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:11:33.762 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 5.7781ms
2025-01-22 01:11:33.986 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:33.992 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:33.994 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.5351ms
2025-01-22 01:11:34.003 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:11:34.007 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:34.009 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:34.012 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:34.018 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:11:34.047 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:11:34.050 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:34.052 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:34.060 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:11:34.067 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:11:34.069 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:34.071 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.0165ms.
2025-01-22 01:11:34.076 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:11:34.079 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 54.4569ms
2025-01-22 01:11:34.082 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:34.085 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:11:34.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 83.9689ms
2025-01-22 01:11:42.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:42.793 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:42.794 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:11:42.795 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 5.8514ms
2025-01-22 01:11:43.015 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:11:43.020 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:43.022 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.0926ms
2025-01-22 01:11:43.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:11:43.038 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:11:43.040 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:11:43.045 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:43.052 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:11:43.090 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:11:43.093 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:43.094 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:43.103 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:11:43.108 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:11:43.109 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:11:43.113 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.5674ms.
2025-01-22 01:11:43.118 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:11:43.120 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 59.5394ms
2025-01-22 01:11:43.122 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:11:43.124 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:11:43.125 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 95.099ms
2025-01-22 01:12:14.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:14.610 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:14.613 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:14.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 28.1712ms
2025-01-22 01:12:14.945 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:14.983 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:14.987 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 41.6857ms
2025-01-22 01:12:14.992 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:15.002 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:15.004 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:15.007 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:15.008 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:15.054 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:15.056 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:15.058 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:15.065 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:15.070 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:15.071 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:15.073 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.8668ms.
2025-01-22 01:12:15.076 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:15.083 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 61.4337ms
2025-01-22 01:12:15.085 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:15.086 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:15.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 95.488ms
2025-01-22 01:12:16.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:16.732 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:16.734 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:16.736 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.776ms
2025-01-22 01:12:16.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:16.969 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:16.974 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:16.978 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:16.984 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:17.021 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:17.023 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:17.025 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:17.029 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:17.037 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:17.039 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:17.041 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.9716ms.
2025-01-22 01:12:17.049 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:17.056 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 67.1078ms
2025-01-22 01:12:17.060 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:17.061 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:17.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 100.6411ms
2025-01-22 01:12:23.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:23.578 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:23.580 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:23.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.1934ms
2025-01-22 01:12:23.773 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:23.779 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:23.781 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.7492ms
2025-01-22 01:12:23.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:23.794 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:23.795 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:23.799 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:23.801 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:23.831 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:23.834 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:23.837 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:23.841 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:23.846 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:23.849 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:23.854 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.5389ms.
2025-01-22 01:12:23.857 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:23.859 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 49.431ms
2025-01-22 01:12:23.862 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:23.864 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:23.866 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 77.8263ms
2025-01-22 01:12:30.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:30.637 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:30.640 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:30.642 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.5906ms
2025-01-22 01:12:30.933 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:30.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:30.943 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.9075ms
2025-01-22 01:12:30.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:30.958 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:30.960 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:30.967 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:30.970 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:31.008 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:31.011 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:31.012 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:31.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:31.027 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:31.029 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:31.031 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.3342ms.
2025-01-22 01:12:31.036 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:31.042 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 65.8025ms
2025-01-22 01:12:31.044 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:31.045 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:31.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 95.1503ms
2025-01-22 01:12:32.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:32.786 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:32.788 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:32.789 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.862ms
2025-01-22 01:12:33.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:33.089 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:33.091 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:33.094 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:33.100 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:33.130 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:33.133 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:33.135 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:33.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:33.147 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:33.149 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:33.151 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.3665ms.
2025-01-22 01:12:33.154 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:33.157 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 51.8584ms
2025-01-22 01:12:33.162 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:33.165 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:33.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 81.3246ms
2025-01-22 01:12:41.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:41.549 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:41.550 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:12:41.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.3703ms
2025-01-22 01:12:41.816 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:12:41.822 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:41.827 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 11.7106ms
2025-01-22 01:12:41.835 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:12:41.843 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:12:41.847 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:12:41.851 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:41.854 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:12:41.899 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:12:41.902 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:41.904 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:41.911 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:12:41.918 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:12:41.922 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:12:41.925 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.8286ms.
2025-01-22 01:12:41.928 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:12:41.931 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 64.379ms
2025-01-22 01:12:41.938 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:12:41.941 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:12:41.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 107.709ms
2025-01-22 01:13:05.992 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:13:05.996 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:13:06.001 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:13:06.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 13.3652ms
2025-01-22 01:13:06.384 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:13:06.388 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:06.391 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.8337ms
2025-01-22 01:13:06.395 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:13:06.399 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:06.401 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:13:06.402 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:13:06.404 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:13:06.435 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:13:06.438 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:13:06.439 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:13:06.447 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:13:06.455 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 3
2025-01-22 01:13:06.456 +02:00 [INF] Successfully retrieved 3 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-22 01:13:06.458 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.6363ms.
2025-01-22 01:13:06.461 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:13:06.466 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 55.1366ms
2025-01-22 01:13:06.472 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:13:06.474 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:13:06.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 80.7171ms
2025-01-22 01:13:23.688 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 01:13:23.692 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:23.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.3426ms
2025-01-22 01:13:23.699 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-22 01:13:23.703 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:23.705 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:13:23.727 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 01:13:23.819 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 01:13:23.855 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 01:13:24.060 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 01:13:24.093 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 01:13:24.129 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 01:13:24.146 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 325.4759ms.
2025-01-22 01:13:24.152 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:13:24.169 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 435.899ms
2025-01-22 01:13:24.172 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:13:24.174 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 474.2526ms
2025-01-22 01:13:26.739 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 01:13:26.744 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:26.746 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.3304ms
2025-01-22 01:13:26.753 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 01:13:26.759 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:26.761 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 01:13:26.768 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:13:26.777 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:13:27.014 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-22 01:13:27.022 +02:00 [INF] Fetching all donators.
2025-01-22 01:13:27.026 +02:00 [INF] Fetching all donators.
2025-01-22 01:13:27.041 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:13:27.069 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:13:27.071 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.354ms.
2025-01-22 01:13:27.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:13:27.113 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 330.3445ms
2025-01-22 01:13:27.115 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:13:27.117 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:13:27.119 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 366.1915ms
2025-01-22 01:13:31.906 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 01:13:31.911 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:31.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 8.2505ms
2025-01-22 01:13:31.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 01:13:31.923 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:31.924 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 01:13:31.926 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 01:13:31.935 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:13:31.961 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByEmailAsync (project) - Validation state: "Valid"
2025-01-22 01:13:31.967 +02:00 [INF] Filtering donators by email.
2025-01-22 01:13:31.969 +02:00 [INF] Fetching all donators.
2025-01-22 01:13:31.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:13:31.979 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:13:31.982 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.6746ms.
2025-01-22 01:13:31.985 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:13:31.989 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 50.1887ms
2025-01-22 01:13:31.993 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 01:13:31.995 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:13:31.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 78.0207ms
2025-01-22 01:13:38.572 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-22 01:13:38.576 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:38.578 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 6.5395ms
2025-01-22 01:13:38.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 01:13:38.590 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:38.593 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 01:13:38.596 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 01:13:38.602 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:13:38.629 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-22 01:13:38.636 +02:00 [INF] Filtering donators by name.
2025-01-22 01:13:38.638 +02:00 [INF] Fetching all donators.
2025-01-22 01:13:38.641 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:13:38.645 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:13:38.647 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.9404ms.
2025-01-22 01:13:38.651 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:13:38.655 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 48.3842ms
2025-01-22 01:13:38.657 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 01:13:38.660 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:13:38.661 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 77.2288ms
2025-01-22 01:13:59.546 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/8 - null null
2025-01-22 01:13:59.579 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:59.581 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/8 - 204 null null 34.3435ms
2025-01-22 01:13:59.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/8 - application/json null
2025-01-22 01:13:59.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:13:59.594 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/8
2025-01-22 01:13:59.598 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 01:13:59.610 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 01:13:59.643 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:13:59.650 +02:00 [INF] Fetching donator with gifts for ID: 8
2025-01-22 01:13:59.653 +02:00 [INF] Fetching donator with ID: 8
2025-01-22 01:13:59.666 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 01:13:59.675 +02:00 [INF] Fetching gifts for donator ID: 8
2025-01-22 01:13:59.690 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 01:13:59.695 +02:00 [WRN] No gifts found for donator ID: 8
2025-01-22 01:13:59.697 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 8
2025-01-22 01:13:59.702 +02:00 [WRN] No gifts found for donator with ID 8.
2025-01-22 01:13:59.705 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.578ms.
2025-01-22 01:13:59.707 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:13:59.718 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 100.2304ms
2025-01-22 01:13:59.720 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 01:13:59.724 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:13:59.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/8 - 200 null application/json; charset=utf-8 137.3047ms
2025-01-22 01:14:08.347 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:14:08.352 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:08.355 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.1254ms
2025-01-22 01:14:08.364 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:14:08.368 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:08.373 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:08.380 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:14:08.410 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:14:08.416 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:14:08.419 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:08.4195867Z"
2025-01-22 01:14:08.424 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:08.4240118Z"
2025-01-22 01:14:08.491 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:14:08.497 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:08.4977909Z"
2025-01-22 01:14:08.499 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:08.4990848Z"
2025-01-22 01:14:08.501 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:14:08.503 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 88.2991ms.
2025-01-22 01:14:08.505 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:08.513 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 123.4636ms
2025-01-22 01:14:08.517 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:08.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 155.3212ms
2025-01-22 01:14:12.262 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 01:14:12.267 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:12.268 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.256ms
2025-01-22 01:14:12.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 01:14:12.277 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:12.286 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:12.294 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:14:12.328 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:14:12.332 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 01:14:12.338 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T23:14:12.3381491Z"
2025-01-22 01:14:12.396 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 01:14:12.401 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:14:12.4016475Z"
2025-01-22 01:14:12.402 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:14:12.404 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.2669ms.
2025-01-22 01:14:12.407 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:12.410 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 110.1093ms
2025-01-22 01:14:12.412 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:12.414 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 141.1204ms
2025-01-22 01:14:18.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:14:18.181 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:18.183 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:14:18.222 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:14:18.225 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:14:18.227 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:18.2274213Z"
2025-01-22 01:14:18.229 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:18.2296922Z"
2025-01-22 01:14:18.245 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:14:18.251 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:18.2511154Z"
2025-01-22 01:14:18.252 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:18.2529242Z"
2025-01-22 01:14:18.254 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:14:18.258 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.4393ms.
2025-01-22 01:14:18.260 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:18.264 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 77.6132ms
2025-01-22 01:14:18.268 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:18.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 93.1615ms
2025-01-22 01:14:18.516 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:14:18.522 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:18.524 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.1215ms
2025-01-22 01:14:18.532 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:14:18.537 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:18.539 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:18.546 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:14:18.574 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:14:18.577 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:14:18.578 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:18.5784577Z"
2025-01-22 01:14:18.580 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:18.5803880Z"
2025-01-22 01:14:18.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:14:18.592 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:18.5919883Z"
2025-01-22 01:14:18.594 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:18.5941140Z"
2025-01-22 01:14:18.596 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:14:18.599 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.7177ms.
2025-01-22 01:14:18.606 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:18.610 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 59.6621ms
2025-01-22 01:14:18.615 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:18.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 86.4578ms
2025-01-22 01:14:31.220 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 01:14:31.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:31.227 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.7785ms
2025-01-22 01:14:31.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 01:14:31.240 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:31.241 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:31.243 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:14:31.276 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:14:31.279 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 01:14:31.281 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T23:14:31.2817702Z"
2025-01-22 01:14:31.303 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 01:14:31.311 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:14:31.3117444Z"
2025-01-22 01:14:31.313 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:14:31.321 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.9543ms.
2025-01-22 01:14:31.325 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:31.331 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 82.9846ms
2025-01-22 01:14:31.338 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:31.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 107.6965ms
2025-01-22 01:14:46.941 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-22 01:14:46.947 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:46.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 8.4659ms
2025-01-22 01:14:46.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:14:46.966 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:46.969 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:46.972 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:14:47.014 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:14:47.018 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:14:47.019 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:14:47.0199248Z"
2025-01-22 01:14:47.043 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:14:47.049 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:14:47.0496082Z"
2025-01-22 01:14:47.051 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:14:47.055 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.3511ms.
2025-01-22 01:14:47.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:47.061 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 78.8041ms
2025-01-22 01:14:47.064 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:47.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 110.5225ms
2025-01-22 01:14:49.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:14:49.955 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:49.957 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:49.958 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:14:49.996 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:14:49.999 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:14:50.000 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:14:50.0009873Z"
2025-01-22 01:14:50.013 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:14:50.020 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:14:50.0205190Z"
2025-01-22 01:14:50.022 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:14:50.024 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8161ms.
2025-01-22 01:14:50.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:50.035 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.0547ms
2025-01-22 01:14:50.038 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:50.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 89.4135ms
2025-01-22 01:14:54.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:14:54.755 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:54.757 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:14:54.792 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:14:54.795 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:14:54.796 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:54.7966673Z"
2025-01-22 01:14:54.798 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:54.7989420Z"
2025-01-22 01:14:54.811 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:14:54.820 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:54.8206580Z"
2025-01-22 01:14:54.822 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:54.8229593Z"
2025-01-22 01:14:54.824 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:14:54.826 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8869ms.
2025-01-22 01:14:54.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:54.837 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 74.7267ms
2025-01-22 01:14:54.840 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:54.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 92.2965ms
2025-01-22 01:14:55.776 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:14:55.782 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:55.785 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.8883ms
2025-01-22 01:14:55.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:14:55.804 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:55.814 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:55.827 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:14:55.983 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:14:56.003 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:14:56.019 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:56.0192779Z"
2025-01-22 01:14:56.021 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:14:56.0218473Z"
2025-01-22 01:14:56.084 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:14:56.138 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:56.1380852Z"
2025-01-22 01:14:56.151 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:14:56.1517682Z"
2025-01-22 01:14:56.213 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:14:56.215 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 212.4677ms.
2025-01-22 01:14:56.220 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:56.224 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 387.4407ms
2025-01-22 01:14:56.229 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:14:56.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 438.8495ms
2025-01-22 01:14:56.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-22 01:14:56.877 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:56.879 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 7.4948ms
2025-01-22 01:14:56.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:14:56.891 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:14:56.893 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:56.895 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:14:56.956 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:14:56.959 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:14:56.962 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:14:56.9626021Z"
2025-01-22 01:14:56.979 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:14:56.987 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:14:56.9871636Z"
2025-01-22 01:14:56.988 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:14:56.991 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.2423ms.
2025-01-22 01:14:56.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:14:56.997 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 96.3837ms
2025-01-22 01:14:56.999 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:14:57.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 120.9388ms
2025-01-22 01:15:02.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:15:02.112 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:15:02.115 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:15:02.152 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:15:02.155 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:15:02.156 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:15:02.1567124Z"
2025-01-22 01:15:02.158 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:15:02.1584766Z"
2025-01-22 01:15:02.170 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:15:02.176 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:15:02.1760640Z"
2025-01-22 01:15:02.180 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:15:02.1807393Z"
2025-01-22 01:15:02.183 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:15:02.187 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.6811ms.
2025-01-22 01:15:02.191 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:02.197 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 76.2467ms
2025-01-22 01:15:02.201 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:15:02.205 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 96.6607ms
2025-01-22 01:15:02.553 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:15:02.560 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:02.562 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.6247ms
2025-01-22 01:15:02.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:15:02.580 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:02.584 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:15:02.590 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:15:02.635 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:15:02.637 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:15:02.639 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:15:02.6391038Z"
2025-01-22 01:15:02.640 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:15:02.6405387Z"
2025-01-22 01:15:02.643 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:15:02.651 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:15:02.6518673Z"
2025-01-22 01:15:02.653 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:15:02.6533775Z"
2025-01-22 01:15:02.655 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:15:02.656 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.5905ms.
2025-01-22 01:15:02.659 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:02.667 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 68.5347ms
2025-01-22 01:15:02.670 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:15:02.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 96.3784ms
2025-01-22 01:15:04.270 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-22 01:15:04.276 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:04.278 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 7.1138ms
2025-01-22 01:15:04.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:15:04.288 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:04.290 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:04.291 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:15:04.325 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:15:04.327 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:15:04.330 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:15:04.3304574Z"
2025-01-22 01:15:04.338 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:15:04.347 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:15:04.3473868Z"
2025-01-22 01:15:04.349 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:15:04.351 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.8092ms.
2025-01-22 01:15:04.354 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:04.359 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 58.4815ms
2025-01-22 01:15:04.362 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:04.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 80.5996ms
2025-01-22 01:15:07.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:15:07.433 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:07.435 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:07.436 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:15:07.460 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:15:07.464 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:15:07.465 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:15:07.4658641Z"
2025-01-22 01:15:07.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:15:07.476 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:15:07.4764429Z"
2025-01-22 01:15:07.478 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:15:07.480 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.1478ms.
2025-01-22 01:15:07.483 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:07.486 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 46.4666ms
2025-01-22 01:15:07.488 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:07.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 66.7914ms
2025-01-22 01:15:09.377 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 01:15:09.382 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:09.383 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 5.9352ms
2025-01-22 01:15:09.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 01:15:09.392 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:09.394 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:09.396 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:15:09.449 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:15:09.452 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 01:15:09.454 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T23:15:09.4546798Z"
2025-01-22 01:15:09.468 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 01:15:09.474 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:15:09.4742386Z"
2025-01-22 01:15:09.475 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:15:09.477 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.5101ms.
2025-01-22 01:15:09.484 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:09.488 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 84.9158ms
2025-01-22 01:15:09.490 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:09.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 104.1921ms
2025-01-22 01:15:10.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 01:15:10.470 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:15:10.472 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:10.473 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:15:10.512 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:15:10.515 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 01:15:10.517 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T23:15:10.5172460Z"
2025-01-22 01:15:10.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 01:15:10.529 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:15:10.5296287Z"
2025-01-22 01:15:10.531 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:15:10.533 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.7351ms.
2025-01-22 01:15:10.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:15:10.542 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 61.0988ms
2025-01-22 01:15:10.545 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:15:10.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 82.3226ms
2025-01-22 01:16:32.828 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:16:32.852 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:16:33.001 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:33.006 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:33.009 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:16:33.012 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:16:33.081 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:16:33.133 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:16:33.137 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:16:33.140 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:16:33.142 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:33.1423031Z"
2025-01-22 01:16:33.145 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:33.1452789Z"
2025-01-22 01:16:33.150 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:33.1503616Z"
2025-01-22 01:16:33.152 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:33.1525774Z"
2025-01-22 01:16:33.182 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:16:33.203 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:33.2034358Z"
2025-01-22 01:16:33.206 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:33.2063929Z"
2025-01-22 01:16:33.215 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:16:33.229 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.1747ms.
2025-01-22 01:16:33.235 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:16:33.237 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:16:33.239 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 214.4009ms
2025-01-22 01:16:33.246 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:33.2465823Z"
2025-01-22 01:16:33.249 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:33.252 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:33.2523454Z"
2025-01-22 01:16:33.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 425.9299ms
2025-01-22 01:16:33.258 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:16:33.270 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 129.808ms.
2025-01-22 01:16:33.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:16:33.286 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 196.1933ms
2025-01-22 01:16:33.297 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:33.300 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 447.8343ms
2025-01-22 01:16:34.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:16:34.121 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:16:34.123 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.0351ms
2025-01-22 01:16:34.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:16:34.141 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:16:34.146 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:34.149 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:16:34.221 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:16:34.226 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:16:34.231 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:34.2315803Z"
2025-01-22 01:16:34.234 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:16:34.2344663Z"
2025-01-22 01:16:34.256 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:16:34.271 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:34.2719111Z"
2025-01-22 01:16:34.274 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:16:34.2745525Z"
2025-01-22 01:16:34.282 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:16:34.287 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.1336ms.
2025-01-22 01:16:34.291 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:16:34.298 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 127.8946ms
2025-01-22 01:16:34.301 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:16:34.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 170.8843ms
2025-01-22 01:16:36.101 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-22 01:16:36.107 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:16:36.108 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 7.4397ms
2025-01-22 01:16:36.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:16:36.123 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:16:36.125 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:16:36.132 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:16:36.159 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:16:36.162 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-22 01:16:36.165 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T23:16:36.1651107Z"
2025-01-22 01:16:36.174 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:16:36.179 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:16:36.1797876Z"
2025-01-22 01:16:36.181 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:16:36.183 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.3506ms.
2025-01-22 01:16:36.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:16:36.188 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 51.3007ms
2025-01-22 01:16:36.194 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:16:36.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 78.6058ms
2025-01-22 01:17:06.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:17:06.751 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:06.754 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:17:06.802 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:17:06.807 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:17:06.810 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:06.8099899Z"
2025-01-22 01:17:06.812 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:06.8121653Z"
2025-01-22 01:17:06.826 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:17:06.831 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:06.8317088Z"
2025-01-22 01:17:06.833 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:06.8333199Z"
2025-01-22 01:17:06.836 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:17:06.843 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.7173ms.
2025-01-22 01:17:06.849 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:17:06.853 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 89.8807ms
2025-01-22 01:17:06.859 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:06.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 140.8812ms
2025-01-22 01:17:07.519 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:17:07.547 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:17:07.550 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 30.6488ms
2025-01-22 01:17:07.557 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:17:07.567 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:17:07.570 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:07.572 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:17:07.636 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:17:07.640 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:17:07.642 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:07.6427483Z"
2025-01-22 01:17:07.645 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:07.6454494Z"
2025-01-22 01:17:07.660 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:17:07.666 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:07.6667657Z"
2025-01-22 01:17:07.668 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:07.6687678Z"
2025-01-22 01:17:07.674 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:17:07.677 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.9388ms.
2025-01-22 01:17:07.682 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:17:07.689 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 104.8408ms
2025-01-22 01:17:07.694 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:07.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 139.8805ms
2025-01-22 01:17:15.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:17:15.710 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:15.713 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:17:15.755 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:17:15.757 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:17:15.759 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:15.7595793Z"
2025-01-22 01:17:15.761 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:15.7616406Z"
2025-01-22 01:17:15.771 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:17:15.778 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:15.7789112Z"
2025-01-22 01:17:15.780 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:15.7806333Z"
2025-01-22 01:17:15.782 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:17:15.784 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.8242ms.
2025-01-22 01:17:15.787 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:17:15.792 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 73.2147ms
2025-01-22 01:17:15.795 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:15.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 91.9608ms
2025-01-22 01:17:16.539 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:17:16.545 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:17:16.548 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.3467ms
2025-01-22 01:17:16.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:17:16.572 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:17:16.575 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:16.579 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:17:16.645 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:17:16.650 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:17:16.652 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:16.6527738Z"
2025-01-22 01:17:16.655 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:17:16.6550930Z"
2025-01-22 01:17:16.669 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:17:16.676 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:16.6759901Z"
2025-01-22 01:17:16.678 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:17:16.6782870Z"
2025-01-22 01:17:16.684 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:17:16.687 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.2268ms.
2025-01-22 01:17:16.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:17:16.700 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 109.9981ms
2025-01-22 01:17:16.703 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:17:16.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 143.0584ms
2025-01-22 01:18:40.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-22 01:18:40.101 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:18:40.103 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 39.5482ms
2025-01-22 01:18:40.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-22 01:18:40.113 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:18:40.115 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:18:40.119 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:18:40.148 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:19:58.253 +02:00 [INF] Starting up the application
2025-01-22 01:20:01.731 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 01:20:04.388 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 01:20:04.577 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 01:20:05.044 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 01:20:05.051 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 01:20:05.054 +02:00 [INF] Hosting environment: Development
2025-01-22 01:20:05.055 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 01:20:06.218 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 01:20:06.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 418.1265ms
2025-01-22 01:20:06.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 01:20:06.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.2289ms
2025-01-22 01:20:06.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 01:20:07.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 361.4027ms
2025-01-22 01:20:29.271 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:20:29.298 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 01:20:29.451 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:20:29.485 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:20:29.950 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:20:29.956 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:20:29.961 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:20:29.9606363Z"
2025-01-22 01:20:29.967 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:20:29.9675312Z"
2025-01-22 01:20:30.224 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:20:30.233 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:20:30.2332899Z"
2025-01-22 01:20:30.234 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:20:30.2348086Z"
2025-01-22 01:20:30.237 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:20:30.247 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 286.5664ms.
2025-01-22 01:20:30.266 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:20:30.327 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 831.558ms
2025-01-22 01:20:30.330 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:20:30.340 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 1068.2289ms
2025-01-22 01:20:31.316 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:20:31.347 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:20:31.384 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 67.8248ms
2025-01-22 01:20:31.434 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:20:31.452 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:20:31.621 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:20:31.625 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:20:31.727 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:20:31.733 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:20:31.735 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:20:31.7356344Z"
2025-01-22 01:20:31.744 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:20:31.7440734Z"
2025-01-22 01:20:31.783 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:20:31.788 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:20:31.7884292Z"
2025-01-22 01:20:31.789 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:20:31.7897234Z"
2025-01-22 01:20:31.791 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:20:31.794 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.3732ms.
2025-01-22 01:20:31.797 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:20:31.801 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 166.4652ms
2025-01-22 01:20:31.804 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:20:31.807 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 373.7357ms
2025-01-22 01:21:38.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:21:38.118 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:21:38.120 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:21:38.170 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:21:38.172 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:21:38.175 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:21:38.1750060Z"
2025-01-22 01:21:38.176 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:21:38.1765668Z"
2025-01-22 01:21:38.187 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:21:38.194 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:21:38.1945163Z"
2025-01-22 01:21:38.195 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:21:38.1956712Z"
2025-01-22 01:21:38.197 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:21:38.199 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.1023ms.
2025-01-22 01:21:38.201 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:21:38.204 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 78.7505ms
2025-01-22 01:21:38.210 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:21:38.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 127.4724ms
2025-01-22 01:21:38.652 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:21:38.662 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:38.667 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 15.0001ms
2025-01-22 01:21:38.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:21:38.704 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:38.707 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:21:38.713 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:21:38.754 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:21:38.756 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:21:38.758 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:21:38.7587236Z"
2025-01-22 01:21:38.760 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:21:38.7604514Z"
2025-01-22 01:21:38.773 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:21:38.780 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:21:38.7800558Z"
2025-01-22 01:21:38.781 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:21:38.7812792Z"
2025-01-22 01:21:38.782 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:21:38.784 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.7205ms.
2025-01-22 01:21:38.791 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:21:38.795 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 77.0081ms
2025-01-22 01:21:38.797 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:21:38.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 101.669ms
2025-01-22 01:21:43.738 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 01:21:43.743 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:43.745 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 6.3679ms
2025-01-22 01:21:43.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:21:43.753 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:43.763 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:43.782 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:21:43.832 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:21:43.837 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:21:43.843 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:21:43.8434865Z"
2025-01-22 01:21:43.894 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:21:43.900 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:21:43.9001028Z"
2025-01-22 01:21:43.902 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:21:43.905 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 69.5333ms.
2025-01-22 01:21:43.908 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:21:43.911 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 124.9818ms
2025-01-22 01:21:43.913 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:43.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 169.1292ms
2025-01-22 01:21:46.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:21:46.928 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:46.933 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:46.935 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:21:46.967 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:21:46.970 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:21:46.972 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:21:46.9727850Z"
2025-01-22 01:21:46.984 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:21:46.992 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:21:46.9926104Z"
2025-01-22 01:21:46.994 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:21:46.996 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.2428ms.
2025-01-22 01:21:46.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:21:47.001 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 63.24ms
2025-01-22 01:21:47.007 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:47.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 87.4754ms
2025-01-22 01:21:50.072 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 01:21:50.079 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:50.081 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 8.3526ms
2025-01-22 01:21:50.088 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 01:21:50.097 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:21:50.101 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:50.102 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:21:50.144 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:21:50.146 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 01:21:50.148 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T23:21:50.1481818Z"
2025-01-22 01:21:50.172 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 01:21:50.178 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:21:50.1788305Z"
2025-01-22 01:21:50.180 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:21:50.181 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.4132ms.
2025-01-22 01:21:50.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:21:50.187 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 80.1069ms
2025-01-22 01:21:50.194 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:21:50.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 108.6939ms
2025-01-22 01:22:37.419 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 01:22:37.439 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:22:37.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 23.3427ms
2025-01-22 01:22:37.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:22:37.470 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:22:37.475 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:22:37.477 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:22:37.518 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:22:37.521 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:22:37.524 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:22:37.5241714Z"
2025-01-22 01:22:37.538 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:22:37.544 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:22:37.5443778Z"
2025-01-22 01:22:37.545 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:22:37.547 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8797ms.
2025-01-22 01:22:37.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:22:37.556 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 74.9185ms
2025-01-22 01:22:37.559 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:22:37.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 94.9709ms
2025-01-22 01:23:00.838 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 01:23:00.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:00.861 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 22.742ms
2025-01-22 01:23:00.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:23:00.888 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:00.890 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:23:00.891 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:23:00.924 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:23:00.927 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:23:00.929 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:23:00.9295683Z"
2025-01-22 01:23:00.941 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:23:00.948 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:23:00.9484957Z"
2025-01-22 01:23:00.950 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:23:00.951 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.2342ms.
2025-01-22 01:23:00.954 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:23:00.958 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 63.2655ms
2025-01-22 01:23:00.963 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:23:00.967 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 82.3246ms
2025-01-22 01:23:03.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:23:03.007 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:23:03.009 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:23:03.054 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:23:03.057 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:23:03.060 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:23:03.0599517Z"
2025-01-22 01:23:03.063 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:23:03.0630255Z"
2025-01-22 01:23:03.080 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:23:03.086 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:23:03.0861383Z"
2025-01-22 01:23:03.087 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:23:03.0873935Z"
2025-01-22 01:23:03.089 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:23:03.092 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.3448ms.
2025-01-22 01:23:03.095 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:23:03.101 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 86.464ms
2025-01-22 01:23:03.103 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:23:03.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 105.9274ms
2025-01-22 01:23:03.417 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 01:23:03.422 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:03.425 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.3312ms
2025-01-22 01:23:03.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 01:23:03.458 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:03.463 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:23:03.465 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 01:23:03.500 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 01:23:03.502 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 01:23:03.504 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:23:03.5047314Z"
2025-01-22 01:23:03.506 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T23:23:03.5065199Z"
2025-01-22 01:23:03.522 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 01:23:03.527 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:23:03.5276289Z"
2025-01-22 01:23:03.529 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T23:23:03.5297654Z"
2025-01-22 01:23:03.531 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 01:23:03.536 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.6441ms.
2025-01-22 01:23:03.542 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:23:03.548 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 77.1005ms
2025-01-22 01:23:03.553 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 01:23:03.555 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 103.7799ms
2025-01-22 01:23:04.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:23:04.096 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:04.098 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:23:04.099 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:23:04.129 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:23:04.132 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:23:04.134 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:23:04.1343624Z"
2025-01-22 01:23:04.145 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:23:04.152 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:23:04.1524072Z"
2025-01-22 01:23:04.153 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:23:04.155 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.6612ms.
2025-01-22 01:23:04.159 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:23:04.161 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 57.8864ms
2025-01-22 01:23:04.165 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:23:04.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 76.1154ms
2025-01-22 01:23:26.858 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 01:23:26.863 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:26.864 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 5.4997ms
2025-01-22 01:23:26.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 01:23:26.873 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:23:26.875 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:23:26.876 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:23:26.910 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 01:23:26.914 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 01:23:46.875 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T23:23:46.8517830Z"
2025-01-22 01:24:33.454 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 01:24:34.467 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:24:34.4446115Z"
2025-01-22 01:24:47.289 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 01:24:51.517 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84602.7776ms.
2025-01-22 01:24:51.520 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:24:51.713 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 84834.0238ms
2025-01-22 01:24:51.716 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 01:24:51.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 84849.3821ms
2025-01-22 01:24:59.595 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:24:59.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:24:59.601 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.3604ms
2025-01-22 01:24:59.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:24:59.637 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:24:59.642 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:24:59.650 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:24:59.692 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:24:59.696 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:24:59.6967434Z"
2025-01-22 01:24:59.699 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:24:59.6992255Z"
2025-01-22 01:24:59.703 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:24:59.7035998Z"
2025-01-22 01:24:59.745 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:24:59.801 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:24:59.8015786Z"
2025-01-22 01:24:59.803 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:24:59.8038671Z"
2025-01-22 01:24:59.806 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:24:59.8064564Z"
2025-01-22 01:24:59.808 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 112.8155ms.
2025-01-22 01:24:59.812 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:24:59.821 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 161.2479ms
2025-01-22 01:24:59.825 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:24:59.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 199.805ms
2025-01-22 01:25:01.755 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:25:01.761 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:25:01.763 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.3031ms
2025-01-22 01:25:01.768 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 01:25:01.774 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:25:01.779 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:25:01.785 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:25:01.839 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:25:01.844 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T23:25:01.8443474Z"
2025-01-22 01:25:01.847 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T23:25:01.8478956Z"
2025-01-22 01:25:01.852 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T23:25:01.8523585Z"
2025-01-22 01:25:01.978 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:25:02.110 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:25:02.281 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 01:25:02.328 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T23:25:02.3285728Z"
2025-01-22 01:25:02.489 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:25:02.531 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:25:02.563 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T23:25:02.5637163Z"
2025-01-22 01:25:02.567 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T23:25:02.5670372Z"
2025-01-22 01:25:02.569 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 726.8378ms.
2025-01-22 01:25:02.573 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:25:02.592 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 797.698ms
2025-01-22 01:25:02.595 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:25:02.597 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 829.1777ms
2025-01-22 01:25:12.002 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:25:12.008 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:25:12.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.8887ms
2025-01-22 01:25:12.017 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 01:25:12.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:25:12.028 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:25:12.030 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:25:12.072 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:25:12.075 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T23:25:12.0755834Z"
2025-01-22 01:25:12.077 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T23:25:12.0777209Z"
2025-01-22 01:25:12.079 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T23:25:12.0795492Z"
2025-01-22 01:25:12.102 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:25:12.120 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:25:12.132 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T23:25:12.1327616Z"
2025-01-22 01:25:12.146 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:25:12.159 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:25:12.168 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T23:25:12.1682463Z"
2025-01-22 01:25:12.170 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T23:25:12.1708727Z"
2025-01-22 01:25:12.176 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.3757ms.
2025-01-22 01:25:12.180 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:25:12.183 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 145.3603ms
2025-01-22 01:25:12.186 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:25:12.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 176.1383ms
2025-01-22 01:26:34.805 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:26:34.835 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:26:34.838 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 32.7933ms
2025-01-22 01:26:34.871 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 01:26:34.878 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:26:34.880 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:26:34.882 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:26:34.931 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:26:34.935 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T23:26:34.9353494Z"
2025-01-22 01:26:34.937 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T23:26:34.9375628Z"
2025-01-22 01:26:34.939 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T23:26:34.9398586Z"
2025-01-22 01:26:34.961 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:26:34.981 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:26:34.992 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T23:26:34.9923575Z"
2025-01-22 01:26:35.000 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:26:35.015 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:26:35.025 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T23:26:35.0258621Z"
2025-01-22 01:26:35.030 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T23:26:35.0308406Z"
2025-01-22 01:26:35.033 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.6247ms.
2025-01-22 01:26:35.036 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:26:35.039 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 153.2758ms
2025-01-22 01:26:35.042 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:26:35.048 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 177.4652ms
2025-01-22 01:28:47.232 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:28:47.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:28:47.240 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.6141ms
2025-01-22 01:28:47.267 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 01:28:47.271 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:28:47.274 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:28:47.278 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:28:47.316 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:28:47.320 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T23:28:47.3208523Z"
2025-01-22 01:28:47.323 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T23:28:47.3238784Z"
2025-01-22 01:28:47.326 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T23:28:47.3263066Z"
2025-01-22 01:28:47.350 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:28:47.375 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:28:47.384 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T23:28:47.3842383Z"
2025-01-22 01:28:47.396 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:28:47.410 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:28:47.423 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner tre at "2025-01-21T23:28:47.4230371Z"
2025-01-22 01:28:47.425 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T23:28:47.4251285Z"
2025-01-22 01:28:47.426 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 106.1192ms.
2025-01-22 01:28:47.431 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:28:47.434 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 148.8213ms
2025-01-22 01:28:47.436 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:28:47.439 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 171.3223ms
2025-01-22 01:29:05.500 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 01:29:05.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 01:29:05.502 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 01:29:05.526 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:05.530 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:05.538 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 37.5115ms
2025-01-22 01:29:05.535 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:05.564 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 01:29:05.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 01:29:05.570 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 67.513ms
2025-01-22 01:29:05.578 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:05.580 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 01:29:05.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 01:29:05.584 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 01:29:05.683 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-22 01:29:05.686 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:05.700 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:29:05.722 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:29:05.732 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 01:29:05.790 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:29:05.801 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T23:29:05.8010214Z"
2025-01-22 01:29:05.807 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T23:29:05.8068624Z"
2025-01-22 01:29:05.812 +02:00 [INF] Successfully retrieved categories.
2025-01-22 01:29:05.815 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T23:29:05.8156107Z"
2025-01-22 01:29:05.815 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.087ms.
2025-01-22 01:29:05.816 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:29:05.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:29:05.837 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:29:05.845 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 247.6256ms
2025-01-22 01:29:05.845 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:29:05.851 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T23:29:05.8511842Z"
2025-01-22 01:29:05.854 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 01:29:05.897 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-22 01:29:05.897 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T23:29:05.8971407Z"
2025-01-22 01:29:05.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 381.6815ms
2025-01-22 01:29:05.905 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.4147ms.
2025-01-22 01:29:05.907 +02:00 [INF] Fetching all donators.
2025-01-22 01:29:05.915 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:29:05.923 +02:00 [INF] Fetching all donators.
2025-01-22 01:29:05.948 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:29:05.959 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 227.6583ms
2025-01-22 01:29:05.962 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:29:05.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 388.3615ms
2025-01-22 01:29:05.978 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:29:05.982 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.2285ms.
2025-01-22 01:29:05.987 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:29:05.995 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 134.8619ms
2025-01-22 01:29:06.001 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:29:06.005 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:29:06.008 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 440.2708ms
2025-01-22 01:29:14.224 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:29:14.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:14.230 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.91ms
2025-01-22 01:29:14.234 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 146
2025-01-22 01:29:14.240 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:14.242 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 01:29:14.254 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 01:29:14.323 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-22 01:29:14.328 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T23:29:14.3282318Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 01:29:14.341 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 3 at "2025-01-21T23:29:14.3416090Z"
2025-01-22 01:29:14.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:29:14.366 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [DonatorId] = @p0, [Price] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-01-22 01:29:14.376 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 3 at "2025-01-21T23:29:14.3759767Z"
2025-01-22 01:29:14.378 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T23:29:14.3784677Z"
2025-01-22 01:29:14.380 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.4761ms.
2025-01-22 01:29:14.382 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:29:14.391 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 130.2587ms
2025-01-22 01:29:14.394 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 01:29:14.396 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 161.6674ms
2025-01-22 01:29:14.496 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:29:14.502 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:14.506 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.0406ms
2025-01-22 01:29:14.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:29:14.518 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:14.521 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:29:14.523 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:29:14.556 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:29:14.558 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:29:14.5589612Z"
2025-01-22 01:29:14.560 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:29:14.5605504Z"
2025-01-22 01:29:14.562 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:29:14.5620868Z"
2025-01-22 01:29:14.574 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:29:14.579 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:29:14.5796618Z"
2025-01-22 01:29:14.581 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:29:14.5810309Z"
2025-01-22 01:29:14.582 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:29:14.5826206Z"
2025-01-22 01:29:14.584 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.2485ms.
2025-01-22 01:29:14.591 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:29:14.596 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 66.1683ms
2025-01-22 01:29:14.598 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:29:14.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 86.8927ms
2025-01-22 01:29:38.890 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 01:29:38.894 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:38.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 5.6877ms
2025-01-22 01:29:38.922 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 01:29:38.925 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:29:38.927 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 01:29:38.929 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 01:29:38.940 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 01:29:38.973 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportWinnersToExcel (project) - Validation state: "Valid"
2025-01-22 01:29:39.111 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 01:29:39.158 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 01:29:39.173 +02:00 [INF] Successfully fetched 2 gifts for 1 winners.
2025-01-22 01:29:39.804 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportWinnersToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 828.1023ms.
2025-01-22 01:29:39.809 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 01:29:39.823 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 879.1007ms
2025-01-22 01:29:39.826 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 01:29:39.830 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:29:39.833 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2731 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 910.6226ms
2025-01-22 01:30:02.875 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:30:02.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:02.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 24.8519ms
2025-01-22 01:30:02.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:30:02.929 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:02.931 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:30:02.933 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:02.939 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:30:02.969 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:30:02.976 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:02.979 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:02.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:30:03.006 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:03.009 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:03.011 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.2626ms.
2025-01-22 01:30:03.014 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:30:03.029 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 84.755ms
2025-01-22 01:30:03.032 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:03.038 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:30:03.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 114.4877ms
2025-01-22 01:30:04.783 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:30:04.788 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:04.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.716ms
2025-01-22 01:30:04.815 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 01:30:04.821 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:04.824 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:30:04.829 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 01:30:04.859 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:30:04.864 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T23:30:04.8644399Z"
2025-01-22 01:30:04.875 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 01:30:04.881 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:30:04.8818411Z"
2025-01-22 01:30:04.883 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:30:04.8831329Z"
2025-01-22 01:30:04.885 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:30:04.8853627Z"
2025-01-22 01:30:04.888 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.8799ms.
2025-01-22 01:30:04.891 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:30:04.898 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 61.9109ms
2025-01-22 01:30:04.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:30:04.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 89.4571ms
2025-01-22 01:30:25.808 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - null null
2025-01-22 01:30:25.829 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:25.831 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - 204 null null 22.459ms
2025-01-22 01:30:25.852 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 01:30:25.856 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:25.858 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:25.860 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:30:25.889 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:30:25.893 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T23:30:25.8932414Z"
2025-01-22 01:30:25.895 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:25.8957823Z"
2025-01-22 01:30:25.897 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:25.8976012Z"
2025-01-22 01:30:25.902 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:30:25.907 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T23:30:25.9072025Z"
2025-01-22 01:30:25.909 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T23:30:25.9093033Z"
2025-01-22 01:30:25.911 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.4054ms.
2025-01-22 01:30:25.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:30:25.921 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 56.6822ms
2025-01-22 01:30:25.923 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:25.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 72.9573ms
2025-01-22 01:30:25.953 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-22 01:30:25.956 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:25.958 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 4.7044ms
2025-01-22 01:30:25.966 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 01:30:25.971 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:25.973 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:30:25.978 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:25.985 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:30:26.103 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:30:26.108 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 01:30:26.109 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:30:26.113 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:30:26.115 +02:00 [INF] Parsing token...
2025-01-22 01:30:26.117 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:30:26.155 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:30:26.164 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:30:26.268 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:30:26.484 +02:00 [ERR] Error occurred while adding Gift 15 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:30:26.491 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 385.2721ms.
2025-01-22 01:30:26.494 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:30:26.497 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 508.9283ms
2025-01-22 01:30:26.500 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:26.502 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:30:26.503 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 500 null application/json; charset=utf-8 537.6127ms
2025-01-22 01:30:27.295 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 01:30:27.299 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:27.302 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:27.304 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:30:27.334 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:30:27.337 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T23:30:27.3374941Z"
2025-01-22 01:30:27.339 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:27.3392455Z"
2025-01-22 01:30:27.340 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:27.3409928Z"
2025-01-22 01:30:27.345 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:30:27.352 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T23:30:27.3525305Z"
2025-01-22 01:30:27.354 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T23:30:27.3549400Z"
2025-01-22 01:30:27.357 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.5289ms.
2025-01-22 01:30:27.360 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:30:27.362 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 54.1211ms
2025-01-22 01:30:27.369 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:27.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 76.4872ms
2025-01-22 01:30:27.377 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 01:30:27.385 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:27.388 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:30:27.390 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:27.392 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:30:27.469 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:30:27.471 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 01:30:27.473 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:30:27.475 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:30:27.476 +02:00 [INF] Parsing token...
2025-01-22 01:30:27.478 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:30:27.485 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:30:27.494 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:30:27.549 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:30:27.672 +02:00 [ERR] Error occurred while adding Gift 15 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:30:27.678 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 207.1208ms.
2025-01-22 01:30:27.682 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:30:27.686 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 286.037ms
2025-01-22 01:30:27.689 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:27.691 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:30:27.692 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 500 null application/json; charset=utf-8 314.9191ms
2025-01-22 01:30:28.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 01:30:28.540 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:28.544 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:28.546 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:30:28.575 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:30:28.578 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T23:30:28.5789678Z"
2025-01-22 01:30:28.581 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:28.5815906Z"
2025-01-22 01:30:28.584 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:28.5843285Z"
2025-01-22 01:30:28.593 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:30:28.597 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T23:30:28.5978769Z"
2025-01-22 01:30:28.599 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T23:30:28.5993785Z"
2025-01-22 01:30:28.601 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.634ms.
2025-01-22 01:30:28.608 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:30:28.611 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 59.3382ms
2025-01-22 01:30:28.613 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:28.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 79.2645ms
2025-01-22 01:30:28.624 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 01:30:28.627 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:28.629 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:30:28.630 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:28.632 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:30:28.711 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:30:28.714 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 01:30:28.716 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:30:28.717 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:30:28.718 +02:00 [INF] Parsing token...
2025-01-22 01:30:28.720 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:30:28.724 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:30:28.733 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:30:28.794 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:30:28.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 01:30:28.910 +02:00 [ERR] Error occurred while adding Gift 15 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:30:28.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:28.922 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 208.4914ms.
2025-01-22 01:30:28.924 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:28.927 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:30:28.929 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:30:28.931 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 291.8162ms
2025-01-22 01:30:28.971 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:30:28.974 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:28.976 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T23:30:28.9765123Z"
2025-01-22 01:30:28.978 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:30:28.980 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:28.9806859Z"
2025-01-22 01:30:28.984 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 500 null application/json; charset=utf-8 360.8344ms
2025-01-22 01:30:28.987 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:28.9877683Z"
2025-01-22 01:30:28.998 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:30:29.005 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T23:30:29.0059477Z"
2025-01-22 01:30:29.007 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T23:30:29.0076896Z"
2025-01-22 01:30:29.009 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.961ms.
2025-01-22 01:30:29.012 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:30:29.016 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 77.3407ms
2025-01-22 01:30:29.020 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:29.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 139.2272ms
2025-01-22 01:30:29.027 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 01:30:29.032 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:29.035 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:30:29.037 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:29.039 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:30:29.101 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:30:29.104 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 01:30:29.106 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:30:29.108 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:30:29.109 +02:00 [INF] Parsing token...
2025-01-22 01:30:29.111 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:30:29.116 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:30:29.121 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:30:29.178 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:30:29.297 +02:00 [ERR] Error occurred while adding Gift 15 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:30:29.304 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 199.3656ms.
2025-01-22 01:30:29.306 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:30:29.309 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 266.4006ms
2025-01-22 01:30:29.312 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:29.313 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:30:29.319 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 500 null application/json; charset=utf-8 291.657ms
2025-01-22 01:30:29.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-22 01:30:29.644 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:29.646 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:29.648 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:30:29.700 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:30:29.703 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T23:30:29.7034085Z"
2025-01-22 01:30:29.705 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:29.7054001Z"
2025-01-22 01:30:29.707 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T23:30:29.7071394Z"
2025-01-22 01:30:29.711 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:30:29.716 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T23:30:29.7162957Z"
2025-01-22 01:30:29.717 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T23:30:29.7179719Z"
2025-01-22 01:30:29.719 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4231ms.
2025-01-22 01:30:29.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:30:29.728 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 75.7333ms
2025-01-22 01:30:29.731 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:30:29.733 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 92.8516ms
2025-01-22 01:30:29.738 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-22 01:30:29.744 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:29.746 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:30:29.748 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:29.750 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:30:29.829 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:30:29.834 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-22 01:30:29.836 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:30:29.837 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:30:29.839 +02:00 [INF] Parsing token...
2025-01-22 01:30:29.840 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:30:29.846 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:30:29.858 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:30:29.921 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:30:30.045 +02:00 [ERR] Error occurred while adding Gift 15 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:30:30.052 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 218.1887ms.
2025-01-22 01:30:30.055 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:30:30.057 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 300.8252ms
2025-01-22 01:30:30.059 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:30:30.061 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:30:30.063 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 500 null application/json; charset=utf-8 325.3289ms
2025-01-22 01:30:31.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:30:31.634 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:31.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.5425ms
2025-01-22 01:30:31.644 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:30:31.648 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:31.655 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:30:31.658 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:31.660 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:30:31.687 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:30:31.690 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:31.692 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:31.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:30:31.703 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:31.705 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:31.707 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.3378ms.
2025-01-22 01:30:31.709 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:30:31.712 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 47.8279ms
2025-01-22 01:30:31.719 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:31.721 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:30:31.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 80.3656ms
2025-01-22 01:30:51.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:30:51.021 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:30:51.023 +02:00 [WRN] Missing Authorization Header
2025-01-22 01:30:51.026 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.7387ms
2025-01-22 01:30:51.459 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:30:51.464 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:51.466 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.0939ms
2025-01-22 01:30:51.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:30:51.482 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:51.485 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:30:51.488 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:51.489 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:30:51.535 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:30:51.539 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:51.541 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:51.548 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:30:51.553 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:51.555 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:30:51.560 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.2835ms.
2025-01-22 01:30:51.565 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:30:51.567 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 68.0946ms
2025-01-22 01:30:51.570 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:30:51.575 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:30:51.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 102.6237ms
2025-01-22 01:30:53.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:30:53.763 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:53.765 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.3641ms
2025-01-22 01:30:53.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:30:53.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:30:53.780 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:30:53.782 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:30:53.828 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:30:53.835 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:30:53.8354820Z"
2025-01-22 01:30:53.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:30:53.8393269Z"
2025-01-22 01:30:53.841 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:30:53.8416976Z"
2025-01-22 01:30:53.856 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:30:53.861 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:30:53.8610906Z"
2025-01-22 01:30:53.862 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:30:53.8623536Z"
2025-01-22 01:30:53.863 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:30:53.8638444Z"
2025-01-22 01:30:53.865 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.0732ms.
2025-01-22 01:30:53.873 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:30:53.877 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 86.4528ms
2025-01-22 01:30:53.879 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:30:53.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 106.4573ms
2025-01-22 01:31:15.923 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:31:15.927 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:31:15.929 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 5.8956ms
2025-01-22 01:31:15.934 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:31:15.939 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:31:15.941 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:31:15.943 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:31:15.977 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:31:15.980 +02:00 [INF] Starting LotteryAsync for Gift ID 15 at "2025-01-21T23:31:15.9806049Z"
2025-01-22 01:31:15.982 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 15 at "2025-01-21T23:31:15.9824222Z"
2025-01-22 01:31:15.984 +02:00 [INF] Fetching Gift with participants for Gift ID 15 at "2025-01-21T23:31:15.9848188Z"
2025-01-22 01:31:16.002 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:31:16.019 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:31:16.034 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 01:31:16.041 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 15 at "2025-01-21T23:31:16.0418631Z"
2025-01-22 01:31:16.048 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:31:16.060 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:31:16.065 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 15 with Winner tre at "2025-01-21T23:31:16.0651245Z"
2025-01-22 01:31:16.067 +02:00 [INF] LotteryAsync completed successfully for Gift ID 15 at "2025-01-21T23:31:16.0672422Z"
2025-01-22 01:31:16.074 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 93.5877ms.
2025-01-22 01:31:16.077 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:31:16.080 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 128.1509ms
2025-01-22 01:31:16.086 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:31:16.089 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 155.024ms
2025-01-22 01:31:26.458 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:31:26.462 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:31:26.470 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:31:26.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 13.7428ms
2025-01-22 01:31:27.075 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:31:27.092 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:31:27.097 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 22.7318ms
2025-01-22 01:31:27.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:31:27.136 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:31:27.140 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:31:27.148 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:31:27.240 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:31:27.246 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:31:27.2466614Z"
2025-01-22 01:31:27.252 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:31:27.2521038Z"
2025-01-22 01:31:27.255 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:31:27.2549589Z"
2025-01-22 01:31:27.280 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:31:27.290 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:31:27.2907136Z"
2025-01-22 01:31:27.293 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:31:27.2933239Z"
2025-01-22 01:31:27.299 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:31:27.2993743Z"
2025-01-22 01:31:27.309 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 62.5159ms.
2025-01-22 01:31:27.320 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:31:27.325 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 162.3839ms
2025-01-22 01:31:27.331 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:31:27.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 215.4009ms
2025-01-22 01:32:33.762 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:33.839 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:33.842 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:33.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 81.5405ms
2025-01-22 01:32:34.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:34.498 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:34.502 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 39.6959ms
2025-01-22 01:32:34.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:34.525 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:34.527 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:34.530 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:34.584 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:34.587 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:34.5874757Z"
2025-01-22 01:32:34.589 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:34.5898330Z"
2025-01-22 01:32:34.592 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:34.5923423Z"
2025-01-22 01:32:34.614 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:34.621 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:34.6219408Z"
2025-01-22 01:32:34.623 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:34.6238680Z"
2025-01-22 01:32:34.626 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:34.6261762Z"
2025-01-22 01:32:34.628 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 40.9359ms.
2025-01-22 01:32:34.638 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:34.641 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 100.5794ms
2025-01-22 01:32:34.646 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:34.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 138.1845ms
2025-01-22 01:32:35.590 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:35.596 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:35.598 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:35.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.4106ms
2025-01-22 01:32:36.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:36.218 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:36.219 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:36.221 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:36.254 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:36.256 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:36.2567596Z"
2025-01-22 01:32:36.258 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:36.2588005Z"
2025-01-22 01:32:36.260 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:36.2609516Z"
2025-01-22 01:32:36.265 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:36.272 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:36.2726235Z"
2025-01-22 01:32:36.274 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:36.2742224Z"
2025-01-22 01:32:36.276 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:36.2762524Z"
2025-01-22 01:32:36.278 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.3955ms.
2025-01-22 01:32:36.281 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:36.288 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 63.3753ms
2025-01-22 01:32:36.291 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:36.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 80.7083ms
2025-01-22 01:32:43.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:43.740 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:43.742 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:43.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 16.2253ms
2025-01-22 01:32:44.043 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:44.047 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:44.050 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.1998ms
2025-01-22 01:32:44.059 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:44.064 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:44.066 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:44.073 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:44.120 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:44.123 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:44.1231190Z"
2025-01-22 01:32:44.125 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:44.1255364Z"
2025-01-22 01:32:44.128 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:44.1278669Z"
2025-01-22 01:32:44.141 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:44.147 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:44.1475920Z"
2025-01-22 01:32:44.149 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:44.1499074Z"
2025-01-22 01:32:44.151 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:44.1518816Z"
2025-01-22 01:32:44.153 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.5671ms.
2025-01-22 01:32:44.156 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:44.161 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 81.8834ms
2025-01-22 01:32:44.164 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:44.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 108.9231ms
2025-01-22 01:32:46.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:46.607 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:46.610 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:46.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1601ms
2025-01-22 01:32:47.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:47.939 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:47.942 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:47.944 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:47.997 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:48.000 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:48.0007500Z"
2025-01-22 01:32:48.003 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:48.0030737Z"
2025-01-22 01:32:48.005 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:48.0053005Z"
2025-01-22 01:32:48.023 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:48.032 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:48.0324204Z"
2025-01-22 01:32:48.034 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:48.0345458Z"
2025-01-22 01:32:48.036 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:48.0362623Z"
2025-01-22 01:32:48.037 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.1202ms.
2025-01-22 01:32:48.041 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:48.048 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 95.2056ms
2025-01-22 01:32:48.051 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:48.054 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 120.045ms
2025-01-22 01:32:52.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:52.620 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:52.623 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:52.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.5395ms
2025-01-22 01:32:52.914 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:52.919 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:52.921 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.3118ms
2025-01-22 01:32:52.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:52.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:52.934 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:52.937 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:52.979 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:52.982 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:52.9827547Z"
2025-01-22 01:32:52.985 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:52.9851536Z"
2025-01-22 01:32:52.987 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:52.9873216Z"
2025-01-22 01:32:52.999 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:53.007 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:53.0071703Z"
2025-01-22 01:32:53.008 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:53.0085593Z"
2025-01-22 01:32:53.010 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:53.0101808Z"
2025-01-22 01:32:53.011 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.0719ms.
2025-01-22 01:32:53.014 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:53.017 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 72.922ms
2025-01-22 01:32:53.023 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:53.024 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 96.843ms
2025-01-22 01:32:56.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:32:56.642 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:32:56.644 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:32:56.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1902ms
2025-01-22 01:32:56.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:32:56.920 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:32:56.923 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:56.924 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:32:56.962 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:32:56.964 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:56.9649028Z"
2025-01-22 01:32:56.966 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:56.9669366Z"
2025-01-22 01:32:56.969 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:32:56.9691952Z"
2025-01-22 01:32:56.980 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:32:56.986 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:56.9867637Z"
2025-01-22 01:32:56.988 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:56.9882216Z"
2025-01-22 01:32:56.989 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:32:56.9898062Z"
2025-01-22 01:32:56.991 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.5272ms.
2025-01-22 01:32:56.996 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:32:57.000 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 71.8436ms
2025-01-22 01:32:57.003 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:32:57.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 90.6631ms
2025-01-22 01:33:15.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:15.864 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:15.891 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:15.895 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 36.2274ms
2025-01-22 01:33:16.397 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:16.401 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:16.404 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.7462ms
2025-01-22 01:33:16.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:16.415 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:16.418 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:16.422 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:16.459 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:16.463 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:16.4631498Z"
2025-01-22 01:33:16.466 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:16.4662553Z"
2025-01-22 01:33:16.469 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:16.4698015Z"
2025-01-22 01:33:16.486 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:16.494 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:16.4940190Z"
2025-01-22 01:33:16.495 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:16.4957419Z"
2025-01-22 01:33:16.504 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:16.5049099Z"
2025-01-22 01:33:16.507 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 44.2812ms.
2025-01-22 01:33:16.511 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:16.521 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 93.3779ms
2025-01-22 01:33:16.525 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:16.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 130.6948ms
2025-01-22 01:33:18.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:18.654 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:18.656 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:18.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.0034ms
2025-01-22 01:33:19.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:19.010 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:19.012 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:19.014 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:19.056 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:19.060 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:19.0603144Z"
2025-01-22 01:33:19.062 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:19.0622839Z"
2025-01-22 01:33:19.064 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:19.0643671Z"
2025-01-22 01:33:19.080 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:19.088 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:19.0880529Z"
2025-01-22 01:33:19.089 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:19.0897117Z"
2025-01-22 01:33:19.096 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:19.0960809Z"
2025-01-22 01:33:19.100 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.7591ms.
2025-01-22 01:33:19.104 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:19.110 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 91.2873ms
2025-01-22 01:33:19.114 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:19.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 112.1928ms
2025-01-22 01:33:24.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:24.651 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:24.654 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:24.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.7599ms
2025-01-22 01:33:25.012 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:25.020 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:25.023 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.2454ms
2025-01-22 01:33:25.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:25.044 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:25.051 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:25.053 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:25.104 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:25.108 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:25.1087151Z"
2025-01-22 01:33:25.110 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:25.1109779Z"
2025-01-22 01:33:25.112 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:25.1127780Z"
2025-01-22 01:33:25.126 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:25.132 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:25.1325800Z"
2025-01-22 01:33:25.134 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:25.1341592Z"
2025-01-22 01:33:25.135 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:25.1358189Z"
2025-01-22 01:33:25.137 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.6746ms.
2025-01-22 01:33:25.143 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:25.146 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 87.1174ms
2025-01-22 01:33:25.149 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:25.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 115.746ms
2025-01-22 01:33:26.721 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:26.726 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:26.733 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:26.735 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 13.8861ms
2025-01-22 01:33:27.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:27.202 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:27.204 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:27.206 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:27.269 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:27.274 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:27.2744575Z"
2025-01-22 01:33:27.277 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:27.2777496Z"
2025-01-22 01:33:27.281 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:27.2810208Z"
2025-01-22 01:33:27.316 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:27.327 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:27.3270657Z"
2025-01-22 01:33:27.329 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:27.3291712Z"
2025-01-22 01:33:27.334 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:27.3346782Z"
2025-01-22 01:33:27.345 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 70.9394ms.
2025-01-22 01:33:27.350 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:27.354 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 143.495ms
2025-01-22 01:33:27.360 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:27.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 169.7829ms
2025-01-22 01:33:29.137 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:29.141 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:29.144 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:29.146 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.5565ms
2025-01-22 01:33:29.479 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:29.484 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:29.487 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:29.489 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:29.549 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:29.554 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:29.5542198Z"
2025-01-22 01:33:29.557 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:29.5570384Z"
2025-01-22 01:33:29.558 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:29.5588554Z"
2025-01-22 01:33:29.573 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:29.578 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:29.5783988Z"
2025-01-22 01:33:29.579 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:29.5797966Z"
2025-01-22 01:33:29.581 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:29.5813524Z"
2025-01-22 01:33:29.586 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.5716ms.
2025-01-22 01:33:29.591 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:29.594 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 96.5232ms
2025-01-22 01:33:29.596 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:29.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 119.6775ms
2025-01-22 01:33:38.578 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:38.582 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:33:38.585 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:33:38.587 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.7426ms
2025-01-22 01:33:38.849 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:33:38.855 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:38.857 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.6508ms
2025-01-22 01:33:38.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:33:38.868 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:33:38.872 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:38.875 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:33:38.916 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:33:38.920 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:38.9203876Z"
2025-01-22 01:33:38.921 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:38.9218712Z"
2025-01-22 01:33:38.923 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:33:38.9233288Z"
2025-01-22 01:33:38.935 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:33:38.942 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:38.9424077Z"
2025-01-22 01:33:38.944 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:38.9441995Z"
2025-01-22 01:33:38.948 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:33:38.9488415Z"
2025-01-22 01:33:38.952 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.6417ms.
2025-01-22 01:33:38.955 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:33:38.958 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 75.9273ms
2025-01-22 01:33:38.960 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:33:38.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 100.4761ms
2025-01-22 01:34:04.909 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=%D7%A9%D7%93 - null null
2025-01-22 01:34:04.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:34:04.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=%D7%A9%D7%93 - 204 null null 5.7966ms
2025-01-22 01:34:04.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=%D7%A9%D7%93 - application/json null
2025-01-22 01:34:04.945 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:34:04.947 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 01:34:04.960 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 01:34:05.018 +02:00 [INF] Executing action method project.Controllers.GiftController.SearchAsync (project) - Validation state: "Valid"
2025-01-22 01:34:05.023 +02:00 [INF] Starting SearchAsync with text 'שד' at "2025-01-21T23:34:05.0235636Z"
2025-01-22 01:34:05.026 +02:00 [INF] Starting SearchAsync with text 'שד' at "2025-01-21T23:34:05.0260418Z"
2025-01-22 01:34:05.030 +02:00 [INF] Starting SearchAsync with text 'שד' at "2025-01-21T23:34:05.0307938Z"
2025-01-22 01:34:05.098 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 01:34:05.106 +02:00 [INF] SearchAsync completed successfully with text 'שד' at "2025-01-21T23:34:05.1060710Z"
2025-01-22 01:34:05.107 +02:00 [INF] SearchAsync completed successfully with text 'שד' at "2025-01-21T23:34:05.1077912Z"
2025-01-22 01:34:05.109 +02:00 [INF] SearchAsync completed successfully with text 'שד' at "2025-01-21T23:34:05.1096006Z"
2025-01-22 01:34:05.111 +02:00 [INF] Executed action method project.Controllers.GiftController.SearchAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.1806ms.
2025-01-22 01:34:05.114 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:34:05.117 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 149.1922ms
2025-01-22 01:34:05.123 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 01:34:05.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=%D7%A9%D7%93 - 200 null application/json; charset=utf-8 184.3776ms
2025-01-22 01:35:03.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:35:03.818 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:35:03.829 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:35:03.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 40.6416ms
2025-01-22 01:35:04.201 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:35:04.205 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:35:04.208 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.1112ms
2025-01-22 01:35:04.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:35:04.240 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:35:04.245 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:04.247 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:35:04.280 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:35:04.283 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:04.2834965Z"
2025-01-22 01:35:04.285 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:04.2852301Z"
2025-01-22 01:35:04.286 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:04.2867833Z"
2025-01-22 01:35:04.301 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:35:04.310 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:04.3107604Z"
2025-01-22 01:35:04.312 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:04.3125372Z"
2025-01-22 01:35:04.315 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:04.3151258Z"
2025-01-22 01:35:04.321 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.6067ms.
2025-01-22 01:35:04.326 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:35:04.330 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 76.1895ms
2025-01-22 01:35:04.336 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:04.338 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 102.4167ms
2025-01-22 01:35:55.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:35:55.152 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:35:55.157 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:35:55.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 50.6951ms
2025-01-22 01:35:55.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:35:55.741 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:35:55.743 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.1754ms
2025-01-22 01:35:55.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:35:55.757 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:35:55.761 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:55.764 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:35:55.813 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:35:55.817 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:55.8176561Z"
2025-01-22 01:35:55.819 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:55.8197322Z"
2025-01-22 01:35:55.822 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:55.8221231Z"
2025-01-22 01:35:55.838 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:35:55.842 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:55.8429729Z"
2025-01-22 01:35:55.844 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:55.8444100Z"
2025-01-22 01:35:55.851 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:55.8511283Z"
2025-01-22 01:35:55.853 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.0806ms.
2025-01-22 01:35:55.858 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:35:55.861 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 89.1329ms
2025-01-22 01:35:55.870 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:55.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 124.002ms
2025-01-22 01:35:57.481 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:35:57.486 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:35:57.488 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:35:57.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.2413ms
2025-01-22 01:35:57.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:35:57.772 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:35:57.774 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:57.777 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:35:57.828 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:35:57.830 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:57.8308951Z"
2025-01-22 01:35:57.832 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:57.8325105Z"
2025-01-22 01:35:57.834 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:35:57.8346125Z"
2025-01-22 01:35:57.849 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:35:57.857 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:57.8574840Z"
2025-01-22 01:35:57.858 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:57.8588001Z"
2025-01-22 01:35:57.860 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:35:57.8602639Z"
2025-01-22 01:35:57.861 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.8374ms.
2025-01-22 01:35:57.865 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:35:57.868 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 81.7938ms
2025-01-22 01:35:57.871 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:35:57.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 105.49ms
2025-01-22 01:36:15.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:15.582 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:36:15.586 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:36:15.588 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 29.06ms
2025-01-22 01:36:15.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:15.877 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:15.880 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.4237ms
2025-01-22 01:36:15.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:36:15.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:15.895 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:15.905 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:36:15.952 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:36:15.955 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:15.9558347Z"
2025-01-22 01:36:15.957 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:15.9573760Z"
2025-01-22 01:36:15.959 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:15.9590802Z"
2025-01-22 01:36:15.971 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:36:15.980 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:15.9803637Z"
2025-01-22 01:36:15.982 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:15.9825734Z"
2025-01-22 01:36:15.984 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:15.9849207Z"
2025-01-22 01:36:15.987 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.0561ms.
2025-01-22 01:36:15.990 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:36:15.995 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 84.0213ms
2025-01-22 01:36:15.998 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:16.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 112.3347ms
2025-01-22 01:36:35.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:35.322 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:36:35.325 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:36:35.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.8214ms
2025-01-22 01:36:35.687 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:35.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:35.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.9226ms
2025-01-22 01:36:35.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:36:35.704 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:35.706 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:35.710 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:36:35.751 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:36:35.755 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:35.7550225Z"
2025-01-22 01:36:35.756 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:35.7568382Z"
2025-01-22 01:36:35.758 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:35.7582887Z"
2025-01-22 01:36:35.770 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:36:35.776 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:35.7765114Z"
2025-01-22 01:36:35.777 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:35.7776903Z"
2025-01-22 01:36:35.779 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:35.7791329Z"
2025-01-22 01:36:35.781 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.3019ms.
2025-01-22 01:36:35.787 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:36:35.790 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 73.3321ms
2025-01-22 01:36:35.793 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:35.795 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 95.9766ms
2025-01-22 01:36:48.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:48.613 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:36:48.619 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:36:48.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 46.8607ms
2025-01-22 01:36:49.017 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:49.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:49.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.638ms
2025-01-22 01:36:49.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:36:49.043 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:49.047 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:49.049 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:36:49.081 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:36:49.085 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:49.0857089Z"
2025-01-22 01:36:49.087 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:49.0872718Z"
2025-01-22 01:36:49.089 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:49.0891988Z"
2025-01-22 01:36:49.100 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:36:49.108 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:49.1082776Z"
2025-01-22 01:36:49.110 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:49.1106263Z"
2025-01-22 01:36:49.114 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:49.1142066Z"
2025-01-22 01:36:49.116 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.5945ms.
2025-01-22 01:36:49.119 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:36:49.124 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 70.3849ms
2025-01-22 01:36:49.126 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:49.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 91.7781ms
2025-01-22 01:36:50.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:36:50.889 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:36:50.891 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:36:50.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.1195ms
2025-01-22 01:36:51.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:36:51.191 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:36:51.193 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:51.194 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:36:51.228 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:36:51.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:51.2331399Z"
2025-01-22 01:36:51.234 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:51.2348258Z"
2025-01-22 01:36:51.236 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:36:51.2364352Z"
2025-01-22 01:36:51.247 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:36:51.252 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:51.2520709Z"
2025-01-22 01:36:51.253 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:51.2533290Z"
2025-01-22 01:36:51.254 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:36:51.2547483Z"
2025-01-22 01:36:51.256 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.049ms.
2025-01-22 01:36:51.260 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:36:51.264 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 64.8065ms
2025-01-22 01:36:51.266 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:36:51.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 81.6918ms
2025-01-22 01:37:00.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:37:00.813 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:37:00.816 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:37:00.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 24.0133ms
2025-01-22 01:37:01.088 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:37:01.092 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:37:01.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.2674ms
2025-01-22 01:37:01.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:37:01.117 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:37:01.119 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:37:01.123 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:37:01.161 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:37:01.164 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:37:01.1642484Z"
2025-01-22 01:37:01.165 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:37:01.1659433Z"
2025-01-22 01:37:01.167 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:37:01.1678400Z"
2025-01-22 01:37:01.177 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:37:01.183 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:37:01.1833968Z"
2025-01-22 01:37:01.184 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:37:01.1847617Z"
2025-01-22 01:37:01.186 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:37:01.1864233Z"
2025-01-22 01:37:01.187 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.6341ms.
2025-01-22 01:37:01.192 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:37:01.195 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 67.0834ms
2025-01-22 01:37:01.197 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:37:01.199 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 91.0557ms
2025-01-22 01:38:21.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:38:21.092 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:38:21.097 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:38:21.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 30.8002ms
2025-01-22 01:38:21.407 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:38:21.433 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:21.435 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 28.6711ms
2025-01-22 01:38:21.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:38:21.449 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:21.451 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:38:21.453 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:38:21.500 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:38:21.502 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:38:21.5027686Z"
2025-01-22 01:38:21.504 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:38:21.5047137Z"
2025-01-22 01:38:21.506 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:38:21.5065945Z"
2025-01-22 01:38:21.517 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:38:21.524 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:38:21.5244618Z"
2025-01-22 01:38:21.525 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:38:21.5258334Z"
2025-01-22 01:38:21.527 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:38:21.5274831Z"
2025-01-22 01:38:21.530 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.2301ms.
2025-01-22 01:38:21.533 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:38:21.536 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 73.4333ms
2025-01-22 01:38:21.542 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:38:21.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 99.8373ms
2025-01-22 01:38:45.694 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 01:38:45.714 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:45.716 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 22.0358ms
2025-01-22 01:38:45.720 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-22 01:38:45.724 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:45.726 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:38:45.736 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 01:38:45.776 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 01:38:45.808 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 01:38:46.016 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 01:38:46.047 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 01:38:46.077 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 01:38:46.091 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 312.3505ms.
2025-01-22 01:38:46.095 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:38:46.101 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 361.2561ms
2025-01-22 01:38:46.105 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:38:46.107 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 386.8247ms
2025-01-22 01:38:48.335 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:38:48.340 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:48.342 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.3238ms
2025-01-22 01:38:48.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 01:38:48.351 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:48.356 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:38:48.358 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 01:38:48.397 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:38:48.400 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T23:38:48.4008340Z"
2025-01-22 01:38:48.408 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 01:38:48.435 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:38:48.4357370Z"
2025-01-22 01:38:48.437 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:38:48.4378772Z"
2025-01-22 01:38:48.440 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:38:48.4404911Z"
2025-01-22 01:38:48.442 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.0472ms.
2025-01-22 01:38:48.450 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:38:48.452 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.7695ms
2025-01-22 01:38:48.456 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:38:48.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 110.3011ms
2025-01-22 01:38:50.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - null null
2025-01-22 01:38:50.218 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:50.219 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - 204 null null 5.7693ms
2025-01-22 01:38:50.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/14 - application/json null
2025-01-22 01:38:50.227 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:50.230 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:38:50.235 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:38:50.260 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:38:50.264 +02:00 [INF] Starting GetByIdAsync with ID 14 at "2025-01-21T23:38:50.2648570Z"
2025-01-22 01:38:50.266 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T23:38:50.2668102Z"
2025-01-22 01:38:50.268 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T23:38:50.2686095Z"
2025-01-22 01:38:50.273 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:38:50.282 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 14 at "2025-01-21T23:38:50.2821700Z"
2025-01-22 01:38:50.284 +02:00 [INF] GetByIdAsync completed successfully with ID 14 at "2025-01-21T23:38:50.2840426Z"
2025-01-22 01:38:50.286 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.143ms.
2025-01-22 01:38:50.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:38:50.290 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 51.4538ms
2025-01-22 01:38:50.296 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:38:50.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/14 - 200 null application/json; charset=utf-8 74.3295ms
2025-01-22 01:38:50.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-22 01:38:50.309 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:50.311 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.4061ms
2025-01-22 01:38:50.316 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - application/json 2
2025-01-22 01:38:50.320 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:50.321 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:38:50.326 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:38:50.329 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:38:50.405 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:38:50.408 +02:00 [INF] Starting AddToBasketAsync with GiftId: 14 and Quantity: 1
2025-01-22 01:38:50.410 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:38:50.411 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:38:50.413 +02:00 [INF] Parsing token...
2025-01-22 01:38:50.414 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:38:50.423 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:38:50.429 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:38:50.483 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:38:50.610 +02:00 [ERR] Error occurred while adding Gift 14 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:38:50.616 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 207.7374ms.
2025-01-22 01:38:50.618 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:38:50.621 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 286.6828ms
2025-01-22 01:38:50.623 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:38:50.628 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:38:50.632 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - 500 null application/json; charset=utf-8 315.3536ms
2025-01-22 01:38:54.456 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - null null
2025-01-22 01:38:54.461 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:54.464 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - 204 null null 7.6563ms
2025-01-22 01:38:54.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/16 - application/json null
2025-01-22 01:38:54.475 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:54.477 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:38:54.480 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:38:54.506 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 01:38:54.508 +02:00 [INF] Starting GetByIdAsync with ID 16 at "2025-01-21T23:38:54.5088695Z"
2025-01-22 01:38:54.510 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T23:38:54.5107195Z"
2025-01-22 01:38:54.513 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T23:38:54.5137003Z"
2025-01-22 01:38:54.517 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:38:54.524 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 16 at "2025-01-21T23:38:54.5241817Z"
2025-01-22 01:38:54.525 +02:00 [INF] GetByIdAsync completed successfully with ID 16 at "2025-01-21T23:38:54.5258000Z"
2025-01-22 01:38:54.527 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.8463ms.
2025-01-22 01:38:54.530 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 01:38:54.532 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 47.5449ms
2025-01-22 01:38:54.534 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 01:38:54.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/16 - 200 null application/json; charset=utf-8 71.142ms
2025-01-22 01:38:54.547 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-22 01:38:54.552 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:54.554 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 6.3655ms
2025-01-22 01:38:54.558 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - application/json 2
2025-01-22 01:38:54.562 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:38:54.563 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 01:38:54.565 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:38:54.569 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 01:38:54.624 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 01:38:54.627 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 1
2025-01-22 01:38:54.629 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 01:38:54.631 +02:00 [INF] Received request to fetch user by token.
2025-01-22 01:38:54.634 +02:00 [INF] Parsing token...
2025-01-22 01:38:54.637 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-22 01:38:54.641 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 01:38:54.652 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-22 01:38:54.709 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 01:38:54.821 +02:00 [ERR] Error occurred while adding Gift 16 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 01:38:54.828 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 200.6158ms.
2025-01-22 01:38:54.831 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:38:54.834 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 259.4317ms
2025-01-22 01:38:54.838 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 01:38:54.840 +02:00 [INF] Outgoing Response: 500
2025-01-22 01:38:54.842 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - 500 null application/json; charset=utf-8 283.4522ms
2025-01-22 01:39:01.824 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 01:39:01.829 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:01.833 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.4585ms
2025-01-22 01:39:01.840 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:39:01.852 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:01.854 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:39:01.856 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:39:01.859 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:39:01.892 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:39:01.895 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:01.896 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:01.903 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:39:01.910 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:01.912 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:01.914 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.8708ms.
2025-01-22 01:39:01.916 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:01.919 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 49.4687ms
2025-01-22 01:39:01.921 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:39:01.922 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:39:01.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 85.9252ms
2025-01-22 01:39:04.661 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:39:04.667 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:04.668 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2297ms
2025-01-22 01:39:04.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 01:39:04.677 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:04.679 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:39:04.684 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 01:39:04.713 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:39:04.717 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T23:39:04.7173912Z"
2025-01-22 01:39:04.721 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 01:39:04.726 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:04.7260299Z"
2025-01-22 01:39:04.728 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:04.7279895Z"
2025-01-22 01:39:04.732 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:04.7319919Z"
2025-01-22 01:39:04.733 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.2547ms.
2025-01-22 01:39:04.736 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:04.739 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 49.5731ms
2025-01-22 01:39:04.742 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:39:04.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 70.4673ms
2025-01-22 01:39:05.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 01:39:05.516 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:05.518 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 01:39:05.525 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:39:05.532 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 01:39:05.560 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 01:39:05.563 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:05.564 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:05.568 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 01:39:05.576 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:05.579 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-22 01:39:05.581 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.3406ms.
2025-01-22 01:39:05.584 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:05.587 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 49.5083ms
2025-01-22 01:39:05.589 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 01:39:05.593 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:39:05.596 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 86.6837ms
2025-01-22 01:39:06.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 01:39:06.820 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:06.824 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:39:06.827 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 01:39:06.857 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:39:06.860 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T23:39:06.8601395Z"
2025-01-22 01:39:06.864 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 01:39:06.871 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:06.8709777Z"
2025-01-22 01:39:06.872 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:06.8724836Z"
2025-01-22 01:39:06.874 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:39:06.8741809Z"
2025-01-22 01:39:06.875 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.6266ms.
2025-01-22 01:39:06.879 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:06.881 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 49.5237ms
2025-01-22 01:39:06.886 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:39:06.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 74.3609ms
2025-01-22 01:39:54.621 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 01:39:54.647 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:54.649 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 29.4128ms
2025-01-22 01:39:54.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 01:39:54.678 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:54.679 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 01:39:54.682 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:39:54.686 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:39:54.713 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-22 01:39:54.717 +02:00 [INF] Fetching all donators.
2025-01-22 01:39:54.719 +02:00 [INF] Fetching all donators.
2025-01-22 01:39:54.724 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:39:54.728 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:39:54.730 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.8856ms.
2025-01-22 01:39:54.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:54.740 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 50.4099ms
2025-01-22 01:39:54.743 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:39:54.746 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:39:54.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 76.3562ms
2025-01-22 01:39:55.917 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:39:55.921 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:55.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.3172ms
2025-01-22 01:39:55.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:39:55.937 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:39:55.940 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:39:55.945 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:39:55.976 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:39:55.979 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:39:55.9795221Z"
2025-01-22 01:39:55.981 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:39:55.9810730Z"
2025-01-22 01:39:55.982 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:39:55.9825980Z"
2025-01-22 01:39:55.992 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:39:55.998 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:39:55.9986208Z"
2025-01-22 01:39:55.999 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:39:55.9999302Z"
2025-01-22 01:39:56.001 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:39:56.0014562Z"
2025-01-22 01:39:56.003 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.0026ms.
2025-01-22 01:39:56.009 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:39:56.013 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 61.2674ms
2025-01-22 01:39:56.015 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:39:56.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 85.3315ms
2025-01-22 01:40:16.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:16.692 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:16.697 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:16.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.201ms
2025-01-22 01:40:17.207 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:17.210 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:17.212 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.7086ms
2025-01-22 01:40:17.221 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:17.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:17.232 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:17.234 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:17.280 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:17.284 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:17.2847086Z"
2025-01-22 01:40:17.286 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:17.2866908Z"
2025-01-22 01:40:17.289 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:17.2892630Z"
2025-01-22 01:40:17.296 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:17.305 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:17.3050532Z"
2025-01-22 01:40:17.306 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:17.3069378Z"
2025-01-22 01:40:17.308 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:17.3086815Z"
2025-01-22 01:40:17.314 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.1246ms.
2025-01-22 01:40:17.319 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:17.322 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 81.1026ms
2025-01-22 01:40:17.327 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:17.331 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 110.1005ms
2025-01-22 01:40:19.833 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:19.838 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:19.841 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:19.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.4778ms
2025-01-22 01:40:20.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:20.128 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:20.130 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:20.134 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:20.164 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:20.168 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:20.1684227Z"
2025-01-22 01:40:20.170 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:20.1700217Z"
2025-01-22 01:40:20.171 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:20.1719056Z"
2025-01-22 01:40:20.184 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:20.189 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:20.1896128Z"
2025-01-22 01:40:20.191 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:20.1911475Z"
2025-01-22 01:40:20.196 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:20.1960843Z"
2025-01-22 01:40:20.198 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.3161ms.
2025-01-22 01:40:20.202 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:20.204 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 65.1056ms
2025-01-22 01:40:20.206 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:20.208 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 86.7725ms
2025-01-22 01:40:35.321 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:35.342 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:35.347 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:35.350 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 29.1937ms
2025-01-22 01:40:35.641 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:35.648 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:35.650 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.5986ms
2025-01-22 01:40:35.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:35.668 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:35.670 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:35.671 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:35.713 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:35.717 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:35.7175051Z"
2025-01-22 01:40:35.718 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:35.7189802Z"
2025-01-22 01:40:35.721 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:35.7215622Z"
2025-01-22 01:40:35.742 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:35.747 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:35.7477248Z"
2025-01-22 01:40:35.749 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:35.7489987Z"
2025-01-22 01:40:35.752 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:35.7523995Z"
2025-01-22 01:40:35.753 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.47ms.
2025-01-22 01:40:35.756 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:35.759 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 75.5896ms
2025-01-22 01:40:35.762 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:35.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 108.4244ms
2025-01-22 01:40:46.676 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:46.683 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:46.685 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:46.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.2956ms
2025-01-22 01:40:47.183 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:47.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:47.190 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.2461ms
2025-01-22 01:40:47.201 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:47.207 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:47.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:47.219 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:47.285 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:47.289 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:47.2897976Z"
2025-01-22 01:40:47.292 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:47.2921989Z"
2025-01-22 01:40:47.294 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:47.2944402Z"
2025-01-22 01:40:47.309 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:47.317 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:47.3174998Z"
2025-01-22 01:40:47.321 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:47.3218859Z"
2025-01-22 01:40:47.328 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:47.3288549Z"
2025-01-22 01:40:47.332 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.2544ms.
2025-01-22 01:40:47.338 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:47.341 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 106.8357ms
2025-01-22 01:40:47.347 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:47.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 154.5355ms
2025-01-22 01:40:49.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:49.266 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:49.269 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:49.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.9059ms
2025-01-22 01:40:49.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:49.601 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:49.608 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:49.614 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:49.683 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:49.689 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:49.6898290Z"
2025-01-22 01:40:49.692 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:49.6925658Z"
2025-01-22 01:40:49.695 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:49.6952461Z"
2025-01-22 01:40:49.718 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:49.728 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:49.7284961Z"
2025-01-22 01:40:49.738 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:49.7388729Z"
2025-01-22 01:40:49.741 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:49.7413759Z"
2025-01-22 01:40:49.744 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 54.5811ms.
2025-01-22 01:40:49.748 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:49.752 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 118.9803ms
2025-01-22 01:40:49.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:49.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 165.2771ms
2025-01-22 01:40:55.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:55.200 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:40:55.202 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:40:55.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.6081ms
2025-01-22 01:40:55.477 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:40:55.481 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:55.483 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.7344ms
2025-01-22 01:40:55.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:40:55.498 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:40:55.500 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:55.506 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:40:55.554 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:40:55.557 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:55.5578200Z"
2025-01-22 01:40:55.559 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:55.5599561Z"
2025-01-22 01:40:55.563 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:40:55.5636184Z"
2025-01-22 01:40:55.580 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:40:55.587 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:55.5873426Z"
2025-01-22 01:40:55.588 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:55.5889432Z"
2025-01-22 01:40:55.590 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:40:55.5904563Z"
2025-01-22 01:40:55.592 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.56ms.
2025-01-22 01:40:55.595 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:40:55.601 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 87.049ms
2025-01-22 01:40:55.604 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:40:55.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 115.491ms
2025-01-22 01:41:54.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:41:54.930 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:41:54.937 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:41:54.939 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 19.4415ms
2025-01-22 01:41:55.432 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:41:55.435 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:41:55.437 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.7994ms
2025-01-22 01:41:55.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:41:55.469 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:41:55.472 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:41:55.474 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:41:55.513 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:41:55.517 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:55.5177857Z"
2025-01-22 01:41:55.520 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:55.5202900Z"
2025-01-22 01:41:55.523 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:55.5230167Z"
2025-01-22 01:41:55.540 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:41:55.550 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:55.5505237Z"
2025-01-22 01:41:55.553 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:55.5530664Z"
2025-01-22 01:41:55.555 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:55.5552053Z"
2025-01-22 01:41:55.557 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.3368ms.
2025-01-22 01:41:55.564 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:41:55.567 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 86.9197ms
2025-01-22 01:41:55.569 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:41:55.571 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 108.0336ms
2025-01-22 01:41:58.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:41:58.567 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:41:58.570 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:41:58.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.5964ms
2025-01-22 01:41:58.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:41:59.000 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:41:59.001 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:41:59.003 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:41:59.038 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:41:59.041 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:59.0414911Z"
2025-01-22 01:41:59.043 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:59.0438206Z"
2025-01-22 01:41:59.046 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:41:59.0461609Z"
2025-01-22 01:41:59.056 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:41:59.062 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:59.0629525Z"
2025-01-22 01:41:59.064 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:59.0642799Z"
2025-01-22 01:41:59.065 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:41:59.0658950Z"
2025-01-22 01:41:59.067 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.9043ms.
2025-01-22 01:41:59.072 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:41:59.075 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 69.0389ms
2025-01-22 01:41:59.078 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:41:59.080 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 99.9139ms
2025-01-22 01:42:04.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:42:04.298 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:42:04.300 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:42:04.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 25.0546ms
2025-01-22 01:42:04.595 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:42:04.600 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:42:04.603 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.9952ms
2025-01-22 01:42:04.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:42:04.619 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:42:04.621 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:42:04.623 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:42:04.663 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:42:04.667 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:42:04.6671058Z"
2025-01-22 01:42:04.669 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:42:04.6690229Z"
2025-01-22 01:42:04.671 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:42:04.6710163Z"
2025-01-22 01:42:04.684 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:42:04.691 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:42:04.6917875Z"
2025-01-22 01:42:04.694 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:42:04.6944209Z"
2025-01-22 01:42:04.696 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:42:04.6968937Z"
2025-01-22 01:42:04.698 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.6026ms.
2025-01-22 01:42:04.701 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:42:04.710 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 75.0843ms
2025-01-22 01:42:04.712 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:42:04.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 101.815ms
2025-01-22 01:42:25.004 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:42:25.009 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:42:25.011 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.6125ms
2025-01-22 01:42:25.018 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:42:25.021 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:42:25.023 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:42:25.030 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:42:25.062 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:42:25.066 +02:00 [INF] Starting LotteryAsync for Gift ID 13 at "2025-01-21T23:42:25.0660016Z"
2025-01-22 01:42:25.068 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 13 at "2025-01-21T23:42:25.0683117Z"
2025-01-22 01:42:25.070 +02:00 [INF] Fetching Gift with participants for Gift ID 13 at "2025-01-21T23:42:25.0701792Z"
2025-01-22 01:42:25.086 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:42:25.101 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:42:25.128 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 01:42:25.136 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 13 at "2025-01-21T23:42:25.1368867Z"
2025-01-22 01:42:25.144 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:42:25.157 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:42:25.167 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 13 with Winner asas at "2025-01-21T23:42:25.1670253Z"
2025-01-22 01:42:25.169 +02:00 [INF] LotteryAsync completed successfully for Gift ID 13 at "2025-01-21T23:42:25.1691111Z"
2025-01-22 01:42:25.171 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.3185ms.
2025-01-22 01:42:25.174 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:42:25.180 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 146.3468ms
2025-01-22 01:42:25.183 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:42:25.186 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 168.248ms
2025-01-22 01:43:09.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:09.664 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:43:09.666 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:43:09.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 15.3ms
2025-01-22 01:43:10.643 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:10.700 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:10.702 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 59.1646ms
2025-01-22 01:43:10.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:43:10.719 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:10.722 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:10.730 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:43:10.795 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:43:10.798 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:10.7988329Z"
2025-01-22 01:43:10.800 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:10.8008412Z"
2025-01-22 01:43:10.803 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:10.8033574Z"
2025-01-22 01:43:10.821 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:43:10.829 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:10.8295748Z"
2025-01-22 01:43:10.831 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:10.8316824Z"
2025-01-22 01:43:10.837 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:10.8379643Z"
2025-01-22 01:43:10.843 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 44.8815ms.
2025-01-22 01:43:10.854 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:43:10.860 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 123.7841ms
2025-01-22 01:43:10.863 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:10.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 157.7279ms
2025-01-22 01:43:19.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:19.851 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:43:19.854 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:43:19.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 45.305ms
2025-01-22 01:43:20.543 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:20.551 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:20.554 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.6327ms
2025-01-22 01:43:20.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:43:20.578 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:20.580 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:20.581 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:43:20.617 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:43:20.620 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:20.6201179Z"
2025-01-22 01:43:20.622 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:20.6220436Z"
2025-01-22 01:43:20.624 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:20.6241711Z"
2025-01-22 01:43:20.638 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:43:20.647 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:20.6479029Z"
2025-01-22 01:43:20.649 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:20.6493588Z"
2025-01-22 01:43:20.651 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:20.6510935Z"
2025-01-22 01:43:20.652 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.6111ms.
2025-01-22 01:43:20.661 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:43:20.666 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 80.188ms
2025-01-22 01:43:20.668 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:20.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 108.5121ms
2025-01-22 01:43:24.860 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:24.864 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:43:24.867 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:43:24.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.0445ms
2025-01-22 01:43:25.473 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:43:25.501 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:25.504 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:25.507 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:43:25.600 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:43:25.604 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:25.6044642Z"
2025-01-22 01:43:25.607 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:25.6071323Z"
2025-01-22 01:43:25.610 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:25.6101539Z"
2025-01-22 01:43:25.627 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:43:25.633 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:25.6336503Z"
2025-01-22 01:43:25.637 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:25.6378104Z"
2025-01-22 01:43:25.639 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:25.6395163Z"
2025-01-22 01:43:25.641 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.4471ms.
2025-01-22 01:43:25.647 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:43:25.658 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 140.4738ms
2025-01-22 01:43:25.663 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:25.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 196.1401ms
2025-01-22 01:43:40.639 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:40.645 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:43:40.649 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:43:40.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.3734ms
2025-01-22 01:43:40.989 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:40.994 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:40.996 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.5963ms
2025-01-22 01:43:41.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:43:41.005 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:41.010 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:41.012 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:43:41.040 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:43:41.044 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:41.0442131Z"
2025-01-22 01:43:41.047 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:41.0470324Z"
2025-01-22 01:43:41.048 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:41.0485636Z"
2025-01-22 01:43:41.059 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:43:41.065 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:41.0654917Z"
2025-01-22 01:43:41.066 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:41.0668599Z"
2025-01-22 01:43:41.068 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:41.0683138Z"
2025-01-22 01:43:41.073 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.1155ms.
2025-01-22 01:43:41.078 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:43:41.081 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 65.1364ms
2025-01-22 01:43:41.084 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:41.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 86.8484ms
2025-01-22 01:43:47.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:47.699 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:43:47.702 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:43:47.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 15.465ms
2025-01-22 01:43:48.330 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:43:48.333 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:48.335 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.1267ms
2025-01-22 01:43:48.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:43:48.347 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:43:48.349 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:48.350 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:43:48.401 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:43:48.403 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:48.4038026Z"
2025-01-22 01:43:48.405 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:48.4054808Z"
2025-01-22 01:43:48.407 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:43:48.4070974Z"
2025-01-22 01:43:48.421 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:43:48.429 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:48.4293066Z"
2025-01-22 01:43:48.430 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:48.4308812Z"
2025-01-22 01:43:48.432 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:43:48.4326377Z"
2025-01-22 01:43:48.437 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.2473ms.
2025-01-22 01:43:48.441 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:43:48.444 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 83.1502ms
2025-01-22 01:43:48.447 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:43:48.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 110.2225ms
2025-01-22 01:44:23.391 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:23.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:23.430 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:44:23.443 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:44:23.446 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:44:23.451 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:44:23.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 69.5259ms
2025-01-22 01:44:23.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 33.8636ms
2025-01-22 01:44:23.795 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:23.800 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:23.801 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.6283ms
2025-01-22 01:44:23.808 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:44:23.817 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:23.821 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:23.826 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:44:23.860 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:44:23.864 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:23.8642468Z"
2025-01-22 01:44:23.866 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:23.8661437Z"
2025-01-22 01:44:23.868 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:23.8681276Z"
2025-01-22 01:44:23.881 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:44:23.885 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:23.8856612Z"
2025-01-22 01:44:23.889 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:23.8892483Z"
2025-01-22 01:44:23.892 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:23.8922222Z"
2025-01-22 01:44:23.895 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.8097ms.
2025-01-22 01:44:23.897 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:44:23.900 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 64.0846ms
2025-01-22 01:44:23.902 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:23.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 97.6049ms
2025-01-22 01:44:41.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:41.195 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:44:41.197 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:44:41.199 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1665ms
2025-01-22 01:44:41.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:41.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:41.442 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.2593ms
2025-01-22 01:44:41.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:44:41.452 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:41.454 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:41.460 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:44:41.498 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:44:41.502 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:41.5021035Z"
2025-01-22 01:44:41.506 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:41.5060657Z"
2025-01-22 01:44:41.508 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:41.5088230Z"
2025-01-22 01:44:41.514 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:44:41.521 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:41.5218492Z"
2025-01-22 01:44:41.524 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:41.5240196Z"
2025-01-22 01:44:41.527 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:41.5274947Z"
2025-01-22 01:44:41.530 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.7241ms.
2025-01-22 01:44:41.537 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:44:41.540 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 72.297ms
2025-01-22 01:44:41.544 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:41.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 99.2384ms
2025-01-22 01:44:51.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:51.693 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:44:51.695 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:44:51.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 14.88ms
2025-01-22 01:44:51.998 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:52.002 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:52.003 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 4.8987ms
2025-01-22 01:44:52.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:44:52.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:52.018 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:52.019 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:44:52.055 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:44:52.057 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:52.0577271Z"
2025-01-22 01:44:52.060 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:52.0600563Z"
2025-01-22 01:44:52.062 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:52.0625717Z"
2025-01-22 01:44:52.067 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:44:52.072 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:52.0729859Z"
2025-01-22 01:44:52.077 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:52.0776874Z"
2025-01-22 01:44:52.079 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:52.0792169Z"
2025-01-22 01:44:52.080 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.987ms.
2025-01-22 01:44:52.083 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:44:52.085 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 62.1279ms
2025-01-22 01:44:52.087 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:52.093 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 83.5716ms
2025-01-22 01:44:54.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:44:54.610 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:44:54.614 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:44:54.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.3569ms
2025-01-22 01:44:54.898 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:44:54.902 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:44:54.903 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:54.905 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:44:54.946 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:44:54.949 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:54.9493321Z"
2025-01-22 01:44:54.950 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:54.9509716Z"
2025-01-22 01:44:54.952 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:44:54.9528771Z"
2025-01-22 01:44:54.966 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:44:54.973 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:54.9730762Z"
2025-01-22 01:44:54.975 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:54.9751028Z"
2025-01-22 01:44:54.976 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:44:54.9768721Z"
2025-01-22 01:44:54.978 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.0924ms.
2025-01-22 01:44:54.981 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:44:54.986 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 74.4632ms
2025-01-22 01:44:54.989 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:44:54.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 94.493ms
2025-01-22 01:45:01.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:45:01.462 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:45:01.465 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:45:01.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.8013ms
2025-01-22 01:45:01.807 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:45:01.814 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:45:01.816 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.3891ms
2025-01-22 01:45:01.824 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:45:01.833 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:45:01.836 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:01.839 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:45:01.910 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:45:01.913 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:01.9135898Z"
2025-01-22 01:45:01.915 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:01.9155373Z"
2025-01-22 01:45:01.917 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:01.9173018Z"
2025-01-22 01:45:01.932 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:45:01.938 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:01.9387055Z"
2025-01-22 01:45:01.940 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:01.9406493Z"
2025-01-22 01:45:01.943 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:01.9432113Z"
2025-01-22 01:45:01.944 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.2611ms.
2025-01-22 01:45:01.947 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:45:01.950 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 86.3719ms
2025-01-22 01:45:01.954 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:01.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 132.3037ms
2025-01-22 01:45:03.569 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:45:03.574 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:45:03.576 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:45:03.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.7323ms
2025-01-22 01:45:03.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:45:03.876 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:45:03.878 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:03.883 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:45:03.927 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:45:03.930 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:03.9304089Z"
2025-01-22 01:45:03.932 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:03.9323947Z"
2025-01-22 01:45:03.933 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:03.9338551Z"
2025-01-22 01:45:03.947 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:45:03.952 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:03.9524016Z"
2025-01-22 01:45:03.953 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:03.9537127Z"
2025-01-22 01:45:03.957 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:03.9578728Z"
2025-01-22 01:45:03.960 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.4604ms.
2025-01-22 01:45:03.964 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:45:03.966 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 76.2183ms
2025-01-22 01:45:03.968 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:03.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 103.699ms
2025-01-22 01:45:38.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:45:38.711 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:45:38.714 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:45:38.716 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 31.3919ms
2025-01-22 01:45:39.178 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:45:39.206 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:45:39.208 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 30.4633ms
2025-01-22 01:45:39.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:45:39.226 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:45:39.229 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:39.236 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:45:39.290 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:45:39.294 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:39.2945425Z"
2025-01-22 01:45:39.297 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:39.2975347Z"
2025-01-22 01:45:39.299 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:45:39.2995498Z"
2025-01-22 01:45:39.314 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:45:39.321 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:39.3211059Z"
2025-01-22 01:45:39.322 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:39.3227982Z"
2025-01-22 01:45:39.325 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:45:39.3258799Z"
2025-01-22 01:45:39.332 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.1694ms.
2025-01-22 01:45:39.349 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:45:39.359 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 114.3324ms
2025-01-22 01:45:39.368 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:45:39.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 154.6481ms
2025-01-22 01:47:40.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:47:40.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:47:40.187 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:47:40.197 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:47:40.201 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:47:40.208 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:47:40.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 41.515ms
2025-01-22 01:47:40.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 47.134ms
2025-01-22 01:47:40.717 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:47:40.745 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:47:40.747 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 30.2709ms
2025-01-22 01:47:40.759 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:47:40.764 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:47:40.771 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:47:40.775 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:47:40.831 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:47:40.835 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:47:40.8353628Z"
2025-01-22 01:47:40.837 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:47:40.8374213Z"
2025-01-22 01:47:40.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:47:40.8398225Z"
2025-01-22 01:47:40.857 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:47:40.868 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:47:40.8684361Z"
2025-01-22 01:47:40.870 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:47:40.8704864Z"
2025-01-22 01:47:40.878 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:47:40.8779824Z"
2025-01-22 01:47:40.882 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 46.8511ms.
2025-01-22 01:47:40.885 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:47:40.888 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 107.6592ms
2025-01-22 01:47:40.895 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:47:40.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 138.9773ms
2025-01-22 01:48:34.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:48:34.052 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:48:34.054 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:48:34.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 23.5449ms
2025-01-22 01:48:34.341 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:48:34.369 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:48:34.371 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 30.4279ms
2025-01-22 01:48:34.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:48:34.387 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:48:34.390 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:48:34.392 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:48:34.425 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:48:34.428 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:48:34.4281627Z"
2025-01-22 01:48:34.429 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:48:34.4297213Z"
2025-01-22 01:48:34.431 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:48:34.4312109Z"
2025-01-22 01:48:34.442 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:48:34.446 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:48:34.4466002Z"
2025-01-22 01:48:34.448 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:48:34.4481304Z"
2025-01-22 01:48:34.449 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:48:34.4497736Z"
2025-01-22 01:48:34.451 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.1149ms.
2025-01-22 01:48:34.453 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:48:34.460 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 59.7554ms
2025-01-22 01:48:34.463 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:48:34.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 83.8758ms
2025-01-22 01:51:07.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:51:07.708 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:51:07.711 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:51:07.714 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 66.3923ms
2025-01-22 01:51:08.089 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:51:08.093 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:51:08.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.5151ms
2025-01-22 01:51:08.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:51:08.106 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:51:08.108 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:51:08.114 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:51:08.151 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:51:08.154 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:51:08.1545637Z"
2025-01-22 01:51:08.156 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:51:08.1568968Z"
2025-01-22 01:51:08.159 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:51:08.1591842Z"
2025-01-22 01:51:08.168 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:51:08.176 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:51:08.1763819Z"
2025-01-22 01:51:08.177 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:51:08.1776773Z"
2025-01-22 01:51:08.179 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:51:08.1791549Z"
2025-01-22 01:51:08.180 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.0787ms.
2025-01-22 01:51:08.183 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:51:08.192 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 74.0473ms
2025-01-22 01:51:08.195 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:51:08.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 96.7404ms
2025-01-22 01:53:05.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:05.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:05.377 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:53:05.381 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:53:05.384 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:53:05.390 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:53:05.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 40.0046ms
2025-01-22 01:53:05.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 38.7212ms
2025-01-22 01:53:05.766 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:05.772 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:05.773 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.69ms
2025-01-22 01:53:05.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:53:05.788 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:05.791 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:05.792 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:53:05.830 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:53:05.833 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:05.8334626Z"
2025-01-22 01:53:05.835 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:05.8353769Z"
2025-01-22 01:53:05.837 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:05.8373050Z"
2025-01-22 01:53:05.848 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:53:05.856 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:05.8561182Z"
2025-01-22 01:53:05.859 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:05.8594656Z"
2025-01-22 01:53:05.860 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:05.8609381Z"
2025-01-22 01:53:05.862 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.0748ms.
2025-01-22 01:53:05.865 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:53:05.868 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 69.6314ms
2025-01-22 01:53:05.871 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:05.876 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 98.5197ms
2025-01-22 01:53:11.342 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:11.367 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:53:11.369 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:53:11.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 30.362ms
2025-01-22 01:53:11.632 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:11.636 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:11.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.0966ms
2025-01-22 01:53:11.645 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:53:11.649 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:11.651 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:11.653 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:53:11.695 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:53:11.697 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:11.6977081Z"
2025-01-22 01:53:11.699 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:11.6991405Z"
2025-01-22 01:53:11.700 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:11.7005295Z"
2025-01-22 01:53:11.712 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:53:11.716 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:11.7163597Z"
2025-01-22 01:53:11.718 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:11.7179929Z"
2025-01-22 01:53:11.723 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:11.7234280Z"
2025-01-22 01:53:11.724 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.271ms.
2025-01-22 01:53:11.728 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:53:11.731 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 68.4053ms
2025-01-22 01:53:11.733 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:11.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 94.2146ms
2025-01-22 01:53:20.839 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:20.843 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:53:20.845 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:53:20.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.2901ms
2025-01-22 01:53:21.126 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:53:21.129 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:21.132 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.179ms
2025-01-22 01:53:21.137 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:53:21.141 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:53:21.143 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:21.148 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:53:21.186 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:53:21.188 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:21.1888729Z"
2025-01-22 01:53:21.192 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:21.1920534Z"
2025-01-22 01:53:21.193 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:53:21.1938440Z"
2025-01-22 01:53:21.205 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:53:21.213 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:21.2137743Z"
2025-01-22 01:53:21.215 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:21.2152839Z"
2025-01-22 01:53:21.217 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:53:21.2170024Z"
2025-01-22 01:53:21.219 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.812ms.
2025-01-22 01:53:21.224 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:53:21.230 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 73.9843ms
2025-01-22 01:53:21.233 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:53:21.235 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 97.5835ms
2025-01-22 01:54:53.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:54:53.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:54:53.642 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:54:53.646 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:54:53.648 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:54:53.651 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:54:53.653 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 41.5658ms
2025-01-22 01:54:53.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 104.7675ms
2025-01-22 01:54:54.743 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:54:54.776 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:54:54.899 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 156.1279ms
2025-01-22 01:54:54.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:54:54.979 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:54:54.997 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:54:55.008 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:54:55.131 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:54:55.135 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:55.1358927Z"
2025-01-22 01:54:55.138 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:55.1382452Z"
2025-01-22 01:54:55.140 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:55.1403405Z"
2025-01-22 01:54:55.162 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:54:55.171 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:55.1711063Z"
2025-01-22 01:54:55.173 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:55.1730990Z"
2025-01-22 01:54:55.182 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:55.1826827Z"
2025-01-22 01:54:55.187 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 51.0917ms.
2025-01-22 01:54:55.195 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:54:55.200 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 158.9575ms
2025-01-22 01:54:55.255 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:54:55.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 299.9942ms
2025-01-22 01:54:57.103 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:54:57.107 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:54:57.110 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.1367ms
2025-01-22 01:54:57.122 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:54:57.126 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:54:57.128 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:54:57.131 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:54:57.173 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:54:57.176 +02:00 [INF] Starting LotteryAsync for Gift ID 14 at "2025-01-21T23:54:57.1768847Z"
2025-01-22 01:54:57.180 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 14 at "2025-01-21T23:54:57.1802591Z"
2025-01-22 01:54:57.182 +02:00 [INF] Fetching Gift with participants for Gift ID 14 at "2025-01-21T23:54:57.1823804Z"
2025-01-22 01:54:57.202 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:54:57.217 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 01:54:57.229 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 01:54:57.238 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 14 at "2025-01-21T23:54:57.2389307Z"
2025-01-22 01:54:57.247 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 01:54:57.266 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 01:54:57.280 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 14 with Winner asas at "2025-01-21T23:54:57.2805023Z"
2025-01-22 01:54:57.283 +02:00 [INF] LotteryAsync completed successfully for Gift ID 14 at "2025-01-21T23:54:57.2833743Z"
2025-01-22 01:54:57.286 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.251ms.
2025-01-22 01:54:57.291 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:54:57.294 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 157.5393ms
2025-01-22 01:54:57.297 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:54:57.302 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 179.8865ms
2025-01-22 01:54:57.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:54:57.377 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:54:57.380 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:54:57.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.4241ms
2025-01-22 01:54:57.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:54:58.005 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:54:58.008 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:54:58.013 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:54:58.073 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:54:58.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:58.0804204Z"
2025-01-22 01:54:58.082 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:58.0828498Z"
2025-01-22 01:54:58.093 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:54:58.0929981Z"
2025-01-22 01:54:58.154 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:54:58.164 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:58.1641140Z"
2025-01-22 01:54:58.165 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:58.1657714Z"
2025-01-22 01:54:58.168 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:54:58.1680383Z"
2025-01-22 01:54:58.170 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 90.0437ms.
2025-01-22 01:54:58.174 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:54:58.182 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 158.396ms
2025-01-22 01:54:58.188 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:54:58.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 206.981ms
2025-01-22 01:55:18.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:55:18.553 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:55:18.557 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:55:18.560 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.1618ms
2025-01-22 01:55:19.195 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:55:19.200 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:19.202 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.0862ms
2025-01-22 01:55:19.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:55:19.219 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:19.225 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:19.228 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:55:19.302 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:55:19.307 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:19.3074494Z"
2025-01-22 01:55:19.310 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:19.3107555Z"
2025-01-22 01:55:19.313 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:19.3134620Z"
2025-01-22 01:55:19.361 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:55:19.377 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:19.3778333Z"
2025-01-22 01:55:19.381 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:19.3812215Z"
2025-01-22 01:55:19.385 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:19.3854404Z"
2025-01-22 01:55:19.387 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 80.021ms.
2025-01-22 01:55:19.395 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:55:19.400 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 162.1652ms
2025-01-22 01:55:19.407 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:19.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 201.6185ms
2025-01-22 01:55:25.016 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 01:55:25.022 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:25.024 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 7.9513ms
2025-01-22 01:55:25.029 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 01:55:25.037 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:25.039 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 01:55:25.046 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:55:25.082 +02:00 [INF] Executing action method project.Controllers.GiftController.DeleteGiftAsync (project) - Validation state: "Valid"
2025-01-22 01:55:25.088 +02:00 [INF] Starting DeleteGiftAsync with ID 3 at "2025-01-21T23:55:25.0884774Z"
2025-01-22 01:55:25.092 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 3 at "2025-01-21T23:55:25.0923840Z"
2025-01-22 01:55:25.095 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 3 at "2025-01-21T23:55:25.0956612Z"
2025-01-22 01:55:25.098 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T23:55:25.0988031Z"
2025-01-22 01:55:25.105 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 01:55:25.145 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 01:55:25.155 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 3 at "2025-01-21T23:55:25.1556218Z"
2025-01-22 01:55:25.157 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 3 at "2025-01-21T23:55:25.1573933Z"
2025-01-22 01:55:25.161 +02:00 [INF] DeleteGiftAsync completed successfully with ID 3 at "2025-01-21T23:55:25.1611148Z"
2025-01-22 01:55:25.163 +02:00 [INF] Executed action method project.Controllers.GiftController.DeleteGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 76.7569ms.
2025-01-22 01:55:25.167 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:55:25.170 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 114.2381ms
2025-01-22 01:55:25.173 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 01:55:25.178 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 148.7378ms
2025-01-22 01:55:25.188 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:55:25.195 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:25.196 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.3865ms
2025-01-22 01:55:25.202 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:55:25.208 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:25.209 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:25.211 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:55:25.324 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:55:25.327 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:25.3274360Z"
2025-01-22 01:55:25.330 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:25.3302533Z"
2025-01-22 01:55:25.332 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:25.3321846Z"
2025-01-22 01:55:25.347 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:55:25.354 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:25.3545560Z"
2025-01-22 01:55:25.356 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:25.3564454Z"
2025-01-22 01:55:25.358 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:25.3583930Z"
2025-01-22 01:55:25.364 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.641ms.
2025-01-22 01:55:25.370 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:55:25.378 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 163.4014ms
2025-01-22 01:55:25.381 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:25.386 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 183.708ms
2025-01-22 01:55:29.872 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 01:55:29.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 01:55:29.931 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:29.902 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:29.940 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 01:55:29.943 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 71.3136ms
2025-01-22 01:55:29.954 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 01:55:29.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 01:55:30.018 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:30.014 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-22 01:55:30.020 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 01:55:30.026 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:55:30.031 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 01:55:30.032 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 01:55:30.100 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-22 01:55:30.106 +02:00 [INF] Successfully retrieved categories.
2025-01-22 01:55:30.109 +02:00 [INF] Fetching all donators.
2025-01-22 01:55:30.111 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.9438ms.
2025-01-22 01:55:30.113 +02:00 [INF] Fetching all donators.
2025-01-22 01:55:30.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:55:30.130 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 01:55:30.132 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 162.0448ms
2025-01-22 01:55:30.141 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 01:55:30.145 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 01:55:30.155 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.9908ms.
2025-01-22 01:55:30.169 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:55:30.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 282.9785ms
2025-01-22 01:55:30.172 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 135.0788ms
2025-01-22 01:55:30.191 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 01:55:30.196 +02:00 [INF] Outgoing Response: 200
2025-01-22 01:55:30.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 234.8626ms
2025-01-22 01:55:46.285 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:55:46.290 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:46.293 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.5158ms
2025-01-22 01:55:46.298 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 166
2025-01-22 01:55:46.306 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:46.309 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 01:55:46.321 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 01:55:46.359 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-22 01:55:46.363 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T23:55:46.3630993Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 01:55:46.367 +02:00 [INF] Starting CreateGiftAsync for GiftDto: fdh at "2025-01-21T23:55:46.3670101Z"
2025-01-22 01:55:46.371 +02:00 [INF] Fetching donator by name: miri
2025-01-22 01:55:46.391 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 01:55:46.408 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 01:55:46.415 +02:00 [INF] Successfully retrieved category with name: home
2025-01-22 01:55:46.454 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 01:55:46.465 +02:00 [INF] Starting CreateGiftAsync for Gift: fdh at "2025-01-21T23:55:46.4653100Z"
2025-01-22 01:55:46.504 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 01:55:46.512 +02:00 [INF] CreateGiftAsync completed successfully for Gift: fdh at "2025-01-21T23:55:46.5126023Z"
2025-01-22 01:55:46.514 +02:00 [INF] CreateGiftAsync completed successfully for Gift: fdh at "2025-01-21T23:55:46.5140795Z"
2025-01-22 01:55:46.516 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T23:55:46.5164594Z"
2025-01-22 01:55:46.518 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 156.4782ms.
2025-01-22 01:55:46.524 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:55:46.528 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 202.0406ms
2025-01-22 01:55:46.530 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 01:55:46.533 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 235.0165ms
2025-01-22 01:55:46.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:55:46.639 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:46.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.6311ms
2025-01-22 01:55:46.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:55:46.658 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:46.660 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:46.664 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:55:46.694 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:55:46.697 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:46.6970696Z"
2025-01-22 01:55:46.698 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:46.6987393Z"
2025-01-22 01:55:46.700 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:55:46.7006897Z"
2025-01-22 01:55:46.712 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:55:46.719 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:46.7192749Z"
2025-01-22 01:55:46.720 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:46.7208753Z"
2025-01-22 01:55:46.722 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:55:46.7226349Z"
2025-01-22 01:55:46.726 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.6196ms.
2025-01-22 01:55:46.730 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:55:46.733 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 63.1039ms
2025-01-22 01:55:46.735 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:55:46.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 85.6621ms
2025-01-22 01:55:51.280 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:55:51.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:51.287 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.9952ms
2025-01-22 01:55:51.294 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:55:51.297 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:55:51.299 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:55:51.302 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:55:51.338 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:55:51.341 +02:00 [INF] Starting LotteryAsync for Gift ID 18 at "2025-01-21T23:55:51.3418203Z"
2025-01-22 01:55:51.343 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 18 at "2025-01-21T23:55:51.3437248Z"
2025-01-22 01:55:51.345 +02:00 [INF] Fetching Gift with participants for Gift ID 18 at "2025-01-21T23:55:51.3455561Z"
2025-01-22 01:55:51.360 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:55:51.374 +02:00 [WRN] No participants found for Gift ID 18 at "2025-01-21T23:55:51.3745374Z"
2025-01-22 01:55:51.376 +02:00 [WRN] No winner found for Gift ID 18 at "2025-01-21T23:55:51.3766793Z"
2025-01-22 01:55:51.381 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 39.1683ms.
2025-01-22 01:55:51.386 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:55:51.389 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 79.228ms
2025-01-22 01:55:51.392 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:55:51.394 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 100.178ms
2025-01-22 01:56:02.094 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:56:02.099 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:02.101 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.8611ms
2025-01-22 01:56:02.109 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:56:02.112 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:02.114 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:02.115 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:56:02.149 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:56:02.154 +02:00 [INF] Starting LotteryAsync for Gift ID 18 at "2025-01-21T23:56:02.1544910Z"
2025-01-22 01:56:02.157 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 18 at "2025-01-21T23:56:02.1574837Z"
2025-01-22 01:56:02.159 +02:00 [INF] Fetching Gift with participants for Gift ID 18 at "2025-01-21T23:56:02.1595476Z"
2025-01-22 01:56:02.175 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:56:02.189 +02:00 [WRN] No participants found for Gift ID 18 at "2025-01-21T23:56:02.1894869Z"
2025-01-22 01:56:02.191 +02:00 [WRN] No winner found for Gift ID 18 at "2025-01-21T23:56:02.1913475Z"
2025-01-22 01:56:02.193 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 38.7719ms.
2025-01-22 01:56:02.195 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:56:02.202 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 79.6673ms
2025-01-22 01:56:02.204 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:02.207 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 98.4514ms
2025-01-22 01:56:05.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:56:05.670 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:56:05.672 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:56:05.674 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1472ms
2025-01-22 01:56:06.280 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:56:06.289 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:06.292 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.0793ms
2025-01-22 01:56:06.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:56:06.312 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:06.315 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:56:06.331 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:56:06.405 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:56:06.413 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:06.4130483Z"
2025-01-22 01:56:06.421 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:06.4211496Z"
2025-01-22 01:56:06.443 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:06.4433641Z"
2025-01-22 01:56:06.471 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:56:06.480 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:06.4808657Z"
2025-01-22 01:56:06.483 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:06.4831713Z"
2025-01-22 01:56:06.486 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:06.4860184Z"
2025-01-22 01:56:06.487 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 74.7774ms.
2025-01-22 01:56:06.491 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:56:06.497 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 153.735ms
2025-01-22 01:56:06.501 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:56:06.503 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 201.0323ms
2025-01-22 01:56:09.078 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:56:09.083 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:09.085 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.5555ms
2025-01-22 01:56:09.091 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:56:09.094 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:09.096 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:09.098 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:56:09.134 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:56:09.138 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-21T23:56:09.1382903Z"
2025-01-22 01:56:09.140 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-21T23:56:09.1406517Z"
2025-01-22 01:56:09.142 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-21T23:56:09.1427105Z"
2025-01-22 01:56:09.162 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:56:09.172 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-21T23:56:09.1722091Z"
2025-01-22 01:56:09.173 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-21T23:56:09.1738277Z"
2025-01-22 01:56:09.176 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 37.9042ms.
2025-01-22 01:56:09.185 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:56:09.189 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 83.4497ms
2025-01-22 01:56:09.192 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:09.194 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 103.0664ms
2025-01-22 01:56:23.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:56:23.821 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:56:23.823 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:56:23.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.2053ms
2025-01-22 01:56:24.357 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:56:24.363 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:24.367 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.879ms
2025-01-22 01:56:24.409 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:56:24.416 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:24.423 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:56:24.429 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:56:24.551 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:56:24.560 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:24.5603681Z"
2025-01-22 01:56:24.563 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:24.5638095Z"
2025-01-22 01:56:24.566 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:56:24.5665642Z"
2025-01-22 01:56:24.585 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:56:24.593 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:24.5931251Z"
2025-01-22 01:56:24.598 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:24.5983879Z"
2025-01-22 01:56:24.603 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:56:24.6031254Z"
2025-01-22 01:56:24.605 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 45.4819ms.
2025-01-22 01:56:24.612 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:56:24.617 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 136.9203ms
2025-01-22 01:56:24.620 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:56:24.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 213.6427ms
2025-01-22 01:56:25.790 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:56:25.795 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:25.796 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 5.9288ms
2025-01-22 01:56:25.803 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:56:25.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:25.811 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:25.813 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:56:25.841 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:56:25.844 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-21T23:56:25.8442023Z"
2025-01-22 01:56:25.846 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-21T23:56:25.8463347Z"
2025-01-22 01:56:25.848 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-21T23:56:25.8481326Z"
2025-01-22 01:56:25.864 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:56:25.875 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-21T23:56:25.8758590Z"
2025-01-22 01:56:25.877 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-21T23:56:25.8776132Z"
2025-01-22 01:56:25.879 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 35.2207ms.
2025-01-22 01:56:25.882 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:56:25.890 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 73.3726ms
2025-01-22 01:56:25.893 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:56:25.896 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 92.7238ms
2025-01-22 01:56:52.277 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 01:56:52.303 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:52.305 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 28.1314ms
2025-01-22 01:56:52.329 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-22 01:56:52.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:56:52.340 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:56:52.341 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 01:56:52.381 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 01:56:52.389 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 01:56:52.536 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 01:56:52.546 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 01:56:52.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 01:56:52.561 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 177.7162ms.
2025-01-22 01:56:52.563 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 01:56:52.571 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 225.1238ms
2025-01-22 01:56:52.574 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 01:56:52.577 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 247.0864ms
2025-01-22 01:57:41.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 01:57:41.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 01:57:41.128 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:57:41.134 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:57:41.136 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:57:41.138 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:57:41.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 35.9195ms
2025-01-22 01:57:41.162 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 58.5203ms
2025-01-22 01:57:41.796 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 01:57:41.801 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:57:41.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.2594ms
2025-01-22 01:57:41.813 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 01:57:41.843 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:57:41.845 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:57:41.848 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 01:57:41.928 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 01:57:41.937 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T23:57:41.9373151Z"
2025-01-22 01:57:41.944 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 01:57:41.956 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:57:41.9563068Z"
2025-01-22 01:57:41.958 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:57:41.9580822Z"
2025-01-22 01:57:41.961 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T23:57:41.9619233Z"
2025-01-22 01:57:41.971 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.0635ms.
2025-01-22 01:57:41.976 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:57:41.988 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 132.0284ms
2025-01-22 01:57:41.994 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 01:57:42.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 188.3678ms
2025-01-22 01:58:06.183 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:58:06.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:58:06.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.8225ms
2025-01-22 01:58:06.195 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:58:06.199 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:58:06.201 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:58:06.203 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:58:06.245 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:58:06.250 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:58:06.2503048Z"
2025-01-22 01:58:06.252 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:58:06.2528780Z"
2025-01-22 01:58:06.255 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:58:06.2551637Z"
2025-01-22 01:58:06.266 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:58:06.274 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:58:06.2744488Z"
2025-01-22 01:58:06.275 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:58:06.2758144Z"
2025-01-22 01:58:06.277 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:58:06.2773475Z"
2025-01-22 01:58:06.278 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.6086ms.
2025-01-22 01:58:06.283 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:58:06.291 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 79.7364ms
2025-01-22 01:58:06.294 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:58:06.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 102.2303ms
2025-01-22 01:58:10.093 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:58:10.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:58:10.100 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.9519ms
2025-01-22 01:58:10.108 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:58:10.118 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:58:10.120 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:58:10.122 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:58:10.171 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:58:10.174 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-21T23:58:10.1741770Z"
2025-01-22 01:58:10.176 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-21T23:58:10.1760949Z"
2025-01-22 01:58:10.178 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-21T23:58:10.1782828Z"
2025-01-22 01:58:10.197 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:58:10.211 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-21T23:58:10.2117787Z"
2025-01-22 01:58:10.213 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-21T23:58:10.2131921Z"
2025-01-22 01:58:10.215 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 41.4381ms.
2025-01-22 01:58:10.224 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:58:10.227 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 96.9882ms
2025-01-22 01:58:10.230 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:58:10.232 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 123.7459ms
2025-01-22 01:58:47.216 +02:00 [INF] Starting up the application
2025-01-22 01:58:50.843 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 01:58:53.349 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 01:58:53.521 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 01:58:53.924 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 01:58:53.931 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 01:58:53.933 +02:00 [INF] Hosting environment: Development
2025-01-22 01:58:53.935 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 01:58:55.250 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 01:58:55.536 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 293.6543ms
2025-01-22 01:58:55.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 01:58:55.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.5527ms
2025-01-22 01:58:55.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 01:58:56.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 349.8292ms
2025-01-22 01:59:04.803 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:59:04.817 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 01:59:05.009 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 01:59:05.020 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 01:59:05.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 218.9418ms
2025-01-22 01:59:05.774 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 01:59:05.795 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:59:05.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 42.4636ms
2025-01-22 01:59:05.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 01:59:05.935 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:59:06.217 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:59:06.269 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 01:59:06.718 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 01:59:06.723 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:59:06.7232103Z"
2025-01-22 01:59:06.727 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:59:06.7269140Z"
2025-01-22 01:59:06.732 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T23:59:06.7317464Z"
2025-01-22 01:59:07.023 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 01:59:07.033 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:59:07.0335171Z"
2025-01-22 01:59:07.035 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:59:07.0357067Z"
2025-01-22 01:59:07.037 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T23:59:07.0374090Z"
2025-01-22 01:59:07.045 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 318.8681ms.
2025-01-22 01:59:07.062 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 01:59:07.136 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 854.1686ms
2025-01-22 01:59:07.140 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 01:59:07.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1279.6386ms
2025-01-22 01:59:09.109 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 01:59:09.115 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:59:09.117 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.3862ms
2025-01-22 01:59:09.124 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 01:59:09.133 +02:00 [INF] CORS policy execution successful.
2025-01-22 01:59:09.144 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:59:09.175 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 01:59:09.265 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 01:59:09.272 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-21T23:59:09.2723115Z"
2025-01-22 01:59:09.276 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-21T23:59:09.2762389Z"
2025-01-22 01:59:09.281 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-21T23:59:09.2809923Z"
2025-01-22 01:59:09.415 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 01:59:09.488 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-21T23:59:09.4885300Z"
2025-01-22 01:59:09.491 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-21T23:59:09.4911503Z"
2025-01-22 01:59:09.493 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 224.4456ms.
2025-01-22 01:59:09.496 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 01:59:09.498 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 318.0936ms
2025-01-22 01:59:09.504 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 01:59:09.506 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 381.6131ms
2025-01-22 02:00:53.487 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:00:53.510 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:00:53.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 24.7854ms
2025-01-22 02:00:53.555 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:00:53.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:00:53.565 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:00:53.567 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:00:53.617 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:01:01.683 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:01:01.6635410Z"
2025-01-22 02:01:15.585 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:01:15.5643300Z"
2025-01-22 02:01:28.675 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:01:28.6550866Z"
2025-01-22 02:01:30.490 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:01:43.014 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:01:42.9930917Z"
2025-01-22 02:02:02.600 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-22T00:02:02.5994244Z"
2025-01-22 02:02:02.665 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 69044.6612ms.
2025-01-22 02:02:02.669 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 02:02:02.672 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 69101.1431ms
2025-01-22 02:02:02.675 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:02:02.678 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 69123.3123ms
2025-01-22 02:02:05.792 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:02:05.798 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:02:05.800 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.3276ms
2025-01-22 02:02:05.830 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:02:05.836 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:02:05.842 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:02:05.844 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:02:05.900 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:02:11.689 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:02:11.6704367Z"
2025-01-22 02:02:21.141 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:02:21.1217124Z"
2025-01-22 02:02:35.915 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:02:35.8974499Z"
2025-01-22 02:02:45.616 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:07:44.994 +02:00 [INF] Starting up the application
2025-01-22 02:07:49.252 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 02:07:52.139 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 02:07:52.341 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 02:07:52.883 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 02:07:52.890 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 02:07:52.893 +02:00 [INF] Hosting environment: Development
2025-01-22 02:07:52.895 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 02:07:54.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 02:07:54.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 398.3823ms
2025-01-22 02:07:54.904 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 02:07:54.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.5035ms
2025-01-22 02:07:55.115 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 02:07:55.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.2512ms
2025-01-22 02:08:23.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:08:23.038 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 02:08:23.319 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:08:23.329 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:08:23.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 301.9588ms
2025-01-22 02:08:24.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:08:24.411 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:08:24.431 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 50.3672ms
2025-01-22 02:08:24.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:08:24.504 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:08:24.809 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:08:24.867 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:08:25.337 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:08:25.346 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:08:25.3464158Z"
2025-01-22 02:08:25.351 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:08:25.3511860Z"
2025-01-22 02:08:25.361 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:08:25.3612620Z"
2025-01-22 02:08:25.639 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:08:25.648 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:08:25.6481399Z"
2025-01-22 02:08:25.651 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:08:25.6519359Z"
2025-01-22 02:08:25.653 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:08:25.6534874Z"
2025-01-22 02:08:25.662 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 315.5754ms.
2025-01-22 02:08:25.681 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:08:25.751 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 873.9841ms
2025-01-22 02:08:25.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:08:25.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1289.9017ms
2025-01-22 02:08:29.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:08:29.945 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:08:29.947 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 11.4932ms
2025-01-22 02:08:29.959 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:08:29.967 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:08:29.978 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:08:30.002 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:08:30.105 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:08:30.110 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:08:30.1104494Z"
2025-01-22 02:08:30.115 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:08:30.1152957Z"
2025-01-22 02:08:30.122 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:08:30.1229037Z"
2025-01-22 02:08:30.246 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:08:30.319 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:08:30.3193774Z"
2025-01-22 02:08:30.322 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-22T00:08:30.3222303Z"
2025-01-22 02:08:30.326 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 218.5482ms.
2025-01-22 02:08:30.330 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 02:08:30.333 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 325.096ms
2025-01-22 02:08:30.335 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:08:30.338 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 379.0085ms
2025-01-22 02:13:59.973 +02:00 [INF] Starting up the application
2025-01-22 02:14:04.605 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 02:14:07.245 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 02:14:07.420 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 02:14:07.837 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 02:14:07.894 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 02:14:07.897 +02:00 [INF] Hosting environment: Development
2025-01-22 02:14:07.899 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 02:14:08.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 02:14:09.143 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 294.794ms
2025-01-22 02:14:09.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 02:14:09.171 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.2616ms
2025-01-22 02:14:09.519 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 02:14:09.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 399.0088ms
2025-01-22 02:14:24.615 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:14:24.629 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:14:24.640 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 24.3719ms
2025-01-22 02:14:24.647 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:14:24.688 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:14:24.696 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 02:14:25.000 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:14:25.038 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:14:25.446 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:14:25.456 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:14:25.4556211Z"
2025-01-22 02:14:25.463 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:14:25.4631388Z"
2025-01-22 02:14:25.473 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:14:25.4727573Z"
2025-01-22 02:14:25.774 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:14:25.842 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:14:25.8424981Z"
2025-01-22 02:14:25.844 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-22T00:14:25.8447813Z"
2025-01-22 02:14:25.853 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 398.6259ms.
2025-01-22 02:14:25.867 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 02:14:25.879 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 828.545ms
2025-01-22 02:14:25.883 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:14:25.896 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 1249.3917ms
2025-01-22 02:14:48.818 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:14:48.825 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:14:48.827 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.7797ms
2025-01-22 02:14:48.833 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:14:48.838 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:14:48.850 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:14:48.854 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:14:48.908 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:14:48.913 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:14:48.9136221Z"
2025-01-22 02:19:54.046 +02:00 [INF] Starting up the application
2025-01-22 02:19:58.198 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 02:20:00.771 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 02:20:00.945 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 02:20:01.352 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 02:20:01.358 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 02:20:01.361 +02:00 [INF] Hosting environment: Development
2025-01-22 02:20:01.362 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 02:20:02.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 02:20:03.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 409.1517ms
2025-01-22 02:20:03.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 02:20:03.067 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.564ms
2025-01-22 02:20:03.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 02:20:03.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 317.2533ms
2025-01-22 02:22:44.619 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:22:44.632 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:22:44.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 18.3566ms
2025-01-22 02:22:44.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:22:44.670 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:22:44.673 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 02:22:45.016 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:22:45.048 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:22:45.483 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:22:45.490 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:22:45.4896242Z"
2025-01-22 02:22:45.493 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:22:45.4931228Z"
2025-01-22 02:22:45.499 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:22:45.4990183Z"
2025-01-22 02:22:45.770 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:22:45.780 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:22:45.7806582Z"
2025-01-22 02:22:45.782 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:22:45.7823747Z"
2025-01-22 02:22:45.784 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:22:45.7848234Z"
2025-01-22 02:22:45.794 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 301.1718ms.
2025-01-22 02:22:45.813 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:22:45.882 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 821.3167ms
2025-01-22 02:22:45.886 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:22:45.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1232.9312ms
2025-01-22 02:22:50.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:22:50.736 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:22:50.738 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.9481ms
2025-01-22 02:22:50.750 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:22:50.755 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:22:50.768 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:22:50.795 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:22:50.881 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:22:50.887 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:22:50.8878489Z"
2025-01-22 02:22:50.892 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:22:50.8921406Z"
2025-01-22 02:22:50.900 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:22:50.9005777Z"
2025-01-22 02:22:51.028 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:22:55.763 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:22:55.7370925Z"
2025-01-22 02:23:15.145 +02:00 [INF] Starting up the application
2025-01-22 02:23:18.890 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 02:23:21.577 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 02:23:21.818 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 02:23:22.333 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 02:23:22.341 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 02:23:22.343 +02:00 [INF] Hosting environment: Development
2025-01-22 02:23:22.346 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 02:23:23.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 02:23:24.108 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 471.724ms
2025-01-22 02:23:24.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 02:23:24.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 27.2115ms
2025-01-22 02:23:24.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 02:23:24.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 436.5142ms
2025-01-22 02:23:31.302 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:23:31.314 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:23:31.320 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 18.1953ms
2025-01-22 02:23:31.331 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:23:31.340 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:23:31.346 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 02:23:31.606 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:23:31.641 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:23:32.030 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:23:32.036 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:23:32.0358650Z"
2025-01-22 02:23:32.042 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:23:32.0422069Z"
2025-01-22 02:23:32.047 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:23:32.0466595Z"
2025-01-22 02:23:32.345 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:23:32.417 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:23:32.4173805Z"
2025-01-22 02:23:32.419 +02:00 [WRN] No winner found for Gift ID 16 at "2025-01-22T00:23:32.4194758Z"
2025-01-22 02:23:32.428 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 389.2352ms.
2025-01-22 02:23:32.441 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 02:23:32.454 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 800.3125ms
2025-01-22 02:23:32.458 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:23:32.472 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 1141.1962ms
2025-01-22 02:24:22.280 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:24:22.293 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:24:22.295 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 26.3298ms
2025-01-22 02:24:22.325 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:24:22.329 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:24:22.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:24:22.343 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:24:22.410 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:24:22.413 +02:00 [INF] Starting LotteryAsync for Gift ID 18 at "2025-01-22T00:24:22.4133223Z"
2025-01-22 02:24:22.415 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 18 at "2025-01-22T00:24:22.4152228Z"
2025-01-22 02:24:22.416 +02:00 [INF] Fetching Gift with participants for Gift ID 18 at "2025-01-22T00:24:22.4169546Z"
2025-01-22 02:24:22.455 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:24:22.465 +02:00 [WRN] No participants found for Gift ID 18 at "2025-01-22T00:24:22.4653207Z"
2025-01-22 02:24:22.467 +02:00 [WRN] No winner found for Gift ID 18 at "2025-01-22T00:24:22.4674276Z"
2025-01-22 02:24:22.469 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 56.2343ms.
2025-01-22 02:24:22.472 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-22 02:24:22.481 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 127.688ms
2025-01-22 02:24:22.484 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:24:22.487 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 162.4034ms
2025-01-22 02:30:33.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:30:33.478 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:30:33.488 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:30:33.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 37.4451ms
2025-01-22 02:30:33.994 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:30:33.999 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:30:34.001 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.8059ms
2025-01-22 02:30:34.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:30:34.033 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:30:34.035 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:30:34.048 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:30:34.092 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:30:34.097 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:30:34.0974973Z"
2025-01-22 02:30:34.099 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:30:34.0996769Z"
2025-01-22 02:30:34.102 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:30:34.1029633Z"
2025-01-22 02:30:34.200 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:30:34.209 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:30:34.2093126Z"
2025-01-22 02:30:34.210 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:30:34.2109402Z"
2025-01-22 02:30:34.212 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:30:34.2125735Z"
2025-01-22 02:30:34.214 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 118.9965ms.
2025-01-22 02:30:34.218 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:30:34.273 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 219.843ms
2025-01-22 02:30:34.277 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:30:34.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 252.6252ms
2025-01-22 02:31:02.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:02.220 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:31:02.225 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:31:02.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 38.9772ms
2025-01-22 02:31:02.496 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:02.501 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:02.503 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.1454ms
2025-01-22 02:31:02.534 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:31:02.540 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:02.544 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:02.550 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:31:02.594 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:31:02.597 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:02.5976790Z"
2025-01-22 02:31:02.599 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:02.5992732Z"
2025-01-22 02:31:02.600 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:02.6009682Z"
2025-01-22 02:31:02.620 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:31:02.632 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:02.6322558Z"
2025-01-22 02:31:02.633 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:02.6338605Z"
2025-01-22 02:31:02.635 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:02.6355640Z"
2025-01-22 02:31:02.637 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.7391ms.
2025-01-22 02:31:02.643 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:31:02.647 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 92.0111ms
2025-01-22 02:31:02.649 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:02.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 116.8559ms
2025-01-22 02:31:46.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:46.821 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:31:46.827 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:31:46.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 51.0979ms
2025-01-22 02:31:48.182 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:48.186 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:48.188 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.1997ms
2025-01-22 02:31:48.217 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:31:48.222 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:48.225 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:48.227 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:31:48.285 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:31:48.289 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:48.2892435Z"
2025-01-22 02:31:48.291 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:48.2919673Z"
2025-01-22 02:31:48.294 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:48.2949480Z"
2025-01-22 02:31:48.305 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:31:48.316 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:48.3164591Z"
2025-01-22 02:31:48.318 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:48.3181812Z"
2025-01-22 02:31:48.320 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:48.3205716Z"
2025-01-22 02:31:48.322 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.4152ms.
2025-01-22 02:31:48.332 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:31:48.336 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 96.9435ms
2025-01-22 02:31:48.343 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:48.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 128.0756ms
2025-01-22 02:31:54.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:54.626 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:31:54.628 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:31:54.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.4265ms
2025-01-22 02:31:54.909 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:31:54.916 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:54.920 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.5407ms
2025-01-22 02:31:54.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:31:54.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:31:54.956 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:54.959 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:31:55.015 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:31:55.019 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:55.0199317Z"
2025-01-22 02:31:55.022 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:55.0227354Z"
2025-01-22 02:31:55.025 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:31:55.0252097Z"
2025-01-22 02:31:55.040 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:31:55.051 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:55.0518278Z"
2025-01-22 02:31:55.053 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:55.0537265Z"
2025-01-22 02:31:55.056 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:31:55.0562887Z"
2025-01-22 02:31:55.063 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.6029ms.
2025-01-22 02:31:55.069 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:31:55.077 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 111.1266ms
2025-01-22 02:31:55.079 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:31:55.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 145.5371ms
2025-01-22 02:32:03.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:03.638 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:03.641 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:03.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.6958ms
2025-01-22 02:32:03.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:03.908 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:03.910 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.3645ms
2025-01-22 02:32:03.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:03.919 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:03.921 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:03.922 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:03.968 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:03.970 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:03.9709379Z"
2025-01-22 02:32:03.973 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:03.9731804Z"
2025-01-22 02:32:03.975 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:03.9758431Z"
2025-01-22 02:32:03.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:03.985 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:03.9850475Z"
2025-01-22 02:32:03.986 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:03.9866759Z"
2025-01-22 02:32:03.991 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:03.9912360Z"
2025-01-22 02:32:03.992 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.0046ms.
2025-01-22 02:32:03.995 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:03.998 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 67.0663ms
2025-01-22 02:32:04.000 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:04.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 86.1669ms
2025-01-22 02:32:08.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:08.657 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:08.660 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:08.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.7063ms
2025-01-22 02:32:09.218 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:09.222 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:09.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.7822ms
2025-01-22 02:32:09.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:09.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:09.254 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:09.257 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:09.312 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:09.319 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:09.3193217Z"
2025-01-22 02:32:09.321 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:09.3215833Z"
2025-01-22 02:32:09.326 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:09.3262883Z"
2025-01-22 02:32:09.349 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:09.356 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:09.3564789Z"
2025-01-22 02:32:09.360 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:09.3603724Z"
2025-01-22 02:32:09.366 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:09.3664194Z"
2025-01-22 02:32:09.382 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 63.1127ms.
2025-01-22 02:32:09.389 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:09.396 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 127.4686ms
2025-01-22 02:32:09.403 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:09.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 188.1273ms
2025-01-22 02:32:22.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:22.699 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:22.701 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:22.711 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 22.7598ms
2025-01-22 02:32:23.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:23.422 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:23.425 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.6148ms
2025-01-22 02:32:23.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:23.455 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:23.461 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:23.464 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:23.514 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:23.517 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:23.5172689Z"
2025-01-22 02:32:23.519 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:23.5194057Z"
2025-01-22 02:32:23.521 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:23.5214383Z"
2025-01-22 02:32:23.566 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:23.572 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:23.5720428Z"
2025-01-22 02:32:23.573 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:23.5735244Z"
2025-01-22 02:32:23.575 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:23.5754534Z"
2025-01-22 02:32:23.577 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 59.8637ms.
2025-01-22 02:32:23.579 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:23.582 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 110.7167ms
2025-01-22 02:32:23.584 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:23.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 148.4344ms
2025-01-22 02:32:25.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:25.734 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:25.737 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:25.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.6376ms
2025-01-22 02:32:25.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:25.987 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:25.990 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:25.993 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:26.045 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:26.048 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:26.0483896Z"
2025-01-22 02:32:26.050 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:26.0504113Z"
2025-01-22 02:32:26.051 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:26.0519798Z"
2025-01-22 02:32:26.057 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:26.065 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:26.0652557Z"
2025-01-22 02:32:26.066 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:26.0663801Z"
2025-01-22 02:32:26.067 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:26.0678326Z"
2025-01-22 02:32:26.069 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.9264ms.
2025-01-22 02:32:26.072 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:26.082 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 81.3473ms
2025-01-22 02:32:26.085 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:26.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 106.0011ms
2025-01-22 02:32:37.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:37.602 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:37.615 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:37.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 51.0904ms
2025-01-22 02:32:37.913 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:37.917 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:37.919 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.9564ms
2025-01-22 02:32:37.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:37.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:37.938 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:37.941 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:37.986 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:37.989 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:37.9893806Z"
2025-01-22 02:32:37.991 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:37.9915338Z"
2025-01-22 02:32:37.993 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:37.9939586Z"
2025-01-22 02:32:37.999 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:38.005 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:38.0053528Z"
2025-01-22 02:32:38.006 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:38.0068419Z"
2025-01-22 02:32:38.009 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:38.0092443Z"
2025-01-22 02:32:38.015 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.2544ms.
2025-01-22 02:32:38.021 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:38.024 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 78.41ms
2025-01-22 02:32:38.029 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:38.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 104.3698ms
2025-01-22 02:32:41.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:41.061 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:41.064 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:41.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1257ms
2025-01-22 02:32:41.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:41.353 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:41.356 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:41.358 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:41.430 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:41.433 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:41.4332982Z"
2025-01-22 02:32:41.436 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:41.4362351Z"
2025-01-22 02:32:41.438 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:41.4383869Z"
2025-01-22 02:32:41.447 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:41.454 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:41.4543186Z"
2025-01-22 02:32:41.459 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:41.4593965Z"
2025-01-22 02:32:41.462 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:41.4629101Z"
2025-01-22 02:32:41.464 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.3432ms.
2025-01-22 02:32:41.468 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:41.471 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 108.5454ms
2025-01-22 02:32:41.479 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:41.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 133.8878ms
2025-01-22 02:32:43.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:43.329 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:43.331 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:43.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.709ms
2025-01-22 02:32:43.568 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:43.572 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:43.576 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.8581ms
2025-01-22 02:32:43.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:43.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:43.594 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:43.596 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:43.644 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:43.646 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:43.6463854Z"
2025-01-22 02:32:43.647 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:43.6479017Z"
2025-01-22 02:32:43.649 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:43.6494274Z"
2025-01-22 02:32:43.654 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:43.660 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:43.6602891Z"
2025-01-22 02:32:43.661 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:43.6615895Z"
2025-01-22 02:32:43.663 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:43.6632758Z"
2025-01-22 02:32:43.665 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.6121ms.
2025-01-22 02:32:43.671 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:43.675 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 68.4813ms
2025-01-22 02:32:43.678 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:43.681 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 97.8486ms
2025-01-22 02:32:50.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:50.953 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:32:50.957 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:32:50.959 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.714ms
2025-01-22 02:32:51.215 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:32:51.220 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:51.222 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.9514ms
2025-01-22 02:32:51.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:32:51.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:32:51.242 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:51.248 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:32:51.284 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:32:51.286 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:51.2869097Z"
2025-01-22 02:32:51.288 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:51.2885843Z"
2025-01-22 02:32:51.290 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:32:51.2906668Z"
2025-01-22 02:32:51.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:32:51.300 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:51.3004320Z"
2025-01-22 02:32:51.301 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:51.3016029Z"
2025-01-22 02:32:51.303 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:32:51.3031581Z"
2025-01-22 02:32:51.310 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.4358ms.
2025-01-22 02:32:51.314 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:32:51.317 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 63.4365ms
2025-01-22 02:32:51.319 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:32:51.325 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 93.1377ms
2025-01-22 02:33:02.034 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:33:02.037 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:33:02.040 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:33:02.044 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.8898ms
2025-01-22 02:33:02.272 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:33:02.277 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:33:02.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.4994ms
2025-01-22 02:33:02.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:33:02.288 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:33:02.294 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:33:02.298 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:33:02.337 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:33:02.340 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:02.3408362Z"
2025-01-22 02:33:02.342 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:02.3427825Z"
2025-01-22 02:33:02.344 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:02.3442919Z"
2025-01-22 02:33:02.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:33:02.372 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:02.3728583Z"
2025-01-22 02:33:02.374 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:02.3747787Z"
2025-01-22 02:33:02.376 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:02.3765831Z"
2025-01-22 02:33:02.379 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.6907ms.
2025-01-22 02:33:02.382 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:33:02.388 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 83.8174ms
2025-01-22 02:33:02.391 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:33:02.394 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 110.3459ms
2025-01-22 02:33:14.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:33:14.602 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:33:14.604 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:33:14.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 41.8378ms
2025-01-22 02:33:14.970 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:33:14.975 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:33:14.977 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.9275ms
2025-01-22 02:33:14.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:33:14.991 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:33:14.993 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:33:15.001 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:33:15.047 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:33:15.050 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:15.0500254Z"
2025-01-22 02:33:15.051 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:15.0519655Z"
2025-01-22 02:33:15.053 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:33:15.0538708Z"
2025-01-22 02:33:15.071 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:33:15.079 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:15.0797030Z"
2025-01-22 02:33:15.081 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:15.0814675Z"
2025-01-22 02:33:15.083 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:33:15.0834287Z"
2025-01-22 02:33:15.085 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 35.5001ms.
2025-01-22 02:33:15.093 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:33:15.097 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 89.0733ms
2025-01-22 02:33:15.100 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:33:15.102 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 118.2566ms
2025-01-22 02:35:52.051 +02:00 [INF] Starting up the application
2025-01-22 02:35:55.715 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 02:35:58.380 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 02:35:58.577 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 02:35:59.067 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 02:35:59.077 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 02:35:59.080 +02:00 [INF] Hosting environment: Development
2025-01-22 02:35:59.082 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 02:35:59.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 02:36:00.498 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 612.637ms
2025-01-22 02:36:00.527 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 02:36:00.572 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 46.5726ms
2025-01-22 02:36:00.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 02:36:01.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 342.9942ms
2025-01-22 02:36:45.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 02:36:45.752 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 02:36:45.814 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 02:36:45.816 +02:00 [WRN] Missing Authorization Header
2025-01-22 02:36:45.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 74.1737ms
2025-01-22 02:36:46.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 02:36:46.122 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:36:46.132 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 02:36:46.133 +02:00 [WRN] Missing Authorization Header
2025-01-22 02:36:46.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 35.3569ms
2025-01-22 02:36:48.625 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 02:36:48.630 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:36:48.745 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:36:48.754 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:36:48.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 131.8181ms
2025-01-22 02:36:50.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 02:36:50.754 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:36:50.759 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:36:50.763 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 20.2617ms
2025-01-22 02:36:51.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 02:36:51.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:36:51.029 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:36:51.032 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:36:51.036 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 19.982ms
2025-01-22 02:37:00.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 02:37:00.121 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:00.126 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 10.9593ms
2025-01-22 02:37:00.131 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-22 02:37:00.136 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:00.142 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 02:37:00.181 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 02:37:00.458 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 02:37:00.570 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 02:37:00.832 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 02:37:00.912 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 02:37:00.979 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 02:37:01.024 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 558.1704ms.
2025-01-22 02:37:01.039 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 02:37:01.078 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 887.6833ms
2025-01-22 02:37:01.081 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 02:37:01.094 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 962.7151ms
2025-01-22 02:37:01.113 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 02:37:01.123 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:01.126 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 12.9096ms
2025-01-22 02:37:01.131 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 02:37:01.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:01.233 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 02:37:01.242 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 02:37:01.507 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 02:37:01.513 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T00:37:01.5130126Z"
2025-01-22 02:37:01.568 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 02:37:01.630 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T00:37:01.6304718Z"
2025-01-22 02:37:01.633 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T00:37:01.6328566Z"
2025-01-22 02:37:01.634 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T00:37:01.6347950Z"
2025-01-22 02:37:01.637 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 126.5237ms.
2025-01-22 02:37:01.640 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:37:01.684 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 437.7853ms
2025-01-22 02:37:01.687 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 02:37:01.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 558.2299ms
2025-01-22 02:37:22.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:37:22.634 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:22.636 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.9298ms
2025-01-22 02:37:22.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:37:22.646 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:22.650 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:37:22.659 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:37:22.705 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:37:22.713 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:37:22.7137753Z"
2025-01-22 02:37:22.716 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:37:22.7167213Z"
2025-01-22 02:37:22.724 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:37:22.7249053Z"
2025-01-22 02:37:22.814 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:37:22.822 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:37:22.8228642Z"
2025-01-22 02:37:22.827 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:37:22.8270678Z"
2025-01-22 02:37:22.829 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:37:22.8292692Z"
2025-01-22 02:37:22.830 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 122.7689ms.
2025-01-22 02:37:22.834 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:37:22.846 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 181.2974ms
2025-01-22 02:37:22.848 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:37:22.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 208.3163ms
2025-01-22 02:37:26.375 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:37:26.380 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:26.382 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.9734ms
2025-01-22 02:37:26.388 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:37:26.395 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:37:26.399 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:37:26.408 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:37:26.453 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:37:26.458 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:37:26.4580813Z"
2025-01-22 02:37:26.466 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:37:26.4660321Z"
2025-01-22 02:37:26.481 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:37:26.4812496Z"
2025-01-22 02:37:26.602 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:37:26.629 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:37:26.6293883Z"
2025-01-22 02:37:26.793 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T00:37:26.7905873Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 02:37:27.043 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T00:37:27.0436939Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 02:37:27.056 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 599.8376ms.
2025-01-22 02:37:27.058 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 02:37:27.064 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 651.2088ms
2025-01-22 02:37:27.068 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:37:27.071 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 682.8552ms
2025-01-22 02:38:25.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:38:25.892 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:38:25.893 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 22.0992ms
2025-01-22 02:38:25.917 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:38:25.923 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:38:25.926 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:38:25.929 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:38:25.963 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:38:25.966 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:38:25.9664369Z"
2025-01-22 02:38:25.968 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:38:25.9680775Z"
2025-01-22 02:38:25.970 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:38:25.9708751Z"
2025-01-22 02:38:25.992 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:38:26.003 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:38:26.0032893Z"
2025-01-22 02:38:26.066 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T00:38:26.0667940Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 02:38:26.200 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T00:38:26.2007042Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 02:38:26.209 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 243.251ms.
2025-01-22 02:38:26.212 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 02:38:26.214 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 281.0007ms
2025-01-22 02:38:26.216 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:38:26.219 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 301.8651ms
2025-01-22 02:42:09.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:42:09.985 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:42:09.987 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:42:09.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 17.4281ms
2025-01-22 02:42:10.970 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:42:10.994 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:42:10.996 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 26.1024ms
2025-01-22 02:42:11.003 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:42:11.011 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:42:11.014 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:42:11.016 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:42:11.073 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:42:11.077 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:42:11.0774085Z"
2025-01-22 02:42:11.078 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:42:11.0789668Z"
2025-01-22 02:42:11.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:42:11.0804918Z"
2025-01-22 02:42:11.107 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:42:11.115 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:42:11.1152225Z"
2025-01-22 02:42:11.119 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:42:11.1199356Z"
2025-01-22 02:42:11.122 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:42:11.1220341Z"
2025-01-22 02:42:11.123 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 46.4998ms.
2025-01-22 02:42:11.127 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:42:11.130 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 109.1471ms
2025-01-22 02:42:11.137 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:42:11.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 136.4169ms
2025-01-22 02:45:22.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:45:22.960 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:45:22.962 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:45:22.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 49.9282ms
2025-01-22 02:45:24.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:45:24.272 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:45:24.275 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.6897ms
2025-01-22 02:45:24.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:45:24.297 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:45:24.304 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:45:24.307 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:45:24.415 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:45:24.421 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:45:24.4219332Z"
2025-01-22 02:45:24.426 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:45:24.4263764Z"
2025-01-22 02:45:24.428 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:45:24.4288178Z"
2025-01-22 02:45:24.518 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:45:24.560 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:45:24.5606512Z"
2025-01-22 02:45:24.566 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:45:24.5663647Z"
2025-01-22 02:45:24.568 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:45:24.5688205Z"
2025-01-22 02:45:24.570 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 149.2141ms.
2025-01-22 02:45:24.574 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:45:24.582 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 265.4804ms
2025-01-22 02:45:24.586 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:45:24.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 332.3021ms
2025-01-22 02:45:27.889 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:45:27.894 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:45:27.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.9461ms
2025-01-22 02:45:27.904 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:45:27.907 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:45:27.913 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:45:27.916 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:45:27.958 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:45:27.960 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:45:27.9605325Z"
2025-01-22 02:45:27.962 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:45:27.9622796Z"
2025-01-22 02:45:27.964 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:45:27.9643266Z"
2025-01-22 02:45:27.979 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:45:27.992 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:45:27.9924447Z"
2025-01-22 02:45:28.064 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T00:45:28.0642855Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 02:45:28.219 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T00:45:28.2193739Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 02:45:28.228 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 268.2118ms.
2025-01-22 02:45:28.231 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 02:45:28.234 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 312.8104ms
2025-01-22 02:45:28.236 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:45:28.243 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 338.9523ms
2025-01-22 02:50:03.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:50:03.049 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:50:03.052 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:50:03.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 36.2534ms
2025-01-22 02:50:04.143 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:50:04.148 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:04.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.2394ms
2025-01-22 02:50:04.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:50:04.172 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:04.176 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:50:04.184 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:50:04.256 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:50:04.262 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:04.2628195Z"
2025-01-22 02:50:04.264 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:04.2645193Z"
2025-01-22 02:50:04.266 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:04.2668119Z"
2025-01-22 02:50:04.325 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:50:04.333 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:04.3336811Z"
2025-01-22 02:50:04.335 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:04.3351814Z"
2025-01-22 02:50:04.338 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:04.3380323Z"
2025-01-22 02:50:04.350 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 87.4474ms.
2025-01-22 02:50:04.357 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:50:04.363 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 170.0512ms
2025-01-22 02:50:04.375 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:50:04.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 230.131ms
2025-01-22 02:50:06.775 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:50:06.781 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:50:06.784 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:50:06.787 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.7259ms
2025-01-22 02:50:07.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:50:07.760 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:07.763 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:50:07.765 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:50:07.848 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:50:07.853 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:07.8530348Z"
2025-01-22 02:50:07.855 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:07.8558390Z"
2025-01-22 02:50:07.859 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:50:07.8595810Z"
2025-01-22 02:50:07.883 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:50:07.890 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:07.8906390Z"
2025-01-22 02:50:07.892 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:07.8922595Z"
2025-01-22 02:50:07.896 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:50:07.8959828Z"
2025-01-22 02:50:07.904 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 50.9938ms.
2025-01-22 02:50:07.910 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:50:07.919 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 142.5726ms
2025-01-22 02:50:07.922 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:50:07.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 172.7806ms
2025-01-22 02:50:12.040 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:50:12.050 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:12.052 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 12.679ms
2025-01-22 02:50:12.059 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:50:12.067 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:12.070 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:50:12.072 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:50:12.118 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:50:12.121 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:50:12.1211778Z"
2025-01-22 02:50:12.122 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:50:12.1229314Z"
2025-01-22 02:50:12.124 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:50:12.1247755Z"
2025-01-22 02:50:12.139 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:50:12.149 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:50:12.1498985Z"
2025-01-22 02:50:12.214 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T00:50:12.2147923Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 02:50:12.347 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T00:50:12.3476075Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 02:50:12.356 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 235.1177ms.
2025-01-22 02:50:12.358 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 02:50:12.364 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 286.6976ms
2025-01-22 02:50:12.367 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:50:12.370 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 311.0825ms
2025-01-22 02:50:22.259 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 02:50:22.264 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:22.266 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.2073ms
2025-01-22 02:50:22.271 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 02:50:22.275 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:50:22.277 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:50:22.282 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 02:50:22.326 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 02:50:22.330 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T00:50:22.3304074Z"
2025-01-22 02:50:22.333 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T00:50:22.3335087Z"
2025-01-22 02:50:22.336 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T00:50:22.3360139Z"
2025-01-22 02:50:22.352 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 02:50:22.365 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T00:50:22.3656304Z"
2025-01-22 02:50:22.431 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T00:50:22.4318410Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 02:50:22.575 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T00:50:22.5756931Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 02:50:22.586 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 256.0779ms.
2025-01-22 02:50:22.588 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 02:50:22.591 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 304.143ms
2025-01-22 02:50:22.593 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 02:50:22.601 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 329.7023ms
2025-01-22 02:58:02.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:58:02.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:58:02.084 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:58:02.089 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 02:58:02.091 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:58:02.094 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 02:58:02.099 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 38.5293ms
2025-01-22 02:58:02.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 56.4681ms
2025-01-22 02:58:03.078 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 02:58:03.125 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:58:03.128 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 49.9284ms
2025-01-22 02:58:03.141 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 02:58:03.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 02:58:03.156 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:58:03.162 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 02:58:03.253 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 02:58:03.257 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:58:03.2578316Z"
2025-01-22 02:58:03.260 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:58:03.2599858Z"
2025-01-22 02:58:03.262 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T00:58:03.2623869Z"
2025-01-22 02:58:03.347 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 02:58:03.353 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:58:03.3539751Z"
2025-01-22 02:58:03.356 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:58:03.3560204Z"
2025-01-22 02:58:03.358 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T00:58:03.3586533Z"
2025-01-22 02:58:03.360 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 102.9333ms.
2025-01-22 02:58:03.365 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 02:58:03.374 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 197.2158ms
2025-01-22 02:58:03.377 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 02:58:03.381 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 240.1543ms
2025-01-22 03:09:25.161 +02:00 [INF] Starting up the application
2025-01-22 03:09:29.601 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 03:09:32.854 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 03:09:33.065 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:09:33.781 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 03:09:33.787 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 03:09:33.790 +02:00 [INF] Hosting environment: Development
2025-01-22 03:09:33.791 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 03:09:35.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 03:09:35.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 688.3076ms
2025-01-22 03:09:35.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 03:09:35.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.7248ms
2025-01-22 03:09:36.089 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 03:09:36.394 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Gift/search" for actions - project.Controllers.GiftController.SearchAsync (project),project.Controllers.GiftController.SearchAsync (project). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 03:09:36.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 360.8752ms
2025-01-22 03:10:05.592 +02:00 [INF] Starting up the application
2025-01-22 03:10:09.244 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 03:10:11.665 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 03:10:11.826 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:10:12.263 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 03:10:12.269 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 03:10:12.271 +02:00 [INF] Hosting environment: Development
2025-01-22 03:10:12.273 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 03:10:13.141 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 03:10:13.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 609.7198ms
2025-01-22 03:10:13.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 03:10:13.776 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.3477ms
2025-01-22 03:10:13.974 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 03:10:14.329 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 354.6003ms
2025-01-22 03:10:19.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:10:19.037 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 03:10:19.254 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:10:19.264 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:10:19.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 239.9405ms
2025-01-22 03:10:20.269 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:10:20.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:20.300 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 30.6471ms
2025-01-22 03:10:20.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:10:20.326 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:20.531 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:10:20.571 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:10:21.082 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:10:21.091 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:10:21.0915179Z"
2025-01-22 03:10:21.099 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:10:21.0989982Z"
2025-01-22 03:10:21.105 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:10:21.1048908Z"
2025-01-22 03:10:21.370 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:10:21.384 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:10:21.3844932Z"
2025-01-22 03:10:21.386 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:10:21.3868462Z"
2025-01-22 03:10:21.389 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:10:21.3896631Z"
2025-01-22 03:10:21.403 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 312.684ms.
2025-01-22 03:10:21.436 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:10:21.773 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 1187.3674ms
2025-01-22 03:10:21.780 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:10:21.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1500.973ms
2025-01-22 03:10:25.011 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 03:10:25.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:25.019 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.7983ms
2025-01-22 03:10:25.025 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 03:10:25.028 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:25.034 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 03:10:25.055 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 03:10:25.134 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 03:10:25.140 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T01:10:25.1408130Z"
2025-01-22 03:10:25.146 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T01:10:25.1459057Z"
2025-01-22 03:10:25.157 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T01:10:25.1572504Z"
2025-01-22 03:10:25.291 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 03:10:25.359 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T01:10:25.3593556Z"
2025-01-22 03:10:25.502 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T01:10:25.5024160Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 03:10:25.701 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T01:10:25.7012291Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 03:10:25.711 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 573.8981ms.
2025-01-22 03:10:25.717 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 03:10:25.719 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 658.7403ms
2025-01-22 03:10:25.721 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 03:10:25.724 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 699.4134ms
2025-01-22 03:10:35.575 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 03:10:35.581 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:35.584 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 9.0264ms
2025-01-22 03:10:35.590 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 03:10:35.593 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:10:35.596 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 03:10:35.602 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 03:10:35.657 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-22 03:10:35.659 +02:00 [INF] Starting LotteryAsync for Gift ID 16 at "2025-01-22T01:10:35.6598055Z"
2025-01-22 03:10:35.663 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 16 at "2025-01-22T01:10:35.6632443Z"
2025-01-22 03:10:35.665 +02:00 [INF] Fetching Gift with participants for Gift ID 16 at "2025-01-22T01:10:35.6658448Z"
2025-01-22 03:10:35.688 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 03:10:35.703 +02:00 [WRN] No participants found for Gift ID 16 at "2025-01-22T01:10:35.7037276Z"
2025-01-22 03:10:35.788 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 16 at "2025-01-22T01:10:35.7886923Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
2025-01-22 03:10:35.942 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 16 at "2025-01-22T01:10:35.9420534Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 316
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Services\GiftService.cs:line 351
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\GiftController.cs:line 264
2025-01-22 03:10:35.958 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 298.7412ms.
2025-01-22 03:10:35.969 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 03:10:35.973 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 365.4956ms
2025-01-22 03:10:35.981 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 03:10:35.986 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null text/plain; charset=utf-8 396.3877ms
2025-01-22 03:11:32.462 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:11:32.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:11:32.483 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 21.4484ms
2025-01-22 03:11:32.522 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:11:32.533 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:11:32.536 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:11:32.539 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:11:32.602 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:11:32.606 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:32.6065482Z"
2025-01-22 03:11:32.608 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:32.6087836Z"
2025-01-22 03:11:32.611 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:32.6109810Z"
2025-01-22 03:11:32.635 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:11:32.643 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:32.6432439Z"
2025-01-22 03:11:32.645 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:32.6454365Z"
2025-01-22 03:11:32.648 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:32.6484984Z"
2025-01-22 03:11:32.651 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 44.668ms.
2025-01-22 03:11:32.659 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:11:32.665 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 113.3835ms
2025-01-22 03:11:32.668 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:11:32.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 154.2804ms
2025-01-22 03:11:41.346 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:11:41.351 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:11:41.355 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.3782ms
2025-01-22 03:11:41.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:11:41.369 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:11:41.374 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:11:41.377 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:11:41.419 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:11:41.422 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:41.4222629Z"
2025-01-22 03:11:41.423 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:41.4236876Z"
2025-01-22 03:11:41.425 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:11:41.4254503Z"
2025-01-22 03:11:41.441 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:11:41.454 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:41.4541703Z"
2025-01-22 03:11:41.455 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:41.4558370Z"
2025-01-22 03:11:41.457 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:11:41.4579333Z"
2025-01-22 03:11:41.460 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.8134ms.
2025-01-22 03:11:41.470 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:11:41.475 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 91.5451ms
2025-01-22 03:11:41.477 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:11:41.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 116.3377ms
2025-01-22 03:17:14.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:17:14.033 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:17:14.036 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:17:14.037 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 28.1113ms
2025-01-22 03:17:15.398 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:17:15.427 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:17:15.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 31.1617ms
2025-01-22 03:17:15.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:17:15.447 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:17:15.450 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:17:15.452 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:17:15.492 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:17:15.495 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:15.4956990Z"
2025-01-22 03:17:15.497 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:15.4978585Z"
2025-01-22 03:17:15.500 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:15.5002545Z"
2025-01-22 03:17:15.557 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:17:15.564 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:15.5649545Z"
2025-01-22 03:17:15.566 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:15.5667388Z"
2025-01-22 03:17:15.569 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:15.5692194Z"
2025-01-22 03:17:15.571 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 75.9984ms.
2025-01-22 03:17:15.576 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:17:15.583 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 122.1409ms
2025-01-22 03:17:15.586 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:17:15.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 152.5098ms
2025-01-22 03:17:25.803 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:17:25.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:17:25.824 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:17:25.833 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:17:25.836 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:17:25.842 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 38.3257ms
2025-01-22 03:17:25.839 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:17:25.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 85.1982ms
2025-01-22 03:17:27.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:17:27.197 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:17:27.199 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.2663ms
2025-01-22 03:17:27.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:17:27.215 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:17:27.217 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:17:27.221 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:17:27.276 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:17:27.279 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:27.2790462Z"
2025-01-22 03:17:27.281 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:27.2813202Z"
2025-01-22 03:17:27.285 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:17:27.2853212Z"
2025-01-22 03:17:27.304 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:17:27.312 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:27.3126010Z"
2025-01-22 03:17:27.317 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:27.3177367Z"
2025-01-22 03:17:27.320 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:17:27.3203994Z"
2025-01-22 03:17:27.322 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.2395ms.
2025-01-22 03:17:27.327 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:17:27.333 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 104.997ms
2025-01-22 03:17:27.337 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:17:27.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 130.4881ms
2025-01-22 03:37:30.852 +02:00 [INF] Starting up the application
2025-01-22 03:37:35.384 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 03:37:38.516 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 03:37:38.692 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:37:39.246 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 03:37:39.253 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 03:37:39.255 +02:00 [INF] Hosting environment: Development
2025-01-22 03:37:39.257 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 03:37:40.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 03:37:41.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 450.7341ms
2025-01-22 03:37:41.455 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 03:37:41.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.667ms
2025-01-22 03:37:41.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 03:37:42.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 513.9179ms
2025-01-22 03:37:49.294 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:37:49.307 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 03:37:49.550 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:37:49.559 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:37:49.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 269.8743ms
2025-01-22 03:37:50.525 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 03:37:50.547 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:37:50.558 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 33.8464ms
2025-01-22 03:37:50.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 03:37:50.580 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:37:50.817 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:37:50.858 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 03:37:51.297 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 03:37:51.304 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:37:51.3037662Z"
2025-01-22 03:37:51.309 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:37:51.3095054Z"
2025-01-22 03:37:51.317 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T01:37:51.3169708Z"
2025-01-22 03:37:51.586 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 03:37:51.595 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:37:51.5956308Z"
2025-01-22 03:37:51.597 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:37:51.5976113Z"
2025-01-22 03:37:51.599 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T01:37:51.5990307Z"
2025-01-22 03:37:51.607 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 301.972ms.
2025-01-22 03:37:51.622 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:37:51.702 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 833.0838ms
2025-01-22 03:37:51.705 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 03:37:51.714 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1144.2638ms
2025-01-22 03:37:58.481 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:37:58.487 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:37:58.490 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:37:58.493 +02:00 [WRN] Missing Authorization Header
2025-01-22 03:37:58.497 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 16.2362ms
2025-01-22 03:38:06.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:38:06.987 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:38:06.993 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:38:06.995 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:38:06.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.5648ms
2025-01-22 03:38:07.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:38:07.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:38:07.605 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:38:07.606 +02:00 [WRN] Missing Authorization Header
2025-01-22 03:38:07.610 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 17.421ms
2025-01-22 03:40:07.113 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 03:40:07.123 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:07.125 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 21.3968ms
2025-01-22 03:40:07.135 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 108
2025-01-22 03:40:07.138 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:07.141 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:07.167 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 03:40:07.295 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 03:40:07.345 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:40:07.373 +02:00 [WRN] Registration failed: Username 'dff' is already taken.
2025-01-22 03:40:07.705 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-22 03:40:07.767 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 467.6347ms.
2025-01-22 03:40:07.771 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:40:07.791 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 618.9046ms
2025-01-22 03:40:07.795 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:07.798 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 662.3802ms
2025-01-22 03:40:13.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 03:40:13.741 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:13.743 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.9308ms
2025-01-22 03:40:13.749 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 114
2025-01-22 03:40:13.754 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:13.757 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:13.759 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 03:40:13.800 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 03:40:13.810 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:40:13.842 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 03:40:13.850 +02:00 [WRN] Registration failed: Email 'manager1@example.com' is already registered.
2025-01-22 03:40:14.059 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-22 03:40:14.068 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 266.2635ms.
2025-01-22 03:40:14.071 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:40:14.074 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 309.6218ms
2025-01-22 03:40:14.077 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:14.079 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 330.6355ms
2025-01-22 03:40:35.865 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 03:40:35.870 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:35.872 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.5514ms
2025-01-22 03:40:35.878 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 117
2025-01-22 03:40:35.882 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:35.883 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:35.885 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 03:40:35.940 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 03:40:35.950 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:40:35.964 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 03:40:36.149 +02:00 [ERR] Registration failed: Username 'dffדבכ' is invalid, can only contain letters or digits.
2025-01-22 03:40:36.335 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Registration failed: Username 'dffדבכ' is invalid, can only contain letters or digits.
 ---> System.ApplicationException: Registration failed: Username 'dffדבכ' is invalid, can only contain letters or digits.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 101
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-22 03:40:36.346 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 402.7323ms.
2025-01-22 03:40:36.349 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:40:36.352 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 458.1285ms
2025-01-22 03:40:36.359 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:36.362 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 483.9452ms
2025-01-22 03:40:52.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 03:40:52.521 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:52.523 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.5593ms
2025-01-22 03:40:52.530 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 113
2025-01-22 03:40:52.533 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:40:52.534 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:52.536 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 03:40:52.577 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 03:40:52.585 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:40:52.594 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 03:40:52.755 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:40:52.972 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 03:40:52.995 +02:00 [INF] User registered successfully: dffsd
2025-01-22 03:40:52.997 +02:00 [INF] User registered successfully.
2025-01-22 03:40:52.999 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 419.4333ms.
2025-01-22 03:40:53.001 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:40:53.005 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 458.7005ms
2025-01-22 03:40:53.011 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 03:40:53.013 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 483.7232ms
2025-01-22 03:41:02.865 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 03:41:02.870 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:02.871 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.2508ms
2025-01-22 03:41:02.878 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 60
2025-01-22 03:41:02.883 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:02.885 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 03:41:02.893 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 03:41:02.937 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 03:41:02.950 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 03:41:03.174 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 03:41:03.225 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 03:41:03.269 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 03:41:03.277 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 337.6751ms.
2025-01-22 03:41:03.281 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:41:03.288 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 389.5929ms
2025-01-22 03:41:03.293 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 03:41:03.295 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 417.7728ms
2025-01-22 03:41:03.346 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:41:03.350 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:03.352 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.1878ms
2025-01-22 03:41:03.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:41:03.361 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:03.364 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:03.370 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:41:03.417 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:41:03.425 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:41:03.4253691Z"
2025-01-22 03:41:03.454 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:41:03.513 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:03.5136595Z"
2025-01-22 03:41:03.515 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:03.5152407Z"
2025-01-22 03:41:03.516 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:03.5168508Z"
2025-01-22 03:41:03.518 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 95.2078ms.
2025-01-22 03:41:03.521 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:03.560 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 184.3326ms
2025-01-22 03:41:03.563 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:03.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 208.6691ms
2025-01-22 03:41:09.026 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/18 - null null
2025-01-22 03:41:09.032 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:09.034 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/18 - 204 null null 7.5722ms
2025-01-22 03:41:09.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/18 - application/json null
2025-01-22 03:41:09.042 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:09.047 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 03:41:09.056 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 03:41:09.100 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 03:41:09.105 +02:00 [INF] Starting GetByIdAsync with ID 18 at "2025-01-22T01:41:09.1050181Z"
2025-01-22 03:41:09.108 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T01:41:09.1088321Z"
2025-01-22 03:41:09.116 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T01:41:09.1164572Z"
2025-01-22 03:41:09.132 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 03:41:09.138 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 18 at "2025-01-22T01:41:09.1385142Z"
2025-01-22 03:41:09.143 +02:00 [INF] GetByIdAsync completed successfully with ID 18 at "2025-01-22T01:41:09.1435806Z"
2025-01-22 03:41:09.145 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.3549ms.
2025-01-22 03:41:09.148 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 03:41:09.150 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 86.8388ms
2025-01-22 03:41:09.152 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 03:41:09.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/18 - 200 null application/json; charset=utf-8 116.3838ms
2025-01-22 03:41:09.165 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - null null
2025-01-22 03:41:09.170 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:09.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - 204 null null 6.1953ms
2025-01-22 03:41:09.180 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=18 - application/json 2
2025-01-22 03:41:09.183 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:09.185 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 03:41:09.209 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:09.217 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 03:41:09.337 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 03:41:09.347 +02:00 [INF] Starting AddToBasketAsync with GiftId: 18 and Quantity: 1
2025-01-22 03:41:09.348 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 03:41:09.352 +02:00 [INF] Received request to fetch user by token.
2025-01-22 03:41:09.353 +02:00 [INF] Parsing token...
2025-01-22 03:41:09.355 +02:00 [INF] Attempting to retrieve user with username: dffsd and email: managerz1@example.com
2025-01-22 03:41:09.397 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 03:41:09.403 +02:00 [INF] User successfully found: dffsd
2025-01-22 03:41:09.405 +02:00 [INF] User with Id: ecceb466-dc18-488a-9c40-8350c5668928 successfully retrieved.
2025-01-22 03:41:09.406 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T01:41:09.4067948Z"
2025-01-22 03:41:09.413 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 03:41:09.418 +02:00 [INF] Gift with Id: 18 successfully retrieved.
2025-01-22 03:41:09.422 +02:00 [INF] Starting to add Gift 18 (Quantity: 1) to User ecceb466-dc18-488a-9c40-8350c5668928's basket
2025-01-22 03:41:09.437 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 03:41:09.500 +02:00 [INF] Created new UserGift entry for Gift 18 (Quantity: 1) and User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:09.544 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 03:41:09.551 +02:00 [INF] Successfully saved changes to database for Gift 18 and User ecceb466-dc18-488a-9c40-8350c5668928 (Quantity: 1)
2025-01-22 03:41:09.554 +02:00 [INF] Completed AddToBasketAsync for User: ecceb466-dc18-488a-9c40-8350c5668928 and GiftId: 18 with Quantity: 1
2025-01-22 03:41:09.556 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 216.5792ms.
2025-01-22 03:41:09.559 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:41:09.562 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 340.6525ms
2025-01-22 03:41:09.564 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:09.566 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:09.572 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=18 - 200 null application/json; charset=utf-8 391.97ms
2025-01-22 03:41:12.402 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:41:12.408 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:12.411 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 8.5816ms
2025-01-22 03:41:12.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 03:41:12.421 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:12.428 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:41:12.431 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:12.439 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 03:41:12.489 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 03:41:12.495 +02:00 [INF] Received request to get basket for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:12.498 +02:00 [INF] Start fetching user gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:12.531 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 03:41:12.545 +02:00 [INF] Successfully fetched gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928, result count: 1
2025-01-22 03:41:12.550 +02:00 [INF] Successfully retrieved 1 gifts for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:12.551 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 59.5526ms.
2025-01-22 03:41:12.554 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:12.562 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 114.9315ms
2025-01-22 03:41:12.566 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:12.569 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:12.571 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 154.4541ms
2025-01-22 03:41:14.797 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18&quantity=2 - null null
2025-01-22 03:41:14.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:14.805 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18&quantity=2 - 204 null null 7.8567ms
2025-01-22 03:41:14.814 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=18&quantity=2 - application/json 14
2025-01-22 03:41:14.817 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:14.819 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 03:41:14.829 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:14.832 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 03:41:14.869 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 03:41:14.872 +02:00 [INF] Starting AddToBasketAsync with GiftId: 18 and Quantity: 2
2025-01-22 03:41:14.875 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 03:41:14.876 +02:00 [INF] Received request to fetch user by token.
2025-01-22 03:41:14.878 +02:00 [INF] Parsing token...
2025-01-22 03:41:14.880 +02:00 [INF] Attempting to retrieve user with username: dffsd and email: managerz1@example.com
2025-01-22 03:41:14.894 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 03:41:14.901 +02:00 [INF] User successfully found: dffsd
2025-01-22 03:41:14.903 +02:00 [INF] User with Id: ecceb466-dc18-488a-9c40-8350c5668928 successfully retrieved.
2025-01-22 03:41:14.905 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T01:41:14.9051502Z"
2025-01-22 03:41:14.910 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 03:41:14.927 +02:00 [INF] Gift with Id: 18 successfully retrieved.
2025-01-22 03:41:14.954 +02:00 [INF] Starting to add Gift 18 (Quantity: 2) to User ecceb466-dc18-488a-9c40-8350c5668928's basket
2025-01-22 03:41:14.961 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 03:41:14.969 +02:00 [INF] Updated existing UserGift entry for Gift 18 (New Quantity: 2) and User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:15.002 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 03:41:15.011 +02:00 [INF] Successfully saved changes to database for Gift 18 and User ecceb466-dc18-488a-9c40-8350c5668928 (Quantity: 2)
2025-01-22 03:41:15.014 +02:00 [INF] Completed AddToBasketAsync for User: ecceb466-dc18-488a-9c40-8350c5668928 and GiftId: 18 with Quantity: 2
2025-01-22 03:41:15.016 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.6955ms.
2025-01-22 03:41:15.018 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:41:15.021 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 182.7238ms
2025-01-22 03:41:15.023 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:15.029 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:15.031 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=18&quantity=2 - 200 null application/json; charset=utf-8 217.5192ms
2025-01-22 03:41:17.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - null null
2025-01-22 03:41:17.543 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:17.546 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - 204 null null 8.0927ms
2025-01-22 03:41:17.551 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=18 - application/json null
2025-01-22 03:41:17.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:17.562 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 03:41:17.565 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 03:41:17.577 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 03:41:17.617 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 03:41:17.621 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 18
2025-01-22 03:41:17.623 +02:00 [INF] Removing Gift 18 from User ecceb466-dc18-488a-9c40-8350c5668928's basket
2025-01-22 03:41:17.628 +02:00 [INF] Removing Gift 18 for User ecceb466-dc18-488a-9c40-8350c5668928 in database
2025-01-22 03:41:17.646 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 03:41:17.703 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 03:41:17.732 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserGifts]
OUTPUT 1
WHERE [GiftId] = @p0 AND [UserId] = @p1;
2025-01-22 03:41:17.745 +02:00 [INF] Removed Gift 18 for User ecceb466-dc18-488a-9c40-8350c5668928 successfully
2025-01-22 03:41:17.747 +02:00 [INF] Removed Gift 18 from User ecceb466-dc18-488a-9c40-8350c5668928's basket successfully
2025-01-22 03:41:17.749 +02:00 [INF] Completed RemoveGiftFromUserAsync for GiftId: 18
2025-01-22 03:41:17.751 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 131.6984ms.
2025-01-22 03:41:17.754 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 173.0485ms
2025-01-22 03:41:17.759 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 03:41:17.762 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:17.764 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=18 - 200 0 null 213.1737ms
2025-01-22 03:41:17.772 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:41:17.777 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:17.778 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.6225ms
2025-01-22 03:41:17.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 03:41:17.793 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:17.795 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:41:17.798 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:17.800 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 03:41:17.831 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 03:41:17.835 +02:00 [INF] Received request to get basket for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:17.837 +02:00 [INF] Start fetching user gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:17.843 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 03:41:17.851 +02:00 [WRN] No gifts found for userId: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:17.852 +02:00 [INF] No gifts found for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:17.854 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.7016ms.
2025-01-22 03:41:17.856 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:17.867 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 61.4848ms
2025-01-22 03:41:17.869 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:17.871 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:17.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 89.5286ms
2025-01-22 03:41:19.961 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:41:19.965 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:19.968 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.6557ms
2025-01-22 03:41:19.977 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:41:19.981 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:19.984 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:19.986 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:41:20.035 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:41:20.038 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:41:20.0388381Z"
2025-01-22 03:41:20.044 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:41:20.049 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:20.0491313Z"
2025-01-22 03:41:20.050 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:20.0503830Z"
2025-01-22 03:41:20.051 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:20.0518925Z"
2025-01-22 03:41:20.055 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.0085ms.
2025-01-22 03:41:20.060 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:20.063 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 64.8435ms
2025-01-22 03:41:20.065 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:20.067 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 90.3878ms
2025-01-22 03:41:30.928 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - null null
2025-01-22 03:41:30.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:30.934 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - 204 null null 5.7897ms
2025-01-22 03:41:30.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/16 - application/json null
2025-01-22 03:41:30.943 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:30.944 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 03:41:30.946 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 03:41:30.984 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 03:41:30.987 +02:00 [INF] Starting GetByIdAsync with ID 16 at "2025-01-22T01:41:30.9879401Z"
2025-01-22 03:41:30.990 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T01:41:30.9906862Z"
2025-01-22 03:41:30.993 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T01:41:30.9934816Z"
2025-01-22 03:41:31.000 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 03:41:31.006 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 16 at "2025-01-22T01:41:31.0060559Z"
2025-01-22 03:41:31.008 +02:00 [INF] GetByIdAsync completed successfully with ID 16 at "2025-01-22T01:41:31.0080372Z"
2025-01-22 03:41:31.010 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.6297ms.
2025-01-22 03:41:31.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 03:41:31.017 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 67.1167ms
2025-01-22 03:41:31.019 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 03:41:31.021 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/16 - 200 null application/json; charset=utf-8 82.2736ms
2025-01-22 03:41:31.026 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-22 03:41:31.030 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:31.034 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 7.104ms
2025-01-22 03:41:31.039 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - application/json 2
2025-01-22 03:41:31.042 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:31.043 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 03:41:31.045 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:31.049 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 03:41:31.141 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 03:41:31.145 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 1
2025-01-22 03:41:31.146 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 03:41:31.148 +02:00 [INF] Received request to fetch user by token.
2025-01-22 03:41:31.150 +02:00 [INF] Parsing token...
2025-01-22 03:41:31.151 +02:00 [INF] Attempting to retrieve user with username: dffsd and email: managerz1@example.com
2025-01-22 03:41:31.161 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 03:41:31.171 +02:00 [INF] User successfully found: dffsd
2025-01-22 03:41:31.176 +02:00 [INF] User with Id: ecceb466-dc18-488a-9c40-8350c5668928 successfully retrieved.
2025-01-22 03:41:31.178 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T01:41:31.1785647Z"
2025-01-22 03:41:31.182 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 03:41:31.186 +02:00 [INF] Gift with Id: 16 successfully retrieved.
2025-01-22 03:41:31.188 +02:00 [INF] Starting to add Gift 16 (Quantity: 1) to User ecceb466-dc18-488a-9c40-8350c5668928's basket
2025-01-22 03:41:31.197 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 03:41:31.202 +02:00 [INF] Created new UserGift entry for Gift 16 (Quantity: 1) and User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:31.211 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 03:41:31.215 +02:00 [INF] Successfully saved changes to database for Gift 16 and User ecceb466-dc18-488a-9c40-8350c5668928 (Quantity: 1)
2025-01-22 03:41:31.218 +02:00 [INF] Completed AddToBasketAsync for User: ecceb466-dc18-488a-9c40-8350c5668928 and GiftId: 16 with Quantity: 1
2025-01-22 03:41:31.220 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 75.7838ms.
2025-01-22 03:41:31.227 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 03:41:31.230 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 177.1077ms
2025-01-22 03:41:31.232 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 03:41:31.234 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:31.236 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - 200 null application/json; charset=utf-8 196.9837ms
2025-01-22 03:41:33.125 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:41:33.131 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:33.136 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.2839ms
2025-01-22 03:41:33.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 03:41:33.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:33.152 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:41:33.156 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:33.158 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 03:41:33.216 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 03:41:33.218 +02:00 [INF] Received request to get basket for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:33.221 +02:00 [INF] Start fetching user gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:33.232 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 03:41:33.241 +02:00 [INF] Successfully fetched gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928, result count: 1
2025-01-22 03:41:33.246 +02:00 [INF] Successfully retrieved 1 gifts for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:33.248 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.7169ms.
2025-01-22 03:41:33.251 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:33.255 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 85.9772ms
2025-01-22 03:41:33.261 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:41:33.263 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:33.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 123.0442ms
2025-01-22 03:41:55.958 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-22 03:41:55.964 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:55.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 7.2526ms
2025-01-22 03:41:55.970 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-22 03:41:55.973 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:55.980 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-22 03:41:55.984 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 03:41:55.991 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-22 03:41:56.026 +02:00 [INF] Executing action method project.Controllers.UserController.ConfirmPurchaseAsync (project) - Validation state: "Valid"
2025-01-22 03:41:56.030 +02:00 [INF] Starting ConfirmPurchaseAsync for User: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.038 +02:00 [INF] Confirming purchase for User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.045 +02:00 [INF] Fetching UserGifts for User ecceb466-dc18-488a-9c40-8350c5668928 to confirm purchase
2025-01-22 03:41:56.064 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-22 03:41:56.072 +02:00 [INF] Updated Gift 16 to Purchased for User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.080 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 03:41:56.084 +02:00 [INF] Purchase confirmed for User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.088 +02:00 [INF] Purchase confirmed for User ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.089 +02:00 [INF] Completed ConfirmPurchaseAsync for User: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:41:56.091 +02:00 [INF] Executed action method project.Controllers.UserController.ConfirmPurchaseAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 61.9522ms.
2025-01-22 03:41:56.095 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 96.9149ms
2025-01-22 03:41:56.097 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 03:41:56.099 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:41:56.100 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 130.1894ms
2025-01-22 03:41:56.119 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:41:56.124 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:56.127 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.1165ms
2025-01-22 03:41:56.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:41:56.138 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:41:56.143 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:56.145 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:41:56.179 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:41:56.182 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:41:56.1820508Z"
2025-01-22 03:41:56.186 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:41:56.191 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:56.1917013Z"
2025-01-22 03:41:56.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:56.1938803Z"
2025-01-22 03:41:56.198 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:41:56.1987830Z"
2025-01-22 03:41:56.201 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.0223ms.
2025-01-22 03:41:56.205 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:41:56.209 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 56.2702ms
2025-01-22 03:41:56.214 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:41:56.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 81.3214ms
2025-01-22 03:42:31.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:42:31.505 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:42:31.507 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:42:31.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 23.0577ms
2025-01-22 03:42:32.067 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:42:32.071 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:42:32.074 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.7416ms
2025-01-22 03:42:32.083 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:42:32.088 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:42:32.092 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:42:32.097 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:42:32.164 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:42:32.168 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:42:32.1679877Z"
2025-01-22 03:42:32.177 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:42:32.182 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:32.1825214Z"
2025-01-22 03:42:32.186 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:32.1868008Z"
2025-01-22 03:42:32.188 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:32.1885627Z"
2025-01-22 03:42:32.191 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.2092ms.
2025-01-22 03:42:32.195 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:42:32.203 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 102.1072ms
2025-01-22 03:42:32.206 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:42:32.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 126.6515ms
2025-01-22 03:42:34.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:42:34.328 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:42:34.332 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:42:34.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 14.4146ms
2025-01-22 03:42:34.968 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:42:34.980 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:42:34.983 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:42:34.995 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:42:35.059 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:42:35.069 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:42:35.0693433Z"
2025-01-22 03:42:35.086 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:42:35.100 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:35.1004661Z"
2025-01-22 03:42:35.103 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:35.1033899Z"
2025-01-22 03:42:35.108 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:42:35.1081136Z"
2025-01-22 03:42:35.110 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 41.048ms.
2025-01-22 03:42:35.117 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:42:35.122 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 113.8362ms
2025-01-22 03:42:35.133 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:42:35.137 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 171.8961ms
2025-01-22 03:44:48.744 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:44:48.754 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:44:48.757 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:44:48.759 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.4335ms
2025-01-22 03:44:49.526 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:44:49.551 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:44:49.553 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 26.5949ms
2025-01-22 03:44:49.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:44:49.567 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:44:49.570 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:44:49.573 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:44:49.628 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:44:49.631 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:44:49.6317440Z"
2025-01-22 03:44:49.640 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:44:49.647 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:44:49.6476680Z"
2025-01-22 03:44:49.649 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:44:49.6498024Z"
2025-01-22 03:44:49.652 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:44:49.6520486Z"
2025-01-22 03:44:49.657 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.4073ms.
2025-01-22 03:44:49.661 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:44:49.664 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.8102ms
2025-01-22 03:44:49.667 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:44:49.674 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 114.656ms
2025-01-22 03:45:26.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:45:26.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:45:26.626 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:45:26.631 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:45:26.633 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:45:26.635 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:45:26.637 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 32.0372ms
2025-01-22 03:45:26.639 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 29.1964ms
2025-01-22 03:45:26.937 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 03:45:26.943 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:26.948 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.1037ms
2025-01-22 03:45:26.955 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-22 03:45:26.964 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:26.968 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:45:26.970 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 03:45:27.035 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 03:45:27.039 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T01:45:27.0391223Z"
2025-01-22 03:45:27.047 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 03:45:27.055 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:45:27.0555618Z"
2025-01-22 03:45:27.058 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:45:27.0584611Z"
2025-01-22 03:45:27.060 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T01:45:27.0605778Z"
2025-01-22 03:45:27.062 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.7389ms.
2025-01-22 03:45:27.070 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:45:27.074 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 91.5885ms
2025-01-22 03:45:27.078 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 03:45:27.080 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 124.4949ms
2025-01-22 03:45:32.241 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:45:32.247 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:32.249 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.4212ms
2025-01-22 03:45:32.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 03:45:32.261 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:32.263 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:45:32.265 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:45:32.271 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 03:45:32.316 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 03:45:32.319 +02:00 [INF] Received request to get basket for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:45:32.321 +02:00 [INF] Start fetching user gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:45:32.329 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 03:45:32.335 +02:00 [INF] Successfully fetched gifts for userId: ecceb466-dc18-488a-9c40-8350c5668928, result count: 1
2025-01-22 03:45:32.336 +02:00 [INF] Successfully retrieved 1 gifts for user: ecceb466-dc18-488a-9c40-8350c5668928
2025-01-22 03:45:32.339 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.6819ms.
2025-01-22 03:45:32.343 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 03:45:32.349 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 72.8157ms
2025-01-22 03:45:32.352 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 03:45:32.355 +02:00 [INF] Outgoing Response: 200
2025-01-22 03:45:32.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 101.0631ms
2025-01-22 03:45:34.204 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-22 03:45:34.209 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:34.210 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 6.6045ms
2025-01-22 03:45:34.215 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - application/json null
2025-01-22 03:45:34.219 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:34.220 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 03:45:34.223 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 03:45:34.225 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 03:45:34.270 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 03:45:34.274 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 16
2025-01-22 03:45:34.277 +02:00 [INF] Removing Gift 16 from User ecceb466-dc18-488a-9c40-8350c5668928's basket
2025-01-22 03:45:34.281 +02:00 [INF] Removing Gift 16 for User ecceb466-dc18-488a-9c40-8350c5668928 in database
2025-01-22 03:45:34.287 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 03:45:34.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 03:45:34.605 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 371.8768ms
2025-01-22 03:45:34.607 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 03:45:34.742 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 03:45:34.782 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - 500 null text/plain; charset=utf-8 566.4378ms
2025-01-22 03:45:52.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:45:52.748 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:45:52.750 +02:00 [WRN] Missing Authorization Header
2025-01-22 03:45:52.753 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.5307ms
2025-01-22 03:45:52.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 03:45:53.003 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:53.006 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 03:45:53.008 +02:00 [WRN] Missing Authorization Header
2025-01-22 03:45:53.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 14.6278ms
2025-01-22 03:45:57.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:45:57.186 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:45:57.189 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:45:57.193 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:45:57.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 14.2223ms
2025-01-22 03:46:03.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:46:03.134 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:46:03.137 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:46:03.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.5584ms
2025-01-22 03:46:03.378 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:46:03.382 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:46:03.385 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:46:03.390 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:46:03.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 14.091ms
2025-01-22 03:47:48.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:47:48.229 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:47:48.247 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:47:48.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 90.1236ms
2025-01-22 03:47:48.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:47:48.518 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:47:48.524 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:47:48.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 49.0664ms
2025-01-22 03:47:49.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:47:49.308 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:47:49.311 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:47:49.315 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:47:49.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 16.348ms
2025-01-22 03:47:53.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:47:53.489 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:47:53.492 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:47:53.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 28.518ms
2025-01-22 03:47:54.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:47:54.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:47:54.022 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:47:54.026 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:47:54.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.2355ms
2025-01-22 03:48:18.687 +02:00 [INF] Starting up the application
2025-01-22 03:48:22.251 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 03:48:24.851 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 03:48:25.017 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 03:48:25.539 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 03:48:25.547 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 03:48:25.549 +02:00 [INF] Hosting environment: Development
2025-01-22 03:48:25.551 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 03:48:26.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 03:48:27.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 386.2176ms
2025-01-22 03:48:27.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 03:48:27.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 14.7662ms
2025-01-22 03:48:27.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 03:48:27.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 327.2523ms
2025-01-22 03:48:33.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:48:33.190 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 03:48:33.331 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:48:33.340 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:48:33.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 163.898ms
2025-01-22 03:48:33.890 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 03:48:33.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 03:48:33.921 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 03:48:33.924 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 03:48:33.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 37.314ms
2025-01-22 04:01:30.730 +02:00 [INF] Starting up the application
2025-01-22 04:01:34.657 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 04:01:38.400 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 04:01:38.613 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 04:01:39.145 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 04:01:39.152 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 04:01:39.156 +02:00 [INF] Hosting environment: Development
2025-01-22 04:01:39.157 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 04:01:39.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:01:39.471 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:01:39.475 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 04:01:39.515 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:01:39.516 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:01:39.587 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 179.101ms
2025-01-22 04:01:40.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 04:01:40.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:01:40.871 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:01:40.879 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:01:40.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 74.356ms
2025-01-22 04:01:41.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 718.5101ms
2025-01-22 04:01:41.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 04:01:41.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:01:41.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 345.7067ms
2025-01-22 04:01:41.619 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:01:41.660 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:01:41.662 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:01:41.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 95.4935ms
2025-01-22 04:01:42.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 04:01:42.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 405.8121ms
2025-01-22 04:02:00.222 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 04:02:00.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:02:00.384 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:02:00.420 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 04:02:00.803 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 04:02:00.813 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T02:02:00.8132609Z"
2025-01-22 04:02:00.926 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 04:02:00.989 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:02:00.9889183Z"
2025-01-22 04:02:00.991 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:02:00.9913888Z"
2025-01-22 04:02:00.993 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:02:00.9930706Z"
2025-01-22 04:02:01.000 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 189.2085ms.
2025-01-22 04:02:01.015 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 04:02:01.113 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 677.9001ms
2025-01-22 04:02:01.118 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:02:01.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 911.5248ms
2025-01-22 04:02:01.899 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:02:01.909 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:02:01.912 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:02:01.916 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:02:01.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 19.0048ms
2025-01-22 04:09:51.582 +02:00 [INF] Starting up the application
2025-01-22 04:09:56.246 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 04:09:59.256 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 04:09:59.426 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 04:09:59.942 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 04:09:59.951 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 04:09:59.953 +02:00 [INF] Hosting environment: Development
2025-01-22 04:09:59.954 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 04:10:01.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 04:10:02.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 422.2235ms
2025-01-22 04:10:02.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 04:10:02.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.3178ms
2025-01-22 04:10:02.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 04:10:02.759 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 442.1127ms
2025-01-22 04:10:18.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:10:18.171 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 04:10:18.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:10:18.356 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:10:18.356 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:10:18.358 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:10:18.360 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:10:18.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 225.4583ms
2025-01-22 04:10:18.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 129.7404ms
2025-01-22 04:10:19.229 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:10:19.273 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:10:19.284 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:10:19.286 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:10:19.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 67.5303ms
2025-01-22 04:10:26.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 04:10:26.478 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:10:26.627 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:10:26.662 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 04:10:27.018 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 04:10:27.026 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T02:10:27.0259472Z"
2025-01-22 04:10:27.132 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 04:10:27.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:10:27.1928269Z"
2025-01-22 04:10:27.196 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:10:27.1964116Z"
2025-01-22 04:10:27.198 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:10:27.1987118Z"
2025-01-22 04:10:27.206 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 180.2511ms.
2025-01-22 04:10:27.224 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 04:10:27.305 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 633.5221ms
2025-01-22 04:10:27.308 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:10:27.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 845.6432ms
2025-01-22 04:10:42.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:10:42.127 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:10:42.129 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:10:42.132 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:10:42.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 12.4596ms
2025-01-22 04:11:07.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:07.316 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:07.318 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:07.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 17.9303ms
2025-01-22 04:11:07.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:07.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:11:07.916 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:07.918 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:07.920 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 53.6116ms
2025-01-22 04:11:11.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:11.241 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:11.242 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:11.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.3412ms
2025-01-22 04:11:11.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:11.706 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:11:11.708 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:11.713 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:11.721 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 20.937ms
2025-01-22 04:11:14.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 04:11:14.473 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:11:14.480 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:11:14.482 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 04:11:14.531 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 04:11:14.535 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T02:11:14.5356433Z"
2025-01-22 04:11:14.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 04:11:14.568 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:11:14.5681197Z"
2025-01-22 04:11:14.569 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:11:14.5692923Z"
2025-01-22 04:11:14.573 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T02:11:14.5732859Z"
2025-01-22 04:11:14.575 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.6599ms.
2025-01-22 04:11:14.578 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 04:11:14.582 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 95.7395ms
2025-01-22 04:11:14.588 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 04:11:14.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 122.6319ms
2025-01-22 04:11:15.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:15.214 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:11:15.216 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:15.217 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:15.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 13.2301ms
2025-01-22 04:11:27.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:27.671 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:27.673 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:27.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.7673ms
2025-01-22 04:11:28.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 04:11:28.621 +02:00 [INF] CORS policy execution successful.
2025-01-22 04:11:28.624 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 04:11:28.627 +02:00 [WRN] Missing Authorization Header
2025-01-22 04:11:28.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 16.9032ms
2025-01-22 07:46:14.375 +02:00 [INF] Starting up the application
2025-01-22 07:46:20.823 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 07:46:24.460 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 07:46:24.685 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 07:46:25.517 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 07:46:25.579 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 07:46:25.583 +02:00 [INF] Hosting environment: Development
2025-01-22 07:46:25.587 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-22 07:46:27.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 07:46:27.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 668.6911ms
2025-01-22 07:46:27.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 07:46:27.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 21.187ms
2025-01-22 07:46:28.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 07:46:28.963 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 608.4856ms
2025-01-22 07:46:51.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 07:46:51.409 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 07:46:51.710 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:46:51.755 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 07:46:52.231 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 07:46:52.242 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T05:46:52.2415669Z"
2025-01-22 07:46:52.447 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 07:46:52.554 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:46:52.5540783Z"
2025-01-22 07:46:52.557 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:46:52.5568401Z"
2025-01-22 07:46:52.561 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:46:52.5617274Z"
2025-01-22 07:46:52.584 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 334.7595ms.
2025-01-22 07:46:52.616 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:46:52.721 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 953.6213ms
2025-01-22 07:46:52.726 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:46:52.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1347.4218ms
2025-01-22 07:49:39.775 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 07:49:39.790 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:49:39.797 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 07:49:39.799 +02:00 [WRN] Missing Authorization Header
2025-01-22 07:49:39.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 29.7614ms
2025-01-22 07:50:20.560 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 07:50:20.575 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:20.582 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 21.9666ms
2025-01-22 07:50:20.588 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 114
2025-01-22 07:50:20.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:20.597 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 07:50:20.621 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 07:50:20.759 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 07:50:20.800 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 07:50:20.824 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 07:50:20.836 +02:00 [WRN] Registration failed: Email 'manager1@example.com' is already registered.
2025-01-22 07:50:21.201 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-22 07:50:21.293 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 530.7513ms.
2025-01-22 07:50:21.298 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:50:21.319 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 687.8252ms
2025-01-22 07:50:21.322 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 07:50:21.325 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 736.7394ms
2025-01-22 07:50:38.353 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 07:50:38.358 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:38.361 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 7.9377ms
2025-01-22 07:50:38.367 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 116
2025-01-22 07:50:38.371 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:38.376 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 07:50:38.383 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 07:50:38.434 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-22 07:50:38.445 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 07:50:38.455 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 07:50:38.699 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 07:50:38.946 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 07:50:38.968 +02:00 [INF] User registered successfully: asddf
2025-01-22 07:50:38.970 +02:00 [INF] User registered successfully.
2025-01-22 07:50:38.972 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 535.3579ms.
2025-01-22 07:50:38.977 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:50:38.981 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 594.473ms
2025-01-22 07:50:38.984 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 07:50:38.986 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 618.9155ms
2025-01-22 07:50:58.411 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 07:50:58.416 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:58.418 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.0414ms
2025-01-22 07:50:58.423 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 62
2025-01-22 07:50:58.428 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:58.430 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 07:50:58.437 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 07:50:58.497 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 07:50:58.508 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 07:50:58.753 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 07:50:58.868 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 07:50:58.933 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 07:50:58.940 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 440.3194ms.
2025-01-22 07:50:58.944 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:50:58.949 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 506.236ms
2025-01-22 07:50:58.952 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 07:50:58.958 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 534.2921ms
2025-01-22 07:50:58.983 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 07:50:58.988 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:50:58.990 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:50:58.992 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 07:50:59.034 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 07:50:59.038 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T05:50:59.0384929Z"
2025-01-22 07:50:59.045 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 07:50:59.058 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:50:59.0588008Z"
2025-01-22 07:50:59.061 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:50:59.0614190Z"
2025-01-22 07:50:59.068 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:50:59.0688727Z"
2025-01-22 07:50:59.071 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.2028ms.
2025-01-22 07:50:59.078 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:50:59.093 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 95.6654ms
2025-01-22 07:50:59.099 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:50:59.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 121.4451ms
2025-01-22 07:51:06.661 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - null null
2025-01-22 07:51:06.665 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:06.667 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - 204 null null 6.285ms
2025-01-22 07:51:06.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/16 - application/json null
2025-01-22 07:51:06.679 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:06.791 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 07:51:06.799 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 07:51:06.833 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 07:51:06.837 +02:00 [INF] Starting GetByIdAsync with ID 16 at "2025-01-22T05:51:06.8374871Z"
2025-01-22 07:51:06.840 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T05:51:06.8400991Z"
2025-01-22 07:51:06.845 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T05:51:06.8456214Z"
2025-01-22 07:51:06.862 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:06.869 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 16 at "2025-01-22T05:51:06.8692399Z"
2025-01-22 07:51:06.871 +02:00 [INF] GetByIdAsync completed successfully with ID 16 at "2025-01-22T05:51:06.8712863Z"
2025-01-22 07:51:06.873 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.3207ms.
2025-01-22 07:51:06.875 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 07:51:06.881 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 78.0218ms
2025-01-22 07:51:06.883 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 07:51:06.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/16 - 200 null application/json; charset=utf-8 214.1308ms
2025-01-22 07:51:06.895 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-22 07:51:06.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:06.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 4.7807ms
2025-01-22 07:51:06.905 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - application/json 2
2025-01-22 07:51:06.909 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:06.912 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 07:51:06.944 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:06.951 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:51:07.091 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 07:51:07.100 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 1
2025-01-22 07:51:07.102 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 07:51:07.106 +02:00 [INF] Received request to fetch user by token.
2025-01-22 07:51:07.107 +02:00 [INF] Parsing token...
2025-01-22 07:51:07.110 +02:00 [INF] Attempting to retrieve user with username: asddf and email: manager1kk@example.com
2025-01-22 07:51:07.153 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 07:51:07.159 +02:00 [INF] User successfully found: asddf
2025-01-22 07:51:07.161 +02:00 [INF] User with Id: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 successfully retrieved.
2025-01-22 07:51:07.162 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T05:51:07.1628514Z"
2025-01-22 07:51:07.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:07.170 +02:00 [INF] Gift with Id: 16 successfully retrieved.
2025-01-22 07:51:07.174 +02:00 [INF] Starting to add Gift 16 (Quantity: 1) to User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8's basket
2025-01-22 07:51:07.192 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 07:51:07.250 +02:00 [INF] Created new UserGift entry for Gift 16 (Quantity: 1) and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:07.291 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 07:51:07.298 +02:00 [INF] Successfully saved changes to database for Gift 16 and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 (Quantity: 1)
2025-01-22 07:51:07.302 +02:00 [INF] Completed AddToBasketAsync for User: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 and GiftId: 16 with Quantity: 1
2025-01-22 07:51:07.305 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 211.583ms.
2025-01-22 07:51:07.310 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:51:07.312 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 357.5613ms
2025-01-22 07:51:07.318 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:07.321 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:07.324 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - 200 null application/json; charset=utf-8 419.0051ms
2025-01-22 07:51:09.111 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 07:51:09.115 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:09.118 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.2263ms
2025-01-22 07:51:09.128 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 07:51:09.132 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:09.136 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 07:51:09.143 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 07:51:09.151 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 07:51:09.191 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 07:51:09.211 +02:00 [INF] Received request to get basket for user: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:09.214 +02:00 [INF] Start fetching user gifts for userId: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:09.264 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 07:51:09.278 +02:00 [INF] Successfully fetched gifts for userId: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8, result count: 1
2025-01-22 07:51:09.283 +02:00 [INF] Successfully retrieved 1 gifts for user: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:09.286 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 77.4307ms.
2025-01-22 07:51:09.288 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:51:09.297 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 137.5302ms
2025-01-22 07:51:09.300 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 07:51:09.302 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:09.303 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 175.6472ms
2025-01-22 07:51:28.347 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16&quantity=2 - null null
2025-01-22 07:51:28.353 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:28.355 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16&quantity=2 - 204 null null 7.907ms
2025-01-22 07:51:28.367 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16&quantity=2 - application/json 14
2025-01-22 07:51:28.372 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:28.375 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 07:51:28.381 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:28.385 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:51:28.418 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 07:51:28.421 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 2
2025-01-22 07:51:28.425 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 07:51:28.427 +02:00 [INF] Received request to fetch user by token.
2025-01-22 07:51:28.429 +02:00 [INF] Parsing token...
2025-01-22 07:51:28.431 +02:00 [INF] Attempting to retrieve user with username: asddf and email: manager1kk@example.com
2025-01-22 07:51:28.437 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 07:51:28.449 +02:00 [INF] User successfully found: asddf
2025-01-22 07:51:28.450 +02:00 [INF] User with Id: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 successfully retrieved.
2025-01-22 07:51:28.452 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T05:51:28.4526592Z"
2025-01-22 07:51:28.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:28.465 +02:00 [INF] Gift with Id: 16 successfully retrieved.
2025-01-22 07:51:28.466 +02:00 [INF] Starting to add Gift 16 (Quantity: 2) to User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8's basket
2025-01-22 07:51:28.470 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 07:51:28.482 +02:00 [INF] Updated existing UserGift entry for Gift 16 (New Quantity: 2) and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:28.503 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 07:51:28.513 +02:00 [INF] Successfully saved changes to database for Gift 16 and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 (Quantity: 2)
2025-01-22 07:51:28.516 +02:00 [INF] Completed AddToBasketAsync for User: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 and GiftId: 16 with Quantity: 2
2025-01-22 07:51:28.520 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 99.666ms.
2025-01-22 07:51:28.525 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:51:28.529 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 138.3273ms
2025-01-22 07:51:28.531 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:28.533 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:28.537 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16&quantity=2 - 200 null application/json; charset=utf-8 169.8522ms
2025-01-22 07:51:28.756 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16&quantity=3 - null null
2025-01-22 07:51:28.762 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:28.764 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16&quantity=3 - 204 null null 8.3138ms
2025-01-22 07:51:28.769 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16&quantity=3 - application/json 14
2025-01-22 07:51:28.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:28.780 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 07:51:28.783 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:28.784 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:51:28.826 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 07:51:28.830 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 3
2025-01-22 07:51:28.833 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 07:51:28.834 +02:00 [INF] Received request to fetch user by token.
2025-01-22 07:51:28.835 +02:00 [INF] Parsing token...
2025-01-22 07:51:28.837 +02:00 [INF] Attempting to retrieve user with username: asddf and email: manager1kk@example.com
2025-01-22 07:51:28.843 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 07:51:28.854 +02:00 [INF] User successfully found: asddf
2025-01-22 07:51:28.857 +02:00 [INF] User with Id: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 successfully retrieved.
2025-01-22 07:51:28.860 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-22T05:51:28.8603892Z"
2025-01-22 07:51:28.865 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:28.871 +02:00 [INF] Gift with Id: 16 successfully retrieved.
2025-01-22 07:51:28.873 +02:00 [INF] Starting to add Gift 16 (Quantity: 3) to User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8's basket
2025-01-22 07:51:28.878 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 07:51:28.887 +02:00 [INF] Updated existing UserGift entry for Gift 16 (New Quantity: 3) and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:28.898 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 07:51:28.905 +02:00 [INF] Successfully saved changes to database for Gift 16 and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 (Quantity: 3)
2025-01-22 07:51:28.909 +02:00 [INF] Completed AddToBasketAsync for User: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 and GiftId: 16 with Quantity: 3
2025-01-22 07:51:28.914 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84.1202ms.
2025-01-22 07:51:28.917 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:51:28.920 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 125.9607ms
2025-01-22 07:51:28.923 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:28.930 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:28.932 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16&quantity=3 - 200 null application/json; charset=utf-8 162.6823ms
2025-01-22 07:51:30.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 07:51:30.729 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:30.731 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:51:30.736 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 07:51:30.786 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 07:51:30.789 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T05:51:30.7894526Z"
2025-01-22 07:51:30.794 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 07:51:30.801 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:51:30.8015270Z"
2025-01-22 07:51:30.803 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:51:30.8030916Z"
2025-01-22 07:51:30.804 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:51:30.8046827Z"
2025-01-22 07:51:30.807 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.4163ms.
2025-01-22 07:51:30.811 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:51:30.817 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 70.2594ms
2025-01-22 07:51:30.820 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:51:30.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 99.179ms
2025-01-22 07:51:32.790 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/18 - null null
2025-01-22 07:51:32.795 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:32.797 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/18 - 204 null null 7.3469ms
2025-01-22 07:51:32.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/18 - application/json null
2025-01-22 07:51:32.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:32.811 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 07:51:32.814 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 07:51:32.844 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-22 07:51:32.847 +02:00 [INF] Starting GetByIdAsync with ID 18 at "2025-01-22T05:51:32.8479642Z"
2025-01-22 07:51:32.849 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T05:51:32.8498294Z"
2025-01-22 07:51:32.851 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T05:51:32.8515169Z"
2025-01-22 07:51:32.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:32.862 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 18 at "2025-01-22T05:51:32.8628974Z"
2025-01-22 07:51:32.864 +02:00 [INF] GetByIdAsync completed successfully with ID 18 at "2025-01-22T05:51:32.8648274Z"
2025-01-22 07:51:32.866 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.9094ms.
2025-01-22 07:51:32.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 07:51:32.872 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 53.6068ms
2025-01-22 07:51:32.878 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 07:51:32.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/18 - 200 null application/json; charset=utf-8 78.6742ms
2025-01-22 07:51:32.886 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - null null
2025-01-22 07:51:32.894 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:32.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=18 - 204 null null 9.4442ms
2025-01-22 07:51:32.901 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=18 - application/json 2
2025-01-22 07:51:32.904 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:32.911 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 07:51:32.913 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:32.915 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:51:33.005 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-22 07:51:33.008 +02:00 [INF] Starting AddToBasketAsync with GiftId: 18 and Quantity: 1
2025-01-22 07:51:33.010 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 07:51:33.011 +02:00 [INF] Received request to fetch user by token.
2025-01-22 07:51:33.013 +02:00 [INF] Parsing token...
2025-01-22 07:51:33.014 +02:00 [INF] Attempting to retrieve user with username: asddf and email: manager1kk@example.com
2025-01-22 07:51:33.021 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 07:51:33.027 +02:00 [INF] User successfully found: asddf
2025-01-22 07:51:33.029 +02:00 [INF] User with Id: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 successfully retrieved.
2025-01-22 07:51:33.031 +02:00 [INF] Starting GetByIdAsync for Gift ID 18 at "2025-01-22T05:51:33.0311713Z"
2025-01-22 07:51:33.041 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 07:51:33.050 +02:00 [INF] Gift with Id: 18 successfully retrieved.
2025-01-22 07:51:33.052 +02:00 [INF] Starting to add Gift 18 (Quantity: 1) to User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8's basket
2025-01-22 07:51:33.056 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 07:51:33.065 +02:00 [INF] Created new UserGift entry for Gift 18 (Quantity: 1) and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:33.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 07:51:33.081 +02:00 [INF] Successfully saved changes to database for Gift 18 and User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 (Quantity: 1)
2025-01-22 07:51:33.084 +02:00 [INF] Completed AddToBasketAsync for User: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 and GiftId: 18 with Quantity: 1
2025-01-22 07:51:33.086 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77.6486ms.
2025-01-22 07:51:33.090 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:51:33.097 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 175.7079ms
2025-01-22 07:51:33.100 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 07:51:33.103 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:33.105 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=18 - 200 null application/json; charset=utf-8 203.8339ms
2025-01-22 07:51:34.151 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 07:51:34.156 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:34.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.984ms
2025-01-22 07:51:34.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 07:51:34.175 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:34.177 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 07:51:34.181 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 07:51:34.183 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 07:51:34.226 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-22 07:51:34.230 +02:00 [INF] Received request to get basket for user: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:34.232 +02:00 [INF] Start fetching user gifts for userId: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:34.237 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 07:51:34.244 +02:00 [INF] Successfully fetched gifts for userId: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8, result count: 2
2025-01-22 07:51:34.248 +02:00 [INF] Successfully retrieved 2 gifts for user: 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8
2025-01-22 07:51:34.250 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.5751ms.
2025-01-22 07:51:34.253 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:51:34.257 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 60.5533ms
2025-01-22 07:51:34.259 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 07:51:34.264 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:51:34.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 98.699ms
2025-01-22 07:51:37.173 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-22 07:51:37.178 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:37.180 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 6.9644ms
2025-01-22 07:51:37.186 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - application/json null
2025-01-22 07:51:37.189 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:51:37.192 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 07:51:37.196 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 07:51:37.202 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:51:37.235 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-22 07:51:37.242 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 16
2025-01-22 07:51:37.244 +02:00 [INF] Removing Gift 16 from User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8's basket
2025-01-22 07:51:37.247 +02:00 [INF] Removing Gift 16 for User 0f9d1f0e-d6ea-4547-bdcf-59e7a79e42e8 in database
2025-01-22 07:51:37.264 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 07:51:37.305 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 07:51:37.608 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 399.1824ms
2025-01-22 07:51:37.611 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 07:51:37.742 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 07:51:37.788 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - 500 null text/plain; charset=utf-8 602.1782ms
2025-01-22 07:55:00.129 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 07:55:00.141 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:00.149 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 18.8773ms
2025-01-22 07:55:00.194 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-22 07:55:00.201 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:00.203 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 07:55:00.207 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 07:55:00.296 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-22 07:55:00.335 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 07:55:00.656 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 07:55:00.676 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 07:55:00.691 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 07:55:00.715 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 416.6022ms.
2025-01-22 07:55:00.719 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:55:00.724 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 507.5334ms
2025-01-22 07:55:00.727 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 07:55:00.732 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 537.9889ms
2025-01-22 07:55:00.761 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 07:55:00.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:00.784 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:55:00.804 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 07:55:00.896 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-22 07:55:00.900 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T05:55:00.9001910Z"
2025-01-22 07:55:00.907 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 07:55:00.914 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:55:00.9140564Z"
2025-01-22 07:55:00.919 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:55:00.9190103Z"
2025-01-22 07:55:00.923 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:55:00.9234400Z"
2025-01-22 07:55:00.926 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.8033ms.
2025-01-22 07:55:00.933 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:00.937 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 119.2155ms
2025-01-22 07:55:00.941 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 07:55:00.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 183.6316ms
2025-01-22 07:55:21.938 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 07:55:21.958 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:21.960 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 22.6484ms
2025-01-22 07:55:21.999 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 07:55:22.003 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:22.007 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 07:55:22.017 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 07:55:22.079 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 07:55:22.083 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:22.0830799Z"
2025-01-22 07:55:22.085 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:22.0855961Z"
2025-01-22 07:55:22.092 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:22.0920141Z"
2025-01-22 07:55:22.176 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 07:55:22.183 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:22.1836297Z"
2025-01-22 07:55:22.184 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:22.1848302Z"
2025-01-22 07:55:22.186 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:22.1863014Z"
2025-01-22 07:55:22.188 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 106.7838ms.
2025-01-22 07:55:22.191 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:22.200 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 180.0122ms
2025-01-22 07:55:22.204 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 07:55:22.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 207.7238ms
2025-01-22 07:55:41.869 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 07:55:41.879 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:41.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 13.0287ms
2025-01-22 07:55:41.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 07:55:41.931 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:41.934 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 07:55:41.942 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 07:55:41.998 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-22 07:55:42.005 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:42.0058938Z"
2025-01-22 07:55:42.009 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:42.0092094Z"
2025-01-22 07:55:42.017 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T05:55:42.0170396Z"
2025-01-22 07:55:42.031 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 07:55:42.042 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:42.0423221Z"
2025-01-22 07:55:42.043 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:42.0438708Z"
2025-01-22 07:55:42.046 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T05:55:42.0461551Z"
2025-01-22 07:55:42.053 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.1086ms.
2025-01-22 07:55:42.058 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:42.065 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 116.4735ms
2025-01-22 07:55:42.068 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 07:55:42.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 156.1033ms
2025-01-22 07:55:44.557 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 07:55:44.562 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:44.564 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.5146ms
2025-01-22 07:55:44.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 07:55:44.579 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:44.589 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 07:55:44.598 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 07:55:44.609 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 07:55:44.641 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-22 07:55:44.649 +02:00 [INF] Fetching all donators.
2025-01-22 07:55:44.653 +02:00 [INF] Fetching all donators.
2025-01-22 07:55:44.663 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 07:55:44.680 +02:00 [INF] Successfully fetched 3 donators.
2025-01-22 07:55:44.682 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.0221ms.
2025-01-22 07:55:44.686 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:44.693 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 78.668ms
2025-01-22 07:55:44.695 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 07:55:44.697 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:55:44.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 124.2095ms
2025-01-22 07:55:48.455 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 07:55:48.462 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:48.464 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 8.8981ms
2025-01-22 07:55:48.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-22 07:55:48.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:48.479 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 07:55:48.481 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 07:55:48.494 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 07:55:48.543 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-22 07:55:48.549 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-22 07:55:48.551 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 07:55:48.564 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 07:55:48.573 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-22 07:55:48.583 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 07:55:48.594 +02:00 [INF] Successfully fetched 2 gifts for donator ID: 2
2025-01-22 07:55:48.597 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.5085ms.
2025-01-22 07:55:48.600 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 07:55:48.609 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 105.3346ms
2025-01-22 07:55:48.613 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 07:55:48.615 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:55:48.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 144.2206ms
2025-01-22 07:55:53.536 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 07:55:53.542 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:53.545 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.5739ms
2025-01-22 07:55:53.550 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 07:55:53.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:53.563 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:55:53.571 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 07:55:53.605 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 07:55:53.609 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 07:55:53.611 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:55:53.6118576Z"
2025-01-22 07:55:53.614 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:55:53.6149635Z"
2025-01-22 07:55:53.638 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 07:55:53.642 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:55:53.6425541Z"
2025-01-22 07:55:53.643 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:55:53.6438450Z"
2025-01-22 07:55:53.645 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 07:55:53.649 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.2065ms.
2025-01-22 07:55:53.653 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:53.656 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 78.8246ms
2025-01-22 07:55:53.658 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:55:53.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 109.932ms
2025-01-22 07:55:56.459 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 07:55:56.464 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:56.466 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.7106ms
2025-01-22 07:55:56.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 07:55:56.478 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:56.479 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:55:56.485 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 07:55:56.517 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 07:55:56.523 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 07:55:56.529 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T05:55:56.5295482Z"
2025-01-22 07:55:56.562 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 07:55:56.569 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:55:56.5694086Z"
2025-01-22 07:55:56.571 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 07:55:56.573 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.0253ms.
2025-01-22 07:55:56.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:56.578 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 85.3489ms
2025-01-22 07:55:56.582 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:55:56.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 117.0438ms
2025-01-22 07:55:57.563 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 07:55:57.567 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:57.569 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 5.7837ms
2025-01-22 07:55:57.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 07:55:57.579 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:55:57.581 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:55:57.583 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 07:55:57.615 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 07:55:57.619 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 07:55:57.621 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T05:55:57.6219563Z"
2025-01-22 07:55:57.639 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 07:55:57.644 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:55:57.6445074Z"
2025-01-22 07:55:57.645 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 07:55:57.647 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.2456ms.
2025-01-22 07:55:57.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:55:57.657 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 65.8798ms
2025-01-22 07:55:57.660 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:55:57.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 86.0265ms
2025-01-22 07:56:04.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 07:56:04.934 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:04.939 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 07:56:04.994 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 07:56:04.998 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 07:56:04.999 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:04.9998217Z"
2025-01-22 07:56:05.002 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:05.0021248Z"
2025-01-22 07:56:05.018 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 07:56:05.032 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:05.0321440Z"
2025-01-22 07:56:05.034 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:05.0341549Z"
2025-01-22 07:56:05.039 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 07:56:05.042 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.2418ms.
2025-01-22 07:56:05.046 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:05.049 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 95.9983ms
2025-01-22 07:56:05.051 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:05.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 134.85ms
2025-01-22 07:56:05.673 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 07:56:05.680 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:05.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.9894ms
2025-01-22 07:56:05.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 07:56:05.712 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:05.715 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:05.717 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 07:56:05.779 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 07:56:05.782 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 07:56:05.783 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:05.7839712Z"
2025-01-22 07:56:05.786 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:05.7863480Z"
2025-01-22 07:56:05.798 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 07:56:05.806 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:05.8064846Z"
2025-01-22 07:56:05.808 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:05.8085734Z"
2025-01-22 07:56:05.811 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 07:56:05.814 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.2748ms.
2025-01-22 07:56:05.822 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:05.826 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 96.0072ms
2025-01-22 07:56:05.828 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:05.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 130.0762ms
2025-01-22 07:56:15.201 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 07:56:15.208 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:15.211 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 9.7582ms
2025-01-22 07:56:15.218 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 07:56:15.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:15.228 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:56:15.230 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 07:56:15.259 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-22 07:56:15.262 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 07:56:15.265 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T05:56:15.2650431Z"
2025-01-22 07:56:15.276 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 07:56:15.281 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T05:56:15.2816684Z"
2025-01-22 07:56:15.283 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-22 07:56:15.285 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.0228ms.
2025-01-22 07:56:15.292 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:15.295 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 60.5759ms
2025-01-22 07:56:15.297 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 07:56:15.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 81.4118ms
2025-01-22 07:56:27.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 07:56:27.769 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:27.771 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 07:56:27.803 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 07:56:27.806 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 07:56:27.807 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:27.8077616Z"
2025-01-22 07:56:27.809 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:27.8096854Z"
2025-01-22 07:56:27.819 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 07:56:27.825 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:27.8253198Z"
2025-01-22 07:56:27.829 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:27.8292524Z"
2025-01-22 07:56:27.830 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 07:56:27.832 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.2159ms.
2025-01-22 07:56:27.835 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:27.838 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 61.3986ms
2025-01-22 07:56:27.840 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:27.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 81.6023ms
2025-01-22 07:56:28.237 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 07:56:28.246 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:28.249 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 12.5847ms
2025-01-22 07:56:28.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 07:56:28.270 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:28.276 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:28.278 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 07:56:28.323 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-22 07:56:28.326 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 07:56:28.327 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:28.3278296Z"
2025-01-22 07:56:28.329 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T05:56:28.3298496Z"
2025-01-22 07:56:28.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 07:56:28.341 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:28.3411528Z"
2025-01-22 07:56:28.342 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T05:56:28.3423449Z"
2025-01-22 07:56:28.344 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-22 07:56:28.346 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.0934ms.
2025-01-22 07:56:28.353 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:28.357 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 73.2949ms
2025-01-22 07:56:28.360 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 07:56:28.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 98.8363ms
2025-01-22 07:56:33.805 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - null null
2025-01-22 07:56:33.810 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:33.812 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - 204 null null 6.805ms
2025-01-22 07:56:33.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - application/json null
2025-01-22 07:56:33.835 +02:00 [INF] CORS policy execution successful.
2025-01-22 07:56:33.839 +02:00 [INF] Incoming Request: GET /api/User/13/buyers
2025-01-22 07:56:33.842 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 07:56:33.850 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 07:56:33.905 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-22 07:56:33.999 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 07:56:34.010 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 98.5066ms.
2025-01-22 07:56:34.016 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 07:56:34.031 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 176.0085ms
2025-01-22 07:56:34.036 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 07:56:34.039 +02:00 [INF] Outgoing Response: 200
2025-01-22 07:56:34.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - 200 null application/json; charset=utf-8 210.9577ms
2025-01-22 09:36:06.251 +02:00 [INF] Starting up the application
2025-01-22 09:36:07.306 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 09:36:08.123 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 09:36:08.174 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:36:08.235 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:36:08.310 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 09:36:08.323 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 09:36:08.342 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 09:36:08.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 09:36:08.354 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:36:08.377 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-01-22 09:36:08.558 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 09:36:08.562 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 09:36:08.563 +02:00 [INF] Hosting environment: Development
2025-01-22 09:36:08.564 +02:00 [INF] Content root path: F:\פרויקט\פרויקט\server\project
2025-01-22 09:36:09.453 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 09:36:09.615 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 170.4725ms
2025-01-22 09:36:09.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 09:36:09.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 09:36:09.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 2.731ms
2025-01-22 09:36:09.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 4.0636ms
2025-01-22 09:36:09.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 09:36:09.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.876ms
2025-01-22 09:36:09.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 09:36:09.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.3976ms
2025-01-22 09:50:37.926 +02:00 [INF] Starting up the application
2025-01-22 09:50:38.586 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 09:50:39.281 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 09:50:39.331 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:50:39.476 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 09:50:39.479 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 09:50:39.480 +02:00 [INF] Hosting environment: Development
2025-01-22 09:50:39.480 +02:00 [INF] Content root path: F:\פרויקט\פרויקט\server\project
2025-01-22 09:50:39.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 09:50:39.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 142.5934ms
2025-01-22 09:50:39.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 09:50:39.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 09:50:40.004 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 09:50:40.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.1321ms
2025-01-22 09:50:40.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.2985ms
2025-01-22 09:50:40.034 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.702ms
2025-01-22 09:50:40.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 09:50:40.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.1714ms
2025-01-22 09:51:09.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:09.447 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 09:51:09.563 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:09.581 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:09.717 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:09.7176279Z"
2025-01-22 09:51:09.785 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:09.822 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:09.8220885Z"
2025-01-22 09:51:09.823 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:09.8231750Z"
2025-01-22 09:51:09.823 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:09.8238343Z"
2025-01-22 09:51:09.831 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:09.872 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 286.8313ms
2025-01-22 09:51:09.874 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:09.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 439.0048ms
2025-01-22 09:51:13.242 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:51:13.246 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:13.249 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.8735ms
2025-01-22 09:51:13.251 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:51:13.253 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:13.255 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:13.346 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:13.351 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:51:13.357 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:13.358 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:13.443 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:51:13.446 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:13.446 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:13.447 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:13.454 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 101.0541ms
2025-01-22 09:51:13.455 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:13.455 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:13.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 204.898ms
2025-01-22 09:51:13.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:13.988 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:13.991 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:13.992 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:13.994 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:13.9943791Z"
2025-01-22 09:51:13.998 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:13.999 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:13.9999749Z"
2025-01-22 09:51:14.000 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:14.0004668Z"
2025-01-22 09:51:14.000 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:14.0009231Z"
2025-01-22 09:51:14.001 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:14.002 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.8688ms
2025-01-22 09:51:14.003 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:14.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.3698ms
2025-01-22 09:51:16.350 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 09:51:16.352 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:16.352 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.4075ms
2025-01-22 09:51:16.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 09:51:16.356 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:16.357 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:51:16.360 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:16.368 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 09:51:16.369 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:51:16.3694951Z"
2025-01-22 09:51:16.371 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:51:16.3711199Z"
2025-01-22 09:51:16.409 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 09:51:16.410 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:51:16.4109186Z"
2025-01-22 09:51:16.411 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:51:16.4117151Z"
2025-01-22 09:51:16.412 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 09:51:16.412 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:16.416 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 52.9895ms
2025-01-22 09:51:16.417 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:51:16.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 63.1007ms
2025-01-22 09:51:16.799 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 09:51:16.801 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:16.802 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.6204ms
2025-01-22 09:51:16.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 09:51:16.805 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:16.806 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 09:51:16.809 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 09:51:16.814 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 09:51:16.817 +02:00 [INF] Fetching all donators.
2025-01-22 09:51:16.819 +02:00 [INF] Fetching all donators.
2025-01-22 09:51:16.826 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 09:51:16.836 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 09:51:16.837 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:16.839 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 23.5878ms
2025-01-22 09:51:16.839 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 09:51:16.840 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:16.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 36.5873ms
2025-01-22 09:51:17.160 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 09:51:17.163 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:17.163 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.8587ms
2025-01-22 09:51:17.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 09:51:17.167 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:17.170 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:17.174 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:17.176 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:17.1764508Z"
2025-01-22 09:51:17.177 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:17.1775723Z"
2025-01-22 09:51:17.179 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:17.1798764Z"
2025-01-22 09:51:17.200 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 09:51:17.202 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:17.2025290Z"
2025-01-22 09:51:17.203 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:17.2030589Z"
2025-01-22 09:51:17.203 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:17.2035032Z"
2025-01-22 09:51:17.204 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:17.205 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 29.9138ms
2025-01-22 09:51:17.206 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:17.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 40.4654ms
2025-01-22 09:51:17.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:51:17.988 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:17.990 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:17.991 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:17.992 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:51:17.993 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:17.997 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:18.005 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:51:18.006 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:18.007 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:18.007 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:18.008 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 15.3407ms
2025-01-22 09:51:18.009 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:18.010 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:18.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 24.4591ms
2025-01-22 09:51:18.658 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:18.660 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:18.661 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:18.662 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:18.664 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:18.6640287Z"
2025-01-22 09:51:18.668 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:18.669 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:18.6694783Z"
2025-01-22 09:51:18.669 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:18.6698997Z"
2025-01-22 09:51:18.670 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:18.6703583Z"
2025-01-22 09:51:18.670 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:18.672 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.3392ms
2025-01-22 09:51:18.672 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:18.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.1841ms
2025-01-22 09:51:22.522 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 09:51:22.524 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:22.525 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.9662ms
2025-01-22 09:51:22.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 09:51:22.530 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:22.531 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:22.531 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:22.532 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:22.5329316Z"
2025-01-22 09:51:22.533 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:22.5333937Z"
2025-01-22 09:51:22.533 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:22.5338054Z"
2025-01-22 09:51:22.543 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 09:51:22.544 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:22.5445074Z"
2025-01-22 09:51:22.545 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:22.5451847Z"
2025-01-22 09:51:22.546 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:22.5461055Z"
2025-01-22 09:51:22.546 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:22.547 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.0457ms
2025-01-22 09:51:22.548 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:22.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 20.6003ms
2025-01-22 09:51:25.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:25.236 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:25.237 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:25.237 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:25.238 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:25.2387082Z"
2025-01-22 09:51:25.243 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:25.244 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:25.2445582Z"
2025-01-22 09:51:25.245 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:25.2451625Z"
2025-01-22 09:51:25.245 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:25.2455966Z"
2025-01-22 09:51:25.246 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:25.246 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.4524ms
2025-01-22 09:51:25.247 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:25.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.2927ms
2025-01-22 09:51:26.242 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:51:26.244 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:26.244 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.5068ms
2025-01-22 09:51:26.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:51:26.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:26.250 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:26.251 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:26.251 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:51:26.254 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:26.254 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:26.259 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:51:26.260 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:26.260 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:26.261 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:26.262 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.6199ms
2025-01-22 09:51:26.263 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:26.264 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:26.264 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 16.4798ms
2025-01-22 09:51:27.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 09:51:27.199 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:27.200 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:27.200 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:27.202 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:27.2029335Z"
2025-01-22 09:51:27.203 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:27.2035355Z"
2025-01-22 09:51:27.204 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:51:27.2041801Z"
2025-01-22 09:51:27.212 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 09:51:27.215 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:27.2149780Z"
2025-01-22 09:51:27.215 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:27.2157653Z"
2025-01-22 09:51:27.216 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:51:27.2163125Z"
2025-01-22 09:51:27.216 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:27.217 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.2396ms
2025-01-22 09:51:27.218 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:51:27.219 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.6144ms
2025-01-22 09:51:28.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:28.903 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:28.904 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:28.904 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:28.906 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:28.9065542Z"
2025-01-22 09:51:28.910 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:28.912 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:28.9123294Z"
2025-01-22 09:51:28.912 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:28.9127735Z"
2025-01-22 09:51:28.913 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:28.9132814Z"
2025-01-22 09:51:28.913 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:28.915 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.7632ms
2025-01-22 09:51:28.915 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:28.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.3719ms
2025-01-22 09:51:29.990 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 09:51:29.991 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:29.992 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 1.8482ms
2025-01-22 09:51:29.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:29.995 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:29.995 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:30.004 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:30.012 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:30.0128695Z"
2025-01-22 09:51:30.014 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:30.0141380Z"
2025-01-22 09:51:30.015 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:30.0159245Z"
2025-01-22 09:51:30.024 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:30.025 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:30.0255901Z"
2025-01-22 09:51:30.026 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:30.0262055Z"
2025-01-22 09:51:30.026 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:30.027 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 22.2412ms
2025-01-22 09:51:30.028 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:30.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 35.0464ms
2025-01-22 09:51:30.031 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:51:30.032 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:30.032 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 1.8645ms
2025-01-22 09:51:30.034 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:30.035 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:30.036 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:30.037 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:30.040 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:30.047 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:30.048 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:30.049 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:30.050 +02:00 [INF] Parsing token...
2025-01-22 09:51:30.051 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:30.071 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:30.072 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:30.123 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:30.190 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:30.194 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:30.202 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 161.0968ms
2025-01-22 09:51:30.203 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:30.204 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:30.204 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 170.0895ms
2025-01-22 09:51:31.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:31.776 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:31.776 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:31.779 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:31.7798243Z"
2025-01-22 09:51:31.783 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:31.784 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:31.7848992Z"
2025-01-22 09:51:31.785 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:31.7854064Z"
2025-01-22 09:51:31.785 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:31.7858557Z"
2025-01-22 09:51:31.786 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:31.787 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.6346ms
2025-01-22 09:51:31.787 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:31.788 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.8428ms
2025-01-22 09:51:33.550 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:33.552 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:33.553 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:33.553 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:33.555 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:33.5554720Z"
2025-01-22 09:51:33.556 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:33.5560562Z"
2025-01-22 09:51:33.556 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:33.5566110Z"
2025-01-22 09:51:33.561 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:33.563 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:33.5637908Z"
2025-01-22 09:51:33.564 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:33.5646434Z"
2025-01-22 09:51:33.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:33.566 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 11.2575ms
2025-01-22 09:51:33.567 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:33.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 17.412ms
2025-01-22 09:51:33.570 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:33.571 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:33.572 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:33.573 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:33.573 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:33.575 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:33.576 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:33.576 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:33.577 +02:00 [INF] Parsing token...
2025-01-22 09:51:33.577 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:33.589 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:33.590 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:33.615 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:33.656 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:33.658 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:33.659 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 84.3612ms
2025-01-22 09:51:33.660 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:33.661 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:33.661 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 91.7953ms
2025-01-22 09:51:40.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:51:40.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:40.187 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.4633ms
2025-01-22 09:51:40.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:51:40.190 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:40.191 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:40.191 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:40.192 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:51:40.193 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:40.194 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:40.201 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:51:40.202 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:40.203 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:40.203 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:40.204 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 11.0925ms
2025-01-22 09:51:40.205 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:40.205 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:40.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 16.6113ms
2025-01-22 09:51:41.515 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:51:41.516 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:41.516 +02:00 [WRN] Missing Authorization Header
2025-01-22 09:51:41.517 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.2775ms
2025-01-22 09:51:41.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:51:41.638 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:41.639 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:51:41.640 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:41.641 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:51:41.642 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:41.643 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:41.649 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:51:41.653 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:41.653 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:51:41.656 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:41.658 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 15.8862ms
2025-01-22 09:51:41.659 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:51:41.660 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:51:41.661 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 24.7603ms
2025-01-22 09:51:45.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:51:45.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:45.025 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:45.026 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:51:45.028 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:51:45.0287943Z"
2025-01-22 09:51:45.033 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:51:45.034 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:45.0346253Z"
2025-01-22 09:51:45.035 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:45.0350593Z"
2025-01-22 09:51:45.035 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:51:45.0355164Z"
2025-01-22 09:51:45.036 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:51:45.036 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2991ms
2025-01-22 09:51:45.037 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:51:45.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.7475ms
2025-01-22 09:51:45.967 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 09:51:45.968 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:45.969 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 2.0276ms
2025-01-22 09:51:45.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:45.972 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:45.972 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:45.973 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:45.974 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:45.9744519Z"
2025-01-22 09:51:45.974 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:45.9749593Z"
2025-01-22 09:51:45.975 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:45.9756254Z"
2025-01-22 09:51:45.979 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:45.980 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:45.9807304Z"
2025-01-22 09:51:45.981 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:45.9812997Z"
2025-01-22 09:51:45.981 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:45.982 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.2951ms
2025-01-22 09:51:45.983 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:45.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 13.0049ms
2025-01-22 09:51:45.987 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:51:45.988 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:45.989 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 2.2129ms
2025-01-22 09:51:45.990 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:45.992 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:45.992 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:45.993 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:45.994 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:45.996 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:45.996 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:45.997 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:45.997 +02:00 [INF] Parsing token...
2025-01-22 09:51:45.998 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:46.003 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:46.005 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:46.022 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:46.051 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:46.053 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:46.054 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 58.1635ms
2025-01-22 09:51:46.054 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:46.055 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:46.056 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 65.502ms
2025-01-22 09:51:46.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:46.816 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:46.817 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:46.817 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:46.818 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:46.8187250Z"
2025-01-22 09:51:46.819 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:46.8192668Z"
2025-01-22 09:51:46.819 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:46.8198205Z"
2025-01-22 09:51:46.824 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:46.825 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:46.8257676Z"
2025-01-22 09:51:46.826 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:46.8262929Z"
2025-01-22 09:51:46.827 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:46.828 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 9.5938ms
2025-01-22 09:51:46.829 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:46.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 14.819ms
2025-01-22 09:51:46.832 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:46.833 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:46.833 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:46.834 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:46.834 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:46.836 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:46.836 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:46.837 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:46.837 +02:00 [INF] Parsing token...
2025-01-22 09:51:46.837 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:46.843 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:46.844 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:46.858 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:46.884 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:46.886 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:46.887 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 51.2192ms
2025-01-22 09:51:46.888 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:46.889 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:46.889 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 57.755ms
2025-01-22 09:51:47.062 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:47.064 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:47.064 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:47.065 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:47.066 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:47.0666531Z"
2025-01-22 09:51:47.067 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:47.0671976Z"
2025-01-22 09:51:47.067 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:47.0677464Z"
2025-01-22 09:51:47.070 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:47.071 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:47.0716285Z"
2025-01-22 09:51:47.072 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:47.0721613Z"
2025-01-22 09:51:47.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:47.073 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 7.3351ms
2025-01-22 09:51:47.074 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:47.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 12.7754ms
2025-01-22 09:51:47.078 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:47.079 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:47.080 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:47.081 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:47.081 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:47.082 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:47.083 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:47.083 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:47.084 +02:00 [INF] Parsing token...
2025-01-22 09:51:47.084 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:47.087 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:47.089 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:47.105 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:47.131 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:47.133 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:47.133 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 51.1845ms
2025-01-22 09:51:47.134 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:47.135 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:47.136 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 58.0121ms
2025-01-22 09:51:47.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:51:47.329 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:47.330 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:47.330 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:51:47.332 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:51:47.3324771Z"
2025-01-22 09:51:47.333 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:47.3332025Z"
2025-01-22 09:51:47.334 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:51:47.3341385Z"
2025-01-22 09:51:47.337 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:51:47.339 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:51:47.3392805Z"
2025-01-22 09:51:47.339 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:51:47.3398068Z"
2025-01-22 09:51:47.340 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:51:47.341 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.8271ms
2025-01-22 09:51:47.341 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:51:47.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 14.9753ms
2025-01-22 09:51:47.344 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:51:47.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:51:47.346 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:51:47.347 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:47.347 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:51:47.349 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:51:47.350 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:51:47.350 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:51:47.351 +02:00 [INF] Parsing token...
2025-01-22 09:51:47.352 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 09:51:47.355 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:51:47.356 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 09:51:47.372 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-22 09:51:47.396 +02:00 [ERR] Error occurred while adding Gift 1 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-22 09:51:47.398 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:51:47.399 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 50.3995ms
2025-01-22 09:51:47.400 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:51:47.400 +02:00 [INF] Outgoing Response: 500
2025-01-22 09:51:47.401 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 500 null application/json; charset=utf-8 56.4941ms
2025-01-22 09:52:35.303 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 09:52:35.305 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:35.305 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 1.8821ms
2025-01-22 09:52:35.307 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 100
2025-01-22 09:52:35.308 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:35.309 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:52:35.313 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 09:52:35.350 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:52:35.361 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:52:35.454 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:52:35.568 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 09:52:35.579 +02:00 [INF] User registered successfully: miri
2025-01-22 09:52:35.580 +02:00 [INF] User registered successfully.
2025-01-22 09:52:35.580 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:52:35.581 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 267.1329ms
2025-01-22 09:52:35.582 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:52:35.583 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 275.5607ms
2025-01-22 09:52:54.539 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 09:52:54.541 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:54.541 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.9096ms
2025-01-22 09:52:54.543 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 09:52:54.545 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:54.546 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:52:54.550 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 09:52:54.563 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:52:54.660 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 09:52:54.676 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 09:52:54.692 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 09:52:54.694 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:52:54.697 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 146.0088ms
2025-01-22 09:52:54.698 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:52:54.699 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 155.5102ms
2025-01-22 09:52:54.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:52:54.710 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:54.711 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:52:54.712 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:52:54.713 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:52:54.7137703Z"
2025-01-22 09:52:54.717 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:52:54.719 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:54.7198416Z"
2025-01-22 09:52:54.720 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:54.7204994Z"
2025-01-22 09:52:54.721 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:54.7211598Z"
2025-01-22 09:52:54.723 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:52:54.725 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.4321ms
2025-01-22 09:52:54.725 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:52:54.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.3162ms
2025-01-22 09:52:56.785 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 09:52:56.787 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:56.788 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 2.6198ms
2025-01-22 09:52:56.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:52:56.791 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:56.792 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:52:56.792 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:52:56.793 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:52:56.7939062Z"
2025-01-22 09:52:56.794 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:52:56.7944060Z"
2025-01-22 09:52:56.795 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:52:56.7951162Z"
2025-01-22 09:52:56.798 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:52:56.799 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:52:56.7999518Z"
2025-01-22 09:52:56.800 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:52:56.8004688Z"
2025-01-22 09:52:56.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:52:56.801 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.2237ms
2025-01-22 09:52:56.802 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:52:56.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 13.1672ms
2025-01-22 09:52:56.806 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:52:56.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:56.807 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 1.632ms
2025-01-22 09:52:56.809 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:52:56.810 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:52:56.810 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:52:56.811 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:52:56.812 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:52:56.813 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:52:56.813 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:52:56.814 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:52:56.814 +02:00 [INF] Parsing token...
2025-01-22 09:52:56.815 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:52:56.820 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:52:56.821 +02:00 [INF] User successfully found: miri
2025-01-22 09:52:56.822 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:52:56.822 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:52:56.8227448Z"
2025-01-22 09:52:56.824 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:52:56.825 +02:00 [INF] Gift with Id: 1 successfully retrieved.
2025-01-22 09:52:56.827 +02:00 [INF] Starting to add Gift 1 (Quantity: 1) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:52:56.835 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:52:56.863 +02:00 [INF] Created new UserGift entry for Gift 1 (Quantity: 1) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:52:56.884 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 09:52:56.885 +02:00 [INF] Successfully saved changes to database for Gift 1 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 1)
2025-01-22 09:52:56.886 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 1 with Quantity: 1
2025-01-22 09:52:56.887 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:52:56.888 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 75.0061ms
2025-01-22 09:52:56.888 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:52:56.889 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:52:56.889 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 200 null application/json; charset=utf-8 80.5457ms
2025-01-22 09:52:58.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:52:58.790 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:52:58.790 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:52:58.792 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:52:58.7925243Z"
2025-01-22 09:52:58.796 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:52:58.798 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:58.7983509Z"
2025-01-22 09:52:58.798 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:58.7989600Z"
2025-01-22 09:52:58.800 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:52:58.8005003Z"
2025-01-22 09:52:58.801 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:52:58.802 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.7365ms
2025-01-22 09:52:58.802 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:52:58.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.6685ms
2025-01-22 09:53:00.016 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:00.019 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:00.020 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.5898ms
2025-01-22 09:53:00.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:00.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:00.024 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:00.025 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:00.025 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:00.026 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:00.028 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:00.037 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:00.043 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:00.044 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:00.044 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:00.047 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 21.1433ms
2025-01-22 09:53:00.048 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:00.049 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:00.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 26.9788ms
2025-01-22 09:53:02.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:02.790 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:02.791 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:02.792 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:02.794 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:02.7940524Z"
2025-01-22 09:53:02.798 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:02.799 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:02.7996866Z"
2025-01-22 09:53:02.800 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:02.8001130Z"
2025-01-22 09:53:02.800 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:02.8005768Z"
2025-01-22 09:53:02.801 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:02.801 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.9215ms
2025-01-22 09:53:02.802 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:02.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.3599ms
2025-01-22 09:53:06.661 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:06.665 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:06.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 4.3802ms
2025-01-22 09:53:06.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:06.669 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:06.669 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:06.670 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:06.670 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:06.672 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:06.673 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:06.679 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:06.681 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:06.681 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:06.682 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:06.682 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 11.0596ms
2025-01-22 09:53:06.683 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:06.684 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:06.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 16.9205ms
2025-01-22 09:53:13.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:13.115 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:13.116 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:13.117 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:13.120 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:13.1204914Z"
2025-01-22 09:53:13.126 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:13.128 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:13.1283922Z"
2025-01-22 09:53:13.128 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:13.1289775Z"
2025-01-22 09:53:13.129 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:13.1297257Z"
2025-01-22 09:53:13.130 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:13.131 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.8645ms
2025-01-22 09:53:13.132 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:13.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.9545ms
2025-01-22 09:53:14.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 09:53:14.159 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:14.160 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 1.7203ms
2025-01-22 09:53:14.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 09:53:14.163 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:14.164 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:14.165 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:53:14.166 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T07:53:14.1661554Z"
2025-01-22 09:53:14.166 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:14.1666999Z"
2025-01-22 09:53:14.167 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:14.1672598Z"
2025-01-22 09:53:14.170 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:14.172 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T07:53:14.1721718Z"
2025-01-22 09:53:14.172 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T07:53:14.1727072Z"
2025-01-22 09:53:14.173 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:53:14.173 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.023ms
2025-01-22 09:53:14.174 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:14.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 12.608ms
2025-01-22 09:53:14.177 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - null null
2025-01-22 09:53:14.179 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:14.179 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - 204 null null 1.8472ms
2025-01-22 09:53:14.181 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - application/json 2
2025-01-22 09:53:14.182 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:14.182 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:14.183 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:14.183 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:14.185 +02:00 [INF] Starting AddToBasketAsync with GiftId: 2 and Quantity: 1
2025-01-22 09:53:14.185 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:14.186 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:14.186 +02:00 [INF] Parsing token...
2025-01-22 09:53:14.186 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:14.192 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:14.194 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:14.194 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:14.195 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:14.1954027Z"
2025-01-22 09:53:14.197 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:14.198 +02:00 [INF] Gift with Id: 2 successfully retrieved.
2025-01-22 09:53:14.198 +02:00 [INF] Starting to add Gift 2 (Quantity: 1) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:14.201 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:14.204 +02:00 [INF] Created new UserGift entry for Gift 2 (Quantity: 1) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:14.208 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 09:53:14.209 +02:00 [INF] Successfully saved changes to database for Gift 2 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 1)
2025-01-22 09:53:14.210 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 2 with Quantity: 1
2025-01-22 09:53:14.211 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:14.211 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 27.0545ms
2025-01-22 09:53:14.212 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:14.213 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:14.213 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - 200 null application/json; charset=utf-8 32.5105ms
2025-01-22 09:53:15.148 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:15.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:15.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.1559ms
2025-01-22 09:53:15.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:15.155 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:15.156 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:15.156 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:15.157 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:15.158 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:15.159 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:15.163 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:15.165 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 2
2025-01-22 09:53:15.166 +02:00 [INF] Successfully retrieved 2 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:15.167 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:15.167 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.4096ms
2025-01-22 09:53:15.169 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:15.170 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:15.171 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 16.5263ms
2025-01-22 09:53:20.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1&quantity=2 - null null
2025-01-22 09:53:20.331 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:20.331 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1&quantity=2 - 204 null null 3.1909ms
2025-01-22 09:53:20.334 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1&quantity=2 - application/json 14
2025-01-22 09:53:20.335 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:20.337 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:20.338 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:20.338 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:20.340 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 2
2025-01-22 09:53:20.340 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:20.340 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:20.341 +02:00 [INF] Parsing token...
2025-01-22 09:53:20.341 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:20.348 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:20.350 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:20.350 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:20.351 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:53:20.3513504Z"
2025-01-22 09:53:20.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:20.355 +02:00 [INF] Gift with Id: 1 successfully retrieved.
2025-01-22 09:53:20.356 +02:00 [INF] Starting to add Gift 1 (Quantity: 2) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:20.358 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:20.360 +02:00 [INF] Updated existing UserGift entry for Gift 1 (New Quantity: 2) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:20.370 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 09:53:20.374 +02:00 [INF] Successfully saved changes to database for Gift 1 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 2)
2025-01-22 09:53:20.375 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 1 with Quantity: 2
2025-01-22 09:53:20.376 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:20.377 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 37.5958ms
2025-01-22 09:53:20.378 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:20.379 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:20.379 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1&quantity=2 - 200 null application/json; charset=utf-8 45.6577ms
2025-01-22 09:53:24.144 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:53:24.146 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:24.147 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 3.4954ms
2025-01-22 09:53:24.149 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=1 - application/json null
2025-01-22 09:53:24.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:24.151 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 09:53:24.152 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:53:24.156 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:24.158 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 1
2025-01-22 09:53:24.160 +02:00 [INF] Removing Gift 1 from User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:24.162 +02:00 [INF] Removing Gift 1 for User 4e31a934-b841-4a74-968e-72e4da9254c7 in database
2025-01-22 09:53:24.170 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 09:53:24.192 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 09:53:24.202 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserGifts]
OUTPUT 1
WHERE [GiftId] = @p0 AND [UserId] = @p1;
2025-01-22 09:53:24.206 +02:00 [INF] Removed Gift 1 for User 4e31a934-b841-4a74-968e-72e4da9254c7 successfully
2025-01-22 09:53:24.207 +02:00 [INF] Removed Gift 1 from User 4e31a934-b841-4a74-968e-72e4da9254c7's basket successfully
2025-01-22 09:53:24.208 +02:00 [INF] Completed RemoveGiftFromUserAsync for GiftId: 1
2025-01-22 09:53:24.209 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 51.8472ms
2025-01-22 09:53:24.209 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:53:24.210 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:24.210 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=1 - 200 0 null 61.1617ms
2025-01-22 09:53:24.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:24.215 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:24.216 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 1.6328ms
2025-01-22 09:53:24.217 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:24.218 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:24.219 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:24.220 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:24.220 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:24.221 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:24.222 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:24.226 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:24.227 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:24.228 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:24.229 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:24.230 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 8.4917ms
2025-01-22 09:53:24.230 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:24.231 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:24.231 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 14.0307ms
2025-01-22 09:53:26.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:26.642 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:26.643 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:26.644 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:26.646 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:26.6465698Z"
2025-01-22 09:53:26.650 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:26.653 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:26.6538289Z"
2025-01-22 09:53:26.654 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:26.6543724Z"
2025-01-22 09:53:26.654 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:26.6549931Z"
2025-01-22 09:53:26.655 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:26.656 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.2629ms
2025-01-22 09:53:26.657 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:26.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.2725ms
2025-01-22 09:53:27.575 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 09:53:27.577 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:27.578 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 2.5475ms
2025-01-22 09:53:27.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 09:53:27.582 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:27.583 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:27.583 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:53:27.584 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T07:53:27.5848876Z"
2025-01-22 09:53:27.585 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:27.5854013Z"
2025-01-22 09:53:27.585 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:27.5859522Z"
2025-01-22 09:53:27.589 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:27.590 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T07:53:27.5903726Z"
2025-01-22 09:53:27.590 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T07:53:27.5908851Z"
2025-01-22 09:53:27.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:53:27.592 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 7.405ms
2025-01-22 09:53:27.592 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:27.593 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 12.6409ms
2025-01-22 09:53:27.595 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - null null
2025-01-22 09:53:27.597 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:27.597 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - 204 null null 1.8776ms
2025-01-22 09:53:27.599 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - application/json 2
2025-01-22 09:53:27.600 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:27.601 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:27.601 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:27.602 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:27.603 +02:00 [INF] Starting AddToBasketAsync with GiftId: 2 and Quantity: 1
2025-01-22 09:53:27.604 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:27.604 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:27.605 +02:00 [INF] Parsing token...
2025-01-22 09:53:27.605 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:27.610 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:27.612 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:27.612 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:27.613 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:27.6131633Z"
2025-01-22 09:53:27.614 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:27.616 +02:00 [INF] Gift with Id: 2 successfully retrieved.
2025-01-22 09:53:27.616 +02:00 [INF] Starting to add Gift 2 (Quantity: 1) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:27.619 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:27.620 +02:00 [INF] Updated existing UserGift entry for Gift 2 (New Quantity: 1) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:27.621 +02:00 [INF] Successfully saved changes to database for Gift 2 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 1)
2025-01-22 09:53:27.622 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 2 with Quantity: 1
2025-01-22 09:53:27.622 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:27.623 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 20.1874ms
2025-01-22 09:53:27.624 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:27.624 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:27.625 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - 200 null application/json; charset=utf-8 26.1441ms
2025-01-22 09:53:28.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:28.355 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:28.357 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:28.358 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:28.359 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:28.360 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:28.360 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:28.366 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:28.368 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:28.368 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:28.369 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:28.370 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.6196ms
2025-01-22 09:53:28.370 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:28.371 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:28.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 19.1031ms
2025-01-22 09:53:29.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:29.562 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:29.563 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:29.564 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:29.566 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:29.5661109Z"
2025-01-22 09:53:29.570 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:29.572 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:29.5727084Z"
2025-01-22 09:53:29.573 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:29.5731448Z"
2025-01-22 09:53:29.573 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:29.5737897Z"
2025-01-22 09:53:29.574 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:29.575 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.2311ms
2025-01-22 09:53:29.575 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:29.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.7102ms
2025-01-22 09:53:31.820 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:31.823 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:31.824 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.7538ms
2025-01-22 09:53:31.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:31.829 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:31.830 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:31.831 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:31.831 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:31.833 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:31.833 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:31.840 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:31.841 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:31.842 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:31.842 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:31.843 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 10.4671ms
2025-01-22 09:53:31.844 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:31.845 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:31.845 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 18.1927ms
2025-01-22 09:53:34.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:34.248 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:34.249 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:34.250 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:34.251 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:34.2517771Z"
2025-01-22 09:53:34.256 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:34.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:34.2572736Z"
2025-01-22 09:53:34.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:34.2576895Z"
2025-01-22 09:53:34.258 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:34.2581228Z"
2025-01-22 09:53:34.258 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:34.259 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.0249ms
2025-01-22 09:53:34.260 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:34.261 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.1317ms
2025-01-22 09:53:35.039 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 09:53:35.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:35.040 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 1.6062ms
2025-01-22 09:53:35.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 09:53:35.043 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:35.044 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:35.045 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:53:35.046 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T07:53:35.0464308Z"
2025-01-22 09:53:35.046 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:35.0469396Z"
2025-01-22 09:53:35.047 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:35.0474556Z"
2025-01-22 09:53:35.050 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:35.052 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T07:53:35.0525296Z"
2025-01-22 09:53:35.053 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T07:53:35.0530811Z"
2025-01-22 09:53:35.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:53:35.054 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.1008ms
2025-01-22 09:53:35.055 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:35.055 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 13.1341ms
2025-01-22 09:53:35.058 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - null null
2025-01-22 09:53:35.059 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:35.059 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - 204 null null 1.6583ms
2025-01-22 09:53:35.061 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - application/json 2
2025-01-22 09:53:35.062 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:35.063 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:35.064 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:35.064 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:35.066 +02:00 [INF] Starting AddToBasketAsync with GiftId: 2 and Quantity: 1
2025-01-22 09:53:35.066 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:35.067 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:35.068 +02:00 [INF] Parsing token...
2025-01-22 09:53:35.068 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:35.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:35.075 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:35.075 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:35.076 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T07:53:35.0761431Z"
2025-01-22 09:53:35.077 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:35.079 +02:00 [INF] Gift with Id: 2 successfully retrieved.
2025-01-22 09:53:35.079 +02:00 [INF] Starting to add Gift 2 (Quantity: 1) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:35.082 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:35.083 +02:00 [INF] Updated existing UserGift entry for Gift 2 (New Quantity: 1) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:35.084 +02:00 [INF] Successfully saved changes to database for Gift 2 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 1)
2025-01-22 09:53:35.085 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 2 with Quantity: 1
2025-01-22 09:53:35.085 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:35.086 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 20.8097ms
2025-01-22 09:53:35.087 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:35.087 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:35.088 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=2 - 200 null application/json; charset=utf-8 26.5384ms
2025-01-22 09:53:36.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:36.464 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:36.465 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:36.466 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:36.467 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:36.468 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:36.468 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:36.474 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:36.475 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 1
2025-01-22 09:53:36.476 +02:00 [INF] Successfully retrieved 1 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:36.477 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:36.478 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.9384ms
2025-01-22 09:53:36.478 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:36.479 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:36.480 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 18.3518ms
2025-01-22 09:53:38.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:53:38.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:38.250 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:38.250 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:53:38.252 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:53:38.2520912Z"
2025-01-22 09:53:38.254 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:53:38.255 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:38.2558719Z"
2025-01-22 09:53:38.256 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:38.2563411Z"
2025-01-22 09:53:38.256 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:53:38.2568269Z"
2025-01-22 09:53:38.257 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:38.258 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.1617ms
2025-01-22 09:53:38.258 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:53:38.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 11.6802ms
2025-01-22 09:53:39.263 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 09:53:39.266 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:39.266 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 3.0603ms
2025-01-22 09:53:39.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:53:39.269 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:39.270 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:39.270 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:53:39.272 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:53:39.2721502Z"
2025-01-22 09:53:39.272 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:53:39.2726569Z"
2025-01-22 09:53:39.273 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:53:39.2731842Z"
2025-01-22 09:53:39.277 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:39.278 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:53:39.2788757Z"
2025-01-22 09:53:39.279 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:53:39.2793979Z"
2025-01-22 09:53:39.279 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:53:39.280 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 8.716ms
2025-01-22 09:53:39.281 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:53:39.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 13.898ms
2025-01-22 09:53:39.284 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:53:39.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:39.286 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 1.9761ms
2025-01-22 09:53:39.288 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:53:39.289 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:39.289 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:39.290 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:39.290 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:39.292 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:53:39.292 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:39.292 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:39.293 +02:00 [INF] Parsing token...
2025-01-22 09:53:39.293 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:39.299 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:39.300 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:39.301 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:39.301 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:53:39.3015726Z"
2025-01-22 09:53:39.303 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:39.304 +02:00 [INF] Gift with Id: 1 successfully retrieved.
2025-01-22 09:53:39.305 +02:00 [INF] Starting to add Gift 1 (Quantity: 1) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:39.308 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:39.309 +02:00 [INF] Created new UserGift entry for Gift 1 (Quantity: 1) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:39.313 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 09:53:39.314 +02:00 [INF] Successfully saved changes to database for Gift 1 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 1)
2025-01-22 09:53:39.315 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 1 with Quantity: 1
2025-01-22 09:53:39.315 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:39.316 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 24.6595ms
2025-01-22 09:53:39.317 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:39.317 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:39.318 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 200 null application/json; charset=utf-8 30.0455ms
2025-01-22 09:53:41.177 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:53:41.180 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:41.181 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.5136ms
2025-01-22 09:53:41.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:53:41.185 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:41.185 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:53:41.186 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:41.186 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:53:41.188 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:41.189 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:41.193 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:53:41.196 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 2
2025-01-22 09:53:41.196 +02:00 [INF] Successfully retrieved 2 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:41.197 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:53:41.198 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.8829ms
2025-01-22 09:53:41.198 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:53:41.199 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:41.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 16.4005ms
2025-01-22 09:53:42.830 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1&quantity=2 - null null
2025-01-22 09:53:42.832 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:42.833 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1&quantity=2 - 204 null null 2.2244ms
2025-01-22 09:53:42.835 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1&quantity=2 - application/json 14
2025-01-22 09:53:42.836 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:53:42.837 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:53:42.839 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:42.839 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:53:42.840 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 2
2025-01-22 09:53:42.841 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:53:42.842 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:53:42.842 +02:00 [INF] Parsing token...
2025-01-22 09:53:42.842 +02:00 [INF] Attempting to retrieve user with username: miri and email: miri03994@gmail.com
2025-01-22 09:53:42.850 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:53:42.851 +02:00 [INF] User successfully found: miri
2025-01-22 09:53:42.852 +02:00 [INF] User with Id: 4e31a934-b841-4a74-968e-72e4da9254c7 successfully retrieved.
2025-01-22 09:53:42.853 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:53:42.8532017Z"
2025-01-22 09:53:42.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:53:42.856 +02:00 [INF] Gift with Id: 1 successfully retrieved.
2025-01-22 09:53:42.856 +02:00 [INF] Starting to add Gift 1 (Quantity: 2) to User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:53:42.859 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:53:42.860 +02:00 [INF] Updated existing UserGift entry for Gift 1 (New Quantity: 2) and User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:53:42.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 09:53:42.866 +02:00 [INF] Successfully saved changes to database for Gift 1 and User 4e31a934-b841-4a74-968e-72e4da9254c7 (Quantity: 2)
2025-01-22 09:53:42.867 +02:00 [INF] Completed AddToBasketAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7 and GiftId: 1 with Quantity: 2
2025-01-22 09:53:42.867 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:53:42.869 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 28.4705ms
2025-01-22 09:53:42.869 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:53:42.870 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:53:42.871 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1&quantity=2 - 200 null application/json; charset=utf-8 35.4857ms
2025-01-22 09:54:04.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:54:04.317 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:54:04.318 +02:00 [WRN] Missing Authorization Header
2025-01-22 09:54:04.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.1989ms
2025-01-22 09:54:04.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:54:04.564 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:04.565 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:54:04.565 +02:00 [WRN] Missing Authorization Header
2025-01-22 09:54:04.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.8794ms
2025-01-22 09:54:09.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:54:09.628 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:09.629 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:54:09.629 +02:00 [WRN] Missing Authorization Header
2025-01-22 09:54:09.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.1612ms
2025-01-22 09:54:27.558 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 09:54:27.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:27.560 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.8475ms
2025-01-22 09:54:27.565 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 09:54:27.566 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:27.566 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:54:27.567 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 09:54:27.583 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:54:27.665 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 09:54:27.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 09:54:27.673 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 09:54:27.678 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:54:27.679 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 111.6622ms
2025-01-22 09:54:27.680 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:54:27.681 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 116.4957ms
2025-01-22 09:54:27.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:54:27.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:27.691 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:54:27.692 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:54:27.693 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:54:27.6934155Z"
2025-01-22 09:54:27.695 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:54:27.697 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:54:27.6974071Z"
2025-01-22 09:54:27.697 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:54:27.6979342Z"
2025-01-22 09:54:27.698 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:54:27.6983887Z"
2025-01-22 09:54:27.698 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:27.699 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.3087ms
2025-01-22 09:54:27.700 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:54:27.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 11.0648ms
2025-01-22 09:54:30.597 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 09:54:30.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:30.600 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.5465ms
2025-01-22 09:54:30.601 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 09:54:30.602 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:30.603 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:54:30.603 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 09:54:30.604 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 09:54:30.605 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:54:30.6051338Z"
2025-01-22 09:54:30.605 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:54:30.6055424Z"
2025-01-22 09:54:30.611 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 09:54:30.613 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:54:30.6133217Z"
2025-01-22 09:54:30.613 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:54:30.6137515Z"
2025-01-22 09:54:30.614 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 09:54:30.614 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:30.615 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 10.9292ms
2025-01-22 09:54:30.616 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:54:30.617 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 15.5379ms
2025-01-22 09:54:31.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 09:54:31.814 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:31.815 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 3.0965ms
2025-01-22 09:54:31.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 09:54:31.818 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:31.818 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 09:54:31.819 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:31.822 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:54:31.844 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:54:31.847 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:31.848 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 24.8901ms
2025-01-22 09:54:31.849 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:31.849 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:54:31.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 33.1834ms
2025-01-22 09:54:36.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 09:54:36.553 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:36.553 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 09:54:36.554 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:36.555 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:54:36.563 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:54:36.565 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:36.566 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 9.6697ms
2025-01-22 09:54:36.566 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:36.567 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:54:36.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 15.8796ms
2025-01-22 09:54:37.705 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 09:54:37.707 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:37.708 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 2.919ms
2025-01-22 09:54:37.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 09:54:37.711 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:37.711 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 09:54:37.712 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:37.713 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:54:37.716 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:54:37.718 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:37.718 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 4.4371ms
2025-01-22 09:54:37.719 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:37.720 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:54:37.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 10.7642ms
2025-01-22 09:54:41.591 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - null null
2025-01-22 09:54:41.593 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:41.594 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - 204 null null 2.2001ms
2025-01-22 09:54:41.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - application/json null
2025-01-22 09:54:41.597 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:54:41.597 +02:00 [INF] Incoming Request: GET /api/User/2/buyers
2025-01-22 09:54:41.598 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:41.598 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:54:41.608 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:54:41.609 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:54:41.610 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 10.4393ms
2025-01-22 09:54:41.611 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:54:41.612 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:54:41.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - 200 null application/json; charset=utf-8 16.563ms
2025-01-22 09:55:09.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-22 09:55:09.295 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:09.296 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 8.4565ms
2025-01-22 09:55:09.298 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-22 09:55:09.299 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:09.300 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-22 09:55:09.301 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 09:55:09.304 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-22 09:55:09.306 +02:00 [INF] Starting ConfirmPurchaseAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.307 +02:00 [INF] Confirming purchase for User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.308 +02:00 [INF] Fetching UserGifts for User 4e31a934-b841-4a74-968e-72e4da9254c7 to confirm purchase
2025-01-22 09:55:09.324 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-22 09:55:09.326 +02:00 [INF] Updated Gift 1 to Purchased for User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.327 +02:00 [INF] Updated Gift 2 to Purchased for User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.345 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 450), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
UPDATE [UserGifts] SET [GiftStatus] = @p3
OUTPUT 1
WHERE [GiftId] = @p4 AND [UserId] = @p5;
2025-01-22 09:55:09.356 +02:00 [INF] Purchase confirmed for User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.356 +02:00 [INF] Purchase confirmed for User 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.357 +02:00 [INF] Completed ConfirmPurchaseAsync for User: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:09.357 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 52.6527ms
2025-01-22 09:55:09.358 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 09:55:09.359 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:09.359 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 60.8849ms
2025-01-22 09:55:15.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 09:55:15.057 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:55:15.058 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 09:55:15.059 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 09:55:15.059 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:55:15.0595452Z"
2025-01-22 09:55:15.060 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:55:15.0601146Z"
2025-01-22 09:55:15.070 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 09:55:15.071 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:55:15.0715472Z"
2025-01-22 09:55:15.071 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:55:15.0719601Z"
2025-01-22 09:55:15.072 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 09:55:15.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:15.073 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 14.7357ms
2025-01-22 09:55:15.074 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:55:15.074 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.715ms
2025-01-22 09:55:15.147 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 09:55:15.149 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:15.150 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.0816ms
2025-01-22 09:55:15.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 09:55:15.154 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:15.154 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:55:15.155 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 09:55:15.156 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 09:55:15.157 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:55:15.1572316Z"
2025-01-22 09:55:15.157 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T07:55:15.1577350Z"
2025-01-22 09:55:15.160 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 09:55:15.162 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:55:15.1624954Z"
2025-01-22 09:55:15.163 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T07:55:15.1639627Z"
2025-01-22 09:55:15.164 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 09:55:15.165 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:15.166 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 9.5361ms
2025-01-22 09:55:15.167 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 09:55:15.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 14.9571ms
2025-01-22 09:55:19.376 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 09:55:19.378 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:19.378 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 2.667ms
2025-01-22 09:55:19.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 09:55:19.382 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:19.383 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 09:55:19.383 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:19.384 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:55:19.393 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:55:19.395 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:19.396 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 10.8232ms
2025-01-22 09:55:19.397 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:19.398 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:19.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 17.8643ms
2025-01-22 09:55:21.136 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - null null
2025-01-22 09:55:21.137 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:21.138 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - 204 null null 2.0146ms
2025-01-22 09:55:21.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - application/json null
2025-01-22 09:55:21.140 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:21.141 +02:00 [INF] Incoming Request: GET /api/User/2/buyers
2025-01-22 09:55:21.141 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:21.142 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:55:21.150 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:55:21.151 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:21.152 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 9.3739ms
2025-01-22 09:55:21.153 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:21.153 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:21.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - 200 null application/json; charset=utf-8 14.6458ms
2025-01-22 09:55:22.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 09:55:22.307 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:22.308 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 09:55:22.309 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:22.310 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:55:22.316 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-22 09:55:22.317 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:22.319 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 6.6348ms
2025-01-22 09:55:22.319 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 09:55:22.320 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:22.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 14.9606ms
2025-01-22 09:55:29.146 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:55:29.148 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:29.149 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.151ms
2025-01-22 09:55:29.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:55:29.153 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:29.154 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:55:29.155 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:55:29.155 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:55:29.157 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:55:29.158 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:55:29.165 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:55:29.167 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:55:29.168 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 09:55:29.168 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:29.169 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 12.4352ms
2025-01-22 09:55:29.170 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:55:29.170 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:29.171 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 19.5ms
2025-01-22 09:55:31.099 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:55:31.102 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:31.103 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.6048ms
2025-01-22 09:55:31.105 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:55:31.107 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:31.108 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:55:31.109 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:55:31.110 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:55:31.112 +02:00 [INF] Received request to get basket for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:31.113 +02:00 [INF] Start fetching user gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:31.120 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:55:31.122 +02:00 [INF] Successfully fetched gifts for userId: 4e31a934-b841-4a74-968e-72e4da9254c7, result count: 2
2025-01-22 09:55:31.123 +02:00 [INF] Successfully retrieved 2 gifts for user: 4e31a934-b841-4a74-968e-72e4da9254c7
2025-01-22 09:55:31.123 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:55:31.124 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 12.3599ms
2025-01-22 09:55:31.125 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:55:31.125 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:55:31.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 20.8819ms
2025-01-22 09:55:33.912 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - null null
2025-01-22 09:55:33.914 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:33.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - 204 null null 2.9779ms
2025-01-22 09:55:33.916 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=2 - application/json null
2025-01-22 09:55:33.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:33.918 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 09:55:33.919 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:55:33.920 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:55:33.921 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 2
2025-01-22 09:55:33.922 +02:00 [INF] Removing Gift 2 from User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:55:33.923 +02:00 [INF] Removing Gift 2 for User 4e31a934-b841-4a74-968e-72e4da9254c7 in database
2025-01-22 09:55:33.928 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 09:55:33.933 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 09:55:34.025 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 103.796ms
2025-01-22 09:55:34.026 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:55:34.077 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in F:\פרויקט\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 09:55:34.087 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=2 - 500 null text/plain; charset=utf-8 170.7665ms
2025-01-22 09:55:47.150 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - null null
2025-01-22 09:55:47.152 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:47.152 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=2 - 204 null null 2.3097ms
2025-01-22 09:55:47.155 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=2 - application/json null
2025-01-22 09:55:47.159 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:55:47.160 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 09:55:47.162 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:55:47.163 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:55:47.169 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 2
2025-01-22 09:55:47.169 +02:00 [INF] Removing Gift 2 from User 4e31a934-b841-4a74-968e-72e4da9254c7's basket
2025-01-22 09:55:47.171 +02:00 [INF] Removing Gift 2 for User 4e31a934-b841-4a74-968e-72e4da9254c7 in database
2025-01-22 09:55:47.180 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 09:55:47.186 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 09:55:47.256 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 87.8055ms
2025-01-22 09:55:47.257 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 09:55:47.290 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in F:\פרויקט\פרויקט\server\project\Controllers\UserController.cs:line 194
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in F:\פרויקט\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 09:55:47.297 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=2 - 500 null text/plain; charset=utf-8 142.1719ms
2025-01-22 09:57:39.902 +02:00 [INF] Starting up the application
2025-01-22 09:57:40.561 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 09:57:41.475 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 09:57:41.525 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:57:41.661 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 09:57:41.663 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 09:57:41.664 +02:00 [INF] Hosting environment: Development
2025-01-22 09:57:41.664 +02:00 [INF] Content root path: F:\פרויקט\פרויקט\server\project
2025-01-22 09:57:42.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-01-22 09:57:42.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 81.386ms
2025-01-22 09:57:42.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 09:57:42.375 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 55.4808ms
2025-01-22 09:57:42.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-01-22 09:57:42.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-01-22 09:57:42.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 09:57:42.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-01-22 09:57:42.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 09:57:42.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-01-22 09:57:42.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 5.7095ms
2025-01-22 09:57:42.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 12.2815ms
2025-01-22 09:57:42.399 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-22 09:57:42.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 09:57:42.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 19.2192ms
2025-01-22 09:57:42.425 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-22 09:57:42.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 152035 text/css 46.0682ms
2025-01-22 09:57:42.431 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-22 09:57:42.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 230007 text/javascript 47.5377ms
2025-01-22 09:57:42.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.0791ms
2025-01-22 09:57:42.496 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-22 09:57:42.497 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1426050 text/javascript 112.2018ms
2025-01-22 09:57:42.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 09:57:42.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-01-22 09:57:42.617 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-22 09:57:42.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 2.7179ms
2025-01-22 09:57:42.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.9181ms
2025-01-22 09:57:48.624 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 09:57:48.629 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:57:48.632 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.5202ms
2025-01-22 09:57:48.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 09:57:48.636 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:57:48.637 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 09:57:48.785 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:57:48.802 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 09:57:48.911 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:57:48.9113083Z"
2025-01-22 09:57:48.914 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:57:48.9140669Z"
2025-01-22 09:57:48.916 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T07:57:48.9165600Z"
2025-01-22 09:57:49.054 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 09:57:49.058 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:57:49.0580459Z"
2025-01-22 09:57:49.058 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:57:49.0588944Z"
2025-01-22 09:57:49.059 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T07:57:49.0596366Z"
2025-01-22 09:57:49.064 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:57:49.092 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 285.2237ms
2025-01-22 09:57:49.094 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 09:57:49.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 463.526ms
2025-01-22 09:58:23.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:58:23.975 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:58:23.980 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:58:23.988 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:58:23.9885936Z"
2025-01-22 09:58:24.013 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:58:24.043 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:58:24.0430166Z"
2025-01-22 09:58:24.043 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:58:24.0437288Z"
2025-01-22 09:58:24.045 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:58:24.0453662Z"
2025-01-22 09:58:24.046 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:58:24.061 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 79.7776ms
2025-01-22 09:58:24.062 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:58:24.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 93.191ms
2025-01-22 09:59:05.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 09:59:05.520 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:05.522 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 3.1832ms
2025-01-22 09:59:05.524 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 98
2025-01-22 09:59:05.525 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:05.527 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:59:05.535 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 09:59:05.575 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:59:05.588 +02:00 [WRN] Registration failed: Username 'miri' is already taken.
2025-01-22 09:59:05.675 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in F:\פרויקט\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in F:\פרויקט\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in F:\פרויקט\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-22 09:59:05.694 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:59:05.703 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 166.4727ms
2025-01-22 09:59:05.704 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:59:05.705 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 181.1248ms
2025-01-22 09:59:13.125 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 09:59:13.127 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:13.128 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 3.1104ms
2025-01-22 09:59:13.131 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 98
2025-01-22 09:59:13.132 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:13.133 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:59:13.134 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 09:59:13.144 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:59:13.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:59:13.264 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 09:59:13.366 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 09:59:13.376 +02:00 [INF] User registered successfully: sari
2025-01-22 09:59:13.377 +02:00 [INF] User registered successfully.
2025-01-22 09:59:13.378 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:59:13.380 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 244.1852ms
2025-01-22 09:59:13.381 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 09:59:13.381 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 250.6432ms
2025-01-22 09:59:33.253 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 09:59:33.254 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:33.255 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.7827ms
2025-01-22 09:59:33.257 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 47
2025-01-22 09:59:33.258 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:33.259 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:33.263 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 09:59:33.280 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:59:33.361 +02:00 [WRN] Invalid login attempt: trs@gmail.com
2025-01-22 09:59:33.363 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 09:59:33.364 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 99.6064ms
2025-01-22 09:59:33.365 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:33.365 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 108.5731ms
2025-01-22 09:59:39.013 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 09:59:39.014 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:39.015 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.8403ms
2025-01-22 09:59:39.016 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 47
2025-01-22 09:59:39.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:39.018 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:39.018 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 09:59:39.026 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:59:39.107 +02:00 [WRN] Invalid login attempt: trs@gmail.com
2025-01-22 09:59:39.108 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 09:59:39.109 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 89.4205ms
2025-01-22 09:59:39.110 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:39.112 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 95.5236ms
2025-01-22 09:59:49.341 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 09:59:49.342 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:49.342 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.7413ms
2025-01-22 09:59:49.345 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 49
2025-01-22 09:59:49.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:49.348 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:49.348 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 09:59:49.356 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 09:59:49.451 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 09:59:49.469 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 09:59:49.486 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 09:59:49.488 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:59:49.491 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 141.8518ms
2025-01-22 09:59:49.492 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 09:59:49.492 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 147.8367ms
2025-01-22 09:59:49.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 09:59:49.500 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:49.501 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:59:49.501 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 09:59:49.506 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T07:59:49.5062670Z"
2025-01-22 09:59:49.509 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 09:59:49.511 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:59:49.5113614Z"
2025-01-22 09:59:49.511 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:59:49.5119416Z"
2025-01-22 09:59:49.512 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T07:59:49.5124976Z"
2025-01-22 09:59:49.513 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:59:49.514 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.9709ms
2025-01-22 09:59:49.514 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 09:59:49.515 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.5841ms
2025-01-22 09:59:54.654 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 09:59:54.655 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:54.655 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 1.9534ms
2025-01-22 09:59:54.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 09:59:54.658 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:54.662 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:59:54.666 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 09:59:54.669 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T07:59:54.6693237Z"
2025-01-22 09:59:54.670 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:59:54.6705574Z"
2025-01-22 09:59:54.672 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:59:54.6720433Z"
2025-01-22 09:59:54.680 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:59:54.682 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T07:59:54.6825532Z"
2025-01-22 09:59:54.683 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T07:59:54.6831643Z"
2025-01-22 09:59:54.683 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 09:59:54.684 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.0834ms
2025-01-22 09:59:54.685 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 09:59:54.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 28.2756ms
2025-01-22 09:59:54.687 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - null null
2025-01-22 09:59:54.688 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:54.689 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=1 - 204 null null 1.5504ms
2025-01-22 09:59:54.690 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - application/json 2
2025-01-22 09:59:54.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:54.692 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 09:59:54.708 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:59:54.713 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 09:59:54.719 +02:00 [INF] Starting AddToBasketAsync with GiftId: 1 and Quantity: 1
2025-01-22 09:59:54.720 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 09:59:54.722 +02:00 [INF] Received request to fetch user by token.
2025-01-22 09:59:54.722 +02:00 [INF] Parsing token...
2025-01-22 09:59:54.723 +02:00 [INF] Attempting to retrieve user with username: sari and email: trs@gmail.com
2025-01-22 09:59:54.745 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 09:59:54.747 +02:00 [INF] User successfully found: sari
2025-01-22 09:59:54.747 +02:00 [INF] User with Id: 69806809-334e-4a18-875b-a07d28d9854f successfully retrieved.
2025-01-22 09:59:54.747 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T07:59:54.7479626Z"
2025-01-22 09:59:54.749 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 09:59:54.751 +02:00 [INF] Gift with Id: 1 successfully retrieved.
2025-01-22 09:59:54.753 +02:00 [INF] Starting to add Gift 1 (Quantity: 1) to User 69806809-334e-4a18-875b-a07d28d9854f's basket
2025-01-22 09:59:54.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 09:59:54.791 +02:00 [INF] Created new UserGift entry for Gift 1 (Quantity: 1) and User 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 09:59:54.812 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 09:59:54.814 +02:00 [INF] Successfully saved changes to database for Gift 1 and User 69806809-334e-4a18-875b-a07d28d9854f (Quantity: 1)
2025-01-22 09:59:54.815 +02:00 [INF] Completed AddToBasketAsync for User: 69806809-334e-4a18-875b-a07d28d9854f and GiftId: 1 with Quantity: 1
2025-01-22 09:59:54.815 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 09:59:54.816 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 101.9815ms
2025-01-22 09:59:54.817 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 09:59:54.817 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:59:54.818 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=1 - 200 null application/json; charset=utf-8 127.6525ms
2025-01-22 09:59:55.917 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 09:59:55.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:55.919 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.396ms
2025-01-22 09:59:55.922 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 09:59:55.923 +02:00 [INF] CORS policy execution successful.
2025-01-22 09:59:55.925 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 09:59:55.926 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:59:55.929 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 09:59:55.936 +02:00 [INF] Received request to get basket for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 09:59:55.938 +02:00 [INF] Start fetching user gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 09:59:55.971 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 09:59:55.977 +02:00 [INF] Successfully fetched gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f, result count: 1
2025-01-22 09:59:55.978 +02:00 [INF] Successfully retrieved 1 gifts for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 09:59:55.979 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 09:59:55.982 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 51.4943ms
2025-01-22 09:59:55.983 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 09:59:55.984 +02:00 [INF] Outgoing Response: 200
2025-01-22 09:59:55.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 62.9827ms
2025-01-22 10:00:03.971 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 10:00:03.973 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:03.973 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.4323ms
2025-01-22 10:00:03.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 10:00:03.976 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:03.978 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:00:03.982 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 10:00:03.984 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 10:00:03.985 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:00:03.9859665Z"
2025-01-22 10:00:03.987 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:00:03.9878461Z"
2025-01-22 10:00:04.004 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 10:00:04.005 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:00:04.0057343Z"
2025-01-22 10:00:04.006 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:00:04.0062075Z"
2025-01-22 10:00:04.006 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 10:00:04.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:04.008 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 24.6178ms
2025-01-22 10:00:04.008 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:00:04.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 33.6646ms
2025-01-22 10:00:06.381 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 10:00:06.383 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:06.384 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 2.3267ms
2025-01-22 10:00:06.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 10:00:06.387 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:06.388 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 10:00:06.389 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:06.393 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 10:00:06.418 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 10:00:06.420 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:06.421 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 26.8684ms
2025-01-22 10:00:06.422 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:06.422 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:00:06.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 37.254ms
2025-01-22 10:00:08.911 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - null null
2025-01-22 10:00:08.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:08.914 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - 204 null null 2.5564ms
2025-01-22 10:00:08.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - application/json null
2025-01-22 10:00:08.917 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:08.917 +02:00 [INF] Incoming Request: GET /api/User/2/buyers
2025-01-22 10:00:08.918 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:08.918 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 10:00:08.930 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 10:00:08.932 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:08.933 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 12.7064ms
2025-01-22 10:00:08.933 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:08.934 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:00:08.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - 200 null application/json; charset=utf-8 19.0916ms
2025-01-22 10:00:12.792 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 10:00:12.795 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:12.795 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 3.1266ms
2025-01-22 10:00:12.798 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 10:00:12.799 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:12.800 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 10:00:12.801 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:12.801 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 10:00:12.811 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 10:00:12.812 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:12.813 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 10.9145ms
2025-01-22 10:00:12.814 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:12.815 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:00:12.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 17.4962ms
2025-01-22 10:00:14.680 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - null null
2025-01-22 10:00:14.682 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:14.683 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - 204 null null 2.8616ms
2025-01-22 10:00:14.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - application/json null
2025-01-22 10:00:14.686 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:14.687 +02:00 [INF] Incoming Request: GET /api/User/2/buyers
2025-01-22 10:00:14.688 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:14.689 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 10:00:14.698 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 10:00:14.699 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:14.700 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 10.4737ms
2025-01-22 10:00:14.701 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 10:00:14.702 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:00:14.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - 200 null application/json; charset=utf-8 16.9691ms
2025-01-22 10:00:19.717 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 10:00:19.720 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:19.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.824ms
2025-01-22 10:00:19.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 10:00:19.724 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:19.726 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:00:19.729 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:00:19.732 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 10:00:19.735 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T08:00:19.7356812Z"
2025-01-22 10:00:19.751 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 10:00:19.753 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:00:19.7530575Z"
2025-01-22 10:00:19.753 +02:00 [INF] Successfully retrieved 2 gifts.
2025-01-22 10:00:19.754 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:19.754 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 23.6184ms
2025-01-22 10:00:19.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:00:19.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 33.7363ms
2025-01-22 10:00:20.588 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 10:00:20.590 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:20.591 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 2.9544ms
2025-01-22 10:00:20.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 10:00:20.596 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:20.597 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:00:20.598 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:00:20.600 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 10:00:20.601 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T08:00:20.6014912Z"
2025-01-22 10:00:20.614 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 10:00:20.616 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:00:20.6167200Z"
2025-01-22 10:00:20.617 +02:00 [INF] Successfully retrieved 2 gifts.
2025-01-22 10:00:20.618 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:00:20.619 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 19.3031ms
2025-01-22 10:00:20.620 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:00:20.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 27.6131ms
2025-01-22 10:00:59.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:00:59.777 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:00:59.779 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:00:59.780 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:00:59.781 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 9.1083ms
2025-01-22 10:02:00.218 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:00.220 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:00.220 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:00.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.9425ms
2025-01-22 10:02:00.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:00.264 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:00.265 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:00.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.8499ms
2025-01-22 10:02:00.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:00.443 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:00.443 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:00.444 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:00.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.9678ms
2025-01-22 10:02:00.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:00.466 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:00.466 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:00.467 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:00.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.8485ms
2025-01-22 10:02:16.996 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:16.998 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:16.998 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:16.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.315ms
2025-01-22 10:02:17.126 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:17.128 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:17.128 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:17.129 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:17.129 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.5936ms
2025-01-22 10:02:22.962 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:22.964 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:22.965 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:22.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.7321ms
2025-01-22 10:02:23.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:23.080 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:23.080 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:23.080 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:23.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.9634ms
2025-01-22 10:02:31.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:31.933 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:31.933 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:31.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.4729ms
2025-01-22 10:02:32.076 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:32.077 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:32.078 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:32.078 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:32.079 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.0111ms
2025-01-22 10:02:40.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:40.866 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:40.866 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:40.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.8987ms
2025-01-22 10:02:40.991 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:40.993 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:40.994 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:40.994 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:40.994 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.2381ms
2025-01-22 10:02:43.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:43.929 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:43.930 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:43.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.1076ms
2025-01-22 10:02:44.044 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:44.046 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:44.046 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:44.046 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:44.047 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 2.7141ms
2025-01-22 10:02:47.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:47.599 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:47.600 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:47.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 5.402ms
2025-01-22 10:02:47.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:47.710 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:47.711 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:47.712 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:47.712 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.3333ms
2025-01-22 10:02:48.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:48.914 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:48.914 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:48.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.945ms
2025-01-22 10:02:48.955 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:48.956 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:48.957 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:48.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.3308ms
2025-01-22 10:02:49.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:49.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:49.025 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:49.025 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:49.026 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 3.911ms
2025-01-22 10:02:49.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:49.080 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:49.081 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:49.081 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:49.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.0037ms
2025-01-22 10:02:52.364 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:02:52.367 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:52.368 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:02:52.370 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:02:52.386 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:02:52.3865603Z"
2025-01-22 10:02:52.392 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:02:52.394 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:52.3943932Z"
2025-01-22 10:02:52.394 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:52.3949252Z"
2025-01-22 10:02:52.395 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:52.3954002Z"
2025-01-22 10:02:52.395 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:02:52.397 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.7163ms
2025-01-22 10:02:52.397 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:02:52.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 33.8255ms
2025-01-22 10:02:58.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:58.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:02:58.949 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:58.950 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:02:58.950 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:58.951 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:02:58.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.087ms
2025-01-22 10:02:58.953 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:02:58.9533800Z"
2025-01-22 10:02:58.959 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:02:58.960 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:58.9607571Z"
2025-01-22 10:02:58.961 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:58.9612319Z"
2025-01-22 10:02:58.961 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:02:58.9618414Z"
2025-01-22 10:02:58.962 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:02:58.963 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.0196ms
2025-01-22 10:02:58.963 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:02:58.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.6676ms
2025-01-22 10:02:59.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 10:02:59.085 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:02:59.085 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 10:02:59.086 +02:00 [WRN] Missing Authorization Header
2025-01-22 10:02:59.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.611ms
2025-01-22 10:03:00.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:03:00.164 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:00.164 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:03:00.166 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:03:00.1663384Z"
2025-01-22 10:03:00.169 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:03:00.171 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:00.1712988Z"
2025-01-22 10:03:00.171 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:00.1717481Z"
2025-01-22 10:03:00.172 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:00.1722350Z"
2025-01-22 10:03:00.172 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:03:00.173 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.7137ms
2025-01-22 10:03:00.174 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:00.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.0387ms
2025-01-22 10:03:01.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:03:01.772 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:01.772 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:03:01.775 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:03:01.7753775Z"
2025-01-22 10:03:01.779 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:03:01.781 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:01.7816851Z"
2025-01-22 10:03:01.782 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:01.7821413Z"
2025-01-22 10:03:01.782 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:01.7826218Z"
2025-01-22 10:03:01.783 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:03:01.783 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.7522ms
2025-01-22 10:03:01.784 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:01.785 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.8882ms
2025-01-22 10:03:11.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:03:11.003 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:03:11.003 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:11.004 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:03:11.005 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:03:11.0056474Z"
2025-01-22 10:03:11.010 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:03:11.012 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:11.0125676Z"
2025-01-22 10:03:11.013 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:11.0132361Z"
2025-01-22 10:03:11.013 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:03:11.0138977Z"
2025-01-22 10:03:11.014 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:03:11.017 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.5862ms
2025-01-22 10:03:11.018 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:03:11.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.7076ms
2025-01-22 10:04:17.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:04:17.439 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:04:17.440 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:04:17.441 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:04:17.4415320Z"
2025-01-22 10:04:17.446 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:04:17.448 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:17.4483381Z"
2025-01-22 10:04:17.448 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:17.4487706Z"
2025-01-22 10:04:17.449 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:17.4492683Z"
2025-01-22 10:04:17.449 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:04:17.450 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.6373ms
2025-01-22 10:04:17.451 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:04:17.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.9795ms
2025-01-22 10:04:22.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:04:22.601 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:04:22.602 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:04:22.602 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:04:22.604 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:04:22.6044564Z"
2025-01-22 10:04:22.609 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:04:22.611 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:22.6119546Z"
2025-01-22 10:04:22.612 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:22.6124235Z"
2025-01-22 10:04:22.613 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:04:22.6130146Z"
2025-01-22 10:04:22.613 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:04:22.614 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.3882ms
2025-01-22 10:04:22.615 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:04:22.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.2563ms
2025-01-22 10:04:58.220 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 10:04:58.222 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:04:58.222 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.7402ms
2025-01-22 10:04:58.227 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 54
2025-01-22 10:04:58.229 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:04:58.230 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:04:58.230 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 10:04:58.239 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 10:04:58.240 +02:00 [WRN] Invalid login attempt: manger@gmail.com
2025-01-22 10:04:58.241 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 10:04:58.241 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 10.2065ms
2025-01-22 10:04:58.242 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:04:58.243 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 15.4461ms
2025-01-22 10:05:02.181 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 54
2025-01-22 10:05:02.182 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:02.182 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:05:02.183 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 10:05:02.190 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 10:05:02.191 +02:00 [WRN] Invalid login attempt: manger@gmail.com
2025-01-22 10:05:02.191 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 10:05:02.192 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 8.1264ms
2025-01-22 10:05:02.193 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:05:02.194 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 13.8616ms
2025-01-22 10:05:20.460 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 10:05:20.462 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:20.463 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.1294ms
2025-01-22 10:05:20.467 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 10:05:20.469 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:20.469 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:05:20.470 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 10:05:20.478 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 10:05:20.561 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 10:05:20.565 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 10:05:20.569 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 10:05:20.574 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:05:20.575 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 104.2221ms
2025-01-22 10:05:20.576 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:05:20.576 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 109.8351ms
2025-01-22 10:05:20.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:05:20.584 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:20.585 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:05:20.586 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:05:20.587 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:05:20.5874109Z"
2025-01-22 10:05:20.590 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:05:20.591 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:05:20.5913750Z"
2025-01-22 10:05:20.591 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:05:20.5917964Z"
2025-01-22 10:05:20.592 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:05:20.5922433Z"
2025-01-22 10:05:20.592 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:20.593 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.4382ms
2025-01-22 10:05:20.594 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:05:20.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 12.3578ms
2025-01-22 10:05:23.091 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:05:23.094 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:23.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1021ms
2025-01-22 10:05:23.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:05:23.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:23.098 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:05:23.100 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:05:23.102 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:23.1025713Z"
2025-01-22 10:05:23.103 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:23.1034105Z"
2025-01-22 10:05:23.104 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:23.1047177Z"
2025-01-22 10:05:23.113 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:05:23.114 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:23.1149311Z"
2025-01-22 10:05:23.115 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:23.1153580Z"
2025-01-22 10:05:23.115 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:23.1158171Z"
2025-01-22 10:05:23.116 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:23.117 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.7726ms
2025-01-22 10:05:23.117 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:05:23.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.5681ms
2025-01-22 10:05:26.534 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:05:26.536 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 10:05:26.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:05:26.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:26.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:26.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:26.814 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 279.593ms
2025-01-22 10:05:26.814 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 278.4996ms
2025-01-22 10:05:26.815 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:26.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:05:26.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 10:05:26.823 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:26.824 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:26.825 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:05:26.825 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:05:26.826 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:26.829 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:26.830 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:26.830 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T08:05:26.8306778Z"
2025-01-22 10:05:26.831 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T08:05:26.8316655Z"
2025-01-22 10:05:26.832 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T08:05:26.8323918Z"
2025-01-22 10:05:26.833 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:05:26.837 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:05:26.839 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:26.841 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T08:05:26.8414653Z"
2025-01-22 10:05:26.842 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T08:05:26.8424177Z"
2025-01-22 10:05:26.842 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:26.843 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:05:26.844 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 14.3229ms
2025-01-22 10:05:26.845 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:26.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 24.4516ms
2025-01-22 10:05:26.851 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:05:26.853 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:05:26.859 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:05:26.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:26.862 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 35.0262ms
2025-01-22 10:05:26.862 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:05:26.863 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:26.864 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:26.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 328.4566ms
2025-01-22 10:05:26.867 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 32.0315ms
2025-01-22 10:05:26.868 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:26.869 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:05:26.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 48.8472ms
2025-01-22 10:05:30.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:05:30.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 10:05:30.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:05:30.274 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:30.278 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:30.280 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:30.281 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:30.282 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:30.282 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:05:30.282 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:05:30.283 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:30.284 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:30.286 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T08:05:30.2864523Z"
2025-01-22 10:05:30.286 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:05:30.287 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T08:05:30.2876698Z"
2025-01-22 10:05:30.288 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:05:30.289 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:30.289 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T08:05:30.2892845Z"
2025-01-22 10:05:30.290 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:05:30.290 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:30.292 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:30.294 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:05:30.294 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 10.0779ms
2025-01-22 10:05:30.296 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:05:30.296 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T08:05:30.2963844Z"
2025-01-22 10:05:30.296 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:30.298 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:05:30.298 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T08:05:30.2989128Z"
2025-01-22 10:05:30.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 26.7304ms
2025-01-22 10:05:30.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:30.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:05:30.302 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.2566ms
2025-01-22 10:05:30.303 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.7531ms
2025-01-22 10:05:30.304 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:30.304 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:30.305 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:05:30.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 33.4381ms
2025-01-22 10:05:30.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 34.0211ms
2025-01-22 10:05:33.856 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:05:33.856 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:05:33.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:05:33.858 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:33.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:33.861 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:33.861 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.6588ms
2025-01-22 10:05:33.862 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.1624ms
2025-01-22 10:05:33.863 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:33.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:05:33.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:05:33.866 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:05:33.868 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:33.869 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:33.870 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:05:33.871 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:33.871 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:33.872 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:33.873 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:05:33.874 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:05:33.8744481Z"
2025-01-22 10:05:33.874 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:05:33.875 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:05:33.8758068Z"
2025-01-22 10:05:33.876 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:33.877 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:05:33.878 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:05:33.8781984Z"
2025-01-22 10:05:33.878 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:33.879 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:33.882 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 11.9723ms
2025-01-22 10:05:33.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:05:33.884 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:33.883 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:05:33.888 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:05:33.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 32.5933ms
2025-01-22 10:05:33.890 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:05:33.8903442Z"
2025-01-22 10:05:33.890 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:33.892 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:05:33.8927451Z"
2025-01-22 10:05:33.893 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 18.645ms
2025-01-22 10:05:33.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:05:33.895 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:33.896 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 22.0399ms
2025-01-22 10:05:33.896 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:05:33.898 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:33.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 33.8726ms
2025-01-22 10:05:33.899 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 33.1108ms
2025-01-22 10:05:46.532 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:05:46.533 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:46.534 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.1977ms
2025-01-22 10:05:46.535 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 10:05:46.537 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:46.537 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:05:46.541 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:46.548 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:05:46.5489023Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:05:46.556 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:05:46.5559862Z"
2025-01-22 10:05:46.566 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:05:46.582 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0, [DonatorId] = @p1, [Price] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-22 10:05:46.586 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:05:46.5868257Z"
2025-01-22 10:05:46.587 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:05:46.5874208Z"
2025-01-22 10:05:46.587 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:05:46.588 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 46.3664ms
2025-01-22 10:05:46.589 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:05:46.590 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 54.2489ms
2025-01-22 10:05:46.671 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:05:46.672 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:46.673 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 1.6775ms
2025-01-22 10:05:46.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:05:46.676 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:46.676 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:05:46.678 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:05:46.679 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:46.6793583Z"
2025-01-22 10:05:46.679 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:46.6797777Z"
2025-01-22 10:05:46.680 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:05:46.6802486Z"
2025-01-22 10:05:46.687 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:05:46.688 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:46.6885422Z"
2025-01-22 10:05:46.688 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:46.6889659Z"
2025-01-22 10:05:46.689 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:05:46.6894128Z"
2025-01-22 10:05:46.689 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:46.690 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.4397ms
2025-01-22 10:05:46.691 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:05:46.691 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.9484ms
2025-01-22 10:05:51.009 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:05:51.010 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:05:51.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:05:51.011 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:51.013 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:51.014 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:51.015 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.8571ms
2025-01-22 10:05:51.016 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.1645ms
2025-01-22 10:05:51.017 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:51.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:05:51.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:05:51.022 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:05:51.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:51.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:51.026 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:05:51.027 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:51.028 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:51.028 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:51.029 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:05:51.029 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:05:51.030 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:05:51.0307398Z"
2025-01-22 10:05:51.031 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:51.033 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:05:51.033 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:05:51.0337392Z"
2025-01-22 10:05:51.034 +02:00 [INF] Fetching all donators.
2025-01-22 10:05:51.034 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:51.035 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:05:51.0352916Z"
2025-01-22 10:05:51.036 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 11.0692ms
2025-01-22 10:05:51.038 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:05:51.038 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:05:51.040 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:05:51.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 30.9428ms
2025-01-22 10:05:51.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:51.041 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:05:51.044 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 12.6013ms
2025-01-22 10:05:51.046 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:05:51.0463501Z"
2025-01-22 10:05:51.046 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:05:51.047 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:05:51.0474986Z"
2025-01-22 10:05:51.048 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:05:51.048 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:05:51.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 29.6524ms
2025-01-22 10:05:51.050 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 19.8403ms
2025-01-22 10:05:51.052 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:05:51.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 31.5861ms
2025-01-22 10:05:58.371 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=ca - null null
2025-01-22 10:05:58.373 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:58.373 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=ca - 204 null null 1.7354ms
2025-01-22 10:05:58.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=ca - application/json null
2025-01-22 10:05:58.376 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:05:58.377 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 10:05:58.381 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:05:58.383 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-22T08:05:58.3831483Z"
2025-01-22 10:05:58.384 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-22T08:05:58.3844320Z"
2025-01-22 10:05:58.386 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-22T08:05:58.3866599Z"
2025-01-22 10:05:58.419 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 10:05:58.421 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-22T08:05:58.4216014Z"
2025-01-22 10:05:58.422 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-22T08:05:58.4221729Z"
2025-01-22 10:05:58.422 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-22T08:05:58.4227116Z"
2025-01-22 10:05:58.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:05:58.423 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 41.9914ms
2025-01-22 10:05:58.424 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 10:05:58.425 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=ca - 200 null application/json; charset=utf-8 50.1444ms
2025-01-22 10:06:01.964 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:06:01.966 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:01.967 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1796ms
2025-01-22 10:06:01.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:01.971 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:01.971 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:01.972 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:01.973 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:01.9736121Z"
2025-01-22 10:06:01.974 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:01.9741792Z"
2025-01-22 10:06:01.974 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:01.9746243Z"
2025-01-22 10:06:01.983 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:01.985 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:01.9850318Z"
2025-01-22 10:06:01.985 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:01.9855111Z"
2025-01-22 10:06:01.985 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:01.9859647Z"
2025-01-22 10:06:01.986 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:01.987 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.7299ms
2025-01-22 10:06:01.988 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:01.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.9372ms
2025-01-22 10:06:05.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:05.358 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:05.359 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:05.359 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:05.362 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:05.3622318Z"
2025-01-22 10:06:05.362 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:05.3628343Z"
2025-01-22 10:06:05.363 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:05.3633838Z"
2025-01-22 10:06:05.371 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:05.372 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:05.3729911Z"
2025-01-22 10:06:05.373 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:05.3734049Z"
2025-01-22 10:06:05.373 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:05.3738601Z"
2025-01-22 10:06:05.374 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:05.375 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.3839ms
2025-01-22 10:06:05.376 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:05.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 20.6688ms
2025-01-22 10:06:15.343 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 10:06:15.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:15.347 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.2762ms
2025-01-22 10:06:15.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 10:06:15.350 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:15.351 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:06:15.351 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:15.353 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 10:06:15.353 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:06:15.3535161Z"
2025-01-22 10:06:15.354 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:06:15.3540009Z"
2025-01-22 10:06:15.361 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 10:06:15.362 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:06:15.3621357Z"
2025-01-22 10:06:15.362 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:06:15.3626393Z"
2025-01-22 10:06:15.363 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 10:06:15.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:15.364 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 11.9414ms
2025-01-22 10:06:15.376 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:06:15.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 28.0411ms
2025-01-22 10:06:25.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:06:25.766 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:06:25.766 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:25.767 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:06:25.7677803Z"
2025-01-22 10:06:25.772 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:06:25.773 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:06:25.7736267Z"
2025-01-22 10:06:25.774 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:06:25.7740611Z"
2025-01-22 10:06:25.774 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:06:25.7745360Z"
2025-01-22 10:06:25.775 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:25.775 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2035ms
2025-01-22 10:06:25.776 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:06:25.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 12.7232ms
2025-01-22 10:06:35.796 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:06:35.798 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:35.799 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.5066ms
2025-01-22 10:06:35.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:35.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:35.803 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:35.804 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:35.805 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:35.8057266Z"
2025-01-22 10:06:35.806 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:35.8061603Z"
2025-01-22 10:06:35.806 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:35.8066173Z"
2025-01-22 10:06:35.814 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:35.816 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:35.8165588Z"
2025-01-22 10:06:35.817 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:35.8170423Z"
2025-01-22 10:06:35.817 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:35.8174732Z"
2025-01-22 10:06:35.817 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:35.818 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.1283ms
2025-01-22 10:06:35.819 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:35.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.2136ms
2025-01-22 10:06:40.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:40.014 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:40.015 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:40.015 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:40.016 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:40.0168177Z"
2025-01-22 10:06:40.017 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:40.0172268Z"
2025-01-22 10:06:40.017 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:40.0176657Z"
2025-01-22 10:06:40.025 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:40.026 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:40.0264801Z"
2025-01-22 10:06:40.027 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:40.0272781Z"
2025-01-22 10:06:40.027 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:40.0279854Z"
2025-01-22 10:06:40.028 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:40.029 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.8669ms
2025-01-22 10:06:40.030 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:40.030 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.3424ms
2025-01-22 10:06:42.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=c - null null
2025-01-22 10:06:42.117 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:42.118 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=c - 204 null null 2.6308ms
2025-01-22 10:06:42.120 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=c - application/json null
2025-01-22 10:06:42.121 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:42.122 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 10:06:42.122 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:06:42.123 +02:00 [INF] Starting SearchAsync with text 'c' at "2025-01-22T08:06:42.1238281Z"
2025-01-22 10:06:42.124 +02:00 [INF] Starting SearchAsync with text 'c' at "2025-01-22T08:06:42.1243926Z"
2025-01-22 10:06:42.124 +02:00 [INF] Starting SearchAsync with text 'c' at "2025-01-22T08:06:42.1249206Z"
2025-01-22 10:06:42.134 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 10:06:42.135 +02:00 [INF] SearchAsync completed successfully with text 'c' at "2025-01-22T08:06:42.1359050Z"
2025-01-22 10:06:42.136 +02:00 [INF] SearchAsync completed successfully with text 'c' at "2025-01-22T08:06:42.1364292Z"
2025-01-22 10:06:42.137 +02:00 [INF] SearchAsync completed successfully with text 'c' at "2025-01-22T08:06:42.1370295Z"
2025-01-22 10:06:42.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:42.139 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 15.7858ms
2025-01-22 10:06:42.140 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 10:06:42.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=c - 200 null application/json; charset=utf-8 20.5728ms
2025-01-22 10:06:47.852 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:06:47.854 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:47.855 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1875ms
2025-01-22 10:06:47.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:47.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:47.860 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:47.861 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:47.863 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:47.8631372Z"
2025-01-22 10:06:47.863 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:47.8636729Z"
2025-01-22 10:06:47.864 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:47.8642167Z"
2025-01-22 10:06:47.873 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:47.875 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:47.8755986Z"
2025-01-22 10:06:47.876 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:47.8761493Z"
2025-01-22 10:06:47.876 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:47.8768627Z"
2025-01-22 10:06:47.878 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:47.879 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.6064ms
2025-01-22 10:06:47.880 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:47.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 23.6749ms
2025-01-22 10:06:55.304 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:06:55.307 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:55.307 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.4826ms
2025-01-22 10:06:55.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:06:55.312 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:55.313 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:55.314 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:55.315 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:55.3153020Z"
2025-01-22 10:06:55.315 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:55.3157929Z"
2025-01-22 10:06:55.316 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:06:55.3163326Z"
2025-01-22 10:06:55.325 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:06:55.326 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:55.3263294Z"
2025-01-22 10:06:55.327 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:55.3270309Z"
2025-01-22 10:06:55.327 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:06:55.3276805Z"
2025-01-22 10:06:55.328 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:55.329 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.2027ms
2025-01-22 10:06:55.330 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:06:55.331 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.0253ms
2025-01-22 10:06:57.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 10:06:57.437 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:57.438 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.0886ms
2025-01-22 10:06:57.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 10:06:57.441 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:06:57.442 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:06:57.443 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 10:06:57.447 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 10:06:57.447 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:06:57.4479654Z"
2025-01-22 10:06:57.448 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T08:06:57.4484254Z"
2025-01-22 10:06:57.453 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 10:06:57.454 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:06:57.4548690Z"
2025-01-22 10:06:57.455 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T08:06:57.4553174Z"
2025-01-22 10:06:57.455 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-22 10:06:57.456 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:06:57.457 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 9.8501ms
2025-01-22 10:06:57.457 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 10:06:57.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.5561ms
2025-01-22 10:07:01.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 10:07:01.158 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:01.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.77ms
2025-01-22 10:07:01.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 10:07:01.164 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:01.164 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:07:01.165 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:01.166 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 10:07:01.167 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T08:07:01.1675779Z"
2025-01-22 10:07:01.177 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 10:07:01.179 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:07:01.1792858Z"
2025-01-22 10:07:01.179 +02:00 [INF] Successfully retrieved 2 gifts.
2025-01-22 10:07:01.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:01.181 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 14.6698ms
2025-01-22 10:07:01.181 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:07:01.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 20.5012ms
2025-01-22 10:07:03.940 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 10:07:03.941 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:03.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 2.0902ms
2025-01-22 10:07:03.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 10:07:03.945 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:03.946 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:07:03.947 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:03.948 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 10:07:03.948 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T08:07:03.9487398Z"
2025-01-22 10:07:03.959 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 10:07:03.961 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:07:03.9612477Z"
2025-01-22 10:07:03.961 +02:00 [INF] Successfully retrieved 2 gifts.
2025-01-22 10:07:03.962 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:03.962 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 14.9421ms
2025-01-22 10:07:03.963 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 10:07:03.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 19.4906ms
2025-01-22 10:07:39.997 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:07:39.997 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:07:40.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:07:40.006 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:40.007 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:40.009 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.1974ms
2025-01-22 10:07:40.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 15.5563ms
2025-01-22 10:07:40.009 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:40.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:07:40.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:07:40.021 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:40.022 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:40.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:40.024 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:07:40.025 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:07:40.025 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:40.027 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:40.028 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:40.030 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:07:40.0301089Z"
2025-01-22 10:07:40.030 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:07:40.031 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:40.0310630Z"
2025-01-22 10:07:40.032 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:40.032 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:07:40.032 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:40.0328229Z"
2025-01-22 10:07:40.033 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:40.034 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:07:40.036 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:40.038 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:07:40.038 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 11.6864ms
2025-01-22 10:07:40.038 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:07:40.039 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:40.0396128Z"
2025-01-22 10:07:40.040 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:40.041 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:07:40.041 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:07:40.0418215Z"
2025-01-22 10:07:40.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 40.7621ms
2025-01-22 10:07:40.042 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:40.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:07:40.046 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.2212ms
2025-01-22 10:07:40.047 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.5427ms
2025-01-22 10:07:40.048 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:40.049 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:40.049 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:07:40.050 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 30.052ms
2025-01-22 10:07:40.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 31.8811ms
2025-01-22 10:07:42.835 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:07:42.836 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:42.837 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 1.6301ms
2025-01-22 10:07:42.838 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 166
2025-01-22 10:07:42.839 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:42.840 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:42.841 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:42.843 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:07:42.8431973Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:07:42.844 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:07:42.8446651Z"
2025-01-22 10:07:42.848 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:07:42.850 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:42.8507759Z"
2025-01-22 10:07:42.851 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:07:42.8513637Z"
2025-01-22 10:07:42.851 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:07:42.852 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 9.9362ms
2025-01-22 10:07:42.853 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:42.853 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.841ms
2025-01-22 10:07:42.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:07:42.937 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:42.937 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 1.6451ms
2025-01-22 10:07:42.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:07:42.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:42.940 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:42.941 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:07:42.942 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:42.9423430Z"
2025-01-22 10:07:42.942 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:42.9427506Z"
2025-01-22 10:07:42.943 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:42.9434618Z"
2025-01-22 10:07:42.951 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:07:42.952 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:42.9526798Z"
2025-01-22 10:07:42.953 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:42.9531002Z"
2025-01-22 10:07:42.953 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:42.9535522Z"
2025-01-22 10:07:42.954 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:42.954 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.516ms
2025-01-22 10:07:42.955 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:42.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.995ms
2025-01-22 10:07:44.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:07:44.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:07:44.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:07:44.818 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:44.820 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:44.823 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:44.823 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:07:44.824 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:44.827 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:44.828 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:44.829 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:07:44.830 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:44.831 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:07:44.834 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:07:44.8349108Z"
2025-01-22 10:07:44.835 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:07:44.836 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:44.836 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:44.8366233Z"
2025-01-22 10:07:44.837 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:07:44.838 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:44.838 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:44.8388052Z"
2025-01-22 10:07:44.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:44.841 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:07:44.842 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 9.9472ms
2025-01-22 10:07:44.844 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:07:44.844 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:07:44.845 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:44.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:44.848 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:44.8486662Z"
2025-01-22 10:07:44.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 32.8336ms
2025-01-22 10:07:44.850 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.25ms
2025-01-22 10:07:44.850 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:07:44.8508703Z"
2025-01-22 10:07:44.853 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:44.853 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:07:44.854 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:07:44.855 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 20.9047ms
2025-01-22 10:07:44.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 39.2862ms
2025-01-22 10:07:44.856 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:44.858 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 42.3336ms
2025-01-22 10:07:48.508 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:07:48.510 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:48.511 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 3.2953ms
2025-01-22 10:07:48.513 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 10:07:48.515 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:48.516 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:48.517 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:48.518 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:07:48.5186844Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:07:48.519 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:07:48.5192873Z"
2025-01-22 10:07:48.523 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:07:48.524 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:48.5247639Z"
2025-01-22 10:07:48.525 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:07:48.5252931Z"
2025-01-22 10:07:48.525 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:07:48.527 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 8.7122ms
2025-01-22 10:07:48.528 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:48.528 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.8849ms
2025-01-22 10:07:48.617 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:07:48.619 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:48.619 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.6991ms
2025-01-22 10:07:48.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:07:48.623 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:48.624 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:48.624 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:07:48.626 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:48.6261568Z"
2025-01-22 10:07:48.626 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:48.6267557Z"
2025-01-22 10:07:48.627 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:48.6272519Z"
2025-01-22 10:07:48.633 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:07:48.634 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:48.6348178Z"
2025-01-22 10:07:48.635 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:48.6353271Z"
2025-01-22 10:07:48.635 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:48.6357908Z"
2025-01-22 10:07:48.636 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:48.637 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.9676ms
2025-01-22 10:07:48.637 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:48.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.1809ms
2025-01-22 10:07:49.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:07:49.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:07:49.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:07:49.945 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:49.946 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:49.948 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:49.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.6573ms
2025-01-22 10:07:49.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.1293ms
2025-01-22 10:07:49.950 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:49.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:07:49.953 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:07:49.953 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:07:49.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:49.956 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:49.957 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:07:49.959 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:49.959 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:49.959 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:49.960 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:07:49.960 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:07:49.961 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:07:49.9619461Z"
2025-01-22 10:07:49.962 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:49.964 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:07:49.964 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:49.9646200Z"
2025-01-22 10:07:49.965 +02:00 [INF] Fetching all donators.
2025-01-22 10:07:49.965 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:49.966 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:07:49.9663696Z"
2025-01-22 10:07:49.967 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 10.5368ms
2025-01-22 10:07:49.968 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:07:49.969 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:07:49.971 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:07:49.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 28.311ms
2025-01-22 10:07:49.972 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:49.972 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:07:49.974 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.6865ms
2025-01-22 10:07:49.975 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:49.9758173Z"
2025-01-22 10:07:49.976 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:07:49.976 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:07:49.9769222Z"
2025-01-22 10:07:49.977 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:07:49.978 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:07:49.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 27.2495ms
2025-01-22 10:07:49.979 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 18.0775ms
2025-01-22 10:07:49.982 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:07:49.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 30.171ms
2025-01-22 10:07:52.604 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 10:07:52.605 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:52.606 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:52.607 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:07:52.609 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:07:52.6091090Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:07:52.609 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:07:52.6099845Z"
2025-01-22 10:07:52.615 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:07:52.616 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:07:52.6168442Z"
2025-01-22 10:07:52.617 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:07:52.6174094Z"
2025-01-22 10:07:52.617 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:07:52.618 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 9.8048ms
2025-01-22 10:07:52.619 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:07:52.620 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.1095ms
2025-01-22 10:07:52.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:07:52.718 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:52.718 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:52.719 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:07:52.720 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:52.7206064Z"
2025-01-22 10:07:52.721 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:52.7210373Z"
2025-01-22 10:07:52.721 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:52.7215522Z"
2025-01-22 10:07:52.728 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:07:52.729 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:52.7291917Z"
2025-01-22 10:07:52.729 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:52.7296041Z"
2025-01-22 10:07:52.730 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:52.7301414Z"
2025-01-22 10:07:52.730 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:52.731 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.2062ms
2025-01-22 10:07:52.732 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:52.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.613ms
2025-01-22 10:07:54.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:07:54.702 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:07:54.705 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:07:54.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 6.5185ms
2025-01-22 10:07:54.829 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:07:54.830 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:54.831 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.3364ms
2025-01-22 10:07:54.834 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:07:54.836 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:07:54.837 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:54.837 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:07:54.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:54.8391139Z"
2025-01-22 10:07:54.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:54.8396229Z"
2025-01-22 10:07:54.840 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:07:54.8401688Z"
2025-01-22 10:07:54.848 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:07:54.850 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:54.8506460Z"
2025-01-22 10:07:54.851 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:54.8511341Z"
2025-01-22 10:07:54.851 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:07:54.8516637Z"
2025-01-22 10:07:54.852 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:07:54.853 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.0417ms
2025-01-22 10:07:54.854 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:07:54.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 20.9656ms
2025-01-22 10:11:14.742 +02:00 [INF] Starting up the application
2025-01-22 10:11:15.419 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:11:17.403 +02:00 [INF] Executed DbCommand (1,263ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:11:17.473 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:11:17.637 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:11:17.639 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:11:17.639 +02:00 [INF] Hosting environment: Development
2025-01-22 10:11:17.640 +02:00 [INF] Content root path: F:\פרויקט\פרויקט\server\project
2025-01-22 10:11:17.749 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:11:17.764 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:17.766 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 22.1522ms
2025-01-22 10:11:17.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:11:17.782 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:17.783 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:11:17.855 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:17.865 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:11:17.940 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:17.9401239Z"
2025-01-22 10:11:17.942 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:17.9422445Z"
2025-01-22 10:11:17.944 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:17.9443029Z"
2025-01-22 10:11:18.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:11:18.054 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:11:18.058 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:18.0582267Z"
2025-01-22 10:11:18.059 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:18.0590652Z"
2025-01-22 10:11:18.060 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:18.0599346Z"
2025-01-22 10:11:18.069 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:18.108 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 240.2178ms
2025-01-22 10:11:18.109 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:18.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 339.4522ms
2025-01-22 10:11:18.123 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 103.8331ms
2025-01-22 10:11:18.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:11:18.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:11:18.136 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:11:18.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 8.4328ms
2025-01-22 10:11:18.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 5.1684ms
2025-01-22 10:11:18.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3987ms
2025-01-22 10:11:18.257 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:11:18.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.0451ms
2025-01-22 10:11:21.344 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:11:21.344 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:11:21.344 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:11:21.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:21.347 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:21.349 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:21.350 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.1091ms
2025-01-22 10:11:21.350 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.4939ms
2025-01-22 10:11:21.354 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:11:21.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:11:21.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:11:21.362 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:21.363 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:21.364 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:11:21.364 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:11:21.369 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:11:21.375 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:11:21.379 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:11:21.382 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:11:21.384 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:11:21.3840232Z"
2025-01-22 10:11:21.385 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:11:21.3858056Z"
2025-01-22 10:11:21.385 +02:00 [INF] Fetching all donators.
2025-01-22 10:11:21.386 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:11:21.386 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:11:21.3868713Z"
2025-01-22 10:11:21.387 +02:00 [INF] Fetching all donators.
2025-01-22 10:11:21.401 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:11:21.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:21.404 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 38.1014ms
2025-01-22 10:11:21.405 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:11:21.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:11:21.408 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 64.7264ms
2025-01-22 10:11:21.410 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:11:21.416 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:11:21.417 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:21.423 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:11:21.4231975Z"
2025-01-22 10:11:21.423 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:11:21.4236993Z"
2025-01-22 10:11:21.424 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 40.6754ms
2025-01-22 10:11:21.424 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:11:21.424 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:11:21.426 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:11:21.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 71.023ms
2025-01-22 10:11:21.426 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 50.2037ms
2025-01-22 10:11:21.429 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:11:21.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 71.6661ms
2025-01-22 10:11:27.196 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:11:27.198 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:27.198 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.188ms
2025-01-22 10:11:27.200 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 10:11:27.202 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:27.203 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:11:27.207 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:11:27.237 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:11:27.2374307Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:11:27.244 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:11:27.2442450Z"
2025-01-22 10:11:27.253 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:11:27.281 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:11:27.2818703Z"
2025-01-22 10:11:27.282 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:11:27.2826870Z"
2025-01-22 10:11:27.283 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:11:27.291 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 83.2129ms
2025-01-22 10:11:27.292 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:11:27.293 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 92.9148ms
2025-01-22 10:11:27.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:11:27.381 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:27.382 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.2255ms
2025-01-22 10:11:27.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:11:27.385 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:27.386 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:27.387 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:11:27.388 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:27.3885523Z"
2025-01-22 10:11:27.389 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:27.3889989Z"
2025-01-22 10:11:27.389 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:27.3894531Z"
2025-01-22 10:11:27.400 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:11:27.402 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:27.4024553Z"
2025-01-22 10:11:27.402 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:27.4029596Z"
2025-01-22 10:11:27.404 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:27.4040224Z"
2025-01-22 10:11:27.404 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:27.405 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 17.2362ms
2025-01-22 10:11:27.406 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:27.407 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.9199ms
2025-01-22 10:11:52.789 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:11:52.791 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 10:11:52.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:11:52.797 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:52.798 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:52.800 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:52.801 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.6571ms
2025-01-22 10:11:52.802 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 11.4996ms
2025-01-22 10:11:52.807 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:11:52.808 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:11:52.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 10:11:52.810 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:11:52.812 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:52.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:52.815 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:11:52.816 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:11:52.816 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:11:52.817 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 10:11:52.818 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:11:52.820 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T08:11:52.8206645Z"
2025-01-22 10:11:52.821 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:11:52.821 +02:00 [INF] Fetching all donators.
2025-01-22 10:11:52.821 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:11:52.8218647Z"
2025-01-22 10:11:52.823 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:11:52.823 +02:00 [INF] Fetching all donators.
2025-01-22 10:11:52.824 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T08:11:52.8240258Z"
2025-01-22 10:11:52.824 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:52.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:11:52.828 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 13.8894ms
2025-01-22 10:11:52.831 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 10:11:52.831 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:11:52.831 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:11:52.833 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T08:11:52.8334449Z"
2025-01-22 10:11:52.833 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:52.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 45.1614ms
2025-01-22 10:11:52.834 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T08:11:52.8349628Z"
2025-01-22 10:11:52.836 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.1492ms
2025-01-22 10:11:52.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 10:11:52.840 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:11:52.840 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 20.9528ms
2025-01-22 10:11:52.841 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:11:52.842 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 10:11:52.842 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 34.0746ms
2025-01-22 10:11:52.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 33.5559ms
2025-01-22 10:11:55.716 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:11:55.718 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:55.718 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.2145ms
2025-01-22 10:11:55.720 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 10:11:55.721 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:55.722 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:11:55.722 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:11:55.727 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:11:55.7277444Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:11:55.729 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:11:55.7290076Z"
2025-01-22 10:11:55.733 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:11:55.736 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:11:55.7361654Z"
2025-01-22 10:11:55.736 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:11:55.7367449Z"
2025-01-22 10:11:55.737 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:11:55.738 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 11.7782ms
2025-01-22 10:11:55.739 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:11:55.739 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.3584ms
2025-01-22 10:11:55.828 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:11:55.831 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:55.832 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.2455ms
2025-01-22 10:11:55.834 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:11:55.835 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:11:55.836 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:55.837 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:11:55.838 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:55.8383972Z"
2025-01-22 10:11:55.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:55.8392354Z"
2025-01-22 10:11:55.840 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:11:55.8402645Z"
2025-01-22 10:11:55.847 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:11:55.848 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:55.8484410Z"
2025-01-22 10:11:55.848 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:55.8489668Z"
2025-01-22 10:11:55.849 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:11:55.8494701Z"
2025-01-22 10:11:55.850 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:11:55.850 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.7165ms
2025-01-22 10:11:55.851 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:11:55.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.3066ms
2025-01-22 10:12:55.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:12:55.451 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:12:55.454 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:12:55.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 29.366ms
2025-01-22 10:12:55.691 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:12:55.707 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:12:55.708 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 17.3777ms
2025-01-22 10:12:55.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:12:55.713 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:12:55.715 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:12:55.716 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:12:55.718 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:12:55.7182571Z"
2025-01-22 10:12:55.718 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:12:55.7187355Z"
2025-01-22 10:12:55.719 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:12:55.7192097Z"
2025-01-22 10:12:55.729 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:12:55.732 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:12:55.7327278Z"
2025-01-22 10:12:55.733 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:12:55.7336043Z"
2025-01-22 10:12:55.734 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:12:55.7341346Z"
2025-01-22 10:12:55.735 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:12:55.737 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 19.1275ms
2025-01-22 10:12:55.738 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:12:55.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 28.2904ms
2025-01-22 10:13:32.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:13:32.571 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:13:32.576 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:13:32.579 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:13:32.5795547Z"
2025-01-22 10:13:32.589 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:13:32.592 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:13:32.5922389Z"
2025-01-22 10:13:32.592 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:13:32.5928780Z"
2025-01-22 10:13:32.593 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:13:32.5936590Z"
2025-01-22 10:13:32.595 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:13:32.596 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 18.4617ms
2025-01-22 10:13:32.597 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:13:32.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 34.3887ms
2025-01-22 10:15:00.826 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 198
2025-01-22 10:15:00.830 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:15:00.831 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:15:00.832 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:15:00.836 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:15:00.839 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T08:15:00.8391117Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:15:00.841 +02:00 [INF] Starting CreateGiftAsync for GiftDto: wig at "2025-01-22T08:15:00.8411274Z"
2025-01-22 10:15:00.842 +02:00 [INF] Fetching donator by name: string
2025-01-22 10:15:00.857 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 10:15:00.858 +02:00 [WRN] Donator with name string not found.
2025-01-22 10:15:00.922 +02:00 [ERR] Argument error in CreateGiftAsync at "2025-01-22T08:15:00.9225582Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.CreateGiftAsync(GiftDto giftDto) in F:\פרויקט\פרויקט\server\project\Services\GiftService.cs:line 73
   at project.Controllers.GiftController.CreateGiftAsync(GiftDto gift) in F:\פרויקט\פרויקט\server\project\Controllers\GiftController.cs:line 145
2025-01-22 10:15:00.940 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:15:00.941 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 104.3495ms
2025-01-22 10:15:00.942 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:15:00.942 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 400 null application/json; charset=utf-8 116.3466ms
2025-01-22 10:16:03.327 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 197
2025-01-22 10:16:03.334 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:16:03.334 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:16:03.335 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:16:03.336 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:16:03.337 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:16:03.3376922Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:16:03.338 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:16:03.3382987Z"
2025-01-22 10:16:03.344 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:16:03.396 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [image] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 10:16:03.407 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:16:03.4077131Z"
2025-01-22 10:16:03.408 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:16:03.4085815Z"
2025-01-22 10:16:03.409 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:16:03.410 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 73.7926ms
2025-01-22 10:16:03.412 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:16:03.412 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.5693ms
2025-01-22 10:16:14.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:16:14.256 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:16:14.256 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:16:14.258 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:16:14.2580786Z"
2025-01-22 10:16:14.263 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:16:14.264 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:16:14.2647108Z"
2025-01-22 10:16:14.265 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:16:14.2651621Z"
2025-01-22 10:16:14.265 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:16:14.2656563Z"
2025-01-22 10:16:14.266 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:16:14.267 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.2732ms
2025-01-22 10:16:14.267 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:16:14.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.93ms
2025-01-22 10:18:47.802 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 197
2025-01-22 10:18:47.804 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:18:47.804 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:18:47.806 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:18:47.806 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:18:47.809 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:18:47.8092975Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:18:47.810 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:18:47.8100469Z"
2025-01-22 10:24:24.953 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 197
2025-01-22 10:24:24.956 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 201
2025-01-22 10:24:24.957 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:24:24.959 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:24:24.960 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:24:24.961 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:24:24.9619355Z"
2025-01-22 10:24:24.962 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:24:24.962 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:24:24.963 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:24:24.9631317Z"
2025-01-22 10:24:24.964 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:24:24.964 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:24:24.965 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:24:24.965 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:26:32.713 +02:00 [INF] Starting up the application
2025-01-22 10:26:33.393 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:26:34.173 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:26:34.235 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:26:34.387 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:26:34.389 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:26:34.390 +02:00 [INF] Hosting environment: Development
2025-01-22 10:26:34.390 +02:00 [INF] Content root path: F:\פרויקט\פרויקט\server\project
2025-01-22 10:26:35.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:26:35.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 126.5707ms
2025-01-22 10:26:35.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:26:35.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:26:35.181 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 8.1834ms
2025-01-22 10:26:35.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:26:35.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.3203ms
2025-01-22 10:26:35.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.6765ms
2025-01-22 10:26:35.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:26:35.395 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.5318ms
2025-01-22 10:26:38.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:26:38.722 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:26:38.759 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:26:38.762 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:26:38.763 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 44.5017ms
2025-01-22 10:26:38.911 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:26:38.913 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:38.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.3873ms
2025-01-22 10:26:38.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:26:38.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:38.955 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:26:38.966 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:26:39.028 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:39.0283339Z"
2025-01-22 10:26:39.030 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:39.0304419Z"
2025-01-22 10:26:39.032 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:39.0327141Z"
2025-01-22 10:26:39.117 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:26:39.120 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:39.1203392Z"
2025-01-22 10:26:39.120 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:39.1208772Z"
2025-01-22 10:26:39.121 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:39.1212065Z"
2025-01-22 10:26:39.125 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:26:39.143 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 173.5348ms
2025-01-22 10:26:39.144 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:26:39.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 230.5166ms
2025-01-22 10:26:43.458 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 10:26:43.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 10:26:43.461 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:43.462 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:43.463 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.8052ms
2025-01-22 10:26:43.464 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:26:43.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 10:26:43.467 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:43.469 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 10:26:43.470 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 10:26:43.488 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:26:43.491 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 10:26:43.494 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 10:26:43.497 +02:00 [INF] Fetching all donators.
2025-01-22 10:26:43.498 +02:00 [INF] Fetching all donators.
2025-01-22 10:26:43.515 +02:00 [INF] Successfully retrieved categories.
2025-01-22 10:26:43.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:26:43.518 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 46.6746ms
2025-01-22 10:26:43.522 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 10:26:43.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 10:26:43.668 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 209.1019ms
2025-01-22 10:26:43.678 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 10:26:43.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:26:43.691 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 197.953ms
2025-01-22 10:26:43.693 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 10:26:43.694 +02:00 [INF] Outgoing Response: 200
2025-01-22 10:26:43.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 229.957ms
2025-01-22 10:26:55.186 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 10:26:55.188 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:55.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.6059ms
2025-01-22 10:26:55.191 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 170
2025-01-22 10:26:55.193 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:55.195 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:26:55.204 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:26:55.243 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T08:26:55.2433951Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:26:55.245 +02:00 [INF] Starting CreateGiftAsync for GiftDto: vaction at "2025-01-22T08:26:55.2459230Z"
2025-01-22 10:26:55.247 +02:00 [INF] Fetching donator by name: Avi
2025-01-22 10:26:55.259 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 10:26:55.269 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 10:26:55.272 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 10:26:55.295 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 10:26:55.305 +02:00 [INF] Starting CreateGiftAsync for Gift: vaction at "2025-01-22T08:26:55.3053150Z"
2025-01-22 10:26:55.454 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 10:26:55.478 +02:00 [INF] CreateGiftAsync completed successfully for Gift: vaction at "2025-01-22T08:26:55.4787643Z"
2025-01-22 10:26:55.479 +02:00 [INF] CreateGiftAsync completed successfully for Gift: vaction at "2025-01-22T08:26:55.4795003Z"
2025-01-22 10:26:55.480 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-22T08:26:55.4801596Z"
2025-01-22 10:26:55.480 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:26:55.489 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 283.7827ms
2025-01-22 10:26:55.490 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:26:55.491 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 299.7438ms
2025-01-22 10:26:55.582 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 10:26:55.583 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:55.584 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.2849ms
2025-01-22 10:26:55.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 10:26:55.587 +02:00 [INF] CORS policy execution successful.
2025-01-22 10:26:55.588 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:26:55.589 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 10:26:55.594 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:55.5946293Z"
2025-01-22 10:26:55.595 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:55.5953367Z"
2025-01-22 10:26:55.596 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T08:26:55.5960273Z"
2025-01-22 10:26:55.607 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 10:26:55.609 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:55.6096464Z"
2025-01-22 10:26:55.610 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:55.6102538Z"
2025-01-22 10:26:55.611 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T08:26:55.6111537Z"
2025-01-22 10:26:55.612 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:26:55.613 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 23.0568ms
2025-01-22 10:26:55.614 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 10:26:55.614 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 28.0758ms
2025-01-22 10:33:45.181 +02:00 [INF] Starting up the application
2025-01-22 10:33:46.447 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:33:47.383 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:33:47.438 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:33:47.552 +02:00 [INF] Creating key {af146908-eec4-42f5-a5c9-4fdfc05252aa} with creation date 2025-01-22 08:33:47Z, activation date 2025-01-22 08:33:47Z, and expiration date 2025-04-22 08:33:47Z.
2025-01-22 10:33:47.565 +02:00 [INF] Writing data to file 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys\key-af146908-eec4-42f5-a5c9-4fdfc05252aa.xml'.
2025-01-22 10:33:47.644 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:33:47.646 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:33:47.647 +02:00 [INF] Hosting environment: Development
2025-01-22 10:33:47.647 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:33:48.501 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-01-22 10:33:48.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 171.5314ms
2025-01-22 10:33:48.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:33:48.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 70.4563ms
2025-01-22 10:33:48.747 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-01-22 10:33:48.747 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-01-22 10:33:48.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-01-22 10:33:48.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-01-22 10:33:48.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:33:48.753 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:33:48.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 24.4429ms
2025-01-22 10:33:48.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 24.6433ms
2025-01-22 10:33:48.782 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-22 10:33:48.823 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-22 10:33:48.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 76.1789ms
2025-01-22 10:33:48.823 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-22 10:33:48.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 230007 text/javascript 80.8015ms
2025-01-22 10:33:48.829 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-22 10:33:48.830 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:33:48.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 152035 text/css 84.1057ms
2025-01-22 10:33:48.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1426050 text/javascript 87.6737ms
2025-01-22 10:33:48.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5315ms
2025-01-22 10:33:48.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:33:48.962 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-01-22 10:33:48.964 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-22 10:33:48.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 3.2781ms
2025-01-22 10:33:49.199 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 252.6933ms
2025-01-22 10:36:16.508 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 199
2025-01-22 10:36:16.514 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:36:16.515 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:36:16.517 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:36:16.633 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:36:16.638 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:36:16.639 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 401 0 null 130.5868ms
2025-01-22 10:36:53.211 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 66
2025-01-22 10:36:53.214 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:36:53.217 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:36:53.223 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:36:53.245 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 10:36:53.351 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 10:36:53.455 +02:00 [WRN] Invalid login attempt: miri03994@gmail.com
2025-01-22 10:36:53.460 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 10:36:53.465 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 215.3299ms
2025-01-22 10:36:53.466 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:36:53.470 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 259.3137ms
2025-01-22 10:37:04.270 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 64
2025-01-22 10:37:04.272 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:37:04.272 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:37:04.274 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:37:04.275 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 10:37:04.298 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 10:37:04.426 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 10:37:04.471 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 10:37:04.500 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 10:37:04.514 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:37:04.528 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 251.881ms
2025-01-22 10:37:04.529 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 10:37:04.530 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 260.4987ms
2025-01-22 10:37:21.246 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 199
2025-01-22 10:37:21.248 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:37:21.248 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:37:21.291 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:37:21.296 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:37:21.414 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T08:37:21.4140788Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:39:01.910 +02:00 [INF] Starting up the application
2025-01-22 10:39:02.529 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:39:03.290 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:39:03.342 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:39:03.481 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:39:03.484 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:39:03.484 +02:00 [INF] Hosting environment: Development
2025-01-22 10:39:03.485 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:39:04.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:39:04.425 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 144.1045ms
2025-01-22 10:39:04.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:39:04.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:39:04.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:39:04.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 19.8318ms
2025-01-22 10:39:04.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 21.2851ms
2025-01-22 10:39:04.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.018ms
2025-01-22 10:39:04.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:39:04.650 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.5529ms
2025-01-22 10:39:09.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:39:09.898 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:39:09.975 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:39:09.991 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:39:10.098 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:39:10.0980436Z"
2025-01-22 10:39:10.161 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:39:10.194 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:39:10.1939525Z"
2025-01-22 10:39:10.195 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:39:10.1951337Z"
2025-01-22 10:39:10.195 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:39:10.1958995Z"
2025-01-22 10:39:10.203 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:39:10.243 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 247.4612ms
2025-01-22 10:39:10.245 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:39:10.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 356.8002ms
2025-01-22 10:40:53.033 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 10:40:53.037 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:40:53.038 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:40:53.045 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:40:53.050 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:40:53.051 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 401 0 null 17.8386ms
2025-01-22 10:41:24.280 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 10:41:24.283 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:41:24.284 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:41:24.339 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:41:24.350 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:41:24.387 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:41:24.3872216Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:42:50.218 +02:00 [INF] Starting up the application
2025-01-22 10:42:50.914 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:42:51.606 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:42:51.656 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:42:51.794 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:42:51.796 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:42:51.796 +02:00 [INF] Hosting environment: Development
2025-01-22 10:42:51.797 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:42:52.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:42:52.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 201.0837ms
2025-01-22 10:42:52.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:42:52.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:42:52.415 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:42:52.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.0281ms
2025-01-22 10:42:52.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 5.6116ms
2025-01-22 10:42:52.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.6104ms
2025-01-22 10:42:52.541 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:42:52.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.957ms
2025-01-22 10:43:32.259 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 201
2025-01-22 10:43:32.264 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:43:32.265 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:43:32.267 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:43:32.322 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:43:32.327 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:43:32.328 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 401 0 null 68.9139ms
2025-01-22 10:43:41.493 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 201
2025-01-22 10:43:41.495 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:43:41.499 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:43:41.560 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:43:41.580 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:43:41.738 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:43:41.7381627Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:47:17.127 +02:00 [INF] Starting up the application
2025-01-22 10:47:17.767 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:47:18.509 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:47:18.559 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:47:18.700 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:47:18.703 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:47:18.705 +02:00 [INF] Hosting environment: Development
2025-01-22 10:47:18.706 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:47:19.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:47:19.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 172.0234ms
2025-01-22 10:47:19.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:47:19.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:47:19.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:47:19.487 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 4.3112ms
2025-01-22 10:47:19.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 6.5627ms
2025-01-22 10:47:19.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.6847ms
2025-01-22 10:47:19.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:47:19.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.8658ms
2025-01-22 10:49:46.675 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 206
2025-01-22 10:49:46.680 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:49:46.682 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:49:46.683 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:49:46.813 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:49:46.833 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:49:46.990 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:49:46.9902741Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:52:04.925 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:52:04.9243768Z"
2025-01-22 10:52:04.930 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 200
2025-01-22 10:52:04.935 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:52:04.935 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:52:04.940 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:52:04.944 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:52:06.207 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T08:52:06.2072017Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:52:07.517 +02:00 [INF] Starting CreateGiftAsync for GiftDto: rrqqrt at "2025-01-22T08:52:07.5176883Z"
2025-01-22 10:52:07.520 +02:00 [INF] Fetching donator by name: string
2025-01-22 10:52:07.563 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:52:07.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 10:52:07.580 +02:00 [WRN] Donator with name string not found.
2025-01-22 10:52:07.610 +02:00 [ERR] Argument error in CreateGiftAsync at "2025-01-22T08:52:07.6102895Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.CreateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 73
   at project.Controllers.GiftController.CreateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 146
2025-01-22 10:52:07.650 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:52:07.667 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 2719.1526ms
2025-01-22 10:52:07.668 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:52:07.673 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 400 null application/json; charset=utf-8 2743.6625ms
2025-01-22 10:52:07.730 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [DonatorId] = @p0, [Name] = @p1, [Price] = @p2, [image] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 10:52:07.766 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject", table "dbo.Donators", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:341a0de8-da9a-4595-844b-b02ca5bcf6f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject", table "dbo.Donators", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:341a0de8-da9a-4595-844b-b02ca5bcf6f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-22 10:52:07.820 +02:00 [ERR] Error occurred in UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:52:07.8209025Z"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject", table "dbo.Donators", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:341a0de8-da9a-4595-844b-b02ca5bcf6f8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at project.Repository.GiftRepository.UpdateGiftAsync(Gift gift) in E:\server\project\Repositories\GiftRepository.cs:line 184
   at project.Services.GiftService.UpdateGiftAsync(Gift gift) in E:\server\project\Services\GiftService.cs:line 183
2025-01-22 10:52:07.866 +02:00 [ERR] Error occurred in UpdateGiftAsync at "2025-01-22T08:52:07.8660764Z"
System.Exception: An error occurred while updating the gift.
   at project.Services.GiftService.UpdateGiftAsync(Gift gift) in E:\server\project\Services\GiftService.cs:line 189
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 215
2025-01-22 10:52:07.868 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 10:52:07.869 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 141033.4262ms
2025-01-22 10:52:07.870 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:52:07.871 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 500 null text/plain; charset=utf-8 141195.7742ms
2025-01-22 10:52:33.316 +02:00 [INF] Starting up the application
2025-01-22 10:52:34.004 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:52:34.710 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:52:34.770 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:52:34.906 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:52:34.908 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:52:34.909 +02:00 [INF] Hosting environment: Development
2025-01-22 10:52:34.909 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:52:35.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:52:35.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 139.7807ms
2025-01-22 10:52:35.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:52:35.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:52:35.707 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 6.6943ms
2025-01-22 10:52:35.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:52:35.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.2984ms
2025-01-22 10:52:35.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.1418ms
2025-01-22 10:52:35.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:52:35.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.4295ms
2025-01-22 10:53:06.323 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 199
2025-01-22 10:53:06.328 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:53:06.329 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:53:06.330 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:53:06.501 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:53:06.523 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:53:43.029 +02:00 [INF] Starting up the application
2025-01-22 10:53:43.787 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:53:44.498 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:53:44.548 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:53:44.681 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:53:44.683 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:53:44.683 +02:00 [INF] Hosting environment: Development
2025-01-22 10:53:44.684 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:53:45.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:53:45.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 145.8374ms
2025-01-22 10:53:45.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:53:45.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:53:45.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:53:45.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.2118ms
2025-01-22 10:53:45.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 12.4719ms
2025-01-22 10:53:45.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.0862ms
2025-01-22 10:53:45.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:53:45.503 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.8697ms
2025-01-22 10:54:17.260 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 201
2025-01-22 10:54:17.265 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:54:17.266 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:54:17.267 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:54:17.322 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 10:54:17.326 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 10:54:17.327 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 401 0 null 66.9763ms
2025-01-22 10:54:28.718 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 201
2025-01-22 10:54:28.721 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:54:28.721 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:54:28.780 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 10:54:28.800 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:55:04.046 +02:00 [INF] Starting up the application
2025-01-22 10:55:04.738 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 10:55:05.476 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 10:55:05.526 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 10:55:05.683 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 10:55:05.685 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 10:55:05.685 +02:00 [INF] Hosting environment: Development
2025-01-22 10:55:05.686 +02:00 [INF] Content root path: E:\server\project
2025-01-22 10:55:06.142 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 10:55:06.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 146.5442ms
2025-01-22 10:55:06.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 10:55:06.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 10:55:06.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 10:55:06.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 6.1861ms
2025-01-22 10:55:06.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 7.591ms
2025-01-22 10:55:06.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.7649ms
2025-01-22 10:55:06.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 10:55:06.459 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.5059ms
2025-01-22 10:55:22.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:55:22.715 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 10:55:22.821 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:55:22.838 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:55:22.954 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:55:22.9546727Z"
2025-01-22 10:55:23.019 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:55:23.053 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:55:23.0528315Z"
2025-01-22 10:55:23.054 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:55:23.0541834Z"
2025-01-22 10:55:23.055 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:55:23.0551566Z"
2025-01-22 10:55:23.063 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:55:23.102 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 258.9308ms
2025-01-22 10:55:23.104 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:55:23.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 400.1384ms
2025-01-22 10:57:29.647 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 257
2025-01-22 10:57:29.654 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:57:29.655 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:57:29.663 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:57:29.671 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:57:29.715 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-22 10:57:29.738 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 65.0086ms
2025-01-22 10:57:29.739 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:57:29.740 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null application/problem+json; charset=utf-8 92.9827ms
2025-01-22 10:58:01.645 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 259
2025-01-22 10:58:01.647 +02:00 [INF] CORS policy execution failed.
2025-01-22 10:58:01.648 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 10:58:01.653 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:58:01.659 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 10:58:01.672 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T08:58:01.6726548Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 10:58:46.517 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T08:58:46.5173479Z"
2025-01-22 10:58:46.545 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 10:58:46.574 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T08:58:46.5742425Z"
2025-01-22 10:58:46.575 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T08:58:46.5758983Z"
2025-01-22 10:58:46.577 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 10:58:46.585 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 44924.8255ms
2025-01-22 10:58:46.587 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 10:58:46.588 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 44942.4383ms
2025-01-22 10:58:56.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 10:58:56.471 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:58:56.475 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 10:58:56.479 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T08:58:56.4794109Z"
2025-01-22 10:58:56.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 10:58:56.488 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:58:56.4880371Z"
2025-01-22 10:58:56.488 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:58:56.4887053Z"
2025-01-22 10:58:56.489 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T08:58:56.4894783Z"
2025-01-22 10:58:56.490 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 10:58:56.491 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.7682ms
2025-01-22 10:58:56.492 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 10:58:56.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 24.2051ms
2025-01-22 11:01:24.781 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 259
2025-01-22 11:01:24.786 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:01:24.786 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:01:24.790 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:01:24.792 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:01:24.794 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:01:24.7945424Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:03:22.164 +02:00 [INF] Starting up the application
2025-01-22 11:03:22.821 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:03:23.497 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:03:23.550 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:03:23.685 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:03:23.687 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:03:23.688 +02:00 [INF] Hosting environment: Development
2025-01-22 11:03:23.688 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:03:24.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:03:24.348 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 144.5377ms
2025-01-22 11:03:24.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:03:24.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:03:24.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:03:24.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 8.8749ms
2025-01-22 11:03:24.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.4619ms
2025-01-22 11:03:24.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3854ms
2025-01-22 11:03:24.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:03:24.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.249ms
2025-01-22 11:04:05.174 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 252
2025-01-22 11:04:05.179 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:04:05.180 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:04:05.181 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:04:05.288 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:04:05.309 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:04:05.461 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:04:05.4614693Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:04:30.978 +02:00 [INF] Starting up the application
2025-01-22 11:04:31.732 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:04:32.525 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:04:32.573 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:04:32.721 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:04:32.723 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:04:32.724 +02:00 [INF] Hosting environment: Development
2025-01-22 11:04:32.724 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:04:33.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:04:33.285 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 148.6377ms
2025-01-22 11:04:33.294 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:04:33.294 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:04:33.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:04:33.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.4779ms
2025-01-22 11:04:33.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.5303ms
2025-01-22 11:04:33.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.2349ms
2025-01-22 11:04:33.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:04:33.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.9187ms
2025-01-22 11:05:43.340 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 199
2025-01-22 11:05:43.346 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:05:43.346 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:05:43.348 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:05:43.454 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:05:43.474 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:06:26.862 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:06:26.8593207Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:06:29.080 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T09:06:29.0798280Z"
2025-01-22 11:06:29.147 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:13:20.874 +02:00 [INF] Starting up the application
2025-01-22 11:13:21.569 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:13:22.284 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:13:22.335 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:13:22.477 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:13:22.479 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:13:22.480 +02:00 [INF] Hosting environment: Development
2025-01-22 11:13:22.480 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:13:23.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:13:23.191 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 188.2008ms
2025-01-22 11:13:23.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:13:23.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:13:23.205 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:13:23.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.2876ms
2025-01-22 11:13:23.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 16.8073ms
2025-01-22 11:13:23.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7676ms
2025-01-22 11:13:23.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:13:23.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.7962ms
2025-01-22 11:14:02.733 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 11:14:02.738 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:14:02.739 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:14:02.741 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:14:02.797 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:14:02.801 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:14:02.802 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 401 0 null 69.5603ms
2025-01-22 11:14:10.391 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 11:14:10.395 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:14:10.396 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:14:10.458 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:14:10.478 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:14:10.636 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:14:10.6367131Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:14:10.640 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T09:14:10.6400180Z"
2025-01-22 11:14:10.642 +02:00 [INF] Fetching donator by name: david
2025-01-22 11:14:10.709 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 11:14:10.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:14:10.744 +02:00 [INF] Successfully retrieved category with name: electric
2025-01-22 11:14:10.776 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 11:14:10.815 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:14:10.8150034Z"
System.ArgumentException: Gift with the name 'wig' already exists.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 194
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:14:10.854 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:14:10.858 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 374.7092ms
2025-01-22 11:14:10.859 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:14:10.864 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 473.2269ms
2025-01-22 11:15:31.207 +02:00 [INF] Starting up the application
2025-01-22 11:15:31.919 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:15:32.627 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:15:32.676 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:15:32.827 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:15:32.829 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:15:32.829 +02:00 [INF] Hosting environment: Development
2025-01-22 11:15:32.830 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:15:33.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:15:33.395 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 158.6777ms
2025-01-22 11:15:33.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:15:33.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:15:33.404 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:15:33.406 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 3.9689ms
2025-01-22 11:15:33.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.0436ms
2025-01-22 11:15:33.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.2694ms
2025-01-22 11:15:33.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:15:33.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.8063ms
2025-01-22 11:16:22.106 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 11:16:22.112 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:16:22.112 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:16:22.114 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:16:22.169 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:16:22.173 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:16:22.175 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 401 0 null 69.4022ms
2025-01-22 11:16:30.426 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 11:16:30.429 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:16:30.430 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:16:30.494 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:16:30.514 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:16:30.675 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:16:30.6748671Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:16:49.445 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T09:16:49.4395774Z"
2025-01-22 11:16:59.216 +02:00 [INF] Fetching donator by name: david
2025-01-22 11:16:59.508 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 11:17:09.337 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:17:09.346 +02:00 [INF] Successfully retrieved category with name: electric
2025-01-22 11:17:24.104 +02:00 [INF] Starting up the application
2025-01-22 11:17:24.787 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:17:25.550 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:17:25.606 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:17:25.742 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:17:25.744 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:17:25.745 +02:00 [INF] Hosting environment: Development
2025-01-22 11:17:25.745 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:17:26.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:17:26.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 152.6876ms
2025-01-22 11:17:26.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:17:26.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:17:26.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:17:26.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 5.0201ms
2025-01-22 11:17:26.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 6.6205ms
2025-01-22 11:17:26.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.3858ms
2025-01-22 11:17:26.534 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:17:26.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.9082ms
2025-01-22 11:17:55.570 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 198
2025-01-22 11:17:55.578 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:17:55.579 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:17:55.580 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:17:55.718 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:17:55.738 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:17:55.893 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:17:55.8931075Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:17:59.202 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T09:17:59.2024847Z"
2025-01-22 11:17:59.204 +02:00 [INF] Fetching donator by name: david
2025-01-22 11:17:59.265 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 11:17:59.291 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:17:59.299 +02:00 [INF] Successfully retrieved category with name: electric
2025-01-22 11:17:59.315 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:18:01.131 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0, [DonatorId] = @p1, [Price] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-22 11:18:01.144 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T09:18:01.1448143Z"
2025-01-22 11:18:01.145 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:18:01.1457909Z"
2025-01-22 11:18:01.153 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:18:01.171 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 5427.3278ms
2025-01-22 11:18:01.173 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:18:01.178 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 5607.7995ms
2025-01-22 11:18:52.804 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 196
2025-01-22 11:18:52.809 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:18:52.809 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:18:52.814 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:18:52.815 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:18:52.829 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:18:52.8293154Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:18:54.901 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 2 at "2025-01-22T09:18:54.9013491Z"
2025-01-22 11:18:54.902 +02:00 [INF] Fetching donator by name: david
2025-01-22 11:18:54.923 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 11:18:54.928 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:18:54.930 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 11:18:54.933 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:18:55.615 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 11:18:55.616 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 2 at "2025-01-22T09:18:55.6169625Z"
2025-01-22 11:18:55.617 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:18:55.6176734Z"
2025-01-22 11:18:55.618 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:18:55.619 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 2797.6733ms
2025-01-22 11:18:55.620 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:18:55.621 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 2817.1131ms
2025-01-22 11:25:04.285 +02:00 [INF] Starting up the application
2025-01-22 11:25:05.161 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:25:06.190 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:25:06.247 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:25:06.408 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:25:06.410 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:25:06.410 +02:00 [INF] Hosting environment: Development
2025-01-22 11:25:06.411 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:25:07.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:25:07.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 147.681ms
2025-01-22 11:25:07.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:25:07.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:25:07.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:25:07.233 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.4479ms
2025-01-22 11:25:07.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.3547ms
2025-01-22 11:25:07.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.5464ms
2025-01-22 11:25:07.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:25:07.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.1964ms
2025-01-22 11:25:14.977 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:25:14.983 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:25:15.067 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:25:15.083 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:25:15.210 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:25:15.2107268Z"
2025-01-22 11:25:15.275 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:25:15.309 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:25:15.3096507Z"
2025-01-22 11:25:15.310 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:25:15.3107923Z"
2025-01-22 11:25:15.311 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:25:15.3116239Z"
2025-01-22 11:25:15.319 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:15.360 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 272.5306ms
2025-01-22 11:25:15.363 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:25:15.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 391.0559ms
2025-01-22 11:25:17.365 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:25:17.368 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:17.370 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.504ms
2025-01-22 11:25:17.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:25:17.375 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:17.451 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:25:17.456 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:25:17.462 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:17.4624410Z"
2025-01-22 11:25:17.464 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:17.4639770Z"
2025-01-22 11:25:17.465 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:17.4659851Z"
2025-01-22 11:25:17.577 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:25:17.580 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:17.5804260Z"
2025-01-22 11:25:17.581 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:17.5811219Z"
2025-01-22 11:25:17.581 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:17.5817271Z"
2025-01-22 11:25:17.582 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:17.587 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 128.5684ms
2025-01-22 11:25:17.588 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:25:17.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 216.149ms
2025-01-22 11:25:21.231 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:25:21.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:25:21.233 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 11:25:21.235 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:21.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:21.239 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:21.240 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.5674ms
2025-01-22 11:25:21.242 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 9.4608ms
2025-01-22 11:25:21.243 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:25:21.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:25:21.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 11:25:21.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:21.250 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:21.251 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:25:21.251 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:25:21.255 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:25:21.268 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:25:21.268 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:25:21.275 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:25:21.276 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:25:21.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:21.280 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 26.9009ms
2025-01-22 11:25:21.281 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:25:21.281 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:25:21.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 50.7097ms
2025-01-22 11:25:21.284 +02:00 [INF] Starting GetByIdAsync with ID 1 at "2025-01-22T09:25:21.2843832Z"
2025-01-22 11:25:21.284 +02:00 [INF] Fetching all donators.
2025-01-22 11:25:21.287 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T09:25:21.2873592Z"
2025-01-22 11:25:21.288 +02:00 [INF] Fetching all donators.
2025-01-22 11:25:21.289 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T09:25:21.2890932Z"
2025-01-22 11:25:21.297 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:25:21.311 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:25:21.312 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:21.318 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 35.2992ms
2025-01-22 11:25:21.318 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:25:21.319 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:25:21.321 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 1 at "2025-01-22T09:25:21.3212456Z"
2025-01-22 11:25:21.321 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:25:21.322 +02:00 [INF] GetByIdAsync completed successfully with ID 1 at "2025-01-22T09:25:21.3224510Z"
2025-01-22 11:25:21.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 78.2503ms
2025-01-22 11:25:21.323 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:25:21.327 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 56.4471ms
2025-01-22 11:25:21.328 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:25:21.329 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 82.7548ms
2025-01-22 11:25:23.940 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:25:23.944 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:23.945 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 4.4203ms
2025-01-22 11:25:23.947 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:25:23.949 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:23.950 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:23.953 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:25:23.981 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:25:23.9814311Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:25:29.764 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 1 at "2025-01-22T09:25:29.7640808Z"
2025-01-22 11:25:29.766 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:25:29.776 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:25:29.778 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:25:29.807 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:25:29.8073021Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 184
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:25:29.823 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:25:29.824 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 5869.6933ms
2025-01-22 11:25:29.825 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:29.826 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 5879.3841ms
2025-01-22 11:25:32.493 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:25:32.495 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:32.496 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.8256ms
2025-01-22 11:25:32.498 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:25:32.499 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:32.500 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:32.501 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:25:32.503 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:25:32.5039199Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:25:32.504 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 1 at "2025-01-22T09:25:32.5046408Z"
2025-01-22 11:25:32.505 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:25:32.512 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:25:32.514 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:25:32.540 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:25:32.5399906Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 184
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:25:32.541 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:25:32.543 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 39.9876ms
2025-01-22 11:25:32.544 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:32.545 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 46.8879ms
2025-01-22 11:25:41.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:25:41.658 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:25:41.663 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:25:41.664 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.1996ms
2025-01-22 11:25:41.746 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:25:41.748 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:41.748 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.8016ms
2025-01-22 11:25:41.753 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:25:41.755 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:41.756 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:25:41.757 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:25:41.761 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:41.7614467Z"
2025-01-22 11:25:41.762 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:41.7620822Z"
2025-01-22 11:25:41.762 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:25:41.7627237Z"
2025-01-22 11:25:41.769 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:25:41.771 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:41.7718821Z"
2025-01-22 11:25:41.772 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:41.7725877Z"
2025-01-22 11:25:41.773 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:25:41.7733527Z"
2025-01-22 11:25:41.774 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:41.775 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.3659ms
2025-01-22 11:25:41.776 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:25:41.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 24.5126ms
2025-01-22 11:25:44.318 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:25:44.318 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:25:44.318 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:25:44.320 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:44.321 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:44.323 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:44.323 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.5948ms
2025-01-22 11:25:44.324 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 5.8475ms
2025-01-22 11:25:44.325 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:25:44.331 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:25:44.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:25:44.334 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:25:44.335 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:44.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:44.339 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:25:44.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:25:44.342 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:25:44.342 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:25:44.343 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:25:44.344 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:25:44.346 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:25:44.3464889Z"
2025-01-22 11:25:44.347 +02:00 [INF] Fetching all donators.
2025-01-22 11:25:44.349 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:25:44.349 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:25:44.3496525Z"
2025-01-22 11:25:44.350 +02:00 [INF] Fetching all donators.
2025-01-22 11:25:44.350 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:44.351 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:25:44.3514012Z"
2025-01-22 11:25:44.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:25:44.353 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 14.0302ms
2025-01-22 11:25:44.356 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:25:44.357 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:25:44.357 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:25:44.358 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:25:44.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 40.1298ms
2025-01-22 11:25:44.361 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:25:44.3616368Z"
2025-01-22 11:25:44.362 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.3652ms
2025-01-22 11:25:44.366 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:25:44.3660639Z"
2025-01-22 11:25:44.366 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:25:44.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:25:44.368 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:25:44.369 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 23.5978ms
2025-01-22 11:25:44.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 38.6089ms
2025-01-22 11:25:44.370 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:25:44.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 40.3216ms
2025-01-22 11:25:47.348 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:25:47.350 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:47.350 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.2187ms
2025-01-22 11:25:47.353 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:25:47.354 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:25:47.355 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:47.356 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:25:47.357 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:25:47.3578643Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:25:47.358 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:25:47.3586243Z"
2025-01-22 11:25:47.359 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:25:47.365 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:25:47.367 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:25:47.406 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:25:47.4067117Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 184
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:25:47.408 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:25:47.409 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 52.3542ms
2025-01-22 11:25:47.410 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:25:47.411 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 58.6571ms
2025-01-22 11:26:26.738 +02:00 [INF] Starting up the application
2025-01-22 11:26:27.452 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:26:28.190 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:26:28.238 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:26:28.390 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:26:28.394 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:26:28.396 +02:00 [INF] Hosting environment: Development
2025-01-22 11:26:28.396 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:26:28.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:26:28.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 135.488ms
2025-01-22 11:26:28.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:26:28.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:26:28.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:26:28.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.2177ms
2025-01-22 11:26:28.680 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.8573ms
2025-01-22 11:26:28.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.1775ms
2025-01-22 11:26:28.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:26:28.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.3941ms
2025-01-22 11:26:33.904 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:26:33.908 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:26:33.955 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:26:33.958 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:26:33.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 53.9296ms
2025-01-22 11:26:34.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:26:34.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:34.147 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.9902ms
2025-01-22 11:26:34.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:26:34.155 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:34.269 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:26:34.298 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:26:34.466 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:26:34.4658099Z"
2025-01-22 11:26:34.467 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:26:34.4678386Z"
2025-01-22 11:26:34.470 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:26:34.4699448Z"
2025-01-22 11:26:34.604 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:26:34.608 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:26:34.6079623Z"
2025-01-22 11:26:34.608 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:26:34.6088565Z"
2025-01-22 11:26:34.609 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:26:34.6095900Z"
2025-01-22 11:26:34.617 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:26:34.648 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 343.7678ms
2025-01-22 11:26:34.651 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:26:34.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 504.7372ms
2025-01-22 11:26:37.066 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:26:37.067 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:26:37.067 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:26:37.072 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:37.074 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:37.076 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:37.077 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 10.2783ms
2025-01-22 11:26:37.078 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 10.9498ms
2025-01-22 11:26:37.078 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:26:37.080 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:26:37.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:26:37.084 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:37.086 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:37.087 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:26:37.088 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:26:37.090 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:26:37.099 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:26:37.106 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:26:37.110 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:26:37.1100591Z"
2025-01-22 11:26:37.110 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:26:37.112 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:26:37.1121115Z"
2025-01-22 11:26:37.115 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:26:37.116 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:26:37.1165630Z"
2025-01-22 11:26:37.116 +02:00 [INF] Fetching all donators.
2025-01-22 11:26:37.119 +02:00 [INF] Fetching all donators.
2025-01-22 11:26:37.141 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:26:37.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:26:37.148 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:26:37.151 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 60.66ms
2025-01-22 11:26:37.151 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:26:37.151 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:26:37.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 87.2798ms
2025-01-22 11:26:37.161 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:26:37.163 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:26:37.173 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:26:37.1735111Z"
2025-01-22 11:26:37.174 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:26:37.1743640Z"
2025-01-22 11:26:37.175 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:26:37.175 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 61.5521ms
2025-01-22 11:26:37.178 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:26:37.179 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:26:37.179 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 78.5619ms
2025-01-22 11:26:37.180 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 100.3029ms
2025-01-22 11:26:37.181 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:26:37.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 102.606ms
2025-01-22 11:26:40.551 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:26:40.552 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:40.553 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.4851ms
2025-01-22 11:26:40.556 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:26:40.558 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:26:40.559 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:26:40.563 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:26:40.595 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:26:40.5953762Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:26:40.597 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:26:40.5973543Z"
2025-01-22 11:26:40.599 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:26:40.608 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:26:40.610 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:26:40.676 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:26:40.6764065Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 184
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:26:40.699 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:26:40.700 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 135.3397ms
2025-01-22 11:26:40.701 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:26:40.702 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 145.6769ms
2025-01-22 11:27:46.991 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 196
2025-01-22 11:27:46.996 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:27:46.997 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:27:46.999 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:27:47.000 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:27:47.000 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 401 0 null 8.935ms
2025-01-22 11:28:18.204 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 196
2025-01-22 11:28:18.209 +02:00 [INF] CORS policy execution failed.
2025-01-22 11:28:18.210 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-22 11:28:18.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:28:18.215 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:28:18.218 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:28:18.2184232Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:28:18.219 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:28:18.2192131Z"
2025-01-22 11:28:18.219 +02:00 [INF] Fetching donator by name: david
2025-01-22 11:28:18.229 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 11:28:18.238 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:28:18.240 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 11:28:18.254 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:28:18.372 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 11:28:18.387 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 9 at "2025-01-22T09:28:18.3875911Z"
2025-01-22 11:28:18.388 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:28:18.3885051Z"
2025-01-22 11:28:18.389 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:28:18.397 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 181.064ms
2025-01-22 11:28:18.399 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:28:18.400 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 195.7558ms
2025-01-22 11:28:32.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:28:32.418 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:28:32.426 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:28:32.430 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:28:32.4300809Z"
2025-01-22 11:28:32.439 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:28:32.442 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:28:32.4425405Z"
2025-01-22 11:28:32.443 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:28:32.4432105Z"
2025-01-22 11:28:32.443 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:28:32.4438699Z"
2025-01-22 11:28:32.445 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:28:32.447 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 19.2409ms
2025-01-22 11:28:32.448 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:28:32.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 34.8921ms
2025-01-22 11:29:55.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:55.482 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:55.483 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:55.484 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.8622ms
2025-01-22 11:29:55.521 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:55.528 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:55.531 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:55.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 13.4101ms
2025-01-22 11:29:55.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:55.574 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:55.576 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:55.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 6.1917ms
2025-01-22 11:29:55.689 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:55.692 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:29:55.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 4.0325ms
2025-01-22 11:29:55.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:29:55.700 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:29:55.701 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:55.702 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:29:55.704 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.7048666Z"
2025-01-22 11:29:55.706 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.7060652Z"
2025-01-22 11:29:55.707 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.7070751Z"
2025-01-22 11:29:55.716 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:29:55.719 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.7199038Z"
2025-01-22 11:29:55.720 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.7208665Z"
2025-01-22 11:29:55.721 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.7218878Z"
2025-01-22 11:29:55.723 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:29:55.725 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.0401ms
2025-01-22 11:29:55.727 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:55.730 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 33.8965ms
2025-01-22 11:29:55.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:29:55.928 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:29:55.930 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:55.932 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:29:55.935 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.9358945Z"
2025-01-22 11:29:55.937 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.9374122Z"
2025-01-22 11:29:55.938 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:55.9387100Z"
2025-01-22 11:29:55.945 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:29:55.949 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.9496659Z"
2025-01-22 11:29:55.951 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.9511748Z"
2025-01-22 11:29:55.952 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:55.9526795Z"
2025-01-22 11:29:55.954 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:29:55.956 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.4103ms
2025-01-22 11:29:55.958 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:55.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 35.4639ms
2025-01-22 11:29:56.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:29:56.043 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:29:56.045 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:56.046 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:29:56.050 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:56.0506906Z"
2025-01-22 11:29:56.051 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:56.0519318Z"
2025-01-22 11:29:56.053 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:29:56.0533442Z"
2025-01-22 11:29:56.060 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:29:56.065 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:56.0652198Z"
2025-01-22 11:29:56.066 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:56.0663007Z"
2025-01-22 11:29:56.067 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:29:56.0677516Z"
2025-01-22 11:29:56.069 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:29:56.071 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.5224ms
2025-01-22 11:29:56.074 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:29:56.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 39.0319ms
2025-01-22 11:29:59.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:59.854 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:59.855 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:59.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.8597ms
2025-01-22 11:29:59.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:59.920 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:59.921 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:59.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.0181ms
2025-01-22 11:29:59.954 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:29:59.957 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:29:59.958 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:29:59.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.5298ms
2025-01-22 11:30:00.061 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:30:00.071 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:00.077 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.081 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:30:00.084 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.0840854Z"
2025-01-22 11:30:00.085 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.0856630Z"
2025-01-22 11:30:00.086 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.0866647Z"
2025-01-22 11:30:00.093 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:30:00.099 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.0991886Z"
2025-01-22 11:30:00.100 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.1007970Z"
2025-01-22 11:30:00.102 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.1026780Z"
2025-01-22 11:30:00.103 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:30:00.105 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.8152ms
2025-01-22 11:30:00.107 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 48.1071ms
2025-01-22 11:30:00.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:30:00.354 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:00.356 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.356 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:30:00.359 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.3590020Z"
2025-01-22 11:30:00.359 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.3598979Z"
2025-01-22 11:30:00.360 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.3606966Z"
2025-01-22 11:30:00.364 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:30:00.367 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.3675405Z"
2025-01-22 11:30:00.368 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.3683185Z"
2025-01-22 11:30:00.369 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.3693044Z"
2025-01-22 11:30:00.370 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:30:00.372 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.6701ms
2025-01-22 11:30:00.373 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.375 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 25.1535ms
2025-01-22 11:30:00.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:30:00.455 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:00.456 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.457 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:30:00.460 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.4602270Z"
2025-01-22 11:30:00.461 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.4614224Z"
2025-01-22 11:30:00.462 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:30:00.4626847Z"
2025-01-22 11:30:00.467 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:30:00.471 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.4711381Z"
2025-01-22 11:30:00.472 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.4720598Z"
2025-01-22 11:30:00.473 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:30:00.4730216Z"
2025-01-22 11:30:00.474 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:30:00.476 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.2132ms
2025-01-22 11:30:00.477 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:30:00.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 28.2969ms
2025-01-22 11:30:02.843 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:30:02.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:30:02.847 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:02.846 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:30:02.851 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:02.852 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.8341ms
2025-01-22 11:30:02.854 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:02.858 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:30:02.860 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:30:02.861 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 15.1456ms
2025-01-22 11:30:02.862 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:30:02.863 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:02.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:30:02.867 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:30:02.870 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:02.870 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:30:02.871 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:30:02.872 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:30:02.874 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:30:02.874 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:30:02.875 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:30:02.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:30:02.879 +02:00 [INF] Fetching all donators.
2025-01-22 11:30:02.881 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:30:02.8811934Z"
2025-01-22 11:30:02.882 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 15.1687ms
2025-01-22 11:30:02.882 +02:00 [INF] Fetching all donators.
2025-01-22 11:30:02.884 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:30:02.8841598Z"
2025-01-22 11:30:02.884 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:30:02.886 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:30:02.8861492Z"
2025-01-22 11:30:02.887 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:30:02.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 43.5145ms
2025-01-22 11:30:02.891 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:30:02.892 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:30:02.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:30:02.896 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:30:02.8965715Z"
2025-01-22 11:30:02.897 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 18.7021ms
2025-01-22 11:30:02.898 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:30:02.8983177Z"
2025-01-22 11:30:02.899 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:30:02.900 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:30:02.900 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:30:02.901 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 21.1653ms
2025-01-22 11:30:02.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 41.9116ms
2025-01-22 11:30:02.903 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:30:02.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 41.1246ms
2025-01-22 11:30:06.095 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:30:06.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:06.099 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 3.4901ms
2025-01-22 11:30:06.102 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 11:30:06.104 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:30:06.106 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:30:06.107 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:30:06.110 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:30:06.1101956Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:30:06.111 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:30:06.1111244Z"
2025-01-22 11:30:06.111 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:30:06.116 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:30:06.117 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:30:06.166 +02:00 [ERR] Argument error in UpdateGiftAsync at "2025-01-22T09:30:06.1661551Z"
System.ArgumentException: Donator not found.
   at project.Services.GiftService.UpdateGiftAsync(GiftDto giftDto) in E:\server\project\Services\GiftService.cs:line 184
   at project.Controllers.GiftController.UpdateGiftAsync(GiftDto gift) in E:\server\project\Controllers\GiftController.cs:line 214
2025-01-22 11:30:06.168 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-01-22 11:30:06.169 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 59.8843ms
2025-01-22 11:30:06.170 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:30:06.171 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 400 null text/plain; charset=utf-8 69.1698ms
2025-01-22 11:31:03.214 +02:00 [INF] Starting up the application
2025-01-22 11:31:03.946 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:31:04.657 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:31:04.708 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:31:04.852 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:31:04.855 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:31:04.856 +02:00 [INF] Hosting environment: Development
2025-01-22 11:31:04.856 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:31:05.066 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:31:05.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 139.0997ms
2025-01-22 11:31:05.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:31:05.208 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:31:05.217 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:31:05.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.0161ms
2025-01-22 11:31:05.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.0571ms
2025-01-22 11:31:05.249 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.0126ms
2025-01-22 11:31:05.361 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:31:05.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.914ms
2025-01-22 11:31:12.427 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:31:12.433 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:31:12.489 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:31:12.493 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:31:12.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 67.0625ms
2025-01-22 11:31:12.657 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:31:12.661 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:12.664 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.7985ms
2025-01-22 11:31:12.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:31:12.670 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:12.753 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:31:12.775 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:31:12.924 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:31:12.9241891Z"
2025-01-22 11:31:12.927 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:31:12.9272070Z"
2025-01-22 11:31:12.930 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:31:12.9301270Z"
2025-01-22 11:31:13.066 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:31:13.070 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:31:13.0698985Z"
2025-01-22 11:31:13.070 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:31:13.0706825Z"
2025-01-22 11:31:13.071 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:31:13.0714487Z"
2025-01-22 11:31:13.079 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:31:13.109 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 328.3564ms
2025-01-22 11:31:13.111 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:31:13.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 448.3129ms
2025-01-22 11:31:15.278 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:31:15.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:31:15.280 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:31:15.282 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:15.283 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:15.284 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:15.285 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.0969ms
2025-01-22 11:31:15.286 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 6.2046ms
2025-01-22 11:31:15.287 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:31:15.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:31:15.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:31:15.293 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:15.295 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:15.296 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:31:15.297 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:31:15.298 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:31:15.308 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:31:15.316 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:31:15.320 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:31:15.3201946Z"
2025-01-22 11:31:15.320 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:31:15.322 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:31:15.3226881Z"
2025-01-22 11:31:15.324 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:31:15.325 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:31:15.3255969Z"
2025-01-22 11:31:15.325 +02:00 [INF] Fetching all donators.
2025-01-22 11:31:15.329 +02:00 [INF] Fetching all donators.
2025-01-22 11:31:15.351 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:31:15.353 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:31:15.356 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 57.2275ms
2025-01-22 11:31:15.357 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:31:15.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 78.1018ms
2025-01-22 11:31:15.385 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:31:15.390 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:31:15.399 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:31:15.399 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:31:15.412 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:31:15.4122774Z"
2025-01-22 11:31:15.413 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 89.7244ms
2025-01-22 11:31:15.413 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:31:15.4138992Z"
2025-01-22 11:31:15.414 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:31:15.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:31:15.416 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:31:15.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 128.6986ms
2025-01-22 11:31:15.419 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 109.0377ms
2025-01-22 11:31:15.421 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:31:15.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 130.8486ms
2025-01-22 11:31:21.734 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:31:21.736 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:21.737 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.6043ms
2025-01-22 11:31:21.740 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 11:31:21.741 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:31:21.743 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:31:21.748 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:31:30.028 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:31:30.0220026Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:31:38.609 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:31:38.6040458Z"
2025-01-22 11:31:39.312 +02:00 [INF] Fetching donator by name: 
2025-01-22 11:31:39.328 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE 0 = 1
2025-01-22 11:31:39.331 +02:00 [WRN] Donator with name  not found.
2025-01-22 11:35:43.210 +02:00 [INF] Starting up the application
2025-01-22 11:35:43.753 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:35:44.436 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:35:44.486 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:35:44.620 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:35:44.622 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:35:44.622 +02:00 [INF] Hosting environment: Development
2025-01-22 11:35:44.623 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:35:45.192 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:35:45.319 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 133.006ms
2025-01-22 11:35:45.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:35:45.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:35:45.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:35:45.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 7.3419ms
2025-01-22 11:35:45.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 14.5641ms
2025-01-22 11:35:45.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9356ms
2025-01-22 11:35:45.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:35:45.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.8987ms
2025-01-22 11:35:49.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:35:49.639 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:35:49.700 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:35:49.704 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:35:49.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 71.8378ms
2025-01-22 11:35:49.990 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:35:49.997 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:50.003 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 12.6112ms
2025-01-22 11:35:50.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:35:50.011 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:50.105 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:35:50.123 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:35:50.270 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:50.2707051Z"
2025-01-22 11:35:50.274 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:50.2745448Z"
2025-01-22 11:35:50.277 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:50.2770184Z"
2025-01-22 11:35:50.416 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:35:50.420 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:50.4200095Z"
2025-01-22 11:35:50.420 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:50.4208166Z"
2025-01-22 11:35:50.421 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:50.4215199Z"
2025-01-22 11:35:50.429 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:35:50.458 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 329.3764ms
2025-01-22 11:35:50.461 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:35:50.466 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 458.99ms
2025-01-22 11:35:52.034 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:35:52.035 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:35:52.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:35:52.037 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:52.039 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:52.041 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:52.041 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.5341ms
2025-01-22 11:35:52.042 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 6.783ms
2025-01-22 11:35:52.044 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:35:52.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:35:52.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:35:52.050 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:52.051 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:52.052 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:35:52.053 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:35:52.054 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:35:52.063 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:35:52.071 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:35:52.074 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:35:52.0743957Z"
2025-01-22 11:35:52.075 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:35:52.076 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:35:52.0763133Z"
2025-01-22 11:35:52.078 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:35:52.080 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:35:52.0805663Z"
2025-01-22 11:35:52.081 +02:00 [INF] Fetching all donators.
2025-01-22 11:35:52.083 +02:00 [INF] Fetching all donators.
2025-01-22 11:35:52.108 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:35:52.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:35:52.114 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:35:52.116 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 61.4504ms
2025-01-22 11:35:52.116 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:35:52.117 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:35:52.120 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 84.8209ms
2025-01-22 11:35:52.127 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:35:52.128 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:35:52.140 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:35:52.1401777Z"
2025-01-22 11:35:52.141 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 63.7226ms
2025-01-22 11:35:52.141 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:35:52.1414502Z"
2025-01-22 11:35:52.142 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:35:52.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:35:52.144 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:35:52.146 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 98.6924ms
2025-01-22 11:35:52.148 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 82.8375ms
2025-01-22 11:35:52.149 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:35:52.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 104.7556ms
2025-01-22 11:35:54.885 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:35:54.887 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:54.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.8721ms
2025-01-22 11:35:54.891 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 189
2025-01-22 11:35:54.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:54.894 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:35:54.899 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:35:56.951 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:35:56.9516732Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:35:56.954 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:35:56.9543942Z"
2025-01-22 11:35:56.965 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:35:56.967 +02:00 [INF] Successfully retrieved category with name: electric
2025-01-22 11:35:56.981 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:35:57.082 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 11:35:57.094 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 9 at "2025-01-22T09:35:57.0945206Z"
2025-01-22 11:35:57.095 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:35:57.0954354Z"
2025-01-22 11:35:57.096 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:35:57.105 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 2205.0188ms
2025-01-22 11:35:57.106 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:35:57.107 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 2216.1452ms
2025-01-22 11:35:57.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:35:57.841 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:57.842 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.817ms
2025-01-22 11:35:57.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:35:57.847 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:35:57.848 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:35:57.848 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:35:57.850 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:57.8505996Z"
2025-01-22 11:35:57.851 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:57.8512191Z"
2025-01-22 11:35:57.851 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:35:57.8517823Z"
2025-01-22 11:35:57.859 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:35:57.860 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:57.8609692Z"
2025-01-22 11:35:57.861 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:57.8615492Z"
2025-01-22 11:35:57.862 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:35:57.8621319Z"
2025-01-22 11:35:57.862 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:35:57.863 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.5028ms
2025-01-22 11:35:57.864 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:35:57.865 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.8384ms
2025-01-22 11:36:01.771 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:36:01.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:36:01.772 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:36:01.774 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:01.779 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:01.779 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:01.779 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.0929ms
2025-01-22 11:36:01.780 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 7.9481ms
2025-01-22 11:36:01.781 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:01.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:36:01.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:36:01.785 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:36:01.787 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:01.789 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:01.791 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:36:01.792 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:01.794 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:01.794 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:01.795 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:36:01.796 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:36:01.797 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:36:01.7971391Z"
2025-01-22 11:36:01.798 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:01.799 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:36:01.800 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:01.8003658Z"
2025-01-22 11:36:01.800 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:01.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:01.802 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:01.8021728Z"
2025-01-22 11:36:01.805 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 14.613ms
2025-01-22 11:36:01.805 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:36:01.806 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:01.808 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:36:01.809 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 36.7675ms
2025-01-22 11:36:01.809 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:36:01.809 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:01.814 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:01.8148453Z"
2025-01-22 11:36:01.815 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 17.7094ms
2025-01-22 11:36:01.816 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:36:01.8164247Z"
2025-01-22 11:36:01.817 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:01.818 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:36:01.818 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:36:01.819 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 23.1524ms
2025-01-22 11:36:01.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.3968ms
2025-01-22 11:36:01.821 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:01.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 39.1581ms
2025-01-22 11:36:04.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:36:04.319 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:04.320 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.7365ms
2025-01-22 11:36:04.322 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:36:04.339 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:04.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:36:04.342 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:06.055 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:36:06.0557290Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:36:06.057 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:36:06.0571274Z"
2025-01-22 11:36:06.062 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:36:06.064 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 11:36:06.068 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:36:06.073 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 11:36:06.076 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:06.0760701Z"
2025-01-22 11:36:06.076 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:36:06.0767490Z"
2025-01-22 11:36:06.077 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:36:06.078 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 1734.6052ms
2025-01-22 11:36:06.079 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:36:06.080 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1757.5862ms
2025-01-22 11:36:06.842 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:36:06.844 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:06.845 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.5385ms
2025-01-22 11:36:06.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:36:06.849 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:06.850 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:06.851 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:36:06.852 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:06.8524796Z"
2025-01-22 11:36:06.853 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:06.8530286Z"
2025-01-22 11:36:06.853 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:06.8536107Z"
2025-01-22 11:36:06.857 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:36:06.858 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:06.8588128Z"
2025-01-22 11:36:06.859 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:06.8593911Z"
2025-01-22 11:36:06.860 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:06.8600199Z"
2025-01-22 11:36:06.860 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:06.861 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.3793ms
2025-01-22 11:36:06.862 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:06.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.9604ms
2025-01-22 11:36:09.867 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:36:09.867 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:36:09.868 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:36:09.869 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:09.871 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:09.872 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:09.873 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:09.873 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.248ms
2025-01-22 11:36:09.874 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 6.0683ms
2025-01-22 11:36:09.875 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:36:09.878 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:36:09.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:36:09.883 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:09.886 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:09.886 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:09.887 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:36:09.887 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:36:09.887 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:09.889 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:36:09.890 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:09.891 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:36:09.8914448Z"
2025-01-22 11:36:09.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:09.892 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:36:09.893 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:09.8933753Z"
2025-01-22 11:36:09.894 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 12.8633ms
2025-01-22 11:36:09.897 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:09.8973553Z"
2025-01-22 11:36:09.897 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:09.898 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:09.899 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:09.900 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 33.3478ms
2025-01-22 11:36:09.902 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:36:09.904 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:36:09.906 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:09.9061178Z"
2025-01-22 11:36:09.907 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:36:09.908 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:36:09.9080161Z"
2025-01-22 11:36:09.908 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:09.909 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:36:09.910 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.2011ms
2025-01-22 11:36:09.911 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 20.5449ms
2025-01-22 11:36:09.912 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:09.914 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:09.914 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:36:09.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 37.0076ms
2025-01-22 11:36:09.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 35.4793ms
2025-01-22 11:36:14.311 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:36:14.313 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:36:14.314 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:36:14.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.6094ms
2025-01-22 11:36:14.547 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:36:14.549 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:14.550 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.9427ms
2025-01-22 11:36:14.553 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:36:14.556 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:14.558 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:14.560 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:36:14.563 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:14.5632956Z"
2025-01-22 11:36:14.564 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:14.5640686Z"
2025-01-22 11:36:14.564 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:14.5648677Z"
2025-01-22 11:36:14.570 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:36:14.573 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:14.5737067Z"
2025-01-22 11:36:14.574 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:14.5744623Z"
2025-01-22 11:36:14.575 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:14.5751490Z"
2025-01-22 11:36:14.576 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:14.577 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.2663ms
2025-01-22 11:36:14.578 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:14.580 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 27.5352ms
2025-01-22 11:36:16.296 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:36:16.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:36:16.297 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:36:16.298 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:16.300 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:16.302 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:16.302 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.0677ms
2025-01-22 11:36:16.303 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:16.303 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 6.672ms
2025-01-22 11:36:16.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:36:16.306 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:36:16.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:36:16.310 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:16.314 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:16.314 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:36:16.315 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:16.316 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:36:16.316 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:16.316 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:16.318 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:36:16.318 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:36:16.320 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:36:16.3205688Z"
2025-01-22 11:36:16.320 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:16.322 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:16.322 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:16.3229127Z"
2025-01-22 11:36:16.323 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 11.9629ms
2025-01-22 11:36:16.324 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:16.325 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:16.3252226Z"
2025-01-22 11:36:16.326 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:16.330 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 33.3329ms
2025-01-22 11:36:16.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:36:16.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:36:16.335 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:36:16.336 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:16.3364948Z"
2025-01-22 11:36:16.336 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:16.337 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:36:16.3376540Z"
2025-01-22 11:36:16.338 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 16.5076ms
2025-01-22 11:36:16.339 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:36:16.340 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:16.341 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 20.8511ms
2025-01-22 11:36:16.341 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:36:16.342 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:16.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.7782ms
2025-01-22 11:36:16.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 35.8285ms
2025-01-22 11:36:18.949 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 11:36:18.952 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:18.952 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.9221ms
2025-01-22 11:36:18.955 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 187
2025-01-22 11:36:18.956 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:18.957 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:36:18.958 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:20.700 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T09:36:20.7001592Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 11:36:20.701 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T09:36:20.7018838Z"
2025-01-22 11:36:20.707 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 11:36:20.709 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 11:36:20.712 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 11:36:20.720 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [DonatorId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 11:36:20.721 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:20.7217484Z"
2025-01-22 11:36:20.722 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T09:36:20.7226454Z"
2025-01-22 11:36:20.723 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:36:20.724 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 1764.3156ms
2025-01-22 11:36:20.725 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 11:36:20.726 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1771.7579ms
2025-01-22 11:36:20.841 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:36:20.844 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:20.844 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.511ms
2025-01-22 11:36:20.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:36:20.849 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:20.849 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:20.850 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:36:20.852 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:20.8520922Z"
2025-01-22 11:36:20.852 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:20.8526325Z"
2025-01-22 11:36:20.853 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:36:20.8532156Z"
2025-01-22 11:36:20.856 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:36:20.858 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:20.8583369Z"
2025-01-22 11:36:20.858 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:20.8588953Z"
2025-01-22 11:36:20.859 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:36:20.8594868Z"
2025-01-22 11:36:20.860 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:20.861 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.1672ms
2025-01-22 11:36:20.862 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:36:20.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.1992ms
2025-01-22 11:36:32.123 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:36:32.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:36:32.124 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 11:36:32.126 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:32.128 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:32.130 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:32.131 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.3592ms
2025-01-22 11:36:32.131 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:32.132 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 8.2011ms
2025-01-22 11:36:32.135 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:36:32.136 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 11:36:32.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 11:36:32.139 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:32.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:32.144 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:36:32.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 11:36:32.145 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:32.146 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:32.147 +02:00 [INF] Successfully retrieved categories.
2025-01-22 11:36:32.148 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:36:32.148 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:36:32.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:32.151 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T09:36:32.1515985Z"
2025-01-22 11:36:32.152 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:32.153 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 12.5542ms
2025-01-22 11:36:32.154 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:32.1543862Z"
2025-01-22 11:36:32.154 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:32.155 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 11:36:32.156 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T09:36:32.1566414Z"
2025-01-22 11:36:32.157 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 33.8545ms
2025-01-22 11:36:32.159 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:36:32.163 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:36:32.165 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:36:32.167 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T09:36:32.1671502Z"
2025-01-22 11:36:32.167 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:32.168 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T09:36:32.1684426Z"
2025-01-22 11:36:32.169 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 17.0704ms
2025-01-22 11:36:32.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:36:32.171 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:32.172 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 21.004ms
2025-01-22 11:36:32.172 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:36:32.173 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:36:32.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 38.6626ms
2025-01-22 11:36:32.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 36.9032ms
2025-01-22 11:36:49.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:36:49.700 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:49.701 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:36:49.704 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:36:49.707 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:36:49.7072595Z"
2025-01-22 11:36:49.719 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:36:49.721 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:36:49.7218077Z"
2025-01-22 11:36:49.722 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:36:49.7224358Z"
2025-01-22 11:36:49.723 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:36:49.7230132Z"
2025-01-22 11:36:49.723 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:49.725 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 19.0233ms
2025-01-22 11:36:49.726 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:36:49.727 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 28.1671ms
2025-01-22 11:36:53.223 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:36:53.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:53.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.3005ms
2025-01-22 11:36:53.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:36:53.230 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:36:53.231 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:36:53.231 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:53.232 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:36:53.233 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:53.234 +02:00 [INF] Fetching all donators.
2025-01-22 11:36:53.240 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:36:53.241 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:36:53.242 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:36:53.243 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.4792ms
2025-01-22 11:36:53.244 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:36:53.244 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:36:53.245 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.7596ms
2025-01-22 11:37:00.862 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 11:37:00.864 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:00.865 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 2.5129ms
2025-01-22 11:37:00.867 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-22 11:37:00.869 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:00.869 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:37:00.870 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:37:00.874 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 11:37:00.878 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-22 11:37:00.879 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 11:37:00.888 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 11:37:00.891 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-22 11:37:00.899 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 11:37:00.908 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 2
2025-01-22 11:37:00.909 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:37:00.913 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 37.2913ms
2025-01-22 11:37:00.913 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:37:00.914 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:37:00.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 47.6233ms
2025-01-22 11:37:32.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-22 11:37:32.979 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:37:32.985 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:37:32.988 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:37:32.988 +02:00 [WRN] Missing Authorization Header
2025-01-22 11:37:32.989 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:37:32.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 12.2ms
2025-01-22 11:37:32.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.1564ms
2025-01-22 11:37:33.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:37:33.046 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:37:33.047 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:37:33.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.6713ms
2025-01-22 11:37:33.194 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:37:33.196 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:33.197 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.3014ms
2025-01-22 11:37:33.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:37:33.200 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:33.201 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:37:33.202 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:37:33.203 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:37:33.204 +02:00 [INF] Fetching all donators.
2025-01-22 11:37:33.205 +02:00 [INF] Fetching all donators.
2025-01-22 11:37:33.211 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:37:33.213 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:37:33.213 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:37:33.215 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 10.3077ms
2025-01-22 11:37:33.216 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:37:33.217 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:37:33.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 19.5444ms
2025-01-22 11:37:33.283 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:37:33.287 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:33.288 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.5425ms
2025-01-22 11:37:33.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:37:33.296 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:33.298 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:37:33.300 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:37:33.303 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.3031539Z"
2025-01-22 11:37:33.304 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.3043279Z"
2025-01-22 11:37:33.305 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.3053069Z"
2025-01-22 11:37:33.310 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:37:33.312 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.3129222Z"
2025-01-22 11:37:33.313 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.3139165Z"
2025-01-22 11:37:33.314 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.3147915Z"
2025-01-22 11:37:33.315 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:37:33.316 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.9044ms
2025-01-22 11:37:33.317 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:37:33.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 25.3868ms
2025-01-22 11:37:33.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:37:33.399 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:33.400 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:37:33.401 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:37:33.403 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.4033120Z"
2025-01-22 11:37:33.403 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.4039239Z"
2025-01-22 11:37:33.404 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:37:33.4046838Z"
2025-01-22 11:37:33.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:37:33.410 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.4106853Z"
2025-01-22 11:37:33.411 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.4115631Z"
2025-01-22 11:37:33.412 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:37:33.4125519Z"
2025-01-22 11:37:33.413 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:37:33.414 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.1708ms
2025-01-22 11:37:33.415 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:37:33.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.1273ms
2025-01-22 11:37:36.801 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 11:37:36.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:36.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 3.4861ms
2025-01-22 11:37:36.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-22 11:37:36.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:37:36.810 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:37:36.812 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:37:36.812 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 11:37:36.814 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-22 11:37:36.815 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 11:37:36.820 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 11:37:36.822 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-22 11:37:36.825 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 11:37:36.827 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 2
2025-01-22 11:37:36.828 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:37:36.830 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 16.0475ms
2025-01-22 11:37:36.831 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:37:36.831 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:37:36.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 25.037ms
2025-01-22 11:38:25.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-22 11:38:25.962 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 11:38:25.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:38:25.970 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:38:25.972 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:38:25.974 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:38:25.974 +02:00 [WRN] Missing Authorization Header
2025-01-22 11:38:25.974 +02:00 [WRN] Missing Authorization Header
2025-01-22 11:38:25.975 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:38:25.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 16.6687ms
2025-01-22 11:38:25.977 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 401 null null 14.2123ms
2025-01-22 11:38:25.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.3723ms
2025-01-22 11:38:26.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:38:26.023 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:38:26.024 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:38:26.026 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.0901ms
2025-01-22 11:38:26.164 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:38:26.166 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.166 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.8878ms
2025-01-22 11:38:26.167 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 11:38:26.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:38:26.170 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.172 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 5.2299ms
2025-01-22 11:38:26.173 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:38:26.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-22 11:38:26.176 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:38:26.177 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.178 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:38:26.179 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:38:26.184 +02:00 [INF] Fetching all donators.
2025-01-22 11:38:26.186 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:26.187 +02:00 [INF] Fetching all donators.
2025-01-22 11:38:26.187 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 11:38:26.192 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-22 11:38:26.192 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 11:38:26.194 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:38:26.197 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:38:26.198 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 11:38:26.198 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:26.200 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-22 11:38:26.202 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 18.1295ms
2025-01-22 11:38:26.204 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:38:26.205 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:38:26.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.7587ms
2025-01-22 11:38:26.206 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 11:38:26.211 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 2
2025-01-22 11:38:26.212 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:38:26.217 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 26.2839ms
2025-01-22 11:38:26.218 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:26.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:38:26.219 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:38:26.221 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.221 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 46.0455ms
2025-01-22 11:38:26.222 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.7478ms
2025-01-22 11:38:26.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:38:26.229 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.230 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:26.231 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:38:26.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.2332206Z"
2025-01-22 11:38:26.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.2337804Z"
2025-01-22 11:38:26.234 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.2344109Z"
2025-01-22 11:38:26.237 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:38:26.240 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.2402923Z"
2025-01-22 11:38:26.241 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.2410987Z"
2025-01-22 11:38:26.241 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.2419279Z"
2025-01-22 11:38:26.242 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:26.244 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.2183ms
2025-01-22 11:38:26.245 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:26.245 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.7938ms
2025-01-22 11:38:26.420 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:38:26.422 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:26.424 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:26.424 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:38:26.427 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.4270723Z"
2025-01-22 11:38:26.427 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.4279119Z"
2025-01-22 11:38:26.428 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:26.4288595Z"
2025-01-22 11:38:26.432 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:38:26.435 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.4350599Z"
2025-01-22 11:38:26.435 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.4357136Z"
2025-01-22 11:38:26.436 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:26.4363290Z"
2025-01-22 11:38:26.437 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:26.438 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.5517ms
2025-01-22 11:38:26.439 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:26.440 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 20.52ms
2025-01-22 11:38:27.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-22 11:38:27.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-22 11:38:27.858 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:38:27.861 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:38:27.862 +02:00 [WRN] Missing Authorization Header
2025-01-22 11:38:27.862 +02:00 [WRN] Missing Authorization Header
2025-01-22 11:38:27.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.5258ms
2025-01-22 11:38:27.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 401 null null 7.0863ms
2025-01-22 11:38:27.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:38:27.887 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:38:27.888 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:38:27.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.6148ms
2025-01-22 11:38:27.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:38:27.921 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:38:27.922 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:38:27.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.2171ms
2025-01-22 11:38:28.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:38:28.062 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:28.064 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:38:28.066 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-22 11:38:28.068 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:38:28.069 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:28.070 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:38:28.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:38:28.071 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-22 11:38:28.072 +02:00 [INF] Fetching all donators.
2025-01-22 11:38:28.076 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:28.077 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:28.078 +02:00 [INF] Fetching all donators.
2025-01-22 11:38:28.079 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:28.080 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 11:38:28.081 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:38:28.084 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-22 11:38:28.086 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 11:38:28.086 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.0861572Z"
2025-01-22 11:38:28.085 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:38:28.088 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.0880619Z"
2025-01-22 11:38:28.090 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 11:38:28.091 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:38:28.092 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.0921764Z"
2025-01-22 11:38:28.094 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-22 11:38:28.095 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:28.099 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:38:28.099 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 27.0267ms
2025-01-22 11:38:28.100 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 11:38:28.102 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.1022127Z"
2025-01-22 11:38:28.103 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:38:28.105 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 2
2025-01-22 11:38:28.106 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.1068024Z"
2025-01-22 11:38:28.108 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:38:28.110 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:38:28.111 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.1114328Z"
2025-01-22 11:38:28.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 52.6658ms
2025-01-22 11:38:28.117 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 33.1926ms
2025-01-22 11:38:28.118 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:28.122 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:28.124 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 38.0788ms
2025-01-22 11:38:28.124 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:38:28.126 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:28.127 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 60.6039ms
2025-01-22 11:38:28.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 57.733ms
2025-01-22 11:38:28.205 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:38:28.208 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:28.209 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:28.210 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:38:28.214 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.2139948Z"
2025-01-22 11:38:28.216 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.2161812Z"
2025-01-22 11:38:28.217 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:38:28.2172634Z"
2025-01-22 11:38:28.221 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:38:28.224 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.2240982Z"
2025-01-22 11:38:28.224 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.2247433Z"
2025-01-22 11:38:28.225 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:38:28.2255343Z"
2025-01-22 11:38:28.226 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:38:28.228 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.5952ms
2025-01-22 11:38:28.229 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:38:28.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 25.2554ms
2025-01-22 11:38:38.286 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - null null
2025-01-22 11:38:38.288 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:38.289 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - 204 null null 3.4443ms
2025-01-22 11:38:38.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - application/json null
2025-01-22 11:38:38.294 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:38:38.295 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/3
2025-01-22 11:38:38.296 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:38.297 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 11:38:38.299 +02:00 [INF] Fetching donator with gifts for ID: 3
2025-01-22 11:38:38.300 +02:00 [INF] Fetching donator with ID: 3
2025-01-22 11:38:38.327 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 11:38:38.331 +02:00 [INF] Fetching gifts for donator ID: 3
2025-01-22 11:38:38.336 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 11:38:38.338 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 3
2025-01-22 11:38:38.338 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:38:38.340 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 40.799ms
2025-01-22 11:38:38.341 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 11:38:38.342 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:38:38.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - 200 null application/json; charset=utf-8 51.0075ms
2025-01-22 11:48:12.390 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:48:12.394 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:12.395 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 4.7527ms
2025-01-22 11:48:12.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:48:12.403 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:12.404 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:12.404 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:12.406 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:12.4061768Z"
2025-01-22 11:48:12.406 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:12.4067174Z"
2025-01-22 11:48:12.407 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:12.4073011Z"
2025-01-22 11:48:12.434 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:48:12.436 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:12.4365196Z"
2025-01-22 11:48:12.437 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:12.4373121Z"
2025-01-22 11:48:12.438 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:12.4382397Z"
2025-01-22 11:48:12.438 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:12.439 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 33.9519ms
2025-01-22 11:48:12.440 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:12.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 43.5701ms
2025-01-22 11:48:14.478 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:48:14.480 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:14.481 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:14.482 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:14.483 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:48:14.4837778Z"
2025-01-22 11:48:14.487 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:48:14.488 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:14.4889902Z"
2025-01-22 11:48:14.489 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:14.4895584Z"
2025-01-22 11:48:14.490 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:14.4901557Z"
2025-01-22 11:48:14.490 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:14.491 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.1356ms
2025-01-22 11:48:14.492 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:14.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.7657ms
2025-01-22 11:48:25.409 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:48:25.411 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:25.411 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.6216ms
2025-01-22 11:48:25.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:48:25.415 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:25.416 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:48:25.417 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:48:25.418 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:48:25.419 +02:00 [INF] Fetching all donators.
2025-01-22 11:48:25.420 +02:00 [INF] Fetching all donators.
2025-01-22 11:48:25.425 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:48:25.427 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:48:25.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:25.428 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.0856ms
2025-01-22 11:48:25.429 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:48:25.430 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:48:25.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.9106ms
2025-01-22 11:48:26.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:48:26.224 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:26.225 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.4037ms
2025-01-22 11:48:26.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:48:26.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:26.229 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:26.230 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:26.232 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:26.2324873Z"
2025-01-22 11:48:26.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:26.2330624Z"
2025-01-22 11:48:26.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:26.2337576Z"
2025-01-22 11:48:26.236 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:48:26.238 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:26.2387544Z"
2025-01-22 11:48:26.239 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:26.2393264Z"
2025-01-22 11:48:26.239 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:26.2399159Z"
2025-01-22 11:48:26.240 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:26.241 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.183ms
2025-01-22 11:48:26.242 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:26.242 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.5717ms
2025-01-22 11:48:28.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:48:28.705 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:28.706 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:28.707 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:28.709 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:48:28.7093218Z"
2025-01-22 11:48:28.713 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:48:28.716 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:28.7160862Z"
2025-01-22 11:48:28.716 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:28.7166707Z"
2025-01-22 11:48:28.717 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:28.7172734Z"
2025-01-22 11:48:28.717 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:28.718 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.854ms
2025-01-22 11:48:28.719 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:28.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.7332ms
2025-01-22 11:48:46.618 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:48:46.620 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:46.621 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1336ms
2025-01-22 11:48:46.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:48:46.625 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:46.626 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:46.626 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:46.628 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:46.6283914Z"
2025-01-22 11:48:46.628 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:46.6289633Z"
2025-01-22 11:48:46.629 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:48:46.6295507Z"
2025-01-22 11:48:46.635 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:48:46.638 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:46.6383789Z"
2025-01-22 11:48:46.638 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:46.6389745Z"
2025-01-22 11:48:46.639 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:48:46.6395590Z"
2025-01-22 11:48:46.640 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:46.641 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.8667ms
2025-01-22 11:48:46.641 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:48:46.642 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.7813ms
2025-01-22 11:48:50.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:48:50.554 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:48:50.555 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:50.556 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:48:50.557 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:48:50.5575930Z"
2025-01-22 11:48:50.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:48:50.564 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:50.5640840Z"
2025-01-22 11:48:50.564 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:50.5646845Z"
2025-01-22 11:48:50.565 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:48:50.5653479Z"
2025-01-22 11:48:50.566 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:48:50.566 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.4894ms
2025-01-22 11:48:50.567 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:48:50.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.8017ms
2025-01-22 11:49:14.699 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-22 11:49:14.704 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:14.705 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 5.5289ms
2025-01-22 11:49:14.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-22 11:49:14.711 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:14.712 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:14.716 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:14.723 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-22 11:49:14.726 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-22T09:49:14.7263428Z"
2025-01-22 11:49:14.752 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-22 11:49:14.754 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:14.7542259Z"
2025-01-22 11:49:14.754 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:14.755 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:14.756 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 38.5622ms
2025-01-22 11:49:14.757 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:14.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 48.3988ms
2025-01-22 11:49:18.331 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 11:49:18.333 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:18.334 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 3.1781ms
2025-01-22 11:49:18.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 11:49:18.338 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:18.339 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:18.339 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:18.341 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 11:49:18.342 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T09:49:18.3422377Z"
2025-01-22 11:49:18.355 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 11:49:18.357 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:18.3570999Z"
2025-01-22 11:49:18.357 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:18.358 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:18.359 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 18.638ms
2025-01-22 11:49:18.360 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:18.361 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 24.3583ms
2025-01-22 11:49:23.442 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - null null
2025-01-22 11:49:23.444 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:23.444 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 204 null null 2.5194ms
2025-01-22 11:49:23.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 11:49:23.450 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:23.450 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:23.451 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:23.453 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 11:49:23.453 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T09:49:23.4539799Z"
2025-01-22 11:49:23.466 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:23.468 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:23.4686923Z"
2025-01-22 11:49:23.469 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:23.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:23.470 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 17.9262ms
2025-01-22 11:49:23.471 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:23.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 200 null application/json; charset=utf-8 24.0142ms
2025-01-22 11:49:26.722 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 11:49:26.724 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:26.725 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 3.1878ms
2025-01-22 11:49:26.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 11:49:26.730 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:26.731 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:26.732 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:26.734 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 11:49:26.735 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T09:49:26.7355264Z"
2025-01-22 11:49:26.744 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:26.746 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:26.7467491Z"
2025-01-22 11:49:26.747 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:26.748 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:26.749 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 14.6208ms
2025-01-22 11:49:26.749 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:26.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 22.194ms
2025-01-22 11:49:29.074 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 11:49:29.077 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:29.078 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:29.078 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:29.080 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 11:49:29.081 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T09:49:29.0817536Z"
2025-01-22 11:49:29.089 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:29.091 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:29.0919273Z"
2025-01-22 11:49:29.092 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:29.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:29.094 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 13.6982ms
2025-01-22 11:49:29.095 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:29.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 21.0182ms
2025-01-22 11:49:30.515 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - null null
2025-01-22 11:49:30.517 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:30.517 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 204 null null 2.5814ms
2025-01-22 11:49:30.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 11:49:30.521 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:30.522 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:30.523 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:30.524 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 11:49:30.525 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T09:49:30.5255838Z"
2025-01-22 11:49:30.529 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:30.534 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:30.5340294Z"
2025-01-22 11:49:30.534 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:30.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:30.536 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 11.5959ms
2025-01-22 11:49:30.536 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:30.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 200 null application/json; charset=utf-8 17.6019ms
2025-01-22 11:49:31.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 11:49:31.156 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:31.157 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:31.157 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:31.159 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 11:49:31.160 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T09:49:31.1602311Z"
2025-01-22 11:49:31.163 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:31.165 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:31.1652712Z"
2025-01-22 11:49:31.165 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:31.166 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:31.167 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 8.2377ms
2025-01-22 11:49:31.168 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:31.169 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 200 null application/json; charset=utf-8 14.6291ms
2025-01-22 11:49:36.170 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - null null
2025-01-22 11:49:36.172 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:36.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 204 null null 2.6411ms
2025-01-22 11:49:36.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 11:49:36.176 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:36.177 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:36.178 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:36.180 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 11:49:36.181 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T09:49:36.1815546Z"
2025-01-22 11:49:36.187 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:36.189 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:36.1893720Z"
2025-01-22 11:49:36.189 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:36.190 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:36.191 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 11.4013ms
2025-01-22 11:49:36.192 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:36.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 200 null application/json; charset=utf-8 18.5398ms
2025-01-22 11:49:37.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 11:49:37.692 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:37.692 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 2.4141ms
2025-01-22 11:49:37.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 11:49:37.697 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:37.697 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:37.698 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:49:37.700 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 11:49:37.701 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T09:49:37.7010004Z"
2025-01-22 11:49:37.704 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:37.705 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:49:37.7057838Z"
2025-01-22 11:49:37.706 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:49:37.707 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:37.707 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 7.9057ms
2025-01-22 11:49:37.708 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:49:37.709 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 14.3151ms
2025-01-22 11:49:41.430 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 11:49:41.433 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:41.433 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.8787ms
2025-01-22 11:49:41.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 11:49:41.437 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:41.438 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 11:49:41.439 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:49:41.442 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 11:49:41.446 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:49:41.448 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:49:41.469 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 11:49:41.471 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:49:41.472 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:49:41.472 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:41.478 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 34.3214ms
2025-01-22 11:49:41.479 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:49:41.480 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:49:41.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 45.1677ms
2025-01-22 11:49:43.101 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:49:43.103 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:43.104 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.8093ms
2025-01-22 11:49:43.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:49:43.109 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:43.110 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:49:43.111 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:49:43.113 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:43.1134201Z"
2025-01-22 11:49:43.114 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:43.1142081Z"
2025-01-22 11:49:43.115 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:43.1154925Z"
2025-01-22 11:49:43.119 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:43.121 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:43.1214010Z"
2025-01-22 11:49:43.122 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:43.1220828Z"
2025-01-22 11:49:43.122 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:43.1227738Z"
2025-01-22 11:49:43.123 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:43.124 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.6421ms
2025-01-22 11:49:43.126 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:49:43.127 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.9313ms
2025-01-22 11:49:45.484 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:49:45.487 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:45.487 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.9637ms
2025-01-22 11:49:45.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:49:45.491 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:45.492 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:49:45.493 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:49:45.494 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:49:45.495 +02:00 [INF] Fetching all donators.
2025-01-22 11:49:45.495 +02:00 [INF] Fetching all donators.
2025-01-22 11:49:45.501 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:49:45.502 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:49:45.503 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:45.504 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.9871ms
2025-01-22 11:49:45.505 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:49:45.505 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:49:45.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.2533ms
2025-01-22 11:49:45.887 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 11:49:45.889 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:45.890 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.76ms
2025-01-22 11:49:45.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 11:49:45.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:45.894 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:49:45.898 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 11:49:45.900 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 11:49:45.901 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:49:45.9017647Z"
2025-01-22 11:49:45.903 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:49:45.9034022Z"
2025-01-22 11:49:45.913 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 11:49:45.914 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:49:45.9148606Z"
2025-01-22 11:49:45.915 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:49:45.9154693Z"
2025-01-22 11:49:45.916 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 11:49:45.916 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:45.917 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 18.0352ms
2025-01-22 11:49:45.918 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:49:45.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 26.9487ms
2025-01-22 11:49:53.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:49:53.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:53.225 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0283ms
2025-01-22 11:49:53.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:49:53.230 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:49:53.231 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:49:53.232 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:49:53.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:53.2338410Z"
2025-01-22 11:49:53.234 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:53.2344236Z"
2025-01-22 11:49:53.235 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:49:53.2350467Z"
2025-01-22 11:49:53.240 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:49:53.242 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:53.2423721Z"
2025-01-22 11:49:53.242 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:53.2429490Z"
2025-01-22 11:49:53.243 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:49:53.2435545Z"
2025-01-22 11:49:53.244 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:49:53.245 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.5965ms
2025-01-22 11:49:53.245 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:49:53.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.5302ms
2025-01-22 11:50:26.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:26.942 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:26.942 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:26.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.9287ms
2025-01-22 11:50:26.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:26.979 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:26.980 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:26.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.2077ms
2025-01-22 11:50:27.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:27.036 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:27.037 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:27.039 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.2171ms
2025-01-22 11:50:27.226 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:27.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:27.229 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.3478ms
2025-01-22 11:50:27.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:27.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:27.238 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.240 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:27.242 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.2423880Z"
2025-01-22 11:50:27.243 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.2436133Z"
2025-01-22 11:50:27.244 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.2447254Z"
2025-01-22 11:50:27.254 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:27.259 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.2591200Z"
2025-01-22 11:50:27.260 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.2603911Z"
2025-01-22 11:50:27.261 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.2617537Z"
2025-01-22 11:50:27.265 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:27.285 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 43.2728ms
2025-01-22 11:50:27.288 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 58.0877ms
2025-01-22 11:50:27.391 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:27.401 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:27.404 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.406 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:27.410 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.4102489Z"
2025-01-22 11:50:27.411 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.4113008Z"
2025-01-22 11:50:27.412 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.4124394Z"
2025-01-22 11:50:27.420 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:27.431 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.4318733Z"
2025-01-22 11:50:27.433 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.4330807Z"
2025-01-22 11:50:27.434 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.4345098Z"
2025-01-22 11:50:27.435 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:27.437 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 28.087ms
2025-01-22 11:50:27.439 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.440 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 49.5471ms
2025-01-22 11:50:27.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:27.491 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:27.493 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.498 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:27.501 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.5018383Z"
2025-01-22 11:50:27.502 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.5028228Z"
2025-01-22 11:50:27.503 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:27.5039485Z"
2025-01-22 11:50:27.509 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:27.514 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.5145188Z"
2025-01-22 11:50:27.515 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.5156694Z"
2025-01-22 11:50:27.517 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:27.5170239Z"
2025-01-22 11:50:27.518 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:27.523 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.6021ms
2025-01-22 11:50:27.525 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:27.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 38.6992ms
2025-01-22 11:50:27.941 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:27.943 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:27.944 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:27.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.5001ms
2025-01-22 11:50:27.999 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:28.002 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:28.004 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:28.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.7836ms
2025-01-22 11:50:28.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:28.041 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:50:28.041 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:50:28.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.4885ms
2025-01-22 11:50:28.120 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:28.123 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:28.124 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.125 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:28.126 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1269343Z"
2025-01-22 11:50:28.127 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1276109Z"
2025-01-22 11:50:28.128 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1284054Z"
2025-01-22 11:50:28.132 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:28.135 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1359161Z"
2025-01-22 11:50:28.137 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1372509Z"
2025-01-22 11:50:28.138 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1382129Z"
2025-01-22 11:50:28.138 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:28.140 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.407ms
2025-01-22 11:50:28.141 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.2057ms
2025-01-22 11:50:28.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:28.166 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:28.168 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.169 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:28.172 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1720067Z"
2025-01-22 11:50:28.172 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1727439Z"
2025-01-22 11:50:28.173 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.1734721Z"
2025-01-22 11:50:28.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:28.179 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1798272Z"
2025-01-22 11:50:28.180 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1808281Z"
2025-01-22 11:50:28.181 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.1819073Z"
2025-01-22 11:50:28.182 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:28.184 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.8224ms
2025-01-22 11:50:28.185 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 24.0891ms
2025-01-22 11:50:28.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:28.400 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:28.402 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.402 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:28.405 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.4052231Z"
2025-01-22 11:50:28.406 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.4060718Z"
2025-01-22 11:50:28.407 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:28.4071896Z"
2025-01-22 11:50:28.410 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:28.412 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.4123787Z"
2025-01-22 11:50:28.413 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.4130344Z"
2025-01-22 11:50:28.413 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:28.4137353Z"
2025-01-22 11:50:28.414 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:28.416 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.3464ms
2025-01-22 11:50:28.417 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:28.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.242ms
2025-01-22 11:50:31.801 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 11:50:31.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:31.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.3371ms
2025-01-22 11:50:31.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 11:50:31.808 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:31.808 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:50:31.809 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:31.810 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 11:50:31.811 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:50:31.8113841Z"
2025-01-22 11:50:31.811 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:50:31.8119317Z"
2025-01-22 11:50:31.819 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 11:50:31.821 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:50:31.8212975Z"
2025-01-22 11:50:31.821 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:50:31.8218568Z"
2025-01-22 11:50:31.822 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 11:50:31.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:31.824 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 13.3613ms
2025-01-22 11:50:31.824 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:50:31.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.9199ms
2025-01-22 11:50:37.339 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 11:50:37.342 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:37.342 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.8475ms
2025-01-22 11:50:37.345 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 11:50:37.347 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:37.348 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:37.349 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:50:37.350 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 11:50:37.351 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T09:50:37.3516354Z"
2025-01-22 11:50:37.361 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 11:50:37.363 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:50:37.3634489Z"
2025-01-22 11:50:37.364 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:50:37.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:37.365 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 15.1684ms
2025-01-22 11:50:37.366 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:37.367 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 21.88ms
2025-01-22 11:50:42.146 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 11:50:42.148 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:42.149 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 2.3044ms
2025-01-22 11:50:42.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 11:50:42.153 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:42.153 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:42.154 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:50:42.156 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 11:50:42.156 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T09:50:42.1567119Z"
2025-01-22 11:50:42.171 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 11:50:42.173 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:50:42.1733572Z"
2025-01-22 11:50:42.173 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:50:42.174 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:42.175 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 19.6943ms
2025-01-22 11:50:42.176 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:42.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 25.7442ms
2025-01-22 11:50:46.814 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:50:46.816 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:46.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0863ms
2025-01-22 11:50:46.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:50:46.822 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:46.823 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:46.823 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:46.825 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:46.8252559Z"
2025-01-22 11:50:46.825 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:46.8257929Z"
2025-01-22 11:50:46.826 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:50:46.8263681Z"
2025-01-22 11:50:46.831 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:50:46.833 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:46.8334024Z"
2025-01-22 11:50:46.833 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:46.8339946Z"
2025-01-22 11:50:46.834 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:50:46.8345798Z"
2025-01-22 11:50:46.835 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:46.836 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.98ms
2025-01-22 11:50:46.836 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:50:46.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.9938ms
2025-01-22 11:50:49.037 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 11:50:49.039 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:49.039 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.5061ms
2025-01-22 11:50:49.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 11:50:49.043 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:49.044 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:50:49.044 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 11:50:49.046 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 11:50:49.046 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:50:49.0469441Z"
2025-01-22 11:50:49.047 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T09:50:49.0479106Z"
2025-01-22 11:50:49.056 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 11:50:49.058 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:50:49.0581834Z"
2025-01-22 11:50:49.058 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T09:50:49.0587407Z"
2025-01-22 11:50:49.059 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 11:50:49.060 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:49.060 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 14.7352ms
2025-01-22 11:50:49.061 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 11:50:49.062 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 20.6105ms
2025-01-22 11:50:50.369 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 11:50:50.371 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:50.372 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.6684ms
2025-01-22 11:50:50.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 11:50:50.377 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:50.377 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:50.378 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:50:50.380 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 11:50:50.381 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T09:50:50.3815144Z"
2025-01-22 11:50:50.389 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 11:50:50.391 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:50:50.3914467Z"
2025-01-22 11:50:50.392 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:50:50.392 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:50.394 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 13.7567ms
2025-01-22 11:50:50.395 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:50.396 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 20.8798ms
2025-01-22 11:50:53.003 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 11:50:53.005 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:53.005 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 2.7591ms
2025-01-22 11:50:53.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 11:50:53.009 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:50:53.010 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:53.010 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:50:53.012 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 11:50:53.013 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T09:50:53.0130166Z"
2025-01-22 11:50:53.023 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 11:50:53.026 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:50:53.0263261Z"
2025-01-22 11:50:53.026 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:50:53.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:50:53.028 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 16.3668ms
2025-01-22 11:50:53.029 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:50:53.030 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 22.2652ms
2025-01-22 11:51:11.253 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:51:11.255 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:11.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.6132ms
2025-01-22 11:51:11.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:51:11.259 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:11.260 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:51:11.261 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:51:11.261 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:51:11.263 +02:00 [INF] Fetching all donators.
2025-01-22 11:51:11.264 +02:00 [INF] Fetching all donators.
2025-01-22 11:51:11.269 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:51:11.270 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:51:11.271 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:51:11.272 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.8728ms
2025-01-22 11:51:11.276 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:51:11.277 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:51:11.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 19.6564ms
2025-01-22 11:51:11.882 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:51:11.883 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:11.884 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.2294ms
2025-01-22 11:51:11.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:51:11.888 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:11.888 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:51:11.889 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:51:11.890 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:51:11.8909910Z"
2025-01-22 11:51:11.891 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:51:11.8915297Z"
2025-01-22 11:51:11.892 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:51:11.8921363Z"
2025-01-22 11:51:11.895 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:51:11.897 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:51:11.8970828Z"
2025-01-22 11:51:11.897 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:51:11.8977935Z"
2025-01-22 11:51:11.898 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:51:11.8985064Z"
2025-01-22 11:51:11.899 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:51:11.900 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.3006ms
2025-01-22 11:51:11.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:51:11.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.2835ms
2025-01-22 11:51:12.287 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 11:51:12.290 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:12.290 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.2103ms
2025-01-22 11:51:12.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 11:51:12.294 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:12.296 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 11:51:12.297 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:51:12.298 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 11:51:12.300 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:51:12.303 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:51:12.309 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 11:51:12.310 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:51:12.311 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:51:12.312 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:51:12.312 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 13.2787ms
2025-01-22 11:51:12.313 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:51:12.314 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:51:12.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 22.1201ms
2025-01-22 11:51:13.202 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:51:13.204 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:13.204 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:51:13.205 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:51:13.207 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:51:13.2070209Z"
2025-01-22 11:51:13.209 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:51:13.211 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:51:13.2115122Z"
2025-01-22 11:51:13.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:51:13.2121006Z"
2025-01-22 11:51:13.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:51:13.2126860Z"
2025-01-22 11:51:13.213 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:51:13.214 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.5348ms
2025-01-22 11:51:13.215 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:51:13.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.7308ms
2025-01-22 11:51:42.626 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 11:51:42.629 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:42.630 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 3.2685ms
2025-01-22 11:51:42.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 11:51:42.637 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:51:42.638 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:51:42.638 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:51:42.640 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 11:51:42.641 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T09:51:42.6413895Z"
2025-01-22 11:51:42.653 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:51:42.655 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:51:42.6550598Z"
2025-01-22 11:51:42.655 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:51:42.656 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:51:42.657 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 16.972ms
2025-01-22 11:51:42.658 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:51:42.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 23.0005ms
2025-01-22 11:57:16.876 +02:00 [INF] Starting up the application
2025-01-22 11:57:17.489 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 11:57:18.202 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 11:57:18.249 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 11:57:18.403 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 11:57:18.405 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 11:57:18.405 +02:00 [INF] Hosting environment: Development
2025-01-22 11:57:18.406 +02:00 [INF] Content root path: E:\server\project
2025-01-22 11:57:18.738 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 11:57:18.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 158.9832ms
2025-01-22 11:57:18.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 11:57:18.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 11:57:18.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 11:57:18.911 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.5201ms
2025-01-22 11:57:18.911 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.4696ms
2025-01-22 11:57:18.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.535ms
2025-01-22 11:57:19.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 11:57:19.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.7713ms
2025-01-22 11:57:22.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:57:22.288 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 11:57:22.326 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:22.337 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:57:22.407 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:57:22.4069943Z"
2025-01-22 11:57:22.453 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:57:22.473 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:22.4738089Z"
2025-01-22 11:57:22.474 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:22.4745924Z"
2025-01-22 11:57:22.475 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:22.4751637Z"
2025-01-22 11:57:22.479 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:22.505 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 164.7065ms
2025-01-22 11:57:22.506 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:22.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 225.591ms
2025-01-22 11:57:40.669 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 11:57:40.671 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:40.674 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.2932ms
2025-01-22 11:57:40.676 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 11:57:40.679 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:40.682 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 11:57:40.693 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 11:57:40.753 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 11:57:40.895 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 11:57:40.929 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 11:57:40.963 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 11:57:40.977 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 11:57:40.987 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 292.0538ms
2025-01-22 11:57:40.989 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 11:57:40.990 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 313.2197ms
2025-01-22 11:57:41.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:57:41.008 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:41.011 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:41.012 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:57:41.016 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:57:41.0160812Z"
2025-01-22 11:57:41.020 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:57:41.024 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:41.0240070Z"
2025-01-22 11:57:41.024 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:41.0248447Z"
2025-01-22 11:57:41.025 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:41.0254492Z"
2025-01-22 11:57:41.026 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:41.027 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 13.0076ms
2025-01-22 11:57:41.028 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:41.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 22.3343ms
2025-01-22 11:57:45.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 11:57:45.212 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:45.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:45.215 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 11:57:45.220 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T09:57:45.2204432Z"
2025-01-22 11:57:45.225 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 11:57:45.227 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:45.2273268Z"
2025-01-22 11:57:45.227 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:45.2279423Z"
2025-01-22 11:57:45.228 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:45.2285190Z"
2025-01-22 11:57:45.229 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:45.230 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 14.0498ms
2025-01-22 11:57:45.231 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 11:57:45.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 22.2024ms
2025-01-22 11:57:48.042 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 11:57:48.044 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:48.045 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 2.7204ms
2025-01-22 11:57:48.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 11:57:48.049 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:48.092 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:57:48.098 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:57:48.105 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 11:57:48.108 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T09:57:48.1085147Z"
2025-01-22 11:57:48.153 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:57:48.156 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:48.1564786Z"
2025-01-22 11:57:48.157 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:57:48.158 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:48.161 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 61.6735ms
2025-01-22 11:57:48.162 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:57:48.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 115.0089ms
2025-01-22 11:57:52.226 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 11:57:52.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:52.228 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.5082ms
2025-01-22 11:57:52.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 11:57:52.232 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:52.236 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:57:52.237 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 11:57:52.238 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 11:57:52.239 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T09:57:52.2395626Z"
2025-01-22 11:57:52.255 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 11:57:52.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T09:57:52.2571429Z"
2025-01-22 11:57:52.257 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 11:57:52.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:52.259 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 21.0279ms
2025-01-22 11:57:52.260 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 11:57:52.261 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 30.0182ms
2025-01-22 11:57:55.669 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 11:57:55.671 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:55.672 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.7841ms
2025-01-22 11:57:55.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 11:57:55.675 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:55.676 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 11:57:55.691 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:57:55.695 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 11:57:55.699 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:57:55.700 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:57:55.725 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 11:57:55.727 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:57:55.728 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 11:57:55.729 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:55.735 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 38.7972ms
2025-01-22 11:57:55.736 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 11:57:55.737 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:57:55.737 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 63.9447ms
2025-01-22 11:57:57.298 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:57:57.300 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:57.300 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.5202ms
2025-01-22 11:57:57.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:57:57.304 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:57.305 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:57:57.309 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:57:57.311 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:57:57.3117541Z"
2025-01-22 11:57:57.313 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:57:57.3130709Z"
2025-01-22 11:57:57.315 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:57:57.3155425Z"
2025-01-22 11:57:57.332 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:57:57.334 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:57:57.3345834Z"
2025-01-22 11:57:57.335 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:57:57.3352476Z"
2025-01-22 11:57:57.335 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:57:57.3359446Z"
2025-01-22 11:57:57.336 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:57:57.338 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 27.3912ms
2025-01-22 11:57:57.339 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:57:57.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 36.9652ms
2025-01-22 11:57:59.770 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 11:57:59.772 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:59.773 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 2.5084ms
2025-01-22 11:57:59.775 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 11:57:59.776 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:57:59.777 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 11:57:59.779 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 11:57:59.782 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 11:57:59.840 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 11:57:59.874 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 11:57:59.905 +02:00 [INF] Successfully fetched 2 gifts for 1 winners.
2025-01-22 11:58:00.198 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 11:58:00.205 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 420.9921ms
2025-01-22 11:58:00.205 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 11:58:00.206 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:58:00.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2723 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 432.3207ms
2025-01-22 11:58:12.442 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-22 11:58:12.444 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:12.444 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 2.5268ms
2025-01-22 11:58:12.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-22 11:58:12.450 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:12.451 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-22 11:58:12.452 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 11:58:12.456 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 11:58:12.462 +02:00 [INF] Calculating gift revenues.
2025-01-22 11:58:12.496 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN [UserGifts] AS [u0] ON [g0].[Id] = [u0].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN [UserGifts] AS [u] ON [g].[Id] = [u].[GiftId]
GROUP BY [g].[Id]
2025-01-22 11:58:12.502 +02:00 [INF] Total revenue calculated: 40.00.
2025-01-22 11:58:12.816 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-22 11:58:12.817 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 359.5632ms
2025-01-22 11:58:12.818 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 11:58:12.819 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:58:12.819 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2837 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 372.1028ms
2025-01-22 11:58:28.411 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:58:28.411 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 11:58:28.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:58:28.417 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:28.419 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:28.421 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:28.421 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 10.1195ms
2025-01-22 11:58:28.422 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 10.2041ms
2025-01-22 11:58:28.427 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:58:28.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:58:28.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:58:28.435 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:28.437 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:28.437 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:58:28.437 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:28.438 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:58:28.439 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 22.0971ms
2025-01-22 11:58:28.440 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:28.443 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:58:28.445 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:58:28.446 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:58:28.4466174Z"
2025-01-22 11:58:28.449 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:28.4497481Z"
2025-01-22 11:58:28.450 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:28.451 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:28.4516108Z"
2025-01-22 11:58:28.452 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:28.460 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:58:28.472 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:58:28.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:58:28.475 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 27.4126ms
2025-01-22 11:58:28.476 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:28.476 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:58:28.477 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 44.5315ms
2025-01-22 11:58:28.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:58:28.488 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:58:28.4887862Z"
2025-01-22 11:58:28.489 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:58:28.4895759Z"
2025-01-22 11:58:28.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:58:28.491 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 46.5949ms
2025-01-22 11:58:28.492 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:28.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 62.643ms
2025-01-22 11:58:33.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:58:33.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:58:33.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:58:33.270 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:33.272 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:33.274 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:33.274 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:58:33.275 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:33.275 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:58:33.276 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:33.277 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:58:33.277 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:58:33.278 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:58:33.280 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:58:33.2801996Z"
2025-01-22 11:58:33.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 16.3788ms
2025-01-22 11:58:33.282 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:33.284 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:33.2843710Z"
2025-01-22 11:58:33.287 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:33.288 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:33.2880977Z"
2025-01-22 11:58:33.293 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:58:33.295 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:58:33.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:58:33.296 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:58:33.297 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.4759ms
2025-01-22 11:58:33.300 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:58:33.3002111Z"
2025-01-22 11:58:33.301 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:33.302 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:58:33.3021410Z"
2025-01-22 11:58:33.302 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:58:33.304 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:58:33.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 41.0742ms
2025-01-22 11:58:33.305 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 26.2801ms
2025-01-22 11:58:33.308 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:33.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 45.6669ms
2025-01-22 11:58:37.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:58:37.605 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:58:37.606 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:58:37.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.29ms
2025-01-22 11:58:37.762 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:58:37.764 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:37.765 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.216ms
2025-01-22 11:58:37.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:58:37.770 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:37.771 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:58:37.771 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:58:37.773 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:58:37.7733865Z"
2025-01-22 11:58:37.774 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:58:37.7740855Z"
2025-01-22 11:58:37.774 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:58:37.7747194Z"
2025-01-22 11:58:37.780 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:58:37.782 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:58:37.7826962Z"
2025-01-22 11:58:37.783 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:58:37.7832786Z"
2025-01-22 11:58:37.783 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:58:37.7839236Z"
2025-01-22 11:58:37.784 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:58:37.786 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.7806ms
2025-01-22 11:58:37.789 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:58:37.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.3042ms
2025-01-22 11:58:38.749 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:58:38.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:58:38.749 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 11:58:38.751 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:38.752 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:38.754 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:38.754 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.4714ms
2025-01-22 11:58:38.755 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:58:38.756 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.9358ms
2025-01-22 11:58:38.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:58:38.758 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:58:38.761 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:58:38.762 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:38.763 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 14.478ms
2025-01-22 11:58:38.765 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:58:38.766 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:58:38.769 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:38.770 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:38.771 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:58:38.771 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:58:38.773 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:58:38.7734593Z"
2025-01-22 11:58:38.776 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:38.7762795Z"
2025-01-22 11:58:38.776 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:38.777 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:58:38.7773271Z"
2025-01-22 11:58:38.777 +02:00 [INF] Fetching all donators.
2025-01-22 11:58:38.782 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:58:38.782 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:58:38.784 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:58:38.7846006Z"
2025-01-22 11:58:38.786 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:58:38.786 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:58:38.7866577Z"
2025-01-22 11:58:38.787 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:58:38.788 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:58:38.789 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.8359ms
2025-01-22 11:58:38.790 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 16.9174ms
2025-01-22 11:58:38.790 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:58:38.791 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:58:38.792 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:58:38.793 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 31.8791ms
2025-01-22 11:58:38.793 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 35.5995ms
2025-01-22 11:59:14.624 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 11:59:14.624 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:59:14.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:59:14.632 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:14.634 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:14.637 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 12.5203ms
2025-01-22 11:59:14.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 16.6994ms
2025-01-22 11:59:14.636 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:14.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:59:14.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:59:14.649 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:59:14.651 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:14.653 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:14.654 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:59:14.655 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:14.655 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:59:14.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 27.6965ms
2025-01-22 11:59:14.656 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:59:14.657 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:14.661 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:59:14.6613895Z"
2025-01-22 11:59:14.661 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:59:14.662 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:14.6624838Z"
2025-01-22 11:59:14.664 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:14.664 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:14.6649211Z"
2025-01-22 11:59:14.665 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:14.671 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:59:14.671 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:59:14.673 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:59:14.6730701Z"
2025-01-22 11:59:14.674 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:59:14.675 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:59:14.6750405Z"
2025-01-22 11:59:14.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:59:14.676 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:59:14.677 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.163ms
2025-01-22 11:59:14.677 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.0331ms
2025-01-22 11:59:14.678 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:14.679 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:14.680 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:59:14.681 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 34.4987ms
2025-01-22 11:59:14.682 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 33.3034ms
2025-01-22 11:59:18.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:59:18.015 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:59:18.017 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:59:18.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.0949ms
2025-01-22 11:59:18.094 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:59:18.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:18.099 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 4.9598ms
2025-01-22 11:59:18.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:59:18.103 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:18.104 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:59:18.105 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:59:18.108 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:18.1084518Z"
2025-01-22 11:59:18.109 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:18.1094563Z"
2025-01-22 11:59:18.110 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:18.1101983Z"
2025-01-22 11:59:18.115 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:59:18.119 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:18.1195028Z"
2025-01-22 11:59:18.120 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:18.1204204Z"
2025-01-22 11:59:18.121 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:18.1211315Z"
2025-01-22 11:59:18.122 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:59:18.124 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.9367ms
2025-01-22 11:59:18.125 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:59:18.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 24.8143ms
2025-01-22 11:59:19.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:59:19.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:59:19.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:59:19.287 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:19.289 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:19.291 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:19.292 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:59:19.293 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:59:19.294 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:19.294 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:59:19.296 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:19.296 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:59:19.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 13.6908ms
2025-01-22 11:59:19.298 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:59:19.301 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:59:19.3015168Z"
2025-01-22 11:59:19.305 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:19.306 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:19.3063949Z"
2025-01-22 11:59:19.306 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:19.307 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:19.3076757Z"
2025-01-22 11:59:19.313 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:59:19.314 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:59:19.316 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:59:19.318 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:59:19.3182633Z"
2025-01-22 11:59:19.318 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:59:19.319 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:59:19.3198375Z"
2025-01-22 11:59:19.321 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.3769ms
2025-01-22 11:59:19.321 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:59:19.322 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:19.323 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 22.866ms
2025-01-22 11:59:19.324 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:59:19.325 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:19.325 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 41.4824ms
2025-01-22 11:59:19.326 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 42.0652ms
2025-01-22 11:59:30.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:59:30.631 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 11:59:30.632 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:59:30.633 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.7958ms
2025-01-22 11:59:30.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 11:59:30.869 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:30.869 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.9959ms
2025-01-22 11:59:30.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 11:59:30.874 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:30.876 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:59:30.877 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 11:59:30.880 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:30.8799969Z"
2025-01-22 11:59:30.880 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:30.8808985Z"
2025-01-22 11:59:30.881 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T09:59:30.8817116Z"
2025-01-22 11:59:30.887 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 11:59:30.889 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:30.8890384Z"
2025-01-22 11:59:30.889 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:30.8895982Z"
2025-01-22 11:59:30.890 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T09:59:30.8902554Z"
2025-01-22 11:59:30.891 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:59:30.893 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.308ms
2025-01-22 11:59:30.895 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 11:59:30.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 23.676ms
2025-01-22 11:59:34.399 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 11:59:34.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 11:59:34.399 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 11:59:34.402 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:34.404 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:34.405 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:34.406 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.8235ms
2025-01-22 11:59:34.407 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 11:59:34.407 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 7.8245ms
2025-01-22 11:59:34.409 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 11:59:34.410 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 11:59:34.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 11:59:34.414 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:34.414 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 15.1407ms
2025-01-22 11:59:34.416 +02:00 [INF] CORS policy execution successful.
2025-01-22 11:59:34.417 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 11:59:34.420 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:34.421 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:34.422 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 11:59:34.422 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 11:59:34.424 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T09:59:34.4246495Z"
2025-01-22 11:59:34.426 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:34.426 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:34.4268683Z"
2025-01-22 11:59:34.427 +02:00 [INF] Fetching all donators.
2025-01-22 11:59:34.428 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T09:59:34.4284354Z"
2025-01-22 11:59:34.432 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 11:59:34.435 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 11:59:34.435 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 11:59:34.436 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T09:59:34.4368554Z"
2025-01-22 11:59:34.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 11:59:34.438 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T09:59:34.4381265Z"
2025-01-22 11:59:34.439 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.3502ms
2025-01-22 11:59:34.439 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 11:59:34.440 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 11:59:34.441 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.4168ms
2025-01-22 11:59:34.442 +02:00 [INF] Outgoing Response: 200
2025-01-22 11:59:34.443 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 11:59:34.443 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 34.1979ms
2025-01-22 11:59:34.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 32.2831ms
2025-01-22 12:00:33.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:33.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:33.973 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:33.977 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:33.978 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:33.981 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:33.982 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:33.983 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:33.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 13.8606ms
2025-01-22 12:00:33.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 16.4237ms
2025-01-22 12:00:33.984 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:33.994 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 21.2107ms
2025-01-22 12:00:34.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:34.040 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:34.041 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:34.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.4605ms
2025-01-22 12:00:34.080 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:34.083 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:34.084 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:34.086 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.3567ms
2025-01-22 12:00:34.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:34.221 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:34.222 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.8904ms
2025-01-22 12:00:34.225 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:00:34.227 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:34.228 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.228 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:00:34.232 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.2323704Z"
2025-01-22 12:00:34.233 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.2335753Z"
2025-01-22 12:00:34.234 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.2346687Z"
2025-01-22 12:00:34.241 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:00:34.244 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.2446677Z"
2025-01-22 12:00:34.245 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.2455010Z"
2025-01-22 12:00:34.246 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.2464669Z"
2025-01-22 12:00:34.247 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:34.249 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 17.5417ms
2025-01-22 12:00:34.250 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 26.8968ms
2025-01-22 12:00:34.473 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:00:34.478 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:34.479 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.480 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:00:34.483 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.4834303Z"
2025-01-22 12:00:34.484 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.4847992Z"
2025-01-22 12:00:34.485 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.4855880Z"
2025-01-22 12:00:34.490 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:00:34.503 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.5032873Z"
2025-01-22 12:00:34.504 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.5044513Z"
2025-01-22 12:00:34.505 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.5056272Z"
2025-01-22 12:00:34.507 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:34.510 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 26.7895ms
2025-01-22 12:00:34.511 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.513 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 39.2855ms
2025-01-22 12:00:34.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:00:34.640 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:34.642 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.644 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:00:34.646 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.6466116Z"
2025-01-22 12:00:34.648 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.6481453Z"
2025-01-22 12:00:34.649 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:34.6495002Z"
2025-01-22 12:00:34.657 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:00:34.662 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.6621143Z"
2025-01-22 12:00:34.663 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.6634140Z"
2025-01-22 12:00:34.665 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:34.6651323Z"
2025-01-22 12:00:34.666 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:34.669 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 22.7899ms
2025-01-22 12:00:34.670 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:34.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 35.9622ms
2025-01-22 12:00:36.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:36.325 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:36.326 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:36.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.3489ms
2025-01-22 12:00:36.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:00:36.566 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:36.567 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:36.568 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:00:36.570 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:36.5707772Z"
2025-01-22 12:00:36.571 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:36.5718397Z"
2025-01-22 12:00:36.572 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:36.5726609Z"
2025-01-22 12:00:36.577 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:00:36.582 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:36.5822533Z"
2025-01-22 12:00:36.583 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:36.5832102Z"
2025-01-22 12:00:36.584 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:36.5840059Z"
2025-01-22 12:00:36.584 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:36.586 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.2833ms
2025-01-22 12:00:36.588 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:36.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 27.1638ms
2025-01-22 12:00:38.319 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:00:38.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:00:38.319 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 12:00:38.321 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:38.323 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:38.324 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:38.325 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.3187ms
2025-01-22 12:00:38.326 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 7.226ms
2025-01-22 12:00:38.326 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:00:38.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:00:38.334 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 12:00:38.335 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:38.336 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:38.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:38.338 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 19.3831ms
2025-01-22 12:00:38.339 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:00:38.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:00:38.345 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:00:38.345 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:00:38.346 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:00:38.349 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T10:00:38.3492533Z"
2025-01-22 12:00:38.350 +02:00 [INF] Fetching all donators.
2025-01-22 12:00:38.351 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:00:38.3510999Z"
2025-01-22 12:00:38.351 +02:00 [INF] Fetching all donators.
2025-01-22 12:00:38.352 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:00:38.3523103Z"
2025-01-22 12:00:38.355 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:00:38.357 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:00:38.357 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:00:38.360 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T10:00:38.3603055Z"
2025-01-22 12:00:38.361 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:38.361 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T10:00:38.3619681Z"
2025-01-22 12:00:38.363 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.4763ms
2025-01-22 12:00:38.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:00:38.365 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:00:38.367 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 18.8358ms
2025-01-22 12:00:38.368 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:00:38.370 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:00:38.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 38.7036ms
2025-01-22 12:00:38.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 37.8902ms
2025-01-22 12:00:46.058 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:46.060 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:00:46.062 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:46.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.9049ms
2025-01-22 12:00:46.275 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:00:46.278 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:46.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.9293ms
2025-01-22 12:00:46.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:00:46.284 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:46.286 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:46.287 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:00:46.290 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:46.2901245Z"
2025-01-22 12:00:46.290 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:46.2908066Z"
2025-01-22 12:00:46.291 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:00:46.2915980Z"
2025-01-22 12:00:46.297 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:00:46.299 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:46.2996360Z"
2025-01-22 12:00:46.300 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:46.3001864Z"
2025-01-22 12:00:46.300 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:00:46.3007633Z"
2025-01-22 12:00:46.301 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:46.303 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.6296ms
2025-01-22 12:00:46.304 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:00:46.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 23.2306ms
2025-01-22 12:00:47.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:00:47.935 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:00:47.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 12:00:47.937 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:47.939 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:47.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:47.941 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.0829ms
2025-01-22 12:00:47.942 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:00:47.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 7.1039ms
2025-01-22 12:00:47.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:00:47.949 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:00:47.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 12:00:47.952 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:47.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 17.9113ms
2025-01-22 12:00:47.955 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:00:47.955 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:00:47.959 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:00:47.960 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:00:47.960 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:00:47.961 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:00:47.963 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T10:00:47.9634410Z"
2025-01-22 12:00:47.965 +02:00 [INF] Fetching all donators.
2025-01-22 12:00:47.965 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:00:47.9659426Z"
2025-01-22 12:00:47.966 +02:00 [INF] Fetching all donators.
2025-01-22 12:00:47.967 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:00:47.9673220Z"
2025-01-22 12:00:47.971 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:00:47.973 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:00:47.974 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:00:47.976 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T10:00:47.9762275Z"
2025-01-22 12:00:47.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:00:47.977 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T10:00:47.9773645Z"
2025-01-22 12:00:47.978 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.472ms
2025-01-22 12:00:47.979 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:00:47.980 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:00:47.981 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 18.4181ms
2025-01-22 12:00:47.982 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:00:47.983 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:00:47.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 35.7853ms
2025-01-22 12:00:47.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 34.1622ms
2025-01-22 12:01:08.762 +02:00 [INF] Starting up the application
2025-01-22 12:01:09.442 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:01:10.148 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:01:10.199 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:01:10.332 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:01:10.334 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:01:10.334 +02:00 [INF] Hosting environment: Development
2025-01-22 12:01:10.335 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:01:10.478 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:01:10.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 132.7764ms
2025-01-22 12:01:10.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:01:10.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:01:10.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:01:10.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 5.879ms
2025-01-22 12:01:10.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 8.614ms
2025-01-22 12:01:10.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.2508ms
2025-01-22 12:01:10.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:01:10.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.5867ms
2025-01-22 12:01:12.870 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:01:12.870 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:01:12.870 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 12:01:12.876 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:12.876 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:12.876 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:12.879 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.7522ms
2025-01-22 12:01:12.879 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 8.7095ms
2025-01-22 12:01:12.879 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:01:12.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 12:01:12.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:01:12.888 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:12.889 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:12.905 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:01:12.941 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:01:12.944 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:01:12.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 401 0 null 74.7071ms
2025-01-22 12:01:12.964 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:12.964 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:01:12.977 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:01:12.977 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:01:13.074 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:13.075 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:13.078 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T10:01:13.0781615Z"
2025-01-22 12:01:13.080 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:01:13.0802046Z"
2025-01-22 12:01:13.082 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:01:13.0821306Z"
2025-01-22 12:01:13.122 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:01:13.136 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:01:13.139 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:01:13.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:01:13.151 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T10:01:13.1512317Z"
2025-01-22 12:01:13.152 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T10:01:13.1522558Z"
2025-01-22 12:01:13.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:01:13.166 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 183.6678ms
2025-01-22 12:01:13.166 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 185.39ms
2025-01-22 12:01:13.168 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:13.168 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:01:13.170 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:01:13.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 289.7564ms
2025-01-22 12:01:13.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 287.9247ms
2025-01-22 12:01:35.666 +02:00 [INF] Starting up the application
2025-01-22 12:01:36.388 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:01:37.171 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:01:37.232 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:01:37.401 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:01:37.404 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:01:37.404 +02:00 [INF] Hosting environment: Development
2025-01-22 12:01:37.405 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:01:37.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:01:38.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 152.232ms
2025-01-22 12:01:40.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:01:40.314 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:01:40.355 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:01:40.357 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:01:40.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 49.149ms
2025-01-22 12:01:40.607 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:01:40.616 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:40.620 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 12.7365ms
2025-01-22 12:01:40.625 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:01:40.630 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:40.722 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:01:40.742 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:01:40.839 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:01:40.8392612Z"
2025-01-22 12:01:40.841 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:01:40.8415500Z"
2025-01-22 12:01:40.843 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:01:40.8431051Z"
2025-01-22 12:01:40.937 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:01:40.940 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:01:40.9404488Z"
2025-01-22 12:01:40.941 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:01:40.9411389Z"
2025-01-22 12:01:40.941 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:01:40.9416683Z"
2025-01-22 12:01:40.946 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:01:40.971 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 224.7412ms
2025-01-22 12:01:40.973 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:01:40.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 350.6775ms
2025-01-22 12:01:42.240 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:01:42.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:01:42.246 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 12:01:42.248 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:42.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:42.250 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:42.251 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.9646ms
2025-01-22 12:01:42.252 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 6.5948ms
2025-01-22 12:01:42.252 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:01:42.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:01:42.260 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 12:01:42.262 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:42.264 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:42.264 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:01:42.265 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:01:42.267 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:01:42.274 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:01:42.279 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:42.281 +02:00 [INF] Starting GetByIdAsync with ID 2 at "2025-01-22T10:01:42.2814197Z"
2025-01-22 12:01:42.284 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:01:42.2841848Z"
2025-01-22 12:01:42.284 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:01:42.286 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:01:42.286 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:01:42.2865521Z"
2025-01-22 12:01:42.290 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:42.291 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:42.303 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:01:42.304 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:01:42.308 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 40.5226ms
2025-01-22 12:01:42.309 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:01:42.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 67.8243ms
2025-01-22 12:01:42.314 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:01:42.316 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:01:42.323 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:01:42.323 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:01:42.329 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 2 at "2025-01-22T10:01:42.3297728Z"
2025-01-22 12:01:42.331 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 42.3675ms
2025-01-22 12:01:42.332 +02:00 [INF] GetByIdAsync completed successfully with ID 2 at "2025-01-22T10:01:42.3319747Z"
2025-01-22 12:01:42.333 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:42.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:01:42.336 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:01:42.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 78.8373ms
2025-01-22 12:01:42.338 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 62.383ms
2025-01-22 12:01:42.340 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:01:42.340 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 80.8415ms
2025-01-22 12:01:57.991 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:01:57.993 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:57.995 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.6374ms
2025-01-22 12:01:57.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:01:57.999 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:01:57.999 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:01:58.001 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:58.002 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:01:58.004 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:58.005 +02:00 [INF] Fetching all donators.
2025-01-22 12:01:58.011 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:01:58.014 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:01:58.015 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:01:58.016 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 12.6784ms
2025-01-22 12:01:58.017 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:01:58.017 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:01:58.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 21.0707ms
2025-01-22 12:02:00.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - null null
2025-01-22 12:02:00.075 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:00.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - 204 null null 2.8996ms
2025-01-22 12:02:00.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/2 - application/json null
2025-01-22 12:02:00.081 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:00.082 +02:00 [INF] Incoming Request: GET /api/Donator/2
2025-01-22 12:02:00.083 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-22 12:02:00.089 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 12:02:00.095 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 12:02:00.096 +02:00 [INF] Fetching donator with ID: 2
2025-01-22 12:02:00.105 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 12:02:00.107 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-22 12:02:00.108 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 17.9651ms
2025-01-22 12:02:00.109 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-22 12:02:00.109 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:02:00.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/2 - 200 null application/json; charset=utf-8 31.5633ms
2025-01-22 12:02:01.852 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:02:01.853 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:01.854 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.1798ms
2025-01-22 12:02:01.856 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 77
2025-01-22 12:02:01.858 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:01.858 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-22 12:02:01.859 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-22 12:02:01.863 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-22 12:02:01.897 +02:00 [INF] Updating donator with ID: 2
2025-01-22 12:02:01.900 +02:00 [INF] Updating donator with ID: 2
2025-01-22 12:02:01.981 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-22 12:02:01.994 +02:00 [INF] Successfully updated donator with ID: 2
2025-01-22 12:02:01.995 +02:00 [INF] Donator with ID 2 updated successfully.
2025-01-22 12:02:01.998 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-22 12:02:01.999 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 133.8548ms
2025-01-22 12:02:02.000 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-22 12:02:02.001 +02:00 [INF] Outgoing Response: 204
2025-01-22 12:02:02.001 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 145.1491ms
2025-01-22 12:02:03.138 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:02:03.140 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:03.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0082ms
2025-01-22 12:02:03.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:02:03.146 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:03.147 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:03.148 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:02:03.152 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:03.1524066Z"
2025-01-22 12:02:03.153 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:03.1530834Z"
2025-01-22 12:02:03.153 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:03.1536719Z"
2025-01-22 12:02:03.160 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:02:03.163 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:03.1631376Z"
2025-01-22 12:02:03.164 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:03.1640413Z"
2025-01-22 12:02:03.164 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:03.1649191Z"
2025-01-22 12:02:03.165 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:03.166 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.7946ms
2025-01-22 12:02:03.167 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:03.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 24.7604ms
2025-01-22 12:02:04.140 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:02:04.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:04.143 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.3747ms
2025-01-22 12:02:04.146 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:02:04.148 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:04.149 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:02:04.153 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:02:04.155 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:02:04.157 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:02:04.1569818Z"
2025-01-22 12:02:04.158 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:02:04.1586817Z"
2025-01-22 12:02:04.176 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:02:04.178 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:02:04.1784877Z"
2025-01-22 12:02:04.179 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:02:04.1792274Z"
2025-01-22 12:02:04.180 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:02:04.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:04.182 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 27.4829ms
2025-01-22 12:02:04.183 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:02:04.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 37.7953ms
2025-01-22 12:02:04.897 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - null null
2025-01-22 12:02:04.902 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:04.903 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/2/buyers - 204 null null 5.985ms
2025-01-22 12:02:04.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - application/json null
2025-01-22 12:02:04.909 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:04.910 +02:00 [INF] Incoming Request: GET /api/User/2/buyers
2025-01-22 12:02:04.911 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:02:04.916 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:02:04.943 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:02:04.946 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:04.950 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 32.7827ms
2025-01-22 12:02:04.951 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:02:04.952 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:02:04.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/2/buyers - 200 null application/json; charset=utf-8 45.1697ms
2025-01-22 12:02:06.333 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - null null
2025-01-22 12:02:06.335 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:06.335 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/1/buyers - 204 null null 2.8796ms
2025-01-22 12:02:06.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - application/json null
2025-01-22 12:02:06.339 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:06.340 +02:00 [INF] Incoming Request: GET /api/User/1/buyers
2025-01-22 12:02:06.341 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:02:06.342 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:02:06.352 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:02:06.354 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:06.355 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 11.0248ms
2025-01-22 12:02:06.355 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:02:06.356 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:02:06.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/1/buyers - 200 null application/json; charset=utf-8 19.2105ms
2025-01-22 12:02:26.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:02:26.937 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:26.938 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.9922ms
2025-01-22 12:02:26.941 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:02:26.942 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:26.943 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:02:26.944 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:02:26.944 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:02:26.946 +02:00 [INF] Fetching all donators.
2025-01-22 12:02:26.947 +02:00 [INF] Fetching all donators.
2025-01-22 12:02:26.957 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:02:26.958 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:02:26.959 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:26.960 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.3587ms
2025-01-22 12:02:26.961 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:02:26.961 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:02:26.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 21.6177ms
2025-01-22 12:02:27.770 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:02:27.772 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:27.773 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0917ms
2025-01-22 12:02:27.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:02:27.777 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:27.778 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:27.779 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:02:27.782 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:27.7827598Z"
2025-01-22 12:02:27.783 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:27.7834506Z"
2025-01-22 12:02:27.784 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:27.7841117Z"
2025-01-22 12:02:27.787 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:02:27.789 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:27.7897278Z"
2025-01-22 12:02:27.790 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:27.7903203Z"
2025-01-22 12:02:27.790 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:27.7909413Z"
2025-01-22 12:02:27.791 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:27.792 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.6155ms
2025-01-22 12:02:27.793 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:27.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.4917ms
2025-01-22 12:02:44.506 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - null null
2025-01-22 12:02:44.508 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:44.508 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/1 - 204 null null 2.1723ms
2025-01-22 12:02:44.510 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/1 - application/json null
2025-01-22 12:02:44.512 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:44.513 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:02:44.516 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:02:44.519 +02:00 [INF] Starting DeleteGiftAsync with ID 1 at "2025-01-22T10:02:44.5195126Z"
2025-01-22 12:02:44.520 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 1 at "2025-01-22T10:02:44.5208920Z"
2025-01-22 12:02:44.522 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 1 at "2025-01-22T10:02:44.5228031Z"
2025-01-22 12:02:44.523 +02:00 [INF] Starting GetByIdAsync for Gift ID 1 at "2025-01-22T10:02:44.5235646Z"
2025-01-22 12:02:44.529 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:02:44.590 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 12:02:44.594 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 1 at "2025-01-22T10:02:44.5947295Z"
2025-01-22 12:02:44.595 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 1 at "2025-01-22T10:02:44.5956602Z"
2025-01-22 12:02:44.596 +02:00 [INF] DeleteGiftAsync completed successfully with ID 1 at "2025-01-22T10:02:44.5963933Z"
2025-01-22 12:02:44.597 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:02:44.606 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 88.2655ms
2025-01-22 12:02:44.607 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:02:44.608 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/1 - 200 null application/json; charset=utf-8 97.5853ms
2025-01-22 12:02:44.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:02:44.612 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:44.612 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.0069ms
2025-01-22 12:02:44.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:02:44.616 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:44.617 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:44.618 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:02:44.619 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:44.6197662Z"
2025-01-22 12:02:44.620 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:44.6203192Z"
2025-01-22 12:02:44.620 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:44.6208931Z"
2025-01-22 12:02:44.627 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:02:44.628 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:44.6289161Z"
2025-01-22 12:02:44.629 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:44.6296480Z"
2025-01-22 12:02:44.630 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:44.6304798Z"
2025-01-22 12:02:44.631 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:44.632 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.6266ms
2025-01-22 12:02:44.633 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:44.633 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.5785ms
2025-01-22 12:02:46.595 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - null null
2025-01-22 12:02:46.598 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:46.599 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/2 - 204 null null 3.4973ms
2025-01-22 12:02:46.601 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/2 - application/json null
2025-01-22 12:02:46.602 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:46.603 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:02:46.604 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:02:46.606 +02:00 [INF] Starting DeleteGiftAsync with ID 2 at "2025-01-22T10:02:46.6061177Z"
2025-01-22 12:02:46.606 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 2 at "2025-01-22T10:02:46.6068323Z"
2025-01-22 12:02:46.607 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 2 at "2025-01-22T10:02:46.6078432Z"
2025-01-22 12:02:46.608 +02:00 [INF] Starting GetByIdAsync for Gift ID 2 at "2025-01-22T10:02:46.6085372Z"
2025-01-22 12:02:46.613 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:02:46.622 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 12:02:46.623 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 2 at "2025-01-22T10:02:46.6237172Z"
2025-01-22 12:02:46.624 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 2 at "2025-01-22T10:02:46.6244248Z"
2025-01-22 12:02:46.625 +02:00 [INF] DeleteGiftAsync completed successfully with ID 2 at "2025-01-22T10:02:46.6251416Z"
2025-01-22 12:02:46.625 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:02:46.626 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 21.0882ms
2025-01-22 12:02:46.627 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:02:46.628 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/2 - 200 null application/json; charset=utf-8 27.0251ms
2025-01-22 12:02:46.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:02:46.633 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:46.634 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:46.634 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:02:46.636 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:46.6364282Z"
2025-01-22 12:02:46.636 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:46.6369825Z"
2025-01-22 12:02:46.637 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:02:46.6375754Z"
2025-01-22 12:02:46.640 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:02:46.642 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:46.6424048Z"
2025-01-22 12:02:46.642 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:46.6429469Z"
2025-01-22 12:02:46.643 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:02:46.6435264Z"
2025-01-22 12:02:46.644 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:46.645 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 8.8433ms
2025-01-22 12:02:46.645 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:02:46.646 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.4186ms
2025-01-22 12:02:52.682 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:02:52.683 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 12:02:52.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:02:52.687 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:52.689 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:52.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:52.691 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.6518ms
2025-01-22 12:02:52.692 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 9.2024ms
2025-01-22 12:02:52.693 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:02:52.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:02:52.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 12:02:52.702 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:02:52.704 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:52.705 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:02:52.707 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:02:52.707 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:02:52.709 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:02:52.709 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:02:52.710 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:02:52.711 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:02:52.712 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-22T10:02:52.7124854Z"
2025-01-22 12:02:52.713 +02:00 [INF] Fetching all donators.
2025-01-22 12:02:52.716 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:02:52.716 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:02:52.7167566Z"
2025-01-22 12:02:52.717 +02:00 [INF] Fetching all donators.
2025-01-22 12:02:52.718 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:52.719 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:02:52.7193550Z"
2025-01-22 12:02:52.722 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 15.3344ms
2025-01-22 12:02:52.725 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:02:52.726 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:02:52.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 44.2028ms
2025-01-22 12:02:52.727 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:02:52.728 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:02:52.732 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-22T10:02:52.7329056Z"
2025-01-22 12:02:52.733 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:02:52.734 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-22T10:02:52.7342393Z"
2025-01-22 12:02:52.735 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 21.5304ms
2025-01-22 12:02:52.736 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:02:52.737 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:02:52.738 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 25.8659ms
2025-01-22 12:02:52.738 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:02:52.739 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:02:52.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 40.6997ms
2025-01-22 12:02:52.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 39.5901ms
2025-01-22 12:03:01.162 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:03:01.165 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:01.166 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 3.7134ms
2025-01-22 12:03:01.169 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 193
2025-01-22 12:03:01.171 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:01.172 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:03:01.176 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:03:01.184 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T10:03:01.1842337Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:03:01.186 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 3 at "2025-01-22T10:03:01.1864390Z"
2025-01-22 12:03:01.196 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:03:01.199 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:03:01.213 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:03:01.224 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 12:03:01.226 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 3 at "2025-01-22T10:03:01.2261566Z"
2025-01-22 12:03:01.226 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T10:03:01.2269433Z"
2025-01-22 12:03:01.227 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:03:01.228 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 51.1086ms
2025-01-22 12:03:01.229 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:03:01.230 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 61.3246ms
2025-01-22 12:03:01.315 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:03:01.317 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:01.318 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1587ms
2025-01-22 12:03:01.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:03:01.322 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:01.323 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:01.323 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:01.325 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:01.3252801Z"
2025-01-22 12:03:01.325 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:01.3259663Z"
2025-01-22 12:03:01.326 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:01.3266842Z"
2025-01-22 12:03:01.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:03:01.331 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:01.3318803Z"
2025-01-22 12:03:01.332 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:01.3324573Z"
2025-01-22 12:03:01.333 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:01.3330853Z"
2025-01-22 12:03:01.333 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:01.334 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.5982ms
2025-01-22 12:03:01.335 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:01.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.8395ms
2025-01-22 12:03:04.849 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:03:04.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:03:04.850 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 12:03:04.852 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:04.854 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:04.855 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:04.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.2376ms
2025-01-22 12:03:04.857 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:03:04.857 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 7.3405ms
2025-01-22 12:03:04.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:03:04.860 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:03:04.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 12:03:04.863 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:04.866 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:04.867 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:03:04.869 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:03:04.870 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:04.870 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:03:04.870 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:03:04.871 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:03:04.873 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:03:04.874 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T10:03:04.8745177Z"
2025-01-22 12:03:04.875 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:04.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:04.876 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T10:03:04.8768345Z"
2025-01-22 12:03:04.877 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:04.878 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 13.036ms
2025-01-22 12:03:04.878 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T10:03:04.8789729Z"
2025-01-22 12:03:04.880 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:03:04.882 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:03:04.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 33.0568ms
2025-01-22 12:03:04.886 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:03:04.886 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:03:04.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:04.892 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T10:03:04.8923107Z"
2025-01-22 12:03:04.893 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 17.6845ms
2025-01-22 12:03:04.893 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T10:03:04.8939403Z"
2025-01-22 12:03:04.894 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:04.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:03:04.896 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:03:04.897 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 23.6659ms
2025-01-22 12:03:04.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 38.4706ms
2025-01-22 12:03:04.899 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:03:04.903 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 40.8048ms
2025-01-22 12:03:10.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:03:10.436 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:10.437 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.3701ms
2025-01-22 12:03:10.439 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 192
2025-01-22 12:03:10.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:10.441 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:03:10.442 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:03:10.444 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T10:03:10.4447401Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:03:10.445 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 9 at "2025-01-22T10:03:10.4454881Z"
2025-01-22 12:03:10.450 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:03:10.452 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:03:10.457 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:03:10.462 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 12:03:10.464 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 9 at "2025-01-22T10:03:10.4640778Z"
2025-01-22 12:03:10.464 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T10:03:10.4648418Z"
2025-01-22 12:03:10.465 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:03:10.466 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 22.6912ms
2025-01-22 12:03:10.467 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:03:10.468 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 29.0791ms
2025-01-22 12:03:10.553 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:03:10.555 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:10.556 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.2405ms
2025-01-22 12:03:10.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:03:10.561 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:10.562 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:10.563 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:10.565 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:10.5657976Z"
2025-01-22 12:03:10.566 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:10.5663973Z"
2025-01-22 12:03:10.566 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:10.5669872Z"
2025-01-22 12:03:10.570 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:03:10.571 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:10.5718409Z"
2025-01-22 12:03:10.572 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:10.5724127Z"
2025-01-22 12:03:10.572 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:10.5729940Z"
2025-01-22 12:03:10.573 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:10.574 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 8.9209ms
2025-01-22 12:03:10.575 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:10.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.6118ms
2025-01-22 12:03:29.642 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:03:29.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:03:29.644 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:29.646 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:29.647 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.9069ms
2025-01-22 12:03:29.648 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:03:29.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:03:29.651 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:03:29.653 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:29.655 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:03:29.658 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:29.659 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:03:29.660 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:03:29.660 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:29.661 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:03:29.662 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:29.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:29.665 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 10.664ms
2025-01-22 12:03:29.665 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:03:29.666 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:03:29.668 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:03:29.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 26.4515ms
2025-01-22 12:03:29.670 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:29.673 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 12.7937ms
2025-01-22 12:03:29.673 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:29.674 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:03:29.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 24.7781ms
2025-01-22 12:03:42.186 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:03:42.188 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:42.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.2019ms
2025-01-22 12:03:42.190 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 173
2025-01-22 12:03:42.192 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:42.193 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:03:42.197 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:03:42.201 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T10:03:42.2010190Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:03:42.202 +02:00 [INF] Starting CreateGiftAsync for GiftDto: tinco at "2025-01-22T10:03:42.2028747Z"
2025-01-22 12:03:42.204 +02:00 [INF] Fetching donator by name: david
2025-01-22 12:03:42.212 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 12:03:42.217 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:03:42.219 +02:00 [INF] Successfully retrieved category with name: electric
2025-01-22 12:03:42.246 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 12:03:42.251 +02:00 [INF] Starting CreateGiftAsync for Gift: tinco at "2025-01-22T10:03:42.2511194Z"
2025-01-22 12:03:42.291 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 12:03:42.304 +02:00 [INF] CreateGiftAsync completed successfully for Gift: tinco at "2025-01-22T10:03:42.3047910Z"
2025-01-22 12:03:42.305 +02:00 [INF] CreateGiftAsync completed successfully for Gift: tinco at "2025-01-22T10:03:42.3056016Z"
2025-01-22 12:03:42.306 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-22T10:03:42.3063879Z"
2025-01-22 12:03:42.307 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:03:42.307 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 109.0082ms
2025-01-22 12:03:42.308 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:03:42.309 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 118.5102ms
2025-01-22 12:03:42.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:03:42.404 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:42.405 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.4901ms
2025-01-22 12:03:42.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:03:42.409 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:42.410 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:42.410 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:42.412 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:42.4122456Z"
2025-01-22 12:03:42.412 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:42.4127839Z"
2025-01-22 12:03:42.413 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:42.4134923Z"
2025-01-22 12:03:42.418 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:03:42.420 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:42.4200170Z"
2025-01-22 12:03:42.420 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:42.4205744Z"
2025-01-22 12:03:42.421 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:42.4211543Z"
2025-01-22 12:03:42.421 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:42.422 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.6458ms
2025-01-22 12:03:42.423 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:42.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.615ms
2025-01-22 12:03:45.314 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:03:45.318 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:45.318 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.9937ms
2025-01-22 12:03:45.321 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:03:45.323 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:45.324 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:03:45.325 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:45.326 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:03:45.327 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:03:45.3275855Z"
2025-01-22 12:03:45.328 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:03:45.3282264Z"
2025-01-22 12:03:45.334 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:03:45.335 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:03:45.3359833Z"
2025-01-22 12:03:45.336 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:03:45.3366623Z"
2025-01-22 12:03:45.337 +02:00 [INF] Successfully retrieved 8 gifts with purchases.
2025-01-22 12:03:45.338 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:45.339 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 12.75ms
2025-01-22 12:03:45.340 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:03:45.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 19.8405ms
2025-01-22 12:03:46.452 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/10/buyers - null null
2025-01-22 12:03:46.454 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:46.455 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/10/buyers - 204 null null 3.0644ms
2025-01-22 12:03:46.458 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/10/buyers - application/json null
2025-01-22 12:03:46.459 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:46.460 +02:00 [INF] Incoming Request: GET /api/User/10/buyers
2025-01-22 12:03:46.461 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:03:46.461 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:03:46.472 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:03:46.475 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:46.476 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 12.9287ms
2025-01-22 12:03:46.477 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:03:46.478 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:03:46.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/10/buyers - 200 null application/json; charset=utf-8 20.8608ms
2025-01-22 12:03:48.550 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:03:48.552 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:48.553 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.199ms
2025-01-22 12:03:48.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:03:48.557 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:48.558 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:03:48.559 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:48.559 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:03:48.562 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:48.563 +02:00 [INF] Fetching all donators.
2025-01-22 12:03:48.568 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:03:48.570 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:03:48.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:48.571 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.2447ms
2025-01-22 12:03:48.572 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:03:48.572 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:03:48.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 17.2141ms
2025-01-22 12:03:49.801 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:03:49.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:49.803 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.5807ms
2025-01-22 12:03:49.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:03:49.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:49.808 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:49.809 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:49.810 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:49.8104314Z"
2025-01-22 12:03:49.810 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:49.8109475Z"
2025-01-22 12:03:49.811 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:03:49.8115090Z"
2025-01-22 12:03:49.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:03:49.816 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:49.8166359Z"
2025-01-22 12:03:49.817 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:49.8172164Z"
2025-01-22 12:03:49.817 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:03:49.8178187Z"
2025-01-22 12:03:49.818 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:49.819 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.108ms
2025-01-22 12:03:49.820 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:03:49.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.0434ms
2025-01-22 12:03:50.523 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:03:50.525 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:50.526 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.9749ms
2025-01-22 12:03:50.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:03:50.529 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:50.530 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:03:50.531 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:03:50.534 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:03:50.538 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:03:50.540 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:03:50.555 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:03:50.557 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:03:50.557 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:03:50.558 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:50.563 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 26.8141ms
2025-01-22 12:03:50.564 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:03:50.565 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:03:50.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 38.5192ms
2025-01-22 12:03:51.875 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:03:51.877 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:03:51.878 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:03:51.882 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:03:51.885 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:03:51.8852332Z"
2025-01-22 12:03:51.894 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:03:51.896 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:03:51.8962928Z"
2025-01-22 12:03:51.897 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:03:51.8970214Z"
2025-01-22 12:03:51.897 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:03:51.8976154Z"
2025-01-22 12:03:51.898 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:03:51.899 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 15.3405ms
2025-01-22 12:03:51.900 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:03:51.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 25.8653ms
2025-01-22 12:04:10.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:04:10.424 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:04:10.427 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:10.428 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:10.429 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:04:10.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.6916ms
2025-01-22 12:04:10.431 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:04:10.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:04:10.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:10.441 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:04:10.442 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:04:10.442 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:04:10.443 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:04:10.444 +02:00 [INF] Fetching all donators.
2025-01-22 12:04:10.445 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:04:10.446 +02:00 [INF] Fetching all donators.
2025-01-22 12:04:10.446 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:04:10.449 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 11.8743ms
2025-01-22 12:04:10.449 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:04:10.450 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:04:10.452 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:04:10.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 28.1452ms
2025-01-22 12:04:10.453 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:04:10.456 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 12.5521ms
2025-01-22 12:04:10.457 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:04:10.457 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:04:10.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 22.3819ms
2025-01-22 12:04:46.958 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:04:46.961 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:46.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 4.5811ms
2025-01-22 12:04:46.967 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 173
2025-01-22 12:04:46.968 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:46.970 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:04:46.970 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:04:46.972 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T10:04:46.9725389Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:04:46.973 +02:00 [INF] Starting CreateGiftAsync for GiftDto: kitchen at "2025-01-22T10:04:46.9732801Z"
2025-01-22 12:04:46.974 +02:00 [INF] Fetching donator by name: chaim
2025-01-22 12:04:46.980 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 12:04:46.984 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:04:46.985 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:04:46.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 12:04:46.990 +02:00 [INF] Starting CreateGiftAsync for Gift: kitchen at "2025-01-22T10:04:46.9905429Z"
2025-01-22 12:04:46.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 12:04:46.998 +02:00 [INF] CreateGiftAsync completed successfully for Gift: kitchen at "2025-01-22T10:04:46.9984005Z"
2025-01-22 12:04:46.999 +02:00 [INF] CreateGiftAsync completed successfully for Gift: kitchen at "2025-01-22T10:04:46.9991617Z"
2025-01-22 12:04:46.999 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-22T10:04:46.9999086Z"
2025-01-22 12:04:47.000 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:04:47.001 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 29.3932ms
2025-01-22 12:04:47.002 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:04:47.003 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 35.7427ms
2025-01-22 12:04:47.086 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:04:47.089 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:47.089 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.2933ms
2025-01-22 12:04:47.094 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:04:47.096 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:04:47.097 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:04:47.097 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:04:47.099 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:04:47.0997634Z"
2025-01-22 12:04:47.100 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:04:47.1005101Z"
2025-01-22 12:04:47.101 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:04:47.1011546Z"
2025-01-22 12:04:47.105 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:04:47.107 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:04:47.1070036Z"
2025-01-22 12:04:47.107 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:04:47.1075548Z"
2025-01-22 12:04:47.108 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:04:47.1081413Z"
2025-01-22 12:04:47.108 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:04:47.109 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.1313ms
2025-01-22 12:04:47.110 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:04:47.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.6693ms
2025-01-22 12:05:11.796 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:05:11.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:05:11.803 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/11 - null null
2025-01-22 12:05:11.806 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:11.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:11.809 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 13.7304ms
2025-01-22 12:05:11.816 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:05:11.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:11.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:05:11.820 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:05:11.821 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/11 - 204 null null 18.2642ms
2025-01-22 12:05:11.823 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:11.828 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/11 - application/json null
2025-01-22 12:05:11.828 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:05:11.829 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:05:11.830 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:11.831 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:05:11.833 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:05:11.833 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:05:11.834 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:05:11.835 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:11.835 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:05:11.837 +02:00 [INF] Fetching all donators.
2025-01-22 12:05:11.837 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 12.7033ms
2025-01-22 12:05:11.839 +02:00 [INF] Starting GetByIdAsync with ID 11 at "2025-01-22T10:05:11.8395599Z"
2025-01-22 12:05:11.839 +02:00 [INF] Fetching all donators.
2025-01-22 12:05:11.840 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:05:11.841 +02:00 [INF] Starting GetByIdAsync for Gift ID 11 at "2025-01-22T10:05:11.8414351Z"
2025-01-22 12:05:11.844 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:05:11.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 43.1908ms
2025-01-22 12:05:11.844 +02:00 [INF] Starting GetByIdAsync for Gift ID 11 at "2025-01-22T10:05:11.8445493Z"
2025-01-22 12:05:11.846 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:05:11.850 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:11.852 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.062ms
2025-01-22 12:05:11.852 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:05:11.853 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:05:11.854 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 11 at "2025-01-22T10:05:11.8548979Z"
2025-01-22 12:05:11.855 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:05:11.856 +02:00 [INF] GetByIdAsync completed successfully with ID 11 at "2025-01-22T10:05:11.8561562Z"
2025-01-22 12:05:11.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.2052ms
2025-01-22 12:05:11.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:05:11.860 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 21.242ms
2025-01-22 12:05:11.861 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:05:11.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/11 - 200 null application/json; charset=utf-8 34.0736ms
2025-01-22 12:05:39.321 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:05:39.326 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:39.326 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.3608ms
2025-01-22 12:05:39.331 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 195
2025-01-22 12:05:39.333 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:39.334 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:05:39.334 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:05:39.336 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-22T10:05:39.3364615Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:05:39.337 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 11 at "2025-01-22T10:05:39.3372124Z"
2025-01-22 12:05:39.343 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:05:39.345 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:05:39.347 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:05:39.352 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [Name] = @p0, [image] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-01-22 12:05:39.354 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 11 at "2025-01-22T10:05:39.3540703Z"
2025-01-22 12:05:39.354 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-22T10:05:39.3547536Z"
2025-01-22 12:05:39.355 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:05:39.356 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 20.1545ms
2025-01-22 12:05:39.357 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-22 12:05:39.358 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 26.2083ms
2025-01-22 12:05:39.438 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:05:39.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:39.441 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.8688ms
2025-01-22 12:05:39.443 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:05:39.445 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:39.446 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:05:39.447 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:05:39.449 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:05:39.4497982Z"
2025-01-22 12:05:39.450 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:05:39.4503668Z"
2025-01-22 12:05:39.453 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:05:39.4536372Z"
2025-01-22 12:05:39.457 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:05:39.458 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:05:39.4588703Z"
2025-01-22 12:05:39.459 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:05:39.4594303Z"
2025-01-22 12:05:39.460 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:05:39.4600130Z"
2025-01-22 12:05:39.460 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:39.461 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.993ms
2025-01-22 12:05:39.462 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:05:39.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.4219ms
2025-01-22 12:05:43.469 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:05:43.471 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:43.471 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.6849ms
2025-01-22 12:05:43.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:05:43.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:43.477 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:05:43.478 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:05:43.479 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:05:43.481 +02:00 [INF] Fetching all donators.
2025-01-22 12:05:43.482 +02:00 [INF] Fetching all donators.
2025-01-22 12:05:43.486 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:05:43.488 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:05:43.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:43.489 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.3363ms
2025-01-22 12:05:43.490 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:05:43.491 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:05:43.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.648ms
2025-01-22 12:05:44.085 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:05:44.087 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:44.087 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.6934ms
2025-01-22 12:05:44.090 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:05:44.091 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:44.092 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:05:44.092 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:05:44.094 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:05:44.094 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:05:44.0948411Z"
2025-01-22 12:05:44.095 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:05:44.0954664Z"
2025-01-22 12:05:44.101 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:05:44.102 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:05:44.1026266Z"
2025-01-22 12:05:44.103 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:05:44.1032351Z"
2025-01-22 12:05:44.103 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:05:44.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:44.106 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 11.9438ms
2025-01-22 12:05:44.107 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:05:44.108 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.0696ms
2025-01-22 12:05:45.844 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/11/buyers - null null
2025-01-22 12:05:45.846 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:45.847 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/11/buyers - 204 null null 2.9518ms
2025-01-22 12:05:45.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/11/buyers - application/json null
2025-01-22 12:05:45.851 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:05:45.851 +02:00 [INF] Incoming Request: GET /api/User/11/buyers
2025-01-22 12:05:45.852 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:05:45.853 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:05:45.862 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:05:45.865 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:05:45.866 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 11.7562ms
2025-01-22 12:05:45.867 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:05:45.868 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:05:45.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/11/buyers - 200 null application/json; charset=utf-8 18.6665ms
2025-01-22 12:06:57.446 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:06:57.448 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:06:57.449 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:06:57.450 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:06:57.4508873Z"
2025-01-22 12:06:57.456 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:06:57.458 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:06:57.4582258Z"
2025-01-22 12:06:57.458 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:06:57.4587881Z"
2025-01-22 12:06:57.459 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:06:57.4593710Z"
2025-01-22 12:06:57.460 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:06:57.460 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.2256ms
2025-01-22 12:06:57.461 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:06:57.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.7183ms
2025-01-22 12:07:02.018 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 12:07:02.019 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:07:02.020 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 2.3291ms
2025-01-22 12:07:02.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 12:07:02.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:07:02.027 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 12:07:02.031 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 12:07:02.037 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 12:07:02.040 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T10:07:02.0405159Z"
2025-01-22 12:07:02.053 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:07:02.055 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:07:02.0552054Z"
2025-01-22 12:07:02.055 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 12:07:02.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:07:02.057 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 24.7629ms
2025-01-22 12:07:02.058 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 12:07:02.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 34.6758ms
2025-01-22 12:07:30.594 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - null null
2025-01-22 12:07:30.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:07:30.600 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 204 null null 5.8813ms
2025-01-22 12:07:30.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 12:07:30.607 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:07:30.608 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 12:07:30.609 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 12:07:30.611 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 12:07:30.611 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T10:07:30.6117354Z"
2025-01-22 12:07:30.620 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:07:30.622 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:07:30.6220354Z"
2025-01-22 12:07:30.622 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 12:07:30.623 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:07:30.624 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 13.7086ms
2025-01-22 12:07:30.625 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 12:07:30.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 200 null application/json; charset=utf-8 22.8838ms
2025-01-22 12:09:47.272 +02:00 [INF] Starting up the application
2025-01-22 12:09:47.989 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:09:48.752 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:09:48.802 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:09:48.942 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:09:48.944 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:09:48.944 +02:00 [INF] Hosting environment: Development
2025-01-22 12:09:48.945 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:09:49.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:09:49.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 146.0832ms
2025-01-22 12:09:49.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:09:49.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:09:49.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.1154ms
2025-01-22 12:09:49.346 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:09:49.352 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.4999ms
2025-01-22 12:09:49.381 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3813ms
2025-01-22 12:09:49.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:09:49.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.9031ms
2025-01-22 12:09:56.915 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - null null
2025-01-22 12:09:56.920 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:09:56.922 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - 204 null null 7.585ms
2025-01-22 12:09:56.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=desc - application/json null
2025-01-22 12:09:56.927 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:09:56.929 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:09:57.041 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 12:09:57.064 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 12:09:57.203 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: desc
2025-01-22 12:10:06.583 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: desc at "2025-01-22T10:10:06.5774235Z"
2025-01-22 12:10:21.871 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:10:48.268 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:12:47.469 +02:00 [INF] Starting up the application
2025-01-22 12:12:48.249 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:12:49.095 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:12:49.156 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:12:49.325 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:12:49.328 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:12:49.328 +02:00 [INF] Hosting environment: Development
2025-01-22 12:12:49.329 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:12:49.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:12:49.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 155.7758ms
2025-01-22 12:12:49.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:12:49.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:12:49.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:12:49.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 19.333ms
2025-01-22 12:12:49.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 18.4904ms
2025-01-22 12:12:49.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6127ms
2025-01-22 12:12:49.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:12:49.860 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.0927ms
2025-01-22 12:24:02.173 +02:00 [INF] Starting up the application
2025-01-22 12:24:02.855 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:24:03.546 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:24:03.597 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:24:03.731 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:24:03.733 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:24:03.733 +02:00 [INF] Hosting environment: Development
2025-01-22 12:24:03.734 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:24:04.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:24:04.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 131.5602ms
2025-01-22 12:24:04.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:24:04.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:24:04.146 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:24:04.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.9082ms
2025-01-22 12:24:04.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.9057ms
2025-01-22 12:24:04.181 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.9674ms
2025-01-22 12:24:04.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:24:04.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.6306ms
2025-01-22 12:24:08.970 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:24:08.976 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:08.978 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.2714ms
2025-01-22 12:24:08.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:24:08.983 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:08.984 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:24:08.996 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:24:09.074 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:09.085 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:24:09.089 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:09.091 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:09.162 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:24:09.165 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:09.166 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:09.171 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:09.187 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 98.5882ms
2025-01-22 12:24:09.188 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:09.189 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:09.191 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 211.5829ms
2025-01-22 12:24:10.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:10.935 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:10.939 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:11.049 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:11.0488843Z"
2025-01-22 12:24:11.070 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:11.099 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:11.0996222Z"
2025-01-22 12:24:11.101 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:11.1009082Z"
2025-01-22 12:24:11.101 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:11.1016408Z"
2025-01-22 12:24:11.102 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:11.120 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 178.8534ms
2025-01-22 12:24:11.121 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:11.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 193.104ms
2025-01-22 12:24:15.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:15.205 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:15.208 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:15.209 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:15.211 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:15.2114537Z"
2025-01-22 12:24:15.215 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:15.219 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:15.2190662Z"
2025-01-22 12:24:15.219 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:15.2197385Z"
2025-01-22 12:24:15.220 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:15.2203688Z"
2025-01-22 12:24:15.221 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:15.228 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 18.0312ms
2025-01-22 12:24:15.229 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:15.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 26.9686ms
2025-01-22 12:24:15.802 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:24:15.804 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:15.805 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.9387ms
2025-01-22 12:24:15.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:24:15.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:15.812 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:15.816 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:15.822 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:15.8228153Z"
2025-01-22 12:24:15.824 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:15.8241274Z"
2025-01-22 12:24:15.826 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:15.8260516Z"
2025-01-22 12:24:15.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:24:15.868 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:15.8682424Z"
2025-01-22 12:24:15.868 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:15.8689371Z"
2025-01-22 12:24:15.869 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:15.8695168Z"
2025-01-22 12:24:15.870 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:15.874 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 56.1105ms
2025-01-22 12:24:15.875 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:15.876 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 68.5514ms
2025-01-22 12:24:16.207 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:24:16.210 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:16.211 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.4014ms
2025-01-22 12:24:16.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:24:16.216 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:16.218 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:24:16.220 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:16.220 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:24:16.222 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:16.223 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:16.230 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:24:16.232 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:16.232 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:16.233 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:16.234 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 12.1478ms
2025-01-22 12:24:16.235 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:16.236 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:16.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 23.1583ms
2025-01-22 12:24:16.515 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:16.517 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:16.518 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:16.520 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:16.522 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:16.5221709Z"
2025-01-22 12:24:16.525 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:16.527 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:16.5278137Z"
2025-01-22 12:24:16.528 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:16.5284068Z"
2025-01-22 12:24:16.529 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:16.5289950Z"
2025-01-22 12:24:16.529 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:16.531 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.4799ms
2025-01-22 12:24:16.532 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:16.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.5429ms
2025-01-22 12:24:22.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:24:22.252 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:22.253 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.3198ms
2025-01-22 12:24:22.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:24:22.257 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:22.258 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:24:22.259 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:22.259 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:24:22.263 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:22.264 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:22.271 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:24:22.272 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:22.273 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:22.274 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:22.274 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 12.5216ms
2025-01-22 12:24:22.276 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:22.277 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:22.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 22.4678ms
2025-01-22 12:24:22.778 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:24:22.780 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:22.782 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.6238ms
2025-01-22 12:24:22.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:24:22.787 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:22.789 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:22.789 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:22.791 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:22.7913569Z"
2025-01-22 12:24:22.791 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:22.7919792Z"
2025-01-22 12:24:22.792 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:22.7925843Z"
2025-01-22 12:24:22.797 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:24:22.800 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:22.8005070Z"
2025-01-22 12:24:22.801 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:22.8013850Z"
2025-01-22 12:24:22.802 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:22.8021049Z"
2025-01-22 12:24:22.802 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:22.804 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.0816ms
2025-01-22 12:24:22.805 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:22.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 20.9321ms
2025-01-22 12:24:24.968 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:24:24.970 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:24.971 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.9948ms
2025-01-22 12:24:24.973 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:24:24.975 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:24.975 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:24:24.977 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:24:24.981 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:24:24.985 +02:00 [INF] Fetching all donators.
2025-01-22 12:24:24.986 +02:00 [INF] Fetching all donators.
2025-01-22 12:24:24.995 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:24:25.004 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:24:25.006 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:25.008 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 26.2128ms
2025-01-22 12:24:25.009 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:24:25.010 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:25.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.5005ms
2025-01-22 12:24:25.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:24:25.633 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:25.634 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 4.4974ms
2025-01-22 12:24:25.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:24:25.638 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:25.639 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:24:25.642 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:25.645 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:24:25.646 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:24:25.6463695Z"
2025-01-22 12:24:25.648 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:24:25.6480565Z"
2025-01-22 12:24:25.663 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:24:25.665 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:24:25.6657687Z"
2025-01-22 12:24:25.666 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:24:25.6663610Z"
2025-01-22 12:24:25.667 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:24:25.667 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:25.668 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 24.6955ms
2025-01-22 12:24:25.669 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:24:25.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 33.745ms
2025-01-22 12:24:26.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:24:26.390 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:26.390 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:24:26.391 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:24:26.392 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:24:26.394 +02:00 [INF] Fetching all donators.
2025-01-22 12:24:26.395 +02:00 [INF] Fetching all donators.
2025-01-22 12:24:26.397 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:24:26.400 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:24:26.401 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:26.402 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.1715ms
2025-01-22 12:24:26.403 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:24:26.403 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:26.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.2218ms
2025-01-22 12:24:27.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - null null
2025-01-22 12:24:27.232 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:27.232 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - 204 null null 3.1006ms
2025-01-22 12:24:27.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - application/json null
2025-01-22 12:24:27.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:27.238 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/3
2025-01-22 12:24:27.239 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 12:24:27.248 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 12:24:27.259 +02:00 [INF] Fetching donator with gifts for ID: 3
2025-01-22 12:24:27.261 +02:00 [INF] Fetching donator with ID: 3
2025-01-22 12:24:27.269 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 12:24:27.272 +02:00 [INF] Fetching gifts for donator ID: 3
2025-01-22 12:24:27.280 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 12:24:27.293 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 3
2025-01-22 12:24:27.294 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:24:27.304 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 54.8155ms
2025-01-22 12:24:27.306 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 12:24:27.307 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:27.308 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - 200 null application/json; charset=utf-8 72.4571ms
2025-01-22 12:24:33.172 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:24:33.174 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:33.175 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.7139ms
2025-01-22 12:24:33.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:24:33.180 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:33.181 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:33.182 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:33.184 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:33.1840613Z"
2025-01-22 12:24:33.184 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:33.1846457Z"
2025-01-22 12:24:33.185 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:24:33.1852408Z"
2025-01-22 12:24:33.190 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:24:33.192 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:33.1922846Z"
2025-01-22 12:24:33.192 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:33.1928686Z"
2025-01-22 12:24:33.193 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:24:33.1934835Z"
2025-01-22 12:24:33.194 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:33.195 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.3055ms
2025-01-22 12:24:33.196 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:24:33.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.1412ms
2025-01-22 12:24:35.688 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:24:35.690 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:35.691 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.9257ms
2025-01-22 12:24:35.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:24:35.695 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:35.696 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:24:35.696 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:35.698 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:24:35.698 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:24:35.6989217Z"
2025-01-22 12:24:35.699 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:24:35.6995712Z"
2025-01-22 12:24:35.706 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:24:35.708 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:24:35.7080119Z"
2025-01-22 12:24:35.708 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:24:35.7085682Z"
2025-01-22 12:24:35.709 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:24:35.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:35.711 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 13.5704ms
2025-01-22 12:24:35.712 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:24:35.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 19.5503ms
2025-01-22 12:24:36.330 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-22 12:24:36.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:36.338 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 7.2018ms
2025-01-22 12:24:36.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-22 12:24:36.342 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:36.343 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-22 12:24:36.344 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:24:36.348 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:24:36.372 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:24:36.374 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:36.376 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 26.3288ms
2025-01-22 12:24:36.377 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:24:36.377 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:36.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 200 null application/json; charset=utf-8 37.6391ms
2025-01-22 12:24:37.862 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/5/buyers - null null
2025-01-22 12:24:37.864 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:37.865 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/5/buyers - 204 null null 3.3164ms
2025-01-22 12:24:37.867 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/5/buyers - application/json null
2025-01-22 12:24:37.869 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:37.870 +02:00 [INF] Incoming Request: GET /api/User/5/buyers
2025-01-22 12:24:37.870 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:24:37.871 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:24:37.882 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 12:24:37.884 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:37.885 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 11.3282ms
2025-01-22 12:24:37.886 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 12:24:37.887 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:37.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/5/buyers - 200 null application/json; charset=utf-8 20.4201ms
2025-01-22 12:24:40.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:40.465 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:40.466 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:40.467 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:40.469 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:40.4692116Z"
2025-01-22 12:24:40.472 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:40.474 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:40.4745905Z"
2025-01-22 12:24:40.475 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:40.4751096Z"
2025-01-22 12:24:40.475 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:40.4756463Z"
2025-01-22 12:24:40.476 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:40.477 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2371ms
2025-01-22 12:24:40.477 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:40.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.2435ms
2025-01-22 12:24:41.637 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:24:41.639 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:41.640 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.0676ms
2025-01-22 12:24:41.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:24:41.644 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:41.644 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:24:41.645 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:41.646 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:24:41.648 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:41.648 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:41.653 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:24:41.655 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:41.656 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:24:41.656 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:41.657 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 10.0569ms
2025-01-22 12:24:41.658 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:24:41.659 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:24:41.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 17.1598ms
2025-01-22 12:24:42.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:42.283 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:24:42.284 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:42.285 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:42.286 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:42.2865630Z"
2025-01-22 12:24:42.289 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:42.291 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:42.2916029Z"
2025-01-22 12:24:42.292 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:42.2922045Z"
2025-01-22 12:24:42.292 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:42.2927911Z"
2025-01-22 12:24:42.293 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:42.294 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.0411ms
2025-01-22 12:24:42.295 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:42.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.4222ms
2025-01-22 12:24:53.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:24:53.384 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:53.385 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:24:53.386 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:24:53.3867714Z"
2025-01-22 12:24:53.391 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:24:53.393 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:53.3930075Z"
2025-01-22 12:24:53.393 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:53.3935707Z"
2025-01-22 12:24:53.394 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:24:53.3941455Z"
2025-01-22 12:24:53.395 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:24:53.396 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.7872ms
2025-01-22 12:24:53.397 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:24:53.397 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.3774ms
2025-01-22 12:27:00.795 +02:00 [INF] Starting up the application
2025-01-22 12:27:01.455 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:27:02.247 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:27:02.297 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:27:02.445 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:27:02.448 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:27:02.450 +02:00 [INF] Hosting environment: Development
2025-01-22 12:27:02.451 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:27:02.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:27:02.743 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:27:02.765 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:02.772 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 28.3479ms
2025-01-22 12:27:02.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:27:02.784 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:02.787 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:27:02.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 296.172ms
2025-01-22 12:27:02.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:27:02.922 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:27:02.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 4.152ms
2025-01-22 12:27:02.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 3.1445ms
2025-01-22 12:27:02.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:27:02.956 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:27:02.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0468ms
2025-01-22 12:27:02.975 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:27:03.075 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:27:03.0757017Z"
2025-01-22 12:27:03.078 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:27:03.0788689Z"
2025-01-22 12:27:03.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:27:03.0805638Z"
2025-01-22 12:27:03.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:27:03.201 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:27:03.205 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:27:03.2052693Z"
2025-01-22 12:27:03.206 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:27:03.2062268Z"
2025-01-22 12:27:03.207 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:27:03.2071042Z"
2025-01-22 12:27:03.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.5433ms
2025-01-22 12:27:03.215 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:27:03.238 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 258.7472ms
2025-01-22 12:27:03.240 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:27:03.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 467.5567ms
2025-01-22 12:27:09.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:27:09.772 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:27:09.773 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 12:27:09.775 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:09.776 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:09.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:09.780 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.0748ms
2025-01-22 12:27:09.780 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 7.4459ms
2025-01-22 12:27:09.782 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:27:09.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:27:09.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 12:27:09.792 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:09.794 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:09.795 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:27:09.795 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:27:09.801 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:27:09.811 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:27:09.815 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:27:09.821 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:27:09.836 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:27:09.842 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-22T10:27:09.8420825Z"
2025-01-22 12:27:09.845 +02:00 [INF] Fetching all donators.
2025-01-22 12:27:09.845 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:27:09.8456737Z"
2025-01-22 12:27:09.847 +02:00 [INF] Fetching all donators.
2025-01-22 12:27:09.849 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:27:09.8489520Z"
2025-01-22 12:27:09.876 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:27:09.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:27:09.881 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:27:09.884 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:27:09.886 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 88.3129ms
2025-01-22 12:27:09.887 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:27:09.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 115.4924ms
2025-01-22 12:27:09.895 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:27:09.896 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:27:09.907 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-22T10:27:09.9077698Z"
2025-01-22 12:27:09.909 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-22T10:27:09.9091889Z"
2025-01-22 12:27:09.910 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:27:09.911 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 71.6639ms
2025-01-22 12:27:09.912 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:27:09.913 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:27:09.913 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 101.0431ms
2025-01-22 12:27:09.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 123.2151ms
2025-01-22 12:27:09.915 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:27:09.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 128.4929ms
2025-01-22 12:27:12.947 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:27:12.949 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:12.950 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 3.7672ms
2025-01-22 12:27:12.953 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 12:27:12.955 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:27:12.956 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:27:12.961 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:27:12.976 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-22T10:27:12.9760467Z"
2025-01-22 12:27:12.978 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-22T10:27:12.9781912Z"
2025-01-22 12:27:12.979 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-22T10:27:12.9798510Z"
2025-01-22 12:27:13.038 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:27:13.050 +02:00 [WRN] No participants found for Gift ID 3 at "2025-01-22T10:27:13.0500790Z"
2025-01-22 12:27:13.094 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 3 at "2025-01-22T10:27:13.0943735Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
2025-01-22 12:27:13.169 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 3 at "2025-01-22T10:27:13.1692255Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 271
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\server\project\Controllers\GiftController.cs:line 229
2025-01-22 12:27:13.173 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:27:13.182 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 220.1825ms
2025-01-22 12:27:13.183 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:27:13.184 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null application/json; charset=utf-8 231.2844ms
2025-01-22 12:27:39.961 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:27:39.965 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:27:39.969 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:27:39.972 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:27:39.9719776Z"
2025-01-22 12:27:39.982 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:27:39.985 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:27:39.9852857Z"
2025-01-22 12:27:39.985 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:27:39.9859727Z"
2025-01-22 12:27:39.986 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:27:39.9866007Z"
2025-01-22 12:27:39.987 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:27:39.989 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 18.5115ms
2025-01-22 12:27:39.990 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:27:39.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 31.294ms
2025-01-22 12:28:37.244 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:28:37.246 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:28:37.247 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 3.2297ms
2025-01-22 12:28:37.250 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 48
2025-01-22 12:28:37.252 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:28:37.253 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:28:37.256 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:28:37.289 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:28:37.292 +02:00 [WRN] Invalid login attempt: trs@gmailcom
2025-01-22 12:28:37.293 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 12:28:37.294 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 35.9807ms
2025-01-22 12:28:37.295 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:28:37.295 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 45.3555ms
2025-01-22 12:28:40.650 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 48
2025-01-22 12:28:40.652 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:28:40.653 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:28:40.654 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:28:40.668 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:28:40.670 +02:00 [WRN] Invalid login attempt: trs@gmailcom
2025-01-22 12:28:40.671 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 12:28:40.671 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 16.304ms
2025-01-22 12:28:40.672 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:28:40.673 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 23.4864ms
2025-01-22 12:29:17.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:29:17.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:17.995 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:29:17.998 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:18.014 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:18.014 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:18.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 29.5211ms
2025-01-22 12:29:18.017 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 30.7296ms
2025-01-22 12:29:18.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:18.463 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:29:18.464 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:18.466 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:18.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 9.9604ms
2025-01-22 12:29:18.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:29:18.596 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:29:18.597 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:29:18.600 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:18.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.2978ms
2025-01-22 12:29:19.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:19.876 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:19.877 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:19.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 4.4591ms
2025-01-22 12:29:19.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:29:19.886 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:29:19.887 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:19.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.3655ms
2025-01-22 12:29:20.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:20.118 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:29:20.120 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:20.122 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:20.123 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 9.5559ms
2025-01-22 12:29:20.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:29:20.410 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:29:20.410 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:29:20.412 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:20.413 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.1864ms
2025-01-22 12:29:24.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:24.218 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:24.219 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:24.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 4.3104ms
2025-01-22 12:29:24.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:29:24.298 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:29:24.299 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:29:24.300 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:29:24.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 5.6441ms
2025-01-22 12:29:40.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:29:40.260 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:29:40.261 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:29:40.263 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:29:40.2634126Z"
2025-01-22 12:29:40.268 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:29:40.270 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:29:40.2709677Z"
2025-01-22 12:29:40.271 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:29:40.2716227Z"
2025-01-22 12:29:40.272 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:29:40.2721877Z"
2025-01-22 12:29:40.272 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:29:40.274 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.8792ms
2025-01-22 12:29:40.274 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:29:40.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.8887ms
2025-01-22 12:30:21.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:30:21.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:30:21.168 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.169 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:30:21.170 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:30:21.170 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:30:21.172 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:30:21.1723521Z"
2025-01-22 12:30:21.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 6.7474ms
2025-01-22 12:30:21.178 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:30:21.180 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.1800109Z"
2025-01-22 12:30:21.180 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.1805587Z"
2025-01-22 12:30:21.181 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.1811048Z"
2025-01-22 12:30:21.181 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:30:21.183 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.6403ms
2025-01-22 12:30:21.184 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.774ms
2025-01-22 12:30:21.285 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:30:21.289 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.290 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:30:21.291 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:30:21.2918716Z"
2025-01-22 12:30:21.294 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:30:21.296 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.2967777Z"
2025-01-22 12:30:21.297 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.2977100Z"
2025-01-22 12:30:21.298 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.2986779Z"
2025-01-22 12:30:21.300 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:30:21.302 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.7791ms
2025-01-22 12:30:21.303 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.942ms
2025-01-22 12:30:21.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:30:21.385 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.386 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:30:21.388 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:30:21.3884677Z"
2025-01-22 12:30:21.392 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:30:21.397 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.3975495Z"
2025-01-22 12:30:21.398 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.3985998Z"
2025-01-22 12:30:21.399 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:21.3996648Z"
2025-01-22 12:30:21.400 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:30:21.402 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 14.3134ms
2025-01-22 12:30:21.403 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:21.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 22.4608ms
2025-01-22 12:30:41.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:30:41.291 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:41.292 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:30:41.294 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:30:41.2941145Z"
2025-01-22 12:30:41.299 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:30:41.301 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:41.3011794Z"
2025-01-22 12:30:41.301 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:41.3017576Z"
2025-01-22 12:30:41.302 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:41.3023350Z"
2025-01-22 12:30:41.303 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:30:41.304 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4808ms
2025-01-22 12:30:41.305 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:41.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.5042ms
2025-01-22 12:30:45.077 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:30:45.079 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:45.080 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:30:45.081 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:30:45.0818297Z"
2025-01-22 12:30:45.087 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:30:45.089 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:45.0897862Z"
2025-01-22 12:30:45.090 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:45.0903682Z"
2025-01-22 12:30:45.091 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:30:45.0910601Z"
2025-01-22 12:30:45.092 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:30:45.093 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.2445ms
2025-01-22 12:30:45.094 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:30:45.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.8147ms
2025-01-22 12:31:02.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:31:02.887 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:02.887 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:31:02.889 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:31:02.8896292Z"
2025-01-22 12:31:02.895 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:31:02.897 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:02.8971884Z"
2025-01-22 12:31:02.897 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:02.8979444Z"
2025-01-22 12:31:02.898 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:02.8988108Z"
2025-01-22 12:31:02.899 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:31:02.901 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.6714ms
2025-01-22 12:31:02.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:02.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.9787ms
2025-01-22 12:31:17.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:31:17.628 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:17.629 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:17.630 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:31:17.631 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:31:17.6319568Z"
2025-01-22 12:31:17.637 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:31:17.638 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:17.6388732Z"
2025-01-22 12:31:17.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:17.6394851Z"
2025-01-22 12:31:17.640 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:17.6400829Z"
2025-01-22 12:31:17.640 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:31:17.641 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.2217ms
2025-01-22 12:31:17.642 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:17.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.3768ms
2025-01-22 12:31:43.675 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:31:43.679 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:43.680 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.4451ms
2025-01-22 12:31:43.685 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 49
2025-01-22 12:31:43.687 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:43.687 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:31:43.688 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:31:43.703 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:31:43.815 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:31:43.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:31:43.848 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:31:43.850 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:31:43.853 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 163.8563ms
2025-01-22 12:31:43.854 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:31:43.855 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 169.6972ms
2025-01-22 12:31:43.861 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:31:43.863 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:43.863 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:43.864 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:31:43.866 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:31:43.8665953Z"
2025-01-22 12:31:43.869 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:31:43.871 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:43.8712839Z"
2025-01-22 12:31:43.871 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:43.8718655Z"
2025-01-22 12:31:43.872 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:31:43.8724485Z"
2025-01-22 12:31:43.873 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:31:43.874 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.6701ms
2025-01-22 12:31:43.874 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:31:43.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.409ms
2025-01-22 12:31:52.777 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 12:31:52.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:52.779 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 2.5817ms
2025-01-22 12:31:52.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 12:31:52.783 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:52.784 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:31:52.785 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:31:52.787 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-22T10:31:52.7873150Z"
2025-01-22 12:31:52.788 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:31:52.7880669Z"
2025-01-22 12:31:52.788 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:31:52.7888294Z"
2025-01-22 12:31:52.793 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:31:52.795 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-22T10:31:52.7953952Z"
2025-01-22 12:31:52.796 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-22T10:31:52.7964802Z"
2025-01-22 12:31:52.797 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:31:52.798 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 11.7558ms
2025-01-22 12:31:52.799 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:31:52.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 18.3036ms
2025-01-22 12:31:52.802 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-22 12:31:52.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:52.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 2.0486ms
2025-01-22 12:31:52.806 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - application/json 2
2025-01-22 12:31:52.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:52.808 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 12:31:52.809 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:31:52.813 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:31:52.819 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-22 12:31:52.820 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 12:31:52.822 +02:00 [INF] Received request to fetch user by token.
2025-01-22 12:31:52.822 +02:00 [INF] Parsing token...
2025-01-22 12:31:52.823 +02:00 [INF] Attempting to retrieve user with username: sari and email: trs@gmail.com
2025-01-22 12:31:52.842 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 12:31:52.845 +02:00 [INF] User successfully found: sari
2025-01-22 12:31:52.845 +02:00 [INF] User with Id: 69806809-334e-4a18-875b-a07d28d9854f successfully retrieved.
2025-01-22 12:31:52.846 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:31:52.8462869Z"
2025-01-22 12:31:52.848 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:31:52.849 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-22 12:31:52.852 +02:00 [INF] Starting to add Gift 3 (Quantity: 1) to User 69806809-334e-4a18-875b-a07d28d9854f's basket
2025-01-22 12:31:52.859 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 12:31:52.896 +02:00 [INF] Created new UserGift entry for Gift 3 (Quantity: 1) and User 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:31:52.984 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 12:31:52.996 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 69806809-334e-4a18-875b-a07d28d9854f (Quantity: 1)
2025-01-22 12:31:52.998 +02:00 [INF] Completed AddToBasketAsync for User: 69806809-334e-4a18-875b-a07d28d9854f and GiftId: 3 with Quantity: 1
2025-01-22 12:31:52.999 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:31:53.001 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 186.7872ms
2025-01-22 12:31:53.002 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:31:53.002 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:31:53.003 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - 200 null application/json; charset=utf-8 197.4726ms
2025-01-22 12:31:59.383 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:31:59.385 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:59.386 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.8145ms
2025-01-22 12:31:59.389 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:31:59.391 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:31:59.393 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:31:59.394 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:31:59.397 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:31:59.405 +02:00 [INF] Received request to get basket for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:31:59.406 +02:00 [INF] Start fetching user gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:31:59.420 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:31:59.426 +02:00 [INF] Successfully fetched gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f, result count: 1
2025-01-22 12:31:59.427 +02:00 [INF] Successfully retrieved 1 gifts for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:31:59.428 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:31:59.431 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 32.3684ms
2025-01-22 12:31:59.432 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:31:59.433 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:31:59.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 44.5879ms
2025-01-22 12:32:02.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:32:02.539 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:32:02.540 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:32:02.542 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:32:02.5420445Z"
2025-01-22 12:32:02.546 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:32:02.548 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:02.5481564Z"
2025-01-22 12:32:02.548 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:02.5488160Z"
2025-01-22 12:32:02.549 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:02.5494796Z"
2025-01-22 12:32:02.550 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:32:02.551 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.6502ms
2025-01-22 12:32:02.552 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:32:02.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.207ms
2025-01-22 12:32:18.762 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:32:18.768 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:18.769 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.1681ms
2025-01-22 12:32:18.772 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 12:32:18.774 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:18.774 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:32:18.775 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:32:18.784 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:32:18.867 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:32:18.872 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:32:18.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:32:18.882 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:32:18.883 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 105.7375ms
2025-01-22 12:32:18.884 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:32:18.884 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 112.8391ms
2025-01-22 12:32:18.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:32:18.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:18.893 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:32:18.894 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:32:18.896 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:32:18.8961046Z"
2025-01-22 12:32:18.898 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:32:18.900 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:18.9008339Z"
2025-01-22 12:32:18.901 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:18.9013865Z"
2025-01-22 12:32:18.902 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:32:18.9020080Z"
2025-01-22 12:32:18.902 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:32:18.904 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.6697ms
2025-01-22 12:32:18.905 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:32:18.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.6973ms
2025-01-22 12:32:22.364 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:32:22.366 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:22.367 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.6421ms
2025-01-22 12:32:22.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:32:22.370 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:22.371 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:32:22.372 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:32:22.373 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:22.3737204Z"
2025-01-22 12:32:22.374 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:22.3742935Z"
2025-01-22 12:32:22.374 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:22.3748715Z"
2025-01-22 12:32:22.380 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:32:22.382 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:22.3822774Z"
2025-01-22 12:32:22.383 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:22.3830655Z"
2025-01-22 12:32:22.383 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:22.3837633Z"
2025-01-22 12:32:22.384 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:32:22.385 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.3867ms
2025-01-22 12:32:22.386 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:32:22.387 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.7874ms
2025-01-22 12:32:25.336 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:32:25.338 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:25.339 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 2.6605ms
2025-01-22 12:32:25.341 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-22 12:32:25.342 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:25.343 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:32:25.344 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:32:25.345 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-22T10:32:25.3455378Z"
2025-01-22 12:32:25.346 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-22T10:32:25.3462695Z"
2025-01-22 12:32:25.346 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-22T10:32:25.3469688Z"
2025-01-22 12:32:25.357 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:32:25.372 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:32:25.390 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 12:32:25.396 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-22T10:32:25.3959907Z"
2025-01-22 12:32:25.450 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-22 12:32:25.464 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-22 12:32:25.475 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner sari at "2025-01-22T10:32:25.4758429Z"
2025-01-22 12:32:25.476 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-22T10:32:25.4767948Z"
2025-01-22 12:32:25.477 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:32:25.479 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 134.2716ms
2025-01-22 12:32:25.480 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:32:25.481 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 140.0656ms
2025-01-22 12:32:25.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:32:25.485 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:32:25.486 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:32:25.486 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:32:25.488 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:25.4883458Z"
2025-01-22 12:32:25.488 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:25.4888790Z"
2025-01-22 12:32:25.489 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:32:25.4894517Z"
2025-01-22 12:32:25.492 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:32:25.494 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:25.4940939Z"
2025-01-22 12:32:25.494 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:25.4946659Z"
2025-01-22 12:32:25.495 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:32:25.4956984Z"
2025-01-22 12:32:25.496 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:32:25.497 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.5674ms
2025-01-22 12:32:25.498 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:32:25.499 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 15.7286ms
2025-01-22 12:39:21.833 +02:00 [INF] Starting up the application
2025-01-22 12:39:22.500 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 12:39:23.185 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 12:39:23.246 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:39:23.398 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 12:39:23.401 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 12:39:23.402 +02:00 [INF] Hosting environment: Development
2025-01-22 12:39:23.403 +02:00 [INF] Content root path: E:\server\project
2025-01-22 12:39:23.503 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 12:39:23.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 158.8963ms
2025-01-22 12:39:23.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 12:39:23.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 12:39:23.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 12:39:23.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.5975ms
2025-01-22 12:39:23.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 14.8639ms
2025-01-22 12:39:23.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.5026ms
2025-01-22 12:39:23.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 12:39:23.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.2591ms
2025-01-22 12:39:38.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:39:38.593 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 12:39:38.593 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:39:38.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:38.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:38.599 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:38.602 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.8897ms
2025-01-22 12:39:38.602 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 8.8897ms
2025-01-22 12:39:38.602 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 12:39:38.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 12:39:38.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:39:38.613 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:38.614 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:38.635 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:39:38.679 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:39:38.699 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:39:38.723 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:39:38.723 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:39:38.727 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:39:38.733 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:39:38.778 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:39:38.796 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:39:38.805 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:38.832 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 126.5792ms
2025-01-22 12:39:38.835 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:39:38.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 248.059ms
2025-01-22 12:39:38.869 +02:00 [INF] Fetching all donators.
2025-01-22 12:39:38.872 +02:00 [INF] Fetching all donators.
2025-01-22 12:39:38.877 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-22T10:39:38.8771166Z"
2025-01-22 12:39:38.880 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:39:38.8798730Z"
2025-01-22 12:39:38.881 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:39:38.8816834Z"
2025-01-22 12:39:38.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:39:38.912 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:39:38.912 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:39:38.913 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:38.932 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 203.0429ms
2025-01-22 12:39:38.934 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:39:38.935 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:39:38.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 325.4504ms
2025-01-22 12:39:38.936 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-22T10:39:38.9364239Z"
2025-01-22 12:39:38.940 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-22T10:39:38.9400925Z"
2025-01-22 12:39:38.941 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:39:38.946 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 210.3551ms
2025-01-22 12:39:38.947 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:39:38.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 339.2319ms
2025-01-22 12:39:41.736 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-22 12:39:41.738 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:41.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 2.7506ms
2025-01-22 12:39:41.741 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/3 - application/json null
2025-01-22 12:39:41.743 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:41.747 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:39:41.753 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:39:41.757 +02:00 [INF] Starting DeleteGiftAsync with ID 3 at "2025-01-22T10:39:41.7573849Z"
2025-01-22 12:39:41.758 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 3 at "2025-01-22T10:39:41.7588024Z"
2025-01-22 12:39:41.760 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 3 at "2025-01-22T10:39:41.7603831Z"
2025-01-22 12:39:41.761 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-22T10:39:41.7611730Z"
2025-01-22 12:39:41.768 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:39:41.860 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 12:39:41.873 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 3 at "2025-01-22T10:39:41.8729533Z"
2025-01-22 12:39:41.873 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 3 at "2025-01-22T10:39:41.8739133Z"
2025-01-22 12:39:41.874 +02:00 [INF] DeleteGiftAsync completed successfully with ID 3 at "2025-01-22T10:39:41.8746633Z"
2025-01-22 12:39:41.875 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:39:41.884 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 129.6701ms
2025-01-22 12:39:41.885 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:39:41.886 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 144.7346ms
2025-01-22 12:39:41.888 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:39:41.890 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:41.890 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.0246ms
2025-01-22 12:39:41.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:39:41.894 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:41.895 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:39:41.899 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:39:41.905 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:41.9053475Z"
2025-01-22 12:39:41.906 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:41.9066388Z"
2025-01-22 12:39:41.908 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:41.9086011Z"
2025-01-22 12:39:41.990 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:39:41.993 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:41.9930556Z"
2025-01-22 12:39:41.993 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:41.9937487Z"
2025-01-22 12:39:41.994 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:41.9943384Z"
2025-01-22 12:39:41.995 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:42.001 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 100.6827ms
2025-01-22 12:39:42.002 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:39:42.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 110.8024ms
2025-01-22 12:39:43.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:39:43.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:39:43.607 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:43.609 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:43.609 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:39:43.610 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:39:43.611 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:39:43.611 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:39:43.612 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:39:43.617 +02:00 [INF] Fetching all donators.
2025-01-22 12:39:43.618 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:39:43.618 +02:00 [INF] Fetching all donators.
2025-01-22 12:39:43.620 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:39:43.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:43.623 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:39:43.623 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 8.1777ms
2025-01-22 12:39:43.624 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:39:43.625 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:39:43.625 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:43.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 21.7075ms
2025-01-22 12:39:43.628 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.4254ms
2025-01-22 12:39:43.631 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:39:43.631 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:39:43.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 27.4929ms
2025-01-22 12:39:53.505 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:39:53.507 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:53.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.3847ms
2025-01-22 12:39:53.509 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 174
2025-01-22 12:39:53.511 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:53.512 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:39:53.516 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:39:53.544 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T10:39:53.5440724Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:39:53.546 +02:00 [INF] Starting CreateGiftAsync for GiftDto: sefer torah at "2025-01-22T10:39:53.5464062Z"
2025-01-22 12:39:53.548 +02:00 [INF] Fetching donator by name: Avi
2025-01-22 12:39:53.557 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 12:39:53.566 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:39:53.568 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:39:53.589 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 12:39:53.599 +02:00 [INF] Starting CreateGiftAsync for Gift: sefer torah at "2025-01-22T10:39:53.5993638Z"
2025-01-22 12:39:53.648 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 12:39:53.663 +02:00 [INF] CreateGiftAsync completed successfully for Gift: sefer torah at "2025-01-22T10:39:53.6638668Z"
2025-01-22 12:39:53.664 +02:00 [INF] CreateGiftAsync completed successfully for Gift: sefer torah at "2025-01-22T10:39:53.6649097Z"
2025-01-22 12:39:53.665 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-22T10:39:53.6657635Z"
2025-01-22 12:39:53.666 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:39:53.668 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 150.2876ms
2025-01-22 12:39:53.669 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:39:53.669 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 160.0662ms
2025-01-22 12:39:53.754 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:39:53.756 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:53.757 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.7738ms
2025-01-22 12:39:53.759 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:39:53.761 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:39:53.762 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:39:53.762 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:39:53.764 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:53.7643938Z"
2025-01-22 12:39:53.764 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:53.7649683Z"
2025-01-22 12:39:53.765 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:39:53.7659058Z"
2025-01-22 12:39:53.770 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:39:53.772 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:53.7727414Z"
2025-01-22 12:39:53.773 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:53.7733319Z"
2025-01-22 12:39:53.773 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:39:53.7739193Z"
2025-01-22 12:39:53.774 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:39:53.775 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.5597ms
2025-01-22 12:39:53.776 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:39:53.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.2776ms
2025-01-22 12:40:07.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:40:07.929 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:07.934 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:07.937 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:40:07.9375690Z"
2025-01-22 12:40:07.948 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:40:07.951 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:07.9514198Z"
2025-01-22 12:40:07.952 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:07.9522181Z"
2025-01-22 12:40:07.953 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:07.9530734Z"
2025-01-22 12:40:07.953 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:07.956 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 19.711ms
2025-01-22 12:40:07.957 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:07.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 31.3843ms
2025-01-22 12:40:11.565 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:40:11.568 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:11.569 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.7502ms
2025-01-22 12:40:11.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:40:11.573 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:11.574 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:40:11.577 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:11.584 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:40:11.585 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:40:11.5859476Z"
2025-01-22 12:40:11.588 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:40:11.5882442Z"
2025-01-22 12:40:11.606 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:40:11.607 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:40:11.6078342Z"
2025-01-22 12:40:11.608 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:40:11.6084464Z"
2025-01-22 12:40:11.609 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:40:11.609 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:11.610 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 27.3382ms
2025-01-22 12:40:11.611 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:40:11.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 40.6857ms
2025-01-22 12:40:14.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 12:40:14.209 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 12:40:14.213 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:40:14.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 7.7316ms
2025-01-22 12:40:14.278 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 12:40:14.280 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:14.281 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:40:14.282 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:14.284 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 12:40:14.285 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:40:14.2855262Z"
2025-01-22 12:40:14.286 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T10:40:14.2861631Z"
2025-01-22 12:40:14.297 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 12:40:14.300 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:40:14.3005850Z"
2025-01-22 12:40:14.301 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T10:40:14.3014941Z"
2025-01-22 12:40:14.302 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 12:40:14.303 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:14.304 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 19.5473ms
2025-01-22 12:40:14.305 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 12:40:14.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 27.1096ms
2025-01-22 12:40:17.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:40:17.066 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:17.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.0077ms
2025-01-22 12:40:17.068 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:40:17.070 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:17.071 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:40:17.072 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:40:17.076 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:40:17.079 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:40:17.081 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:40:17.125 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:40:17.128 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:40:17.129 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 12:40:17.129 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:17.135 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 58.2452ms
2025-01-22 12:40:17.136 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:40:17.137 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:40:17.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 69.1623ms
2025-01-22 12:40:17.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:40:17.798 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:17.800 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:17.801 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:17.803 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:40:17.8037999Z"
2025-01-22 12:40:17.807 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:40:17.809 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:17.8090086Z"
2025-01-22 12:40:17.809 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:17.8095843Z"
2025-01-22 12:40:17.810 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:17.8101809Z"
2025-01-22 12:40:17.810 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:17.812 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.138ms
2025-01-22 12:40:17.813 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:17.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.2558ms
2025-01-22 12:40:47.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:40:47.253 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:47.253 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 3.0728ms
2025-01-22 12:40:47.258 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 49
2025-01-22 12:40:47.260 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:47.261 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:40:47.265 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:40:47.285 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:40:47.382 +02:00 [WRN] Invalid login attempt: trs@gmail.com
2025-01-22 12:40:47.383 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 12:40:47.384 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 117.6106ms
2025-01-22 12:40:47.385 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:40:47.385 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 127.004ms
2025-01-22 12:40:53.848 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:40:53.849 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:53.850 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.6439ms
2025-01-22 12:40:53.852 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 49
2025-01-22 12:40:53.853 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:53.855 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:40:53.856 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:40:53.864 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:40:53.958 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:40:53.974 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:40:53.989 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:40:53.992 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:40:53.994 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 137.5048ms
2025-01-22 12:40:53.995 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:40:53.996 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 144.0186ms
2025-01-22 12:40:54.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:40:54.008 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:54.008 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:54.009 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:54.012 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:40:54.0122346Z"
2025-01-22 12:40:54.017 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:40:54.019 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:54.0192782Z"
2025-01-22 12:40:54.019 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:54.0199452Z"
2025-01-22 12:40:54.020 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:54.0205238Z"
2025-01-22 12:40:54.021 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:54.022 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4033ms
2025-01-22 12:40:54.023 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:54.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.6201ms
2025-01-22 12:40:57.285 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:40:57.288 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:57.288 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.259ms
2025-01-22 12:40:57.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:40:57.293 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:57.294 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:40:57.295 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:40:57.296 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:40:57.298 +02:00 [INF] Received request to get basket for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:40:57.300 +02:00 [INF] Start fetching user gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:40:57.309 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:40:57.311 +02:00 [WRN] No gifts found for userId: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:40:57.311 +02:00 [INF] No gifts found for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:40:57.312 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:57.313 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 15.6132ms
2025-01-22 12:40:57.314 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:40:57.314 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:40:57.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 24.4267ms
2025-01-22 12:40:59.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:40:59.380 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:40:59.381 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:59.382 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:40:59.385 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:40:59.3852004Z"
2025-01-22 12:40:59.389 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:40:59.391 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:59.3917821Z"
2025-01-22 12:40:59.392 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:59.3924059Z"
2025-01-22 12:40:59.393 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:40:59.3930297Z"
2025-01-22 12:40:59.393 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:40:59.394 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.8065ms
2025-01-22 12:40:59.395 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:40:59.396 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.7683ms
2025-01-22 12:41:05.865 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - null null
2025-01-22 12:41:05.867 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:05.868 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - 204 null null 2.7689ms
2025-01-22 12:41:05.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/12 - application/json null
2025-01-22 12:41:05.871 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:05.872 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:41:05.872 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:41:05.874 +02:00 [INF] Starting GetByIdAsync with ID 12 at "2025-01-22T10:41:05.8743291Z"
2025-01-22 12:41:05.875 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:41:05.8751235Z"
2025-01-22 12:41:05.875 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:41:05.8758463Z"
2025-01-22 12:41:05.880 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:41:05.881 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 12 at "2025-01-22T10:41:05.8819537Z"
2025-01-22 12:41:05.882 +02:00 [INF] GetByIdAsync completed successfully with ID 12 at "2025-01-22T10:41:05.8827680Z"
2025-01-22 12:41:05.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:41:05.884 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 10.4988ms
2025-01-22 12:41:05.885 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:41:05.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/12 - 200 null application/json; charset=utf-8 16.1073ms
2025-01-22 12:41:05.888 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=12 - null null
2025-01-22 12:41:05.889 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:05.890 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=12 - 204 null null 2.1024ms
2025-01-22 12:41:05.892 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=12 - application/json 2
2025-01-22 12:41:05.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:05.894 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 12:41:05.895 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:41:05.898 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:41:05.906 +02:00 [INF] Starting AddToBasketAsync with GiftId: 12 and Quantity: 1
2025-01-22 12:41:05.907 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 12:41:05.908 +02:00 [INF] Received request to fetch user by token.
2025-01-22 12:41:05.909 +02:00 [INF] Parsing token...
2025-01-22 12:41:05.910 +02:00 [INF] Attempting to retrieve user with username: sari and email: trs@gmail.com
2025-01-22 12:41:05.930 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 12:41:05.932 +02:00 [INF] User successfully found: sari
2025-01-22 12:41:05.933 +02:00 [INF] User with Id: 69806809-334e-4a18-875b-a07d28d9854f successfully retrieved.
2025-01-22 12:41:05.933 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:41:05.9337764Z"
2025-01-22 12:41:05.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:41:05.937 +02:00 [INF] Gift with Id: 12 successfully retrieved.
2025-01-22 12:41:05.939 +02:00 [INF] Starting to add Gift 12 (Quantity: 1) to User 69806809-334e-4a18-875b-a07d28d9854f's basket
2025-01-22 12:41:05.946 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 12:41:05.959 +02:00 [INF] Created new UserGift entry for Gift 12 (Quantity: 1) and User 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:41:05.977 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 12:41:05.979 +02:00 [INF] Successfully saved changes to database for Gift 12 and User 69806809-334e-4a18-875b-a07d28d9854f (Quantity: 1)
2025-01-22 12:41:05.980 +02:00 [INF] Completed AddToBasketAsync for User: 69806809-334e-4a18-875b-a07d28d9854f and GiftId: 12 with Quantity: 1
2025-01-22 12:41:05.981 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:41:05.982 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 82.3033ms
2025-01-22 12:41:05.983 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:41:05.983 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:41:05.984 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=12 - 200 null application/json; charset=utf-8 92.2448ms
2025-01-22 12:41:07.685 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:41:07.687 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:07.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.8902ms
2025-01-22 12:41:07.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:41:07.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:07.692 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:41:07.693 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:41:07.694 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:41:07.695 +02:00 [INF] Received request to get basket for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:41:07.696 +02:00 [INF] Start fetching user gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:41:07.701 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:41:07.707 +02:00 [INF] Successfully fetched gifts for userId: 69806809-334e-4a18-875b-a07d28d9854f, result count: 1
2025-01-22 12:41:07.708 +02:00 [INF] Successfully retrieved 1 gifts for user: 69806809-334e-4a18-875b-a07d28d9854f
2025-01-22 12:41:07.708 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:41:07.711 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 15.623ms
2025-01-22 12:41:07.712 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:41:07.712 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:41:07.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 23.0364ms
2025-01-22 12:41:35.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:41:35.170 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:35.170 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.4626ms
2025-01-22 12:41:35.176 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 12:41:35.177 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:35.178 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:41:35.179 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:41:35.192 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:41:35.275 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:41:35.286 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:41:35.290 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:41:35.296 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:41:35.297 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 117.1336ms
2025-01-22 12:41:35.298 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:41:35.299 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 123.3302ms
2025-01-22 12:41:35.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:41:35.308 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:35.308 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:41:35.309 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:41:35.310 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:41:35.3109208Z"
2025-01-22 12:41:35.313 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:41:35.315 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:41:35.3151924Z"
2025-01-22 12:41:35.316 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:41:35.3161151Z"
2025-01-22 12:41:35.316 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:41:35.3168821Z"
2025-01-22 12:41:35.317 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:41:35.318 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.9276ms
2025-01-22 12:41:35.319 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:41:35.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.2573ms
2025-01-22 12:41:37.088 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:41:37.089 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:37.090 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.271ms
2025-01-22 12:41:37.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:41:37.093 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:37.094 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:41:37.095 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:41:37.097 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:41:37.0973570Z"
2025-01-22 12:41:37.098 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:41:37.0982406Z"
2025-01-22 12:41:37.099 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:41:37.0991042Z"
2025-01-22 12:41:37.103 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:41:37.105 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:41:37.1049974Z"
2025-01-22 12:41:37.105 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:41:37.1055723Z"
2025-01-22 12:41:37.106 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:41:37.1061910Z"
2025-01-22 12:41:37.106 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:41:37.107 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.7191ms
2025-01-22 12:41:37.108 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:41:37.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 17.3153ms
2025-01-22 12:41:48.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:41:48.739 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:48.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 2.4085ms
2025-01-22 12:41:48.741 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 12:41:48.743 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:41:48.744 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:41:48.747 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:41:48.753 +02:00 [INF] Starting LotteryAsync for Gift ID 12 at "2025-01-22T10:41:48.7531334Z"
2025-01-22 12:41:48.755 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 12 at "2025-01-22T10:41:48.7553057Z"
2025-01-22 12:41:48.756 +02:00 [INF] Fetching Gift with participants for Gift ID 12 at "2025-01-22T10:41:48.7569076Z"
2025-01-22 12:41:48.795 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:41:48.813 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:41:48.821 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [IsLotteryCompleted] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-22 12:41:48.823 +02:00 [WRN] User list is empty for Gift ID 12 at "2025-01-22T10:41:48.8237133Z"
2025-01-22 12:41:48.884 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 12 at "2025-01-22T10:41:48.8845025Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 258
2025-01-22 12:41:48.963 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 12 at "2025-01-22T10:41:48.9630467Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 258
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 272
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\server\project\Controllers\GiftController.cs:line 229
2025-01-22 12:41:48.967 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:41:48.968 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 219.0037ms
2025-01-22 12:41:48.969 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:41:48.970 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null application/json; charset=utf-8 228.9737ms
2025-01-22 12:42:04.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:42:04.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:04.027 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 2.612ms
2025-01-22 12:42:04.029 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 12:42:04.030 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:04.031 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:42:04.032 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:42:04.033 +02:00 [INF] Starting LotteryAsync for Gift ID 12 at "2025-01-22T10:42:04.0337953Z"
2025-01-22 12:42:04.034 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 12 at "2025-01-22T10:42:04.0345264Z"
2025-01-22 12:42:04.035 +02:00 [INF] Fetching Gift with participants for Gift ID 12 at "2025-01-22T10:42:04.0352143Z"
2025-01-22 12:42:04.044 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:42:04.050 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-22 12:42:04.052 +02:00 [WRN] User list is empty for Gift ID 12 at "2025-01-22T10:42:04.0520928Z"
2025-01-22 12:42:04.079 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 12 at "2025-01-22T10:42:04.0792231Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 258
2025-01-22 12:42:04.117 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 12 at "2025-01-22T10:42:04.1169959Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 258
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 272
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\server\project\Controllers\GiftController.cs:line 229
2025-01-22 12:42:04.119 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:42:04.120 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 87.2522ms
2025-01-22 12:42:04.121 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:42:04.122 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null application/json; charset=utf-8 93.2724ms
2025-01-22 12:42:28.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:42:28.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:28.014 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:28.016 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:42:28.016 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:28.017 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:42:28.018 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:42:28.0188837Z"
2025-01-22 12:42:28.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 6.8828ms
2025-01-22 12:42:28.029 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:42:28.030 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:28.0309593Z"
2025-01-22 12:42:28.031 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:28.0316340Z"
2025-01-22 12:42:28.032 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:28.0325052Z"
2025-01-22 12:42:28.033 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:28.034 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 15.9ms
2025-01-22 12:42:28.035 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:28.036 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 26.8117ms
2025-01-22 12:42:28.206 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:28.208 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:28.209 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0862ms
2025-01-22 12:42:28.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:42:28.213 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:28.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:28.216 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:28.218 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:28.2185485Z"
2025-01-22 12:42:28.219 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:28.2192596Z"
2025-01-22 12:42:28.219 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:28.2199806Z"
2025-01-22 12:42:28.224 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:42:28.226 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:28.2267710Z"
2025-01-22 12:42:28.227 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:28.2273364Z"
2025-01-22 12:42:28.227 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:28.2279325Z"
2025-01-22 12:42:28.228 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:28.229 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.7123ms
2025-01-22 12:42:28.230 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:28.231 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.9354ms
2025-01-22 12:42:49.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:49.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:49.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:42:49.922 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:42:49.927 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:42:49.929 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:42:49.930 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:49.932 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:49.933 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:42:49.934 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:42:49.935 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:49.936 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:49.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 15.1571ms
2025-01-22 12:42:49.938 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 14.8398ms
2025-01-22 12:42:49.940 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:42:49.9405630Z"
2025-01-22 12:42:49.942 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:42:49.9422235Z"
2025-01-22 12:42:49.954 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:42:49.954 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:42:49.956 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9566891Z"
2025-01-22 12:42:49.958 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9580633Z"
2025-01-22 12:42:49.958 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9585757Z"
2025-01-22 12:42:49.959 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9592378Z"
2025-01-22 12:42:49.959 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9599525Z"
2025-01-22 12:42:49.960 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:49.9606277Z"
2025-01-22 12:42:49.961 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:49.962 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:49.964 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 24.3341ms
2025-01-22 12:42:49.965 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 23.8317ms
2025-01-22 12:42:49.966 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:49.968 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:49.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 45.9588ms
2025-01-22 12:42:49.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 47.8449ms
2025-01-22 12:42:50.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:50.158 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:50.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.296ms
2025-01-22 12:42:50.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:42:50.163 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:50.164 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:50.165 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:50.167 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:50.1675540Z"
2025-01-22 12:42:50.168 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:50.1681553Z"
2025-01-22 12:42:50.168 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:50.1687640Z"
2025-01-22 12:42:50.172 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:42:50.173 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:50.1737836Z"
2025-01-22 12:42:50.174 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:50.1743955Z"
2025-01-22 12:42:50.174 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:50.1749289Z"
2025-01-22 12:42:50.175 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:50.176 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 9.4583ms
2025-01-22 12:42:50.177 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:50.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.8596ms
2025-01-22 12:42:51.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:42:51.932 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:42:51.933 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:42:51.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.8723ms
2025-01-22 12:42:51.937 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:42:51.938 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:51.939 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:51.941 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:42:51.9411306Z"
2025-01-22 12:42:51.945 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:42:51.947 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:51.9474130Z"
2025-01-22 12:42:51.947 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:51.9479670Z"
2025-01-22 12:42:51.948 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:42:51.9485656Z"
2025-01-22 12:42:51.949 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:51.950 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.0265ms
2025-01-22 12:42:51.951 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:42:51.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.4253ms
2025-01-22 12:42:52.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:42:52.099 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:42:52.101 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:52.103 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:42:52.107 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:52.1074792Z"
2025-01-22 12:42:52.108 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:52.1082107Z"
2025-01-22 12:42:52.109 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:42:52.1093383Z"
2025-01-22 12:42:52.115 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:42:52.118 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:52.1187607Z"
2025-01-22 12:42:52.119 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:52.1195899Z"
2025-01-22 12:42:52.120 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:42:52.1203098Z"
2025-01-22 12:42:52.121 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:42:52.122 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.3826ms
2025-01-22 12:42:52.123 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:42:52.124 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 27.5935ms
2025-01-22 12:43:08.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:43:08.256 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:43:08.257 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:43:08.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.285ms
2025-01-22 12:43:08.352 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:43:08.353 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:43:08.354 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.3422ms
2025-01-22 12:43:08.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:43:08.358 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:43:08.359 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:43:08.360 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:43:08.362 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:43:08.3625052Z"
2025-01-22 12:43:08.363 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:43:08.3630825Z"
2025-01-22 12:43:08.363 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:43:08.3636669Z"
2025-01-22 12:43:08.369 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:43:08.371 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:43:08.3716791Z"
2025-01-22 12:43:08.372 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:43:08.3722298Z"
2025-01-22 12:43:08.372 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:43:08.3728027Z"
2025-01-22 12:43:08.373 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:43:08.374 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.0443ms
2025-01-22 12:43:08.375 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:43:08.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.3369ms
2025-01-22 12:44:43.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:44:43.334 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:44:43.335 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:44:43.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.9418ms
2025-01-22 12:44:43.433 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:44:43.435 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:44:43.436 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.8076ms
2025-01-22 12:44:43.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:44:43.440 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:44:43.441 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:44:43.442 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:44:43.444 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:44:43.4444614Z"
2025-01-22 12:44:43.445 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:44:43.4450218Z"
2025-01-22 12:44:43.445 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:44:43.4456367Z"
2025-01-22 12:44:43.450 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:44:43.452 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:44:43.4524617Z"
2025-01-22 12:44:43.453 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:44:43.4530649Z"
2025-01-22 12:44:43.453 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:44:43.4537800Z"
2025-01-22 12:44:43.454 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:44:43.455 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.2482ms
2025-01-22 12:44:43.456 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:44:43.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.7966ms
2025-01-22 12:45:43.894 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:45:43.898 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - null null
2025-01-22 12:45:43.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:45:43.902 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:43.903 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:43.905 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:43.905 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.8174ms
2025-01-22 12:45:43.907 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:45:43.906 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - 204 null null 8.6272ms
2025-01-22 12:45:43.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:45:43.912 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:45:43.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/12 - application/json null
2025-01-22 12:45:43.915 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:43.918 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:43.919 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:45:43.921 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:45:43.921 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:45:43.922 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:45:43.922 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:45:43.922 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:45:43.924 +02:00 [INF] Starting GetByIdAsync with ID 12 at "2025-01-22T10:45:43.9243900Z"
2025-01-22 12:45:43.926 +02:00 [INF] Fetching all donators.
2025-01-22 12:45:43.927 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:45:43.927 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:45:43.9275980Z"
2025-01-22 12:45:43.928 +02:00 [INF] Fetching all donators.
2025-01-22 12:45:43.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:45:43.929 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:45:43.9296400Z"
2025-01-22 12:45:43.931 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 14.4979ms
2025-01-22 12:45:43.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:45:43.933 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:45:43.936 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:45:43.936 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:45:43.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 35.3952ms
2025-01-22 12:45:43.939 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 12 at "2025-01-22T10:45:43.9390380Z"
2025-01-22 12:45:43.939 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:45:43.942 +02:00 [INF] GetByIdAsync completed successfully with ID 12 at "2025-01-22T10:45:43.9421404Z"
2025-01-22 12:45:43.943 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 17.7289ms
2025-01-22 12:45:43.943 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:45:43.944 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:45:43.945 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 21.7082ms
2025-01-22 12:45:43.946 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:45:43.947 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:45:43.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 36.4676ms
2025-01-22 12:45:43.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/12 - 200 null application/json; charset=utf-8 34.6357ms
2025-01-22 12:45:48.864 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - null null
2025-01-22 12:45:48.866 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:48.867 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - 204 null null 3.388ms
2025-01-22 12:45:48.869 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/12 - application/json null
2025-01-22 12:45:48.870 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:48.871 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:45:48.872 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:45:48.874 +02:00 [INF] Starting DeleteGiftAsync with ID 12 at "2025-01-22T10:45:48.8743585Z"
2025-01-22 12:45:48.875 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 12 at "2025-01-22T10:45:48.8750968Z"
2025-01-22 12:45:48.876 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 12 at "2025-01-22T10:45:48.8760202Z"
2025-01-22 12:45:48.876 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-22T10:45:48.8769281Z"
2025-01-22 12:45:48.881 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:45:48.887 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 12:45:48.889 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 12 at "2025-01-22T10:45:48.8894638Z"
2025-01-22 12:45:48.890 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 12 at "2025-01-22T10:45:48.8901953Z"
2025-01-22 12:45:48.890 +02:00 [INF] DeleteGiftAsync completed successfully with ID 12 at "2025-01-22T10:45:48.8909156Z"
2025-01-22 12:45:48.891 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:45:48.892 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 18.8451ms
2025-01-22 12:45:48.894 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 12:45:48.894 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/12 - 200 null application/json; charset=utf-8 25.3406ms
2025-01-22 12:45:48.896 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:45:48.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:48.898 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.0255ms
2025-01-22 12:45:48.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:45:48.902 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:48.903 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:45:48.904 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:45:48.906 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:45:48.9060316Z"
2025-01-22 12:45:48.906 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:45:48.9066136Z"
2025-01-22 12:45:48.907 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:45:48.9071968Z"
2025-01-22 12:45:48.910 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:45:48.911 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:45:48.9118567Z"
2025-01-22 12:45:48.912 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:45:48.9124175Z"
2025-01-22 12:45:48.913 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:45:48.9130034Z"
2025-01-22 12:45:48.913 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:45:48.914 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 8.671ms
2025-01-22 12:45:48.915 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:45:48.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 14.8909ms
2025-01-22 12:45:50.557 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 12:45:50.557 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 12:45:50.559 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:50.560 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:50.561 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.9147ms
2025-01-22 12:45:50.561 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:45:50.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 12:45:50.564 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 12:45:50.566 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:45:50.568 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 12:45:50.570 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 12:45:50.570 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:45:50.572 +02:00 [INF] Successfully retrieved categories.
2025-01-22 12:45:50.573 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 12:45:50.573 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:45:50.575 +02:00 [INF] Fetching all donators.
2025-01-22 12:45:50.576 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 8.3859ms
2025-01-22 12:45:50.576 +02:00 [INF] Fetching all donators.
2025-01-22 12:45:50.577 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 12:45:50.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 21.8871ms
2025-01-22 12:45:50.580 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 12:45:50.583 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 12:45:50.584 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:45:50.585 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 10.0027ms
2025-01-22 12:45:50.586 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 12:45:50.587 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:45:50.588 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 24.2431ms
2025-01-22 12:46:00.952 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-22 12:46:00.953 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:00.954 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 2.1954ms
2025-01-22 12:46:00.956 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 174
2025-01-22 12:46:00.957 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:00.958 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:46:00.959 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-22 12:46:00.960 +02:00 [INF] Starting CreateGiftAsync at "2025-01-22T10:46:00.9606629Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-22 12:46:00.961 +02:00 [INF] Starting CreateGiftAsync for GiftDto: sefer torah at "2025-01-22T10:46:00.9613928Z"
2025-01-22 12:46:00.962 +02:00 [INF] Fetching donator by name: Avi
2025-01-22 12:46:00.967 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-22 12:46:00.970 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-22 12:46:00.972 +02:00 [INF] Successfully retrieved category with name: others
2025-01-22 12:46:00.975 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 12:46:00.977 +02:00 [INF] Starting CreateGiftAsync for Gift: sefer torah at "2025-01-22T10:46:00.9778466Z"
2025-01-22 12:46:00.983 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-22 12:46:00.985 +02:00 [INF] CreateGiftAsync completed successfully for Gift: sefer torah at "2025-01-22T10:46:00.9851475Z"
2025-01-22 12:46:00.985 +02:00 [INF] CreateGiftAsync completed successfully for Gift: sefer torah at "2025-01-22T10:46:00.9858730Z"
2025-01-22 12:46:00.986 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-22T10:46:00.9865818Z"
2025-01-22 12:46:00.987 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:46:00.988 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 27.8334ms
2025-01-22 12:46:00.988 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-22 12:46:00.989 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 33.4156ms
2025-01-22 12:46:01.070 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:46:01.072 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:01.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.5314ms
2025-01-22 12:46:01.075 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:46:01.076 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:01.077 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:46:01.078 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:46:01.079 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:46:01.0795212Z"
2025-01-22 12:46:01.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:46:01.0800572Z"
2025-01-22 12:46:01.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:46:01.0806274Z"
2025-01-22 12:46:01.083 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:46:01.085 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:46:01.0855444Z"
2025-01-22 12:46:01.086 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:46:01.0861163Z"
2025-01-22 12:46:01.086 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:46:01.0867293Z"
2025-01-22 12:46:01.087 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:46:01.088 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 8.926ms
2025-01-22 12:46:01.089 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:46:01.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 14.6082ms
2025-01-22 12:46:09.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:46:09.809 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:46:09.809 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:46:09.811 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:46:09.8112881Z"
2025-01-22 12:46:09.815 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:46:09.817 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:09.8170920Z"
2025-01-22 12:46:09.817 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:09.8177436Z"
2025-01-22 12:46:09.818 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:09.8186135Z"
2025-01-22 12:46:09.819 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:46:09.820 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.12ms
2025-01-22 12:46:09.821 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:46:09.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.57ms
2025-01-22 12:46:24.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:46:24.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:24.040 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:46:24.041 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:46:24.042 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:46:24.0428891Z"
2025-01-22 12:46:24.046 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:46:24.047 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:24.0479856Z"
2025-01-22 12:46:24.048 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:24.0485442Z"
2025-01-22 12:46:24.049 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:46:24.0492049Z"
2025-01-22 12:46:24.049 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:46:24.050 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.0777ms
2025-01-22 12:46:24.051 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:46:24.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.6113ms
2025-01-22 12:46:47.720 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 12:46:47.722 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:47.723 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 2.6489ms
2025-01-22 12:46:47.727 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-22 12:46:47.729 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:46:47.729 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 12:46:47.733 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 12:46:47.744 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:46:47.749 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:46:47.835 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:46:47.855 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 12:46:47.858 +02:00 [INF] User registered successfully: saraa
2025-01-22 12:46:47.859 +02:00 [INF] User registered successfully.
2025-01-22 12:46:47.860 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:46:47.861 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 126.0604ms
2025-01-22 12:46:47.862 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 12:46:47.862 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 135.0058ms
2025-01-22 12:47:37.664 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 12:47:37.669 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:37.670 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.9185ms
2025-01-22 12:47:37.675 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 100
2025-01-22 12:47:37.676 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:37.677 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 12:47:37.677 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 12:47:37.685 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:47:37.690 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:47:37.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 12:47:37.775 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 12:47:37.777 +02:00 [INF] User registered successfully: tretqrs
2025-01-22 12:47:37.778 +02:00 [INF] User registered successfully.
2025-01-22 12:47:37.778 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:47:37.779 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 100.7786ms
2025-01-22 12:47:37.780 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 12:47:37.781 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 106.3493ms
2025-01-22 12:47:45.104 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:47:45.106 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:45.107 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.4587ms
2025-01-22 12:47:45.109 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 49
2025-01-22 12:47:45.111 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:45.111 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:47:45.112 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:47:45.118 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:47:45.202 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:47:45.206 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:47:45.210 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:47:45.211 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:47:45.212 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 98.829ms
2025-01-22 12:47:45.213 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:47:45.213 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 104.2605ms
2025-01-22 12:47:45.219 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:47:45.221 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:45.222 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:47:45.223 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:47:45.225 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:47:45.2251772Z"
2025-01-22 12:47:45.228 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:47:45.229 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:47:45.2298508Z"
2025-01-22 12:47:45.230 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:47:45.2304402Z"
2025-01-22 12:47:45.231 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:47:45.2310731Z"
2025-01-22 12:47:45.231 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:47:45.232 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.9505ms
2025-01-22 12:47:45.233 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:47:45.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.9206ms
2025-01-22 12:47:47.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - null null
2025-01-22 12:47:47.475 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:47.476 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/9 - 204 null null 2.7064ms
2025-01-22 12:47:47.478 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/9 - application/json null
2025-01-22 12:47:47.479 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:47.480 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:47:47.481 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:47:47.483 +02:00 [INF] Starting GetByIdAsync with ID 9 at "2025-01-22T10:47:47.4833702Z"
2025-01-22 12:47:47.484 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T10:47:47.4841714Z"
2025-01-22 12:47:47.484 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T10:47:47.4848366Z"
2025-01-22 12:47:47.489 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:47:47.491 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 9 at "2025-01-22T10:47:47.4910804Z"
2025-01-22 12:47:47.491 +02:00 [INF] GetByIdAsync completed successfully with ID 9 at "2025-01-22T10:47:47.4917773Z"
2025-01-22 12:47:47.492 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 12:47:47.493 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 10.7646ms
2025-01-22 12:47:47.495 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 12:47:47.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/9 - 200 null application/json; charset=utf-8 17.3976ms
2025-01-22 12:47:47.497 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=9 - null null
2025-01-22 12:47:47.499 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:47.499 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=9 - 204 null null 2.1056ms
2025-01-22 12:47:47.501 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=9 - application/json 2
2025-01-22 12:47:47.503 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:47.503 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 12:47:47.504 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:47:47.505 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 12:47:47.507 +02:00 [INF] Starting AddToBasketAsync with GiftId: 9 and Quantity: 1
2025-01-22 12:47:47.507 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 12:47:47.508 +02:00 [INF] Received request to fetch user by token.
2025-01-22 12:47:47.509 +02:00 [INF] Parsing token...
2025-01-22 12:47:47.509 +02:00 [INF] Attempting to retrieve user with username: tretqrs and email: qwer@gmail.com
2025-01-22 12:47:47.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 12:47:47.517 +02:00 [INF] User successfully found: tretqrs
2025-01-22 12:47:47.518 +02:00 [INF] User with Id: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9 successfully retrieved.
2025-01-22 12:47:47.519 +02:00 [INF] Starting GetByIdAsync for Gift ID 9 at "2025-01-22T10:47:47.5192979Z"
2025-01-22 12:47:47.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 12:47:47.523 +02:00 [INF] Gift with Id: 9 successfully retrieved.
2025-01-22 12:47:47.523 +02:00 [INF] Starting to add Gift 9 (Quantity: 1) to User adb16fa9-f7b8-4f33-876a-9083e0d5dbe9's basket
2025-01-22 12:47:47.527 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 12:47:47.528 +02:00 [INF] Created new UserGift entry for Gift 9 (Quantity: 1) and User adb16fa9-f7b8-4f33-876a-9083e0d5dbe9
2025-01-22 12:47:47.532 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 12:47:47.534 +02:00 [INF] Successfully saved changes to database for Gift 9 and User adb16fa9-f7b8-4f33-876a-9083e0d5dbe9 (Quantity: 1)
2025-01-22 12:47:47.535 +02:00 [INF] Completed AddToBasketAsync for User: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9 and GiftId: 9 with Quantity: 1
2025-01-22 12:47:47.536 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:47:47.536 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 30.2475ms
2025-01-22 12:47:47.537 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 12:47:47.538 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:47:47.538 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=9 - 200 null application/json; charset=utf-8 37.0853ms
2025-01-22 12:47:49.044 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 12:47:49.046 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:49.046 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.3899ms
2025-01-22 12:47:49.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 12:47:49.050 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:47:49.051 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 12:47:49.052 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:47:49.053 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 12:47:49.054 +02:00 [INF] Received request to get basket for user: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9
2025-01-22 12:47:49.055 +02:00 [INF] Start fetching user gifts for userId: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9
2025-01-22 12:47:49.059 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 12:47:49.061 +02:00 [INF] Successfully fetched gifts for userId: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9, result count: 1
2025-01-22 12:47:49.061 +02:00 [INF] Successfully retrieved 1 gifts for user: adb16fa9-f7b8-4f33-876a-9083e0d5dbe9
2025-01-22 12:47:49.062 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:47:49.063 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.3505ms
2025-01-22 12:47:49.064 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 12:47:49.065 +02:00 [INF] Outgoing Response: 200
2025-01-22 12:47:49.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 17.0786ms
2025-01-22 12:48:07.800 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 12:48:07.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:07.803 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.9966ms
2025-01-22 12:48:07.805 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 12:48:07.807 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:07.808 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:48:07.809 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 12:48:07.817 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 12:48:07.909 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 12:48:07.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 12:48:07.918 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 12:48:07.922 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:48:07.923 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 112.7884ms
2025-01-22 12:48:07.924 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 12:48:07.925 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 120.0541ms
2025-01-22 12:48:07.932 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 12:48:07.934 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:07.935 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:48:07.935 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 12:48:07.937 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T10:48:07.9374889Z"
2025-01-22 12:48:07.940 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 12:48:07.942 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:48:07.9421609Z"
2025-01-22 12:48:07.942 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:48:07.9427155Z"
2025-01-22 12:48:07.943 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T10:48:07.9433008Z"
2025-01-22 12:48:07.943 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:48:07.944 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.5789ms
2025-01-22 12:48:07.945 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 12:48:07.946 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.4767ms
2025-01-22 12:48:11.014 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:48:11.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:11.018 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.4324ms
2025-01-22 12:48:11.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:48:11.022 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:11.023 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:48:11.024 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:48:11.026 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:11.0260982Z"
2025-01-22 12:48:11.026 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:11.0267124Z"
2025-01-22 12:48:11.028 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:11.0284832Z"
2025-01-22 12:48:11.033 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:48:11.036 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:11.0364838Z"
2025-01-22 12:48:11.037 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:11.0373294Z"
2025-01-22 12:48:11.038 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:11.0382825Z"
2025-01-22 12:48:11.039 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:48:11.040 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.7418ms
2025-01-22 12:48:11.041 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:48:11.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.6308ms
2025-01-22 12:48:12.551 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:48:12.553 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:12.554 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 2.2242ms
2025-01-22 12:48:12.555 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 12:48:12.557 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:12.558 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:48:12.558 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:48:12.560 +02:00 [INF] Starting LotteryAsync for Gift ID 13 at "2025-01-22T10:48:12.5603356Z"
2025-01-22 12:48:12.561 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 13 at "2025-01-22T10:48:12.5610350Z"
2025-01-22 12:48:12.561 +02:00 [INF] Fetching Gift with participants for Gift ID 13 at "2025-01-22T10:48:12.5617192Z"
2025-01-22 12:48:12.570 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:48:12.573 +02:00 [WRN] No participants found for Gift ID 13 at "2025-01-22T10:48:12.5733432Z"
2025-01-22 12:48:12.597 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 13 at "2025-01-22T10:48:12.5976554Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
2025-01-22 12:48:12.632 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 13 at "2025-01-22T10:48:12.6322419Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 272
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\server\project\Controllers\GiftController.cs:line 229
2025-01-22 12:48:12.635 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:48:12.636 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 76.3473ms
2025-01-22 12:48:12.637 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:48:12.637 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null application/json; charset=utf-8 81.9625ms
2025-01-22 12:48:17.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:48:17.754 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 12:48:17.754 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 12:48:17.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 3.7233ms
2025-01-22 12:48:17.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 12:48:17.853 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:17.854 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.1094ms
2025-01-22 12:48:17.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 12:48:17.858 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:17.859 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:48:17.860 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 12:48:17.863 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:17.8633206Z"
2025-01-22 12:48:17.864 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:17.8642222Z"
2025-01-22 12:48:17.864 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T10:48:17.8649378Z"
2025-01-22 12:48:17.869 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 12:48:17.871 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:17.8711538Z"
2025-01-22 12:48:17.871 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:17.8717572Z"
2025-01-22 12:48:17.872 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T10:48:17.8723487Z"
2025-01-22 12:48:17.873 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 12:48:17.873 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.8655ms
2025-01-22 12:48:17.874 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 12:48:17.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.7439ms
2025-01-22 12:48:19.408 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-22 12:48:19.410 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:19.411 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 2.6951ms
2025-01-22 12:48:19.414 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-22 12:48:19.415 +02:00 [INF] CORS policy execution successful.
2025-01-22 12:48:19.416 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:48:19.417 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 12:48:19.418 +02:00 [INF] Starting LotteryAsync for Gift ID 13 at "2025-01-22T10:48:19.4189687Z"
2025-01-22 12:48:19.419 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 13 at "2025-01-22T10:48:19.4197176Z"
2025-01-22 12:48:19.420 +02:00 [INF] Fetching Gift with participants for Gift ID 13 at "2025-01-22T10:48:19.4204703Z"
2025-01-22 12:48:19.429 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-22 12:48:19.432 +02:00 [WRN] No participants found for Gift ID 13 at "2025-01-22T10:48:19.4321615Z"
2025-01-22 12:48:19.449 +02:00 [ERR] Error occurred in LotteryAsync Service for Gift ID 13 at "2025-01-22T10:48:19.4491965Z"
System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
2025-01-22 12:48:19.487 +02:00 [ERR] Error occurred in LotteryAsync for Gift ID 13 at "2025-01-22T10:48:19.4873421Z"
System.Net.Http.HttpRequestException: An error occurred during the lottery process.
 ---> System.ApplicationException: No participants found for this gift.
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 239
   --- End of inner exception stack trace ---
   at project.Services.GiftService.LotteryAsync(Int32 giftId) in E:\server\project\Services\GiftService.cs:line 272
   at project.Controllers.GiftController.LotteryAsync(Int32 giftId) in E:\server\project\Controllers\GiftController.cs:line 229
2025-01-22 12:48:19.490 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 12:48:19.491 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 72.3552ms
2025-01-22 12:48:19.491 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-22 12:48:19.492 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 500 null application/json; charset=utf-8 78.4937ms
2025-01-22 13:07:58.928 +02:00 [INF] Starting up the application
2025-01-22 13:08:00.697 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 13:08:02.267 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 13:08:02.446 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 13:08:02.599 +02:00 [INF] Creating key {f3981837-0ae9-451d-98f9-f6109b92c49e} with creation date 2025-01-22 11:08:02Z, activation date 2025-01-22 11:08:02Z, and expiration date 2025-04-22 11:08:02Z.
2025-01-22 13:08:02.615 +02:00 [INF] Writing data to file 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys\key-f3981837-0ae9-451d-98f9-f6109b92c49e.xml'.
2025-01-22 13:08:02.726 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 13:08:02.730 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 13:08:02.731 +02:00 [INF] Hosting environment: Development
2025-01-22 13:08:02.731 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 13:08:03.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-01-22 13:08:04.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 235.6998ms
2025-01-22 13:08:04.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 13:08:04.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 134.9288ms
2025-01-22 13:08:04.179 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-01-22 13:08:04.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-01-22 13:08:04.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 13:08:04.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-01-22 13:08:04.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-01-22 13:08:04.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 15.131ms
2025-01-22 13:08:04.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 13:08:04.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 13:08:04.274 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-22 13:08:04.288 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 95.891ms
2025-01-22 13:08:04.408 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-22 13:08:04.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 225.8745ms
2025-01-22 13:08:04.448 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-22 13:08:04.331 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-22 13:08:04.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 230007 text/javascript 305.5614ms
2025-01-22 13:08:04.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1426050 text/javascript 317.5721ms
2025-01-22 13:08:04.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 152035 text/css 322.5608ms
2025-01-22 13:08:04.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 394.3738ms
2025-01-22 13:08:04.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 13:08:04.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-01-22 13:08:04.852 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-22 13:08:04.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 2.959ms
2025-01-22 13:08:05.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.1368ms
2025-01-22 13:11:24.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:11:24.210 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 13:11:24.375 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:11:24.392 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:11:24.564 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:11:24.5647185Z"
2025-01-22 13:11:24.650 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:11:24.683 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:24.6838160Z"
2025-01-22 13:11:24.685 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:24.6850885Z"
2025-01-22 13:11:24.685 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:24.6858944Z"
2025-01-22 13:11:24.692 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:11:24.736 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 339.404ms
2025-01-22 13:11:24.740 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:11:24.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 541.6761ms
2025-01-22 13:11:53.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:11:53.656 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:11:53.662 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:11:53.664 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:11:53.667 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:11:53.6675528Z"
2025-01-22 13:11:53.686 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:11:53.688 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:53.6888654Z"
2025-01-22 13:11:53.689 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:53.6895016Z"
2025-01-22 13:11:53.690 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:11:53.6903682Z"
2025-01-22 13:11:53.693 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:11:53.696 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 30.6978ms
2025-01-22 13:11:53.697 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:11:53.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 48.5841ms
2025-01-22 13:12:24.187 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 13:12:24.189 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:24.191 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 4.6707ms
2025-01-22 13:12:24.199 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 105
2025-01-22 13:12:24.200 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:24.203 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 13:12:24.214 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 13:12:24.260 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 13:12:24.274 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 13:12:24.399 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 13:12:24.512 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-22 13:12:24.526 +02:00 [INF] User registered successfully: ayala
2025-01-22 13:12:24.527 +02:00 [INF] User registered successfully.
2025-01-22 13:12:24.529 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:12:24.537 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 321.2229ms
2025-01-22 13:12:24.538 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 13:12:24.539 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 340.6101ms
2025-01-22 13:12:32.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 13:12:32.170 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:32.170 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.3785ms
2025-01-22 13:12:32.173 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 13:12:32.174 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:32.175 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:12:32.179 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 13:12:32.191 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 13:12:32.326 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 13:12:32.379 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 13:12:32.410 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 13:12:32.413 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:12:32.416 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 235.5533ms
2025-01-22 13:12:32.417 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:12:32.418 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 244.9909ms
2025-01-22 13:12:32.429 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:12:32.430 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:32.431 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:32.431 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:12:32.436 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:12:32.4369164Z"
2025-01-22 13:12:32.444 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:12:32.447 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:32.4473153Z"
2025-01-22 13:12:32.448 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:32.4484512Z"
2025-01-22 13:12:32.449 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:32.4490286Z"
2025-01-22 13:12:32.449 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:12:32.451 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 18.0129ms
2025-01-22 13:12:32.452 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:32.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 24.2302ms
2025-01-22 13:12:37.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 13:12:37.065 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:37.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 2.72ms
2025-01-22 13:12:37.068 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 13:12:37.070 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:37.114 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:12:37.119 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 13:12:37.124 +02:00 [INF] Starting GetByIdAsync with ID 4 at "2025-01-22T11:12:37.1245480Z"
2025-01-22 13:12:37.126 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T11:12:37.1262558Z"
2025-01-22 13:12:37.129 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T11:12:37.1297508Z"
2025-01-22 13:12:37.138 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:12:37.140 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 4 at "2025-01-22T11:12:37.1404921Z"
2025-01-22 13:12:37.141 +02:00 [INF] GetByIdAsync completed successfully with ID 4 at "2025-01-22T11:12:37.1411441Z"
2025-01-22 13:12:37.141 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 13:12:37.142 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 21.1845ms
2025-01-22 13:12:37.143 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:12:37.144 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 75.416ms
2025-01-22 13:12:37.146 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 13:12:37.147 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:37.148 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.3981ms
2025-01-22 13:12:37.150 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - application/json 2
2025-01-22 13:12:37.152 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:37.153 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 13:12:37.168 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:12:37.171 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 13:12:37.178 +02:00 [INF] Starting AddToBasketAsync with GiftId: 4 and Quantity: 1
2025-01-22 13:12:37.179 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 13:12:37.180 +02:00 [INF] Received request to fetch user by token.
2025-01-22 13:12:37.181 +02:00 [INF] Parsing token...
2025-01-22 13:12:37.182 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 13:12:37.204 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 13:12:37.206 +02:00 [INF] User successfully found: ayala
2025-01-22 13:12:37.207 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 13:12:37.207 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T11:12:37.2078965Z"
2025-01-22 13:12:37.210 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:12:37.211 +02:00 [INF] Gift with Id: 4 successfully retrieved.
2025-01-22 13:12:37.214 +02:00 [INF] Starting to add Gift 4 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 13:12:37.222 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 13:12:37.252 +02:00 [INF] Created new UserGift entry for Gift 4 (Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:12:37.273 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 13:12:37.275 +02:00 [INF] Successfully saved changes to database for Gift 4 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 13:12:37.276 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 4 with Quantity: 1
2025-01-22 13:12:37.277 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:12:37.277 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 105.1312ms
2025-01-22 13:12:37.278 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:12:37.279 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:12:37.280 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - 200 null application/json; charset=utf-8 129.1906ms
2025-01-22 13:12:38.128 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 13:12:38.130 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:38.131 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.0759ms
2025-01-22 13:12:38.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 13:12:38.136 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:38.137 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 13:12:38.140 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:12:38.143 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 13:12:38.151 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:12:38.155 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:12:38.183 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 13:12:38.190 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 1
2025-01-22 13:12:38.191 +02:00 [INF] Successfully retrieved 1 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:12:38.192 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:12:38.195 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 50.4972ms
2025-01-22 13:12:38.196 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:12:38.196 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:12:38.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 63.3089ms
2025-01-22 13:12:41.230 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:12:41.233 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:41.235 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:41.236 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:12:41.238 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:12:41.2388361Z"
2025-01-22 13:12:41.243 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:12:41.244 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:41.2449142Z"
2025-01-22 13:12:41.245 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:41.2454817Z"
2025-01-22 13:12:41.246 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:41.2460458Z"
2025-01-22 13:12:41.247 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:12:41.248 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.6858ms
2025-01-22 13:12:41.249 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:41.249 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.3551ms
2025-01-22 13:12:48.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:12:48.915 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:12:48.917 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:48.918 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:12:48.920 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:12:48.9203076Z"
2025-01-22 13:12:48.926 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:12:48.928 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:48.9286660Z"
2025-01-22 13:12:48.929 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:48.9296133Z"
2025-01-22 13:12:48.930 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:12:48.9308519Z"
2025-01-22 13:12:48.931 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:12:48.933 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 13.1309ms
2025-01-22 13:12:48.933 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:12:48.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 22.4334ms
2025-01-22 13:13:01.512 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 13:13:01.514 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:01.515 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.7774ms
2025-01-22 13:13:01.517 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 13:13:01.518 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:01.519 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:13:01.519 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 13:13:01.534 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 13:13:01.621 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 13:13:01.628 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 13:13:01.633 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 13:13:01.638 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:13:01.639 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 118.3313ms
2025-01-22 13:13:01.640 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:13:01.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 124.2373ms
2025-01-22 13:13:01.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:13:01.652 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:01.652 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:01.653 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:01.654 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:13:01.6548738Z"
2025-01-22 13:13:01.657 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:13:01.661 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:01.6616322Z"
2025-01-22 13:13:01.662 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:01.6624133Z"
2025-01-22 13:13:01.663 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:01.6632095Z"
2025-01-22 13:13:01.664 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:01.665 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.1595ms
2025-01-22 13:13:01.666 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:01.668 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.476ms
2025-01-22 13:13:05.547 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:13:05.549 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:05.549 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.1598ms
2025-01-22 13:13:05.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 13:13:05.555 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:05.559 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:05.562 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:05.565 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:05.5658379Z"
2025-01-22 13:13:05.566 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:05.5669241Z"
2025-01-22 13:13:05.569 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:05.5691565Z"
2025-01-22 13:13:05.615 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 13:13:05.617 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:05.6173952Z"
2025-01-22 13:13:05.617 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:05.6179423Z"
2025-01-22 13:13:05.618 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:05.6184806Z"
2025-01-22 13:13:05.619 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:05.622 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 58.621ms
2025-01-22 13:13:05.624 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:05.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 72.5196ms
2025-01-22 13:13:06.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 13:13:06.948 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:06.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 6.0817ms
2025-01-22 13:13:06.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 13:13:06.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:06.955 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 13:13:06.957 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 13:13:06.960 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 13:13:07.173 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 13:13:07.200 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 13:13:07.202 +02:00 [WRN] No winners found with associated gifts.
2025-01-22 13:13:07.439 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 13:13:07.444 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 482.5077ms
2025-01-22 13:13:07.446 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 13:13:07.447 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:13:07.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2655 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 495.4535ms
2025-01-22 13:13:08.706 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-22 13:13:08.709 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:08.710 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 4.119ms
2025-01-22 13:13:08.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-22 13:13:08.715 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:08.718 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-22 13:13:08.720 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 13:13:08.725 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 13:13:08.731 +02:00 [INF] Calculating gift revenues.
2025-01-22 13:13:08.771 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN (
        SELECT [u2].[GiftId]
        FROM [UserGifts] AS [u2]
        WHERE [u2].[GiftStatus] = N'Purchased'
    ) AS [u1] ON [g0].[Id] = [u1].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u0].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN (
    SELECT [u].[GiftId], [u].[Quantity]
    FROM [UserGifts] AS [u]
    WHERE [u].[GiftStatus] = N'Purchased'
) AS [u0] ON [g].[Id] = [u0].[GiftId]
GROUP BY [g].[Id]
2025-01-22 13:13:08.777 +02:00 [INF] Total revenue calculated: 0.
2025-01-22 13:13:09.117 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-22 13:13:09.119 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 391.4964ms
2025-01-22 13:13:09.119 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 13:13:09.120 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:13:09.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2795 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 408.6452ms
2025-01-22 13:13:25.576 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 13:13:25.578 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:25.579 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.452ms
2025-01-22 13:13:25.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 13:13:25.584 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:25.585 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:13:25.588 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:25.592 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 13:13:25.593 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:13:25.5933201Z"
2025-01-22 13:13:25.595 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:13:25.5950684Z"
2025-01-22 13:13:25.614 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 13:13:25.616 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:13:25.6164519Z"
2025-01-22 13:13:25.617 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:13:25.6170822Z"
2025-01-22 13:13:25.617 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 13:13:25.618 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:25.619 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 28.7228ms
2025-01-22 13:13:25.621 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:13:25.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 38.9358ms
2025-01-22 13:13:25.975 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:13:25.978 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:25.980 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.8979ms
2025-01-22 13:13:25.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:13:25.987 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:25.987 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:13:25.988 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:13:25.992 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:13:25.998 +02:00 [INF] Fetching all donators.
2025-01-22 13:13:26.001 +02:00 [INF] Fetching all donators.
2025-01-22 13:13:26.011 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:13:26.023 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:13:26.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:26.026 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 32.3954ms
2025-01-22 13:13:26.027 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:13:26.028 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:13:26.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 44.2207ms
2025-01-22 13:13:26.814 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:13:26.817 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:26.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.9426ms
2025-01-22 13:13:26.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 13:13:26.823 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:26.823 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:26.824 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:26.825 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:26.8258899Z"
2025-01-22 13:13:26.826 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:26.8263914Z"
2025-01-22 13:13:26.826 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:26.8269330Z"
2025-01-22 13:13:26.835 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 13:13:26.837 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:26.8372656Z"
2025-01-22 13:13:26.837 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:26.8377543Z"
2025-01-22 13:13:26.838 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:26.8382866Z"
2025-01-22 13:13:26.838 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:26.839 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.0288ms
2025-01-22 13:13:26.840 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:26.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.0499ms
2025-01-22 13:13:27.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:13:27.881 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:27.881 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:27.882 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:27.883 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:13:27.8839779Z"
2025-01-22 13:13:27.888 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:13:27.890 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:27.8905340Z"
2025-01-22 13:13:27.891 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:27.8910337Z"
2025-01-22 13:13:27.891 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:27.8915757Z"
2025-01-22 13:13:27.892 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:27.893 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.2835ms
2025-01-22 13:13:27.893 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:27.894 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.7598ms
2025-01-22 13:13:28.309 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 13:13:28.312 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:28.320 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 10.9125ms
2025-01-22 13:13:28.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 13:13:28.328 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:28.333 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 13:13:28.335 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:13:28.337 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 13:13:28.341 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 13:13:28.342 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 13:13:28.349 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 13:13:28.353 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 13:13:28.353 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 13:13:28.354 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:28.360 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 20.6358ms
2025-01-22 13:13:28.361 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:13:28.362 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:13:28.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 38.6953ms
2025-01-22 13:13:29.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:13:29.401 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:29.402 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:29.402 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:29.404 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:13:29.4044565Z"
2025-01-22 13:13:29.411 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:13:29.413 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:29.4135149Z"
2025-01-22 13:13:29.414 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:29.4142579Z"
2025-01-22 13:13:29.414 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:29.4149299Z"
2025-01-22 13:13:29.415 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:29.416 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.3291ms
2025-01-22 13:13:29.417 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:29.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.6766ms
2025-01-22 13:13:31.524 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 13:13:31.528 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:31.530 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 6.1061ms
2025-01-22 13:13:31.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 13:13:31.534 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:31.535 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:13:31.536 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:31.538 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 13:13:31.539 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:13:31.5390587Z"
2025-01-22 13:13:31.539 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:13:31.5395933Z"
2025-01-22 13:13:31.545 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 13:13:31.547 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:13:31.5475067Z"
2025-01-22 13:13:31.548 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:13:31.5480191Z"
2025-01-22 13:13:31.548 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 13:13:31.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:31.550 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 11.7771ms
2025-01-22 13:13:31.550 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:13:31.551 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.6586ms
2025-01-22 13:13:31.934 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:13:31.936 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:31.936 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.769ms
2025-01-22 13:13:31.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:13:31.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:31.941 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:13:31.942 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:13:31.942 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:13:31.945 +02:00 [INF] Fetching all donators.
2025-01-22 13:13:31.945 +02:00 [INF] Fetching all donators.
2025-01-22 13:13:31.948 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:13:31.950 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:13:31.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:31.952 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 7.6269ms
2025-01-22 13:13:31.952 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:13:31.953 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:13:31.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 14.793ms
2025-01-22 13:13:32.625 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:13:32.628 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:32.628 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.4219ms
2025-01-22 13:13:32.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 13:13:32.633 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:32.634 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:32.635 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:32.636 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:32.6367184Z"
2025-01-22 13:13:32.637 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:32.6372888Z"
2025-01-22 13:13:32.637 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:13:32.6378265Z"
2025-01-22 13:13:32.641 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 13:13:32.644 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:32.6441724Z"
2025-01-22 13:13:32.646 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:32.6463487Z"
2025-01-22 13:13:32.647 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:13:32.6470798Z"
2025-01-22 13:13:32.647 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:32.648 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.3547ms
2025-01-22 13:13:32.649 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:13:32.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.4529ms
2025-01-22 13:13:36.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:13:36.320 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 13:13:36.326 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 13:13:36.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.8969ms
2025-01-22 13:13:36.507 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:13:36.509 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:13:36.510 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 13:13:36.510 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 13:13:36.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.0149ms
2025-01-22 13:13:40.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:13:40.314 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:40.315 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:13:40.317 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:13:40.3178996Z"
2025-01-22 13:13:40.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:13:40.325 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:40.3257448Z"
2025-01-22 13:13:40.326 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:40.3267847Z"
2025-01-22 13:13:40.328 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:13:40.3280387Z"
2025-01-22 13:13:40.328 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:13:40.329 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.1965ms
2025-01-22 13:13:40.331 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:13:40.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.9412ms
2025-01-22 13:14:18.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 13:14:18.604 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:14:18.605 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 13:14:18.606 +02:00 [WRN] Missing Authorization Header
2025-01-22 13:14:18.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.5982ms
2025-01-22 13:14:20.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:14:20.626 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:14:20.627 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:14:20.628 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:14:20.630 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:14:20.6301661Z"
2025-01-22 13:14:20.637 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:14:20.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:14:20.6392648Z"
2025-01-22 13:14:20.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:14:20.6397766Z"
2025-01-22 13:14:20.641 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:14:20.6412455Z"
2025-01-22 13:14:20.642 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:14:20.643 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 13.0987ms
2025-01-22 13:14:20.643 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:14:20.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 21.1363ms
2025-01-22 13:15:19.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 13:15:19.938 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:19.939 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.4211ms
2025-01-22 13:15:19.948 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 13:15:19.949 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:19.950 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:15:19.951 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 13:15:19.974 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 13:15:20.071 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 13:15:20.081 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 13:15:20.086 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 13:15:20.088 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:15:20.089 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 136.8433ms
2025-01-22 13:15:20.089 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:15:20.090 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 142.753ms
2025-01-22 13:15:20.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:15:20.103 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:20.104 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:15:20.105 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:15:20.107 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:15:20.1075822Z"
2025-01-22 13:15:20.113 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:15:20.115 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:20.1156183Z"
2025-01-22 13:15:20.116 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:20.1163099Z"
2025-01-22 13:15:20.117 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:20.1170206Z"
2025-01-22 13:15:20.118 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:15:20.119 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.5075ms
2025-01-22 13:15:20.120 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:15:20.121 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.6524ms
2025-01-22 13:15:22.632 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 13:15:22.633 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:22.634 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 2.2937ms
2025-01-22 13:15:22.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 13:15:22.640 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:22.641 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:15:22.642 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 13:15:22.643 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T11:15:22.6438683Z"
2025-01-22 13:15:22.644 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T11:15:22.6445005Z"
2025-01-22 13:15:22.645 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T11:15:22.6451356Z"
2025-01-22 13:15:22.651 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:15:22.654 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T11:15:22.6542710Z"
2025-01-22 13:15:22.655 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T11:15:22.6550880Z"
2025-01-22 13:15:22.656 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 13:15:22.656 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 13.2952ms
2025-01-22 13:15:22.657 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:15:22.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 21.5891ms
2025-01-22 13:15:22.660 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 13:15:22.661 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:22.662 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 1.8361ms
2025-01-22 13:15:22.663 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 13:15:22.665 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:22.665 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 13:15:22.666 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:22.667 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 13:15:22.670 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 13:15:22.671 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 13:15:22.671 +02:00 [INF] Received request to fetch user by token.
2025-01-22 13:15:22.672 +02:00 [INF] Parsing token...
2025-01-22 13:15:22.672 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 13:15:22.678 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 13:15:22.680 +02:00 [INF] User successfully found: ayala
2025-01-22 13:15:22.680 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 13:15:22.681 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T11:15:22.6815161Z"
2025-01-22 13:15:22.689 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:15:22.690 +02:00 [INF] Gift with Id: 5 successfully retrieved.
2025-01-22 13:15:22.691 +02:00 [INF] Starting to add Gift 5 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 13:15:22.697 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 13:15:22.699 +02:00 [INF] Created new UserGift entry for Gift 5 (Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:22.706 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 13:15:22.708 +02:00 [INF] Successfully saved changes to database for Gift 5 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 13:15:22.708 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 5 with Quantity: 1
2025-01-22 13:15:22.709 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:15:22.710 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 40.5396ms
2025-01-22 13:15:22.711 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:22.712 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:15:22.712 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 200 null application/json; charset=utf-8 48.7803ms
2025-01-22 13:15:24.622 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 13:15:24.626 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:24.627 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 4.6541ms
2025-01-22 13:15:24.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 13:15:24.630 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:24.631 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 13:15:24.632 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:15:24.633 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 13:15:24.636 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:24.637 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:24.647 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 13:15:24.650 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 2
2025-01-22 13:15:24.651 +02:00 [INF] Successfully retrieved 2 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:24.652 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:15:24.653 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 16.8907ms
2025-01-22 13:15:24.653 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:15:24.654 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:15:24.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 26.1735ms
2025-01-22 13:15:36.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:15:36.507 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:36.509 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:15:36.509 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:15:36.512 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:15:36.5122073Z"
2025-01-22 13:15:36.525 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:15:36.527 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:36.5270075Z"
2025-01-22 13:15:36.527 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:36.5274981Z"
2025-01-22 13:15:36.528 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:15:36.5280352Z"
2025-01-22 13:15:36.529 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:15:36.530 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 18.0598ms
2025-01-22 13:15:36.530 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:15:36.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 26.7606ms
2025-01-22 13:15:40.632 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/6 - null null
2025-01-22 13:15:40.634 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:40.634 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/6 - 204 null null 2.4508ms
2025-01-22 13:15:40.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/6 - application/json null
2025-01-22 13:15:40.637 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:40.638 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:15:40.638 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 13:15:40.640 +02:00 [INF] Starting GetByIdAsync with ID 6 at "2025-01-22T11:15:40.6404467Z"
2025-01-22 13:15:40.641 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T11:15:40.6410546Z"
2025-01-22 13:15:40.641 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T11:15:40.6417461Z"
2025-01-22 13:15:41.279 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 13:15:41.282 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:41.283 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 4.3866ms
2025-01-22 13:15:41.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 13:15:41.289 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:41.290 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 13:15:41.291 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:15:41.292 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 13:15:41.294 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:41.294 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:41.614 +02:00 [INF] Executed DbCommand (972ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:15:41.617 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 6 at "2025-01-22T11:15:41.6173523Z"
2025-01-22 13:15:41.617 +02:00 [INF] GetByIdAsync completed successfully with ID 6 at "2025-01-22T11:15:41.6179600Z"
2025-01-22 13:15:41.619 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 13:15:41.622 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 13:15:41.623 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 983.2725ms
2025-01-22 13:15:41.627 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 2
2025-01-22 13:15:41.628 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 13:15:41.629 +02:00 [INF] Successfully retrieved 2 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:41.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/6 - 200 null application/json; charset=utf-8 993.7133ms
2025-01-22 13:15:41.631 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:15:41.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6 - null null
2025-01-22 13:15:41.643 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 349.4456ms
2025-01-22 13:15:41.646 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:41.647 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 13:15:41.647 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6 - 204 null null 12.4952ms
2025-01-22 13:15:41.648 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:15:41.651 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=6 - application/json 2
2025-01-22 13:15:41.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 364.8618ms
2025-01-22 13:15:41.654 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:41.656 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 13:15:41.657 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:41.658 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 13:15:41.659 +02:00 [INF] Starting AddToBasketAsync with GiftId: 6 and Quantity: 1
2025-01-22 13:15:41.660 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 13:15:41.661 +02:00 [INF] Received request to fetch user by token.
2025-01-22 13:15:41.662 +02:00 [INF] Parsing token...
2025-01-22 13:15:41.663 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 13:15:41.670 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 13:15:41.672 +02:00 [INF] User successfully found: ayala
2025-01-22 13:15:41.672 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 13:15:41.673 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T11:15:41.6736588Z"
2025-01-22 13:15:41.675 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:15:41.676 +02:00 [INF] Gift with Id: 6 successfully retrieved.
2025-01-22 13:15:41.677 +02:00 [INF] Starting to add Gift 6 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 13:15:41.680 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 13:15:41.682 +02:00 [INF] Created new UserGift entry for Gift 6 (Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:41.686 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 13:15:41.687 +02:00 [INF] Successfully saved changes to database for Gift 6 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 13:15:41.688 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 6 with Quantity: 1
2025-01-22 13:15:41.689 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:15:41.690 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 30.773ms
2025-01-22 13:15:41.691 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:41.691 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:15:41.692 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=6 - 200 null application/json; charset=utf-8 41.1911ms
2025-01-22 13:15:43.456 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5&quantity=2 - null null
2025-01-22 13:15:43.459 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:43.459 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5&quantity=2 - 204 null null 2.6623ms
2025-01-22 13:15:43.461 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5&quantity=2 - application/json 14
2025-01-22 13:15:43.463 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:15:43.464 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 13:15:43.465 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:43.466 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 13:15:43.469 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 2
2025-01-22 13:15:43.470 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 13:15:43.470 +02:00 [INF] Received request to fetch user by token.
2025-01-22 13:15:43.471 +02:00 [INF] Parsing token...
2025-01-22 13:15:43.472 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 13:15:43.475 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 13:15:43.477 +02:00 [INF] User successfully found: ayala
2025-01-22 13:15:43.478 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 13:15:43.479 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T11:15:43.4796533Z"
2025-01-22 13:15:43.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 13:15:43.483 +02:00 [INF] Gift with Id: 5 successfully retrieved.
2025-01-22 13:15:43.484 +02:00 [INF] Starting to add Gift 5 (Quantity: 2) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 13:15:43.486 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 13:15:43.488 +02:00 [INF] Updated existing UserGift entry for Gift 5 (New Quantity: 2) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 13:15:43.496 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 13:15:43.502 +02:00 [INF] Successfully saved changes to database for Gift 5 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 2)
2025-01-22 13:15:43.503 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 5 with Quantity: 2
2025-01-22 13:15:43.504 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:15:43.505 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 36.8588ms
2025-01-22 13:15:43.506 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 13:15:43.506 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:15:43.507 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5&quantity=2 - 200 null application/json; charset=utf-8 45.7974ms
2025-01-22 13:23:20.662 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 13:23:20.667 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:20.667 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.4743ms
2025-01-22 13:23:20.670 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 13:23:20.673 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:20.674 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:23:20.674 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 13:23:20.701 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 13:23:20.785 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 13:23:20.790 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 13:23:20.794 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 13:23:20.796 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:23:20.798 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 120.9747ms
2025-01-22 13:23:20.798 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 13:23:20.799 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 129.9189ms
2025-01-22 13:23:20.813 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:23:20.815 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:20.816 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:23:20.816 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:23:20.818 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:23:20.8180833Z"
2025-01-22 13:23:20.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:23:20.825 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:23:20.8255785Z"
2025-01-22 13:23:20.826 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:23:20.8265348Z"
2025-01-22 13:23:20.827 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:23:20.8275972Z"
2025-01-22 13:23:20.828 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:20.830 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.0908ms
2025-01-22 13:23:20.830 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:23:20.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.0273ms
2025-01-22 13:23:27.019 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:23:27.021 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:27.021 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.0466ms
2025-01-22 13:23:27.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:23:27.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:27.027 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:23:27.028 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:27.029 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:23:27.031 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:27.032 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:27.036 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:23:27.037 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:23:27.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:27.038 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.4931ms
2025-01-22 13:23:27.040 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:27.042 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:23:27.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 18.6324ms
2025-01-22 13:23:28.268 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 13:23:28.271 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:28.271 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.5063ms
2025-01-22 13:23:28.274 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 13:23:28.276 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:28.278 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:23:28.279 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 13:23:28.281 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:23:28.2814298Z"
2025-01-22 13:23:28.282 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:23:28.2820646Z"
2025-01-22 13:23:28.282 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T11:23:28.2828052Z"
2025-01-22 13:23:28.287 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 13:23:28.289 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:23:28.2892320Z"
2025-01-22 13:23:28.289 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:23:28.2899083Z"
2025-01-22 13:23:28.290 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T11:23:28.2905629Z"
2025-01-22 13:23:28.291 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:28.292 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 10.975ms
2025-01-22 13:23:28.293 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 13:23:28.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 18.8319ms
2025-01-22 13:23:30.082 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 13:23:30.084 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:30.084 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 2.5285ms
2025-01-22 13:23:30.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 13:23:30.088 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:30.088 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 13:23:30.089 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 13:23:30.090 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 13:23:30.093 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 13:23:30.100 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 13:23:30.102 +02:00 [WRN] No winners found with associated gifts.
2025-01-22 13:23:30.108 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 13:23:30.109 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 17.9728ms
2025-01-22 13:23:30.110 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 13:23:30.111 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:23:30.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2655 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 25.189ms
2025-01-22 13:23:36.306 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-22 13:23:36.309 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:36.309 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 2.6176ms
2025-01-22 13:23:36.311 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-22 13:23:36.313 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:36.313 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-22 13:23:36.314 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 13:23:36.315 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 13:23:36.317 +02:00 [INF] Calculating gift revenues.
2025-01-22 13:23:36.325 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN (
        SELECT [u2].[GiftId]
        FROM [UserGifts] AS [u2]
        WHERE [u2].[GiftStatus] = N'Purchased'
    ) AS [u1] ON [g0].[Id] = [u1].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u0].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN (
    SELECT [u].[GiftId], [u].[Quantity]
    FROM [UserGifts] AS [u]
    WHERE [u].[GiftStatus] = N'Purchased'
) AS [u0] ON [g].[Id] = [u0].[GiftId]
GROUP BY [g].[Id]
2025-01-22 13:23:36.327 +02:00 [INF] Total revenue calculated: 0.
2025-01-22 13:23:36.343 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-22 13:23:36.344 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 27.9978ms
2025-01-22 13:23:36.345 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-22 13:23:36.346 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:23:36.346 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2795 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 34.9361ms
2025-01-22 13:23:47.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:23:47.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 13:23:47.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:47.029 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:47.031 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.3073ms
2025-01-22 13:23:47.033 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 13:23:47.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:23:47.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:47.040 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:23:47.042 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:47.042 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 13:23:47.042 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:23:47.048 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:47.049 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:47.055 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:23:47.057 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:23:47.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:47.059 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.0877ms
2025-01-22 13:23:47.059 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:47.061 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:23:47.062 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 13:23:47.067 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 30.5556ms
2025-01-22 13:23:47.073 +02:00 [INF] Successfully retrieved categories.
2025-01-22 13:23:47.074 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:47.077 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 31.8346ms
2025-01-22 13:23:47.078 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 13:23:47.078 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 54ms
2025-01-22 13:23:55.272 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:23:55.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 13:23:55.273 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:55.275 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:55.276 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.0703ms
2025-01-22 13:23:55.277 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 13:23:55.279 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:23:55.280 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 13:23:55.281 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:23:55.284 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:23:55.286 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:55.286 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 13:23:55.287 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:23:55.288 +02:00 [INF] Successfully retrieved categories.
2025-01-22 13:23:55.290 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:55.290 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:55.291 +02:00 [INF] Fetching all donators.
2025-01-22 13:23:55.292 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 8.7819ms
2025-01-22 13:23:55.296 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 13:23:55.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:23:55.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 25.5009ms
2025-01-22 13:23:55.300 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:23:55.303 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:23:55.304 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 14.4031ms
2025-01-22 13:23:55.305 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:23:55.305 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:23:55.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 27.4074ms
2025-01-22 13:24:35.819 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 13:24:35.829 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:35.829 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.5163ms
2025-01-22 13:24:35.832 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 13:24:35.837 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:35.837 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:24:35.838 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 13:24:35.842 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 13:24:35.842 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:24:35.8424731Z"
2025-01-22 13:24:35.843 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:24:35.8430361Z"
2025-01-22 13:24:35.852 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 13:24:35.853 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:24:35.8535279Z"
2025-01-22 13:24:35.854 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:24:35.8544044Z"
2025-01-22 13:24:35.855 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 13:24:35.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:24:35.857 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 15.2507ms
2025-01-22 13:24:35.857 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:24:35.858 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 26.2127ms
2025-01-22 13:24:36.482 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:24:36.485 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:36.487 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.1657ms
2025-01-22 13:24:36.491 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:24:36.496 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:36.497 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:24:36.499 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:24:36.499 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:36.501 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:36.502 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:36.531 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:36.534 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:36.534 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:24:36.535 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 34.1298ms
2025-01-22 13:24:36.536 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:24:36.537 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:36.538 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 46.6531ms
2025-01-22 13:24:38.642 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 13:24:38.644 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:38.645 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 2.658ms
2025-01-22 13:24:38.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 13:24:38.648 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:38.649 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 13:24:38.650 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:38.653 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:38.656 +02:00 [INF] Filtering donators by email.
2025-01-22 13:24:38.656 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:38.661 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:38.662 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:38.663 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:24:38.665 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 10.7401ms
2025-01-22 13:24:38.666 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:38.667 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:38.667 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 20.8152ms
2025-01-22 13:24:40.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 13:24:40.596 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:40.597 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 13:24:40.598 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:40.598 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:40.600 +02:00 [INF] Filtering donators by email.
2025-01-22 13:24:40.600 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:40.603 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:40.605 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:40.606 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:24:40.606 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.7268ms
2025-01-22 13:24:40.607 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:40.608 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:40.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.2838ms
2025-01-22 13:24:41.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 13:24:41.292 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:41.293 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 13:24:41.294 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:41.295 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:41.296 +02:00 [INF] Filtering donators by email.
2025-01-22 13:24:41.296 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:41.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:41.301 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:41.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:24:41.302 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.5018ms
2025-01-22 13:24:41.303 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:41.304 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:41.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.3946ms
2025-01-22 13:24:42.905 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-22 13:24:42.907 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:24:42.908 +02:00 [WRN] Missing Authorization Header
2025-01-22 13:24:42.908 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 3.1555ms
2025-01-22 13:24:43.143 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 13:24:43.145 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:43.147 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.2173ms
2025-01-22 13:24:43.149 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 13:24:43.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:43.151 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 13:24:43.152 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:24:43.154 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:43.157 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:43.157 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:43.160 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:43.162 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:43.163 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:24:43.164 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 7.4962ms
2025-01-22 13:24:43.165 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 13:24:43.166 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:43.166 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 17.1682ms
2025-01-22 13:24:47.803 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 13:24:47.805 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:47.805 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 2.2541ms
2025-01-22 13:24:47.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 13:24:47.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:47.810 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 13:24:47.810 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:47.811 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:47.812 +02:00 [INF] Filtering donators by email.
2025-01-22 13:24:47.813 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:47.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:47.817 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:47.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:24:47.818 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.0784ms
2025-01-22 13:24:47.819 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 13:24:47.820 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:47.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 12.8613ms
2025-01-22 13:24:49.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-22 13:24:49.589 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:49.589 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 2.1937ms
2025-01-22 13:24:49.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 13:24:49.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:24:49.593 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 13:24:49.594 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 13:24:49.597 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 13:24:49.601 +02:00 [INF] Filtering donators by name.
2025-01-22 13:24:49.601 +02:00 [INF] Fetching all donators.
2025-01-22 13:24:49.604 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 13:24:49.606 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 13:24:49.607 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 13:24:49.609 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 9.4548ms
2025-01-22 13:24:49.609 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 13:24:49.610 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:24:49.611 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 19.7425ms
2025-01-22 13:25:40.034 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 13:25:40.037 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:25:40.038 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.9356ms
2025-01-22 13:25:40.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 13:25:40.047 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:25:40.047 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:25:40.048 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 13:25:40.052 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 13:25:40.053 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:25:40.0530245Z"
2025-01-22 13:25:40.053 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T11:25:40.0536465Z"
2025-01-22 13:25:40.063 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 13:25:40.064 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:25:40.0644252Z"
2025-01-22 13:25:40.064 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T11:25:40.0649209Z"
2025-01-22 13:25:40.065 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 13:25:40.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:25:40.067 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 14.6362ms
2025-01-22 13:25:40.067 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 13:25:40.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 22.6726ms
2025-01-22 13:25:47.604 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/10/buyers - null null
2025-01-22 13:25:47.606 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:25:47.607 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/10/buyers - 204 null null 3.0027ms
2025-01-22 13:25:47.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/10/buyers - application/json null
2025-01-22 13:25:47.614 +02:00 [INF] CORS policy execution successful.
2025-01-22 13:25:47.614 +02:00 [INF] Incoming Request: GET /api/User/10/buyers
2025-01-22 13:25:47.615 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 13:25:47.618 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 13:25:47.638 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 13:25:47.642 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:25:47.644 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 23.7283ms
2025-01-22 13:25:47.645 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 13:25:47.646 +02:00 [INF] Outgoing Response: 200
2025-01-22 13:25:47.648 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/10/buyers - 200 null application/json; charset=utf-8 37.8799ms
2025-01-22 13:52:29.574 +02:00 [INF] Starting up the application
2025-01-22 13:52:35.638 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 13:52:39.001 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 13:52:39.105 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 13:52:39.284 +02:00 [INF] Creating key {d2943073-20a7-49f2-a023-7b23394987c2} with creation date 2025-01-22 11:52:39Z, activation date 2025-01-22 11:52:39Z, and expiration date 2025-04-22 11:52:39Z.
2025-01-22 13:52:39.308 +02:00 [INF] Writing data to file 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys\key-d2943073-20a7-49f2-a023-7b23394987c2.xml'.
2025-01-22 13:52:39.429 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 13:52:39.433 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 13:52:39.434 +02:00 [INF] Hosting environment: Development
2025-01-22 13:52:39.435 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 13:52:40.240 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-01-22 13:52:40.427 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 203.4906ms
2025-01-22 13:52:40.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 13:52:40.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 116.2388ms
2025-01-22 13:52:40.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-01-22 13:52:40.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 13:52:40.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-01-22 13:52:40.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-01-22 13:52:40.570 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.53ms
2025-01-22 13:52:40.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-01-22 13:52:40.581 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 13:52:40.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 13:52:40.596 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-22 13:52:40.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 37.3623ms
2025-01-22 13:52:40.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 47.1779ms
2025-01-22 13:52:40.607 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-22 13:52:40.621 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-22 13:52:40.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 230007 text/javascript 65.0896ms
2025-01-22 13:52:40.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1426050 text/javascript 65.0678ms
2025-01-22 13:52:40.632 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-22 13:52:40.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 152035 text/css 77.1575ms
2025-01-22 13:52:40.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.1777ms
2025-01-22 13:52:40.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 13:52:40.833 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-01-22 13:52:40.837 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-22 13:52:40.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 11.2397ms
2025-01-22 13:52:41.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.315ms
2025-01-22 13:53:42.135 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 13:53:42.141 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 13:53:42.654 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:53:42.673 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 13:53:42.799 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T11:53:42.7992706Z"
2025-01-22 13:53:42.872 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 13:53:42.907 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:53:42.9076507Z"
2025-01-22 13:53:42.909 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:53:42.9088563Z"
2025-01-22 13:53:42.909 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T11:53:42.9099791Z"
2025-01-22 13:53:42.914 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 13:53:42.955 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 276.3711ms
2025-01-22 13:53:42.957 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 13:53:42.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 827.2309ms
2025-01-22 14:01:04.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:01:04.917 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:01:04.918 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:01:04.921 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:01:04.9219043Z"
2025-01-22 14:01:04.959 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:01:04.961 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:04.9616836Z"
2025-01-22 14:01:04.962 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:04.9623403Z"
2025-01-22 14:01:04.962 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:04.9629468Z"
2025-01-22 14:01:04.963 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:01:04.965 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 45.2833ms
2025-01-22 14:01:04.966 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:01:04.966 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 84.285ms
2025-01-22 14:01:53.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:01:53.667 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:01:53.670 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:01:53.671 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:01:53.677 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:01:53.6775543Z"
2025-01-22 14:01:53.682 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:01:53.684 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:53.6849867Z"
2025-01-22 14:01:53.685 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:53.6856596Z"
2025-01-22 14:01:53.686 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:01:53.6862971Z"
2025-01-22 14:01:53.687 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:01:53.690 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 16.592ms
2025-01-22 14:01:53.691 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:01:53.692 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 28.4838ms
2025-01-22 14:02:14.079 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:02:14.082 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:14.084 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 29.6012ms
2025-01-22 14:02:14.090 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 14:02:14.092 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:14.094 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:02:14.103 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:02:14.150 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:02:14.438 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:02:14.484 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:02:14.512 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:02:14.525 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:02:14.534 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 429.3607ms
2025-01-22 14:02:14.535 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:02:14.536 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 446.0025ms
2025-01-22 14:02:14.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:02:14.545 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:14.546 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:02:14.547 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:02:14.549 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:02:14.5493626Z"
2025-01-22 14:02:14.552 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:02:14.555 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:14.5558767Z"
2025-01-22 14:02:14.556 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:14.5565663Z"
2025-01-22 14:02:14.557 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:14.5574212Z"
2025-01-22 14:02:14.558 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:14.559 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4221ms
2025-01-22 14:02:14.560 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:02:14.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.5704ms
2025-01-22 14:02:23.558 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:02:23.560 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:23.561 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.2246ms
2025-01-22 14:02:23.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:02:23.565 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:23.609 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:02:23.613 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:02:23.616 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:02:23.617 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:02:23.6176805Z"
2025-01-22 14:02:23.619 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:02:23.6196244Z"
2025-01-22 14:02:23.655 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:02:23.658 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:02:23.6580016Z"
2025-01-22 14:02:23.658 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:02:23.6586701Z"
2025-01-22 14:02:23.659 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:02:23.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:23.663 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 47.9498ms
2025-01-22 14:02:23.664 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:02:23.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 101.7947ms
2025-01-22 14:02:26.760 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/4/buyers - null null
2025-01-22 14:02:26.762 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:26.763 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/4/buyers - 204 null null 3.9909ms
2025-01-22 14:02:26.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - application/json null
2025-01-22 14:02:26.768 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:26.768 +02:00 [INF] Incoming Request: GET /api/User/4/buyers
2025-01-22 14:02:26.784 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:26.789 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:02:26.822 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:02:26.824 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:26.827 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 35.5663ms
2025-01-22 14:02:26.828 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:26.829 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:02:26.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - 200 null application/json; charset=utf-8 63.5567ms
2025-01-22 14:02:27.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - application/json null
2025-01-22 14:02:27.518 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:27.519 +02:00 [INF] Incoming Request: GET /api/User/4/buyers
2025-01-22 14:02:27.521 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:27.521 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:02:27.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:02:27.539 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:27.540 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 16.7785ms
2025-01-22 14:02:27.541 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:27.542 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:02:27.543 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - 200 null application/json; charset=utf-8 27.4024ms
2025-01-22 14:02:28.140 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - application/json null
2025-01-22 14:02:28.142 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:28.143 +02:00 [INF] Incoming Request: GET /api/User/4/buyers
2025-01-22 14:02:28.144 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:28.145 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:02:28.150 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:02:28.152 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:28.153 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 6.8908ms
2025-01-22 14:02:28.154 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:02:28.154 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:02:28.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/4/buyers - 200 null application/json; charset=utf-8 14.7853ms
2025-01-22 14:02:31.563 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:02:31.564 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:31.565 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.3252ms
2025-01-22 14:02:31.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:02:31.569 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:31.569 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:02:31.572 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:02:31.576 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:02:31.580 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:02:31.582 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:02:31.606 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:02:31.608 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:02:31.609 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:02:31.610 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:31.615 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 37.6012ms
2025-01-22 14:02:31.616 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:02:31.617 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:02:31.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 50.4959ms
2025-01-22 14:02:31.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:02:31.952 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:31.953 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:02:31.954 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:02:31.955 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:02:31.9556193Z"
2025-01-22 14:02:31.959 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:02:31.962 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:31.9624627Z"
2025-01-22 14:02:31.963 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:31.9631515Z"
2025-01-22 14:02:31.963 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:02:31.9637592Z"
2025-01-22 14:02:31.964 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:31.965 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.1633ms
2025-01-22 14:02:31.966 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:02:31.967 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.4155ms
2025-01-22 14:02:32.897 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:02:32.899 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:32.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.4152ms
2025-01-22 14:02:32.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:02:32.904 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:02:32.907 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:02:32.911 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:02:32.914 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:02:32.9148108Z"
2025-01-22 14:02:32.916 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:02:32.9162937Z"
2025-01-22 14:02:32.918 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:02:32.9184504Z"
2025-01-22 14:02:32.936 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:02:32.938 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:02:32.9387656Z"
2025-01-22 14:02:32.939 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:02:32.9395420Z"
2025-01-22 14:02:32.940 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:02:32.9407724Z"
2025-01-22 14:02:32.941 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:02:32.943 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 29.5042ms
2025-01-22 14:02:32.944 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:02:32.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 42.3729ms
2025-01-22 14:03:28.263 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 14:03:28.266 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:28.267 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 3.8702ms
2025-01-22 14:03:28.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 14:03:28.273 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:28.274 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 14:03:28.275 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 14:03:28.278 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 14:03:28.480 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 14:03:28.508 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 14:03:28.510 +02:00 [WRN] No winners found with associated gifts.
2025-01-22 14:03:28.738 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 14:03:28.743 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 463.4675ms
2025-01-22 14:03:28.745 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 14:03:28.745 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:03:28.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2655 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 474.3718ms
2025-01-22 14:03:51.687 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:03:51.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-22 14:03:51.692 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/8 - null null
2025-01-22 14:03:51.696 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:51.698 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:51.700 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 13.0891ms
2025-01-22 14:03:51.703 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 14:03:51.699 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:51.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:03:51.707 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/8 - 204 null null 15.1164ms
2025-01-22 14:03:51.710 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:51.715 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-22 14:03:51.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/8 - application/json null
2025-01-22 14:03:51.716 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:03:51.719 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:03:51.720 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:03:51.720 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:03:51.724 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:03:51.725 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:03:51.728 +02:00 [INF] Fetching all donators.
2025-01-22 14:03:51.729 +02:00 [INF] Starting GetByIdAsync with ID 8 at "2025-01-22T12:03:51.7295172Z"
2025-01-22 14:03:51.732 +02:00 [INF] Fetching all donators.
2025-01-22 14:03:51.732 +02:00 [INF] Starting GetByIdAsync for Gift ID 8 at "2025-01-22T12:03:51.7321473Z"
2025-01-22 14:03:51.732 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-22 14:03:51.734 +02:00 [INF] Starting GetByIdAsync for Gift ID 8 at "2025-01-22T12:03:51.7343454Z"
2025-01-22 14:03:51.743 +02:00 [INF] Successfully retrieved categories.
2025-01-22 14:03:51.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:03:51.746 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:03:51.747 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 28.9942ms
2025-01-22 14:03:51.748 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 8 at "2025-01-22T12:03:51.7485228Z"
2025-01-22 14:03:51.749 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-22 14:03:51.749 +02:00 [INF] GetByIdAsync completed successfully with ID 8 at "2025-01-22T12:03:51.7498847Z"
2025-01-22 14:03:51.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 58.1565ms
2025-01-22 14:03:51.751 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:03:51.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:03:51.756 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 28.7543ms
2025-01-22 14:03:51.760 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:03:51.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/8 - 200 null application/json; charset=utf-8 44.9903ms
2025-01-22 14:03:51.768 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:03:51.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:03:51.771 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 45.0249ms
2025-01-22 14:03:51.772 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:03:51.773 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:03:51.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 68.1407ms
2025-01-22 14:05:35.917 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:05:35.922 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:35.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 5.5124ms
2025-01-22 14:05:35.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:05:35.930 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:35.931 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:05:35.932 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:05:35.933 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:05:35.935 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:05:35.935 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:05:35.940 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:05:35.942 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:05:35.943 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:05:35.943 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:35.944 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 9.9963ms
2025-01-22 14:05:35.945 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:05:35.946 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:35.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 17.9736ms
2025-01-22 14:05:36.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:05:36.375 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:36.376 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:05:36.376 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:05:36.378 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:05:36.3782857Z"
2025-01-22 14:05:36.382 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:05:36.384 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:36.3840042Z"
2025-01-22 14:05:36.384 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:36.3845682Z"
2025-01-22 14:05:36.385 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:36.3859130Z"
2025-01-22 14:05:36.387 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:36.388 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4957ms
2025-01-22 14:05:36.389 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:05:36.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.4106ms
2025-01-22 14:05:39.565 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:05:39.568 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:39.569 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.8807ms
2025-01-22 14:05:39.572 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:05:39.578 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:39.579 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:05:39.580 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:39.580 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:05:39.582 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:39.583 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:39.587 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:05:39.589 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:05:39.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:39.590 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.7775ms
2025-01-22 14:05:39.592 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:39.593 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:39.593 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 21.2675ms
2025-01-22 14:05:39.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:05:39.852 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:39.853 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.3822ms
2025-01-22 14:05:39.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:05:39.857 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:39.859 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:05:39.860 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:05:39.861 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:05:39.862 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:05:39.8623613Z"
2025-01-22 14:05:39.862 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:05:39.8629319Z"
2025-01-22 14:05:39.869 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:05:39.871 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:05:39.8710807Z"
2025-01-22 14:05:39.871 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:05:39.8716715Z"
2025-01-22 14:05:39.872 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:05:39.873 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:39.875 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 13.5326ms
2025-01-22 14:05:39.875 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:05:39.876 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 20.8191ms
2025-01-22 14:05:40.603 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/5/buyers - null null
2025-01-22 14:05:40.605 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:40.605 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/5/buyers - 204 null null 2.3353ms
2025-01-22 14:05:40.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/5/buyers - application/json null
2025-01-22 14:05:40.609 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:40.610 +02:00 [INF] Incoming Request: GET /api/User/5/buyers
2025-01-22 14:05:40.611 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:40.611 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:05:40.620 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:05:40.622 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:40.624 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 10.9789ms
2025-01-22 14:05:40.625 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:40.625 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:40.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/5/buyers - 200 null application/json; charset=utf-8 18.5029ms
2025-01-22 14:05:41.899 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/6/buyers - null null
2025-01-22 14:05:41.901 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:41.901 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/6/buyers - 204 null null 2.5689ms
2025-01-22 14:05:41.903 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/6/buyers - application/json null
2025-01-22 14:05:41.905 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:41.905 +02:00 [INF] Incoming Request: GET /api/User/6/buyers
2025-01-22 14:05:41.906 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:41.907 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:05:41.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:05:41.913 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:41.915 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 6.6993ms
2025-01-22 14:05:41.916 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:41.917 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:41.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/6/buyers - 200 null application/json; charset=utf-8 14.71ms
2025-01-22 14:05:42.962 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/7/buyers - null null
2025-01-22 14:05:42.964 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:42.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/7/buyers - 204 null null 2.7071ms
2025-01-22 14:05:42.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/7/buyers - application/json null
2025-01-22 14:05:42.969 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:42.970 +02:00 [INF] Incoming Request: GET /api/User/7/buyers
2025-01-22 14:05:42.971 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:42.972 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:05:42.978 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased'
2025-01-22 14:05:42.985 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:42.986 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 11.9372ms
2025-01-22 14:05:42.987 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-22 14:05:42.988 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:42.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/7/buyers - 200 null application/json; charset=utf-8 21.7265ms
2025-01-22 14:05:46.586 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 14:05:46.588 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:46.589 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.4517ms
2025-01-22 14:05:46.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 14:05:46.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:46.593 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:46.597 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:05:46.604 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 14:05:46.608 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T12:05:46.6088147Z"
2025-01-22 14:05:46.626 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 14:05:46.627 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:46.6279096Z"
2025-01-22 14:05:46.628 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:05:46.629 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:46.630 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 30.6218ms
2025-01-22 14:05:46.631 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:46.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 40.5769ms
2025-01-22 14:05:47.457 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 14:05:47.460 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:47.461 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 3.2198ms
2025-01-22 14:05:47.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 14:05:47.465 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:47.466 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:47.467 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:05:47.469 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 14:05:47.470 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T12:05:47.4704920Z"
2025-01-22 14:05:47.483 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 14:05:47.485 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:47.4855879Z"
2025-01-22 14:05:47.486 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:05:47.486 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:47.487 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 18.4903ms
2025-01-22 14:05:47.488 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:47.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 25.879ms
2025-01-22 14:05:52.553 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-22 14:05:52.555 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:52.556 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 2.6815ms
2025-01-22 14:05:52.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-22 14:05:52.560 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:52.560 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:52.561 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:05:52.563 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-22 14:05:52.563 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-22T12:05:52.5638263Z"
2025-01-22 14:05:52.573 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId] AND [u0].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-22 14:05:52.576 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:52.5764730Z"
2025-01-22 14:05:52.577 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:05:52.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:52.579 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 16.5034ms
2025-01-22 14:05:52.580 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:52.581 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 23.0542ms
2025-01-22 14:05:54.353 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 14:05:54.355 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:54.355 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 2.3506ms
2025-01-22 14:05:54.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 14:05:54.359 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:54.360 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:54.361 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:05:54.363 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 14:05:54.363 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T12:05:54.3638655Z"
2025-01-22 14:05:54.372 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 14:05:54.374 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:05:54.3740694Z"
2025-01-22 14:05:54.374 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:05:54.376 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:54.377 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 14.3368ms
2025-01-22 14:05:54.378 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:05:54.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 20.8291ms
2025-01-22 14:05:56.219 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:05:56.221 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 14:05:56.226 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 14:05:56.226 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 8.0003ms
2025-01-22 14:05:56.326 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:05:56.328 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:56.329 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.9421ms
2025-01-22 14:05:56.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:05:56.333 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:56.335 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:05:56.335 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:05:56.337 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:05:56.338 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:05:56.3381426Z"
2025-01-22 14:05:56.338 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:05:56.3387931Z"
2025-01-22 14:05:56.346 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:05:56.350 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:05:56.3505852Z"
2025-01-22 14:05:56.351 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:05:56.3514118Z"
2025-01-22 14:05:56.352 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:05:56.353 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:56.354 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 17.0687ms
2025-01-22 14:05:56.355 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:05:56.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 24.4533ms
2025-01-22 14:05:57.663 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:05:57.665 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:57.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.7655ms
2025-01-22 14:05:57.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:05:57.669 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:57.670 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:05:57.671 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:57.672 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:05:57.675 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:57.676 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:57.679 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:05:57.682 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:05:57.682 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:57.683 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.9383ms
2025-01-22 14:05:57.684 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:57.685 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:57.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 18.0075ms
2025-01-22 14:05:58.233 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:05:58.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:58.238 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.0765ms
2025-01-22 14:05:58.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:05:58.244 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:58.246 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:05:58.246 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:05:58.248 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:05:58.2484058Z"
2025-01-22 14:05:58.249 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:05:58.2490173Z"
2025-01-22 14:05:58.249 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:05:58.2496894Z"
2025-01-22 14:05:58.254 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:05:58.255 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:05:58.2558514Z"
2025-01-22 14:05:58.256 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:05:58.2566024Z"
2025-01-22 14:05:58.257 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:05:58.2573691Z"
2025-01-22 14:05:58.258 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:58.259 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.115ms
2025-01-22 14:05:58.260 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:05:58.261 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.2064ms
2025-01-22 14:05:58.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:05:58.665 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:58.666 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:05:58.667 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:58.668 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:05:58.670 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:58.671 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:58.675 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:05:58.678 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:05:58.678 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:05:58.680 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.752ms
2025-01-22 14:05:58.680 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:05:58.681 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:58.682 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 20.6458ms
2025-01-22 14:05:59.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:05:59.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:59.187 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 2.3332ms
2025-01-22 14:05:59.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:05:59.191 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:05:59.192 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:05:59.193 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:05:59.197 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:05:59.200 +02:00 [INF] Filtering donators by email.
2025-01-22 14:05:59.200 +02:00 [INF] Fetching all donators.
2025-01-22 14:05:59.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:05:59.204 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:05:59.206 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:05:59.207 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 9.0602ms
2025-01-22 14:05:59.208 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:05:59.209 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:05:59.210 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 20.0492ms
2025-01-22 14:06:00.601 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-22 14:06:00.603 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:00.603 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 2.3637ms
2025-01-22 14:06:00.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:06:00.607 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:00.608 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:06:00.609 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:00.613 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:06:00.615 +02:00 [INF] Filtering donators by name.
2025-01-22 14:06:00.616 +02:00 [INF] Fetching all donators.
2025-01-22 14:06:00.620 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:06:00.621 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:06:00.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:06:00.623 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 9.2346ms
2025-01-22 14:06:00.624 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:00.625 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:06:00.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 20.0763ms
2025-01-22 14:06:01.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:06:01.499 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:01.500 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:06:01.501 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:01.502 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:06:01.504 +02:00 [INF] Filtering donators by name.
2025-01-22 14:06:01.504 +02:00 [INF] Fetching all donators.
2025-01-22 14:06:01.508 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:06:01.509 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:06:01.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:06:01.511 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 7.5953ms
2025-01-22 14:06:01.512 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:01.513 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:06:01.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 16.2816ms
2025-01-22 14:06:02.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:06:02.435 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:02.436 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:06:02.438 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:06:02.439 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:06:02.441 +02:00 [INF] Filtering donators by email.
2025-01-22 14:06:02.441 +02:00 [INF] Fetching all donators.
2025-01-22 14:06:02.444 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:06:02.446 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:06:02.446 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:06:02.447 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.3303ms
2025-01-22 14:06:02.448 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:06:02.449 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:06:02.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 16.0471ms
2025-01-22 14:06:03.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:06:03.284 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:03.285 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:06:03.286 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:03.287 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:06:03.288 +02:00 [INF] Filtering donators by name.
2025-01-22 14:06:03.289 +02:00 [INF] Fetching all donators.
2025-01-22 14:06:03.292 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:06:03.294 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:06:03.295 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:06:03.296 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 7.267ms
2025-01-22 14:06:03.296 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:06:03.298 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:06:03.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 17.0604ms
2025-01-22 14:06:04.354 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:06:04.356 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:04.357 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 3.5151ms
2025-01-22 14:06:04.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:06:04.361 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:06:04.362 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:06:04.363 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:06:04.364 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:06:04.366 +02:00 [INF] Filtering donators by email.
2025-01-22 14:06:04.366 +02:00 [INF] Fetching all donators.
2025-01-22 14:06:04.369 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:06:04.371 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:06:04.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:06:04.373 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 7.43ms
2025-01-22 14:06:04.374 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:06:04.375 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:06:04.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 17.4654ms
2025-01-22 14:07:55.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:07:55.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:55.286 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 5.3972ms
2025-01-22 14:07:55.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:07:55.293 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:55.293 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:07:55.294 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:55.295 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:07:55.296 +02:00 [INF] Filtering donators by email.
2025-01-22 14:07:55.297 +02:00 [INF] Fetching all donators.
2025-01-22 14:07:55.303 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:07:55.304 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:07:55.305 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:07:55.312 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 15.5329ms
2025-01-22 14:07:55.313 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:55.314 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:07:55.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 23.6354ms
2025-01-22 14:07:55.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:07:55.691 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:55.691 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:07:55.692 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:55.693 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:07:55.695 +02:00 [INF] Filtering donators by email.
2025-01-22 14:07:55.695 +02:00 [INF] Fetching all donators.
2025-01-22 14:07:55.698 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:07:55.700 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:07:55.700 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:07:55.701 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.8438ms
2025-01-22 14:07:55.702 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:55.703 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:07:55.704 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.8699ms
2025-01-22 14:07:56.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:07:56.122 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:56.123 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:07:56.124 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:56.125 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:07:56.126 +02:00 [INF] Filtering donators by email.
2025-01-22 14:07:56.127 +02:00 [INF] Fetching all donators.
2025-01-22 14:07:56.129 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:07:56.131 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:07:56.131 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:07:56.133 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.5418ms
2025-01-22 14:07:56.133 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:07:56.134 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:07:56.135 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.2084ms
2025-01-22 14:07:57.042 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-22 14:07:57.043 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:57.044 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 2.4794ms
2025-01-22 14:07:57.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:07:57.048 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:07:57.048 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:07:57.049 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:07:57.050 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:07:57.051 +02:00 [INF] Filtering donators by name.
2025-01-22 14:07:57.052 +02:00 [INF] Fetching all donators.
2025-01-22 14:07:57.054 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:07:57.056 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:07:57.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:07:57.058 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 6.6854ms
2025-01-22 14:07:57.058 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:07:57.059 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:07:57.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 13.7953ms
2025-01-22 14:08:02.490 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:08:02.491 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:02.492 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 2.4055ms
2025-01-22 14:08:02.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:08:02.496 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:02.496 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:08:02.497 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:02.498 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:02.499 +02:00 [INF] Filtering donators by email.
2025-01-22 14:08:02.500 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:02.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:02.505 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:02.505 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:02.506 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 7.0417ms
2025-01-22 14:08:02.507 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:02.508 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:02.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.2215ms
2025-01-22 14:08:02.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:08:02.820 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:02.821 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:08:02.822 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:02.823 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:02.824 +02:00 [INF] Filtering donators by email.
2025-01-22 14:08:02.825 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:02.828 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:02.829 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:02.830 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:02.831 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.6509ms
2025-01-22 14:08:02.832 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:02.832 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:02.833 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 15.0048ms
2025-01-22 14:08:03.378 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:08:03.380 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:03.381 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:08:03.382 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:03.383 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:03.384 +02:00 [INF] Filtering donators by email.
2025-01-22 14:08:03.385 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:03.387 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:03.389 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:03.389 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:03.390 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.4861ms
2025-01-22 14:08:03.391 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:03.392 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:03.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.9218ms
2025-01-22 14:08:04.361 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-22 14:08:04.363 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:04.364 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 3.2191ms
2025-01-22 14:08:04.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:08:04.367 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:04.368 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:08:04.369 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:04.370 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:04.371 +02:00 [INF] Filtering donators by name.
2025-01-22 14:08:04.372 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:04.375 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:04.376 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:04.377 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:04.379 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 7.6434ms
2025-01-22 14:08:04.379 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:04.380 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:04.381 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 14.8569ms
2025-01-22 14:08:04.889 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:08:04.892 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:04.892 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:08:04.894 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:04.894 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:04.896 +02:00 [INF] Filtering donators by name.
2025-01-22 14:08:04.897 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:04.900 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:04.905 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:04.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:04.907 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 11.2596ms
2025-01-22 14:08:04.908 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:04.909 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:04.910 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 20.1823ms
2025-01-22 14:08:05.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:08:05.499 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:05.500 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:08:05.501 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:05.502 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:05.503 +02:00 [INF] Filtering donators by name.
2025-01-22 14:08:05.504 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:05.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:05.508 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:05.509 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:05.510 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 6.656ms
2025-01-22 14:08:05.510 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:05.511 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:05.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 14.2031ms
2025-01-22 14:08:06.482 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:08:06.484 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:06.485 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:08:06.485 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:06.486 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:06.488 +02:00 [INF] Filtering donators by name.
2025-01-22 14:08:06.488 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:06.551 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:06.554 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:06.554 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:06.555 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 67.9574ms
2025-01-22 14:08:06.557 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:06.557 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:06.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 75.7248ms
2025-01-22 14:08:06.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-22 14:08:06.803 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:06.804 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-22 14:08:06.804 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:06.805 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:06.807 +02:00 [INF] Filtering donators by name.
2025-01-22 14:08:06.807 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:06.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:06.812 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:06.812 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:06.813 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 6.3639ms
2025-01-22 14:08:06.814 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-22 14:08:06.815 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:06.816 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 14.7481ms
2025-01-22 14:08:07.986 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:08:07.987 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:07.988 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 2.3812ms
2025-01-22 14:08:07.990 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:08:07.992 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:07.993 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:08:07.994 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:07.995 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:07.996 +02:00 [INF] Filtering donators by email.
2025-01-22 14:08:07.997 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:08.000 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:08.001 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:08.002 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:08:08.003 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.818ms
2025-01-22 14:08:08.004 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:08:08.004 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:08.005 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 14.4869ms
2025-01-22 14:08:18.735 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-22 14:08:18.737 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:08:18.738 +02:00 [WRN] Missing Authorization Header
2025-01-22 14:08:18.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 2.8566ms
2025-01-22 14:08:18.839 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:08:18.842 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:18.843 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.8642ms
2025-01-22 14:08:18.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:08:18.847 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:18.848 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:08:18.848 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:08:18.849 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:08:18.851 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:18.851 +02:00 [INF] Fetching all donators.
2025-01-22 14:08:18.854 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:08:18.856 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:08:18.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:08:18.859 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 8.1303ms
2025-01-22 14:08:18.860 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:08:18.861 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:08:18.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.5331ms
2025-01-22 14:08:40.609 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:08:40.611 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:40.611 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.2752ms
2025-01-22 14:08:40.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:08:40.615 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:40.616 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:08:40.616 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:08:40.618 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:08:40.6184499Z"
2025-01-22 14:08:40.619 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:08:40.6190039Z"
2025-01-22 14:08:40.619 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:08:40.6196212Z"
2025-01-22 14:08:40.624 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:08:40.626 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:08:40.6266233Z"
2025-01-22 14:08:40.627 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:08:40.6272495Z"
2025-01-22 14:08:40.627 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:08:40.6278143Z"
2025-01-22 14:08:40.628 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:08:40.629 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.1043ms
2025-01-22 14:08:40.630 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:08:40.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 16.8982ms
2025-01-22 14:08:50.490 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=va - null null
2025-01-22 14:08:50.492 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:50.493 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=va - 204 null null 2.7707ms
2025-01-22 14:08:50.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=va - application/json null
2025-01-22 14:08:50.496 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:50.497 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:08:50.500 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:08:50.503 +02:00 [INF] Starting SearchAsync with text 'va' at "2025-01-22T12:08:50.5034044Z"
2025-01-22 14:08:50.504 +02:00 [INF] Starting SearchAsync with text 'va' at "2025-01-22T12:08:50.5048229Z"
2025-01-22 14:08:50.507 +02:00 [INF] Starting SearchAsync with text 'va' at "2025-01-22T12:08:50.5072260Z"
2025-01-22 14:08:50.543 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 14:08:50.545 +02:00 [INF] SearchAsync completed successfully with text 'va' at "2025-01-22T12:08:50.5455591Z"
2025-01-22 14:08:50.546 +02:00 [INF] SearchAsync completed successfully with text 'va' at "2025-01-22T12:08:50.5464335Z"
2025-01-22 14:08:50.547 +02:00 [INF] SearchAsync completed successfully with text 'va' at "2025-01-22T12:08:50.5472183Z"
2025-01-22 14:08:50.547 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:08:50.548 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 46.6569ms
2025-01-22 14:08:50.549 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:08:50.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=va - 200 null application/json; charset=utf-8 55.3352ms
2025-01-22 14:08:54.611 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=da - null null
2025-01-22 14:08:54.616 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:54.617 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=da - 204 null null 6.5413ms
2025-01-22 14:08:54.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=da - application/json null
2025-01-22 14:08:54.621 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:08:54.622 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:08:54.623 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:08:54.625 +02:00 [INF] Starting SearchAsync with text 'da' at "2025-01-22T12:08:54.6255954Z"
2025-01-22 14:08:54.626 +02:00 [INF] Starting SearchAsync with text 'da' at "2025-01-22T12:08:54.6265889Z"
2025-01-22 14:08:54.627 +02:00 [INF] Starting SearchAsync with text 'da' at "2025-01-22T12:08:54.6273604Z"
2025-01-22 14:08:54.632 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 14:08:54.634 +02:00 [INF] SearchAsync completed successfully with text 'da' at "2025-01-22T12:08:54.6340147Z"
2025-01-22 14:08:54.634 +02:00 [INF] SearchAsync completed successfully with text 'da' at "2025-01-22T12:08:54.6347385Z"
2025-01-22 14:08:54.635 +02:00 [INF] SearchAsync completed successfully with text 'da' at "2025-01-22T12:08:54.6354903Z"
2025-01-22 14:08:54.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:08:54.637 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 12.0979ms
2025-01-22 14:08:54.637 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:08:54.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=da - 200 null application/json; charset=utf-8 18.6965ms
2025-01-22 14:09:00.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:09:00.075 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:00.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.7382ms
2025-01-22 14:09:00.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:09:00.080 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:00.081 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:09:00.082 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:09:00.083 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:00.0838548Z"
2025-01-22 14:09:00.084 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:00.0844194Z"
2025-01-22 14:09:00.085 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:00.0850604Z"
2025-01-22 14:09:00.090 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:09:00.094 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:00.0942918Z"
2025-01-22 14:09:00.094 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:00.0948843Z"
2025-01-22 14:09:00.095 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:00.0955348Z"
2025-01-22 14:09:00.096 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:00.097 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.427ms
2025-01-22 14:09:00.097 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:09:00.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.3814ms
2025-01-22 14:09:12.258 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=1 - null null
2025-01-22 14:09:12.259 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:12.260 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=1 - 204 null null 2.4309ms
2025-01-22 14:09:12.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=1 - application/json null
2025-01-22 14:09:12.263 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:12.264 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:09:12.265 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:09:12.266 +02:00 [INF] Starting SearchAsync with text '1' at "2025-01-22T12:09:12.2668951Z"
2025-01-22 14:09:12.267 +02:00 [INF] Starting SearchAsync with text '1' at "2025-01-22T12:09:12.2676173Z"
2025-01-22 14:09:12.268 +02:00 [INF] Starting SearchAsync with text '1' at "2025-01-22T12:09:12.2685131Z"
2025-01-22 14:09:12.279 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 14:09:12.281 +02:00 [INF] SearchAsync completed successfully with text '1' at "2025-01-22T12:09:12.2818890Z"
2025-01-22 14:09:12.282 +02:00 [INF] SearchAsync completed successfully with text '1' at "2025-01-22T12:09:12.2825643Z"
2025-01-22 14:09:12.283 +02:00 [INF] SearchAsync completed successfully with text '1' at "2025-01-22T12:09:12.2836762Z"
2025-01-22 14:09:12.284 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:12.285 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 19.0693ms
2025-01-22 14:09:12.286 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:09:12.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=1 - 200 null application/json; charset=utf-8 24.727ms
2025-01-22 14:09:15.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=0 - null null
2025-01-22 14:09:15.731 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:15.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=0 - 204 null null 2.2632ms
2025-01-22 14:09:15.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=0 - application/json null
2025-01-22 14:09:15.735 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:15.736 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:09:15.737 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:09:15.738 +02:00 [INF] Starting SearchAsync with text '0' at "2025-01-22T12:09:15.7387647Z"
2025-01-22 14:09:15.740 +02:00 [INF] Starting SearchAsync with text '0' at "2025-01-22T12:09:15.7400639Z"
2025-01-22 14:09:15.741 +02:00 [INF] Starting SearchAsync with text '0' at "2025-01-22T12:09:15.7413683Z"
2025-01-22 14:09:15.746 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-22 14:09:15.748 +02:00 [INF] SearchAsync completed successfully with text '0' at "2025-01-22T12:09:15.7483459Z"
2025-01-22 14:09:15.749 +02:00 [INF] SearchAsync completed successfully with text '0' at "2025-01-22T12:09:15.7494871Z"
2025-01-22 14:09:15.750 +02:00 [INF] SearchAsync completed successfully with text '0' at "2025-01-22T12:09:15.7506522Z"
2025-01-22 14:09:15.751 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:15.752 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 14.4206ms
2025-01-22 14:09:15.753 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-22 14:09:15.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=0 - 200 null application/json; charset=utf-8 20.5678ms
2025-01-22 14:09:20.527 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:09:20.528 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:20.529 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.5664ms
2025-01-22 14:09:20.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:09:20.533 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:20.533 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:09:20.534 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:20.535 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:09:20.536 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:20.537 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:20.541 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:09:20.543 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:09:20.543 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:20.544 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 7.8152ms
2025-01-22 14:09:20.545 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:20.546 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:09:20.546 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 14.9611ms
2025-01-22 14:09:21.140 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:09:21.142 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:21.143 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.7922ms
2025-01-22 14:09:21.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:09:21.147 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:21.148 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:09:21.149 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:09:21.152 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:21.1525228Z"
2025-01-22 14:09:21.153 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:21.1531855Z"
2025-01-22 14:09:21.153 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:09:21.1538512Z"
2025-01-22 14:09:21.157 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:09:21.159 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:21.1594222Z"
2025-01-22 14:09:21.160 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:21.1607256Z"
2025-01-22 14:09:21.162 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:09:21.1621833Z"
2025-01-22 14:09:21.163 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:21.164 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.6674ms
2025-01-22 14:09:21.164 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:09:21.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.7923ms
2025-01-22 14:09:22.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:09:22.014 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:22.014 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:09:22.015 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:22.016 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:09:22.017 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:22.018 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:22.022 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:09:22.025 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:09:22.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:22.026 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.0126ms
2025-01-22 14:09:22.027 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:22.028 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:09:22.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 17.1974ms
2025-01-22 14:09:22.775 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:09:22.777 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:22.777 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.5493ms
2025-01-22 14:09:22.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:09:22.781 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:22.782 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:09:22.782 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:09:22.784 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:09:22.784 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:09:22.7847968Z"
2025-01-22 14:09:22.785 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:09:22.7854058Z"
2025-01-22 14:09:22.792 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:09:22.793 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:09:22.7939521Z"
2025-01-22 14:09:22.794 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:09:22.7945410Z"
2025-01-22 14:09:22.795 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:09:22.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:22.796 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 12.7138ms
2025-01-22 14:09:22.797 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:09:22.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 18.5665ms
2025-01-22 14:09:23.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:09:23.141 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:09:23.141 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:09:23.142 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:23.143 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:09:23.144 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:23.145 +02:00 [INF] Fetching all donators.
2025-01-22 14:09:23.147 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:09:23.149 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:09:23.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:09:23.150 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 5.9983ms
2025-01-22 14:09:23.151 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:09:23.152 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:09:23.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 13.3288ms
2025-01-22 14:19:09.276 +02:00 [INF] Starting up the application
2025-01-22 14:19:10.077 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:19:10.799 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:19:10.849 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:19:10.995 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:19:11.001 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:19:11.002 +02:00 [INF] Hosting environment: Development
2025-01-22 14:19:11.003 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:19:11.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:19:11.240 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 127.5386ms
2025-01-22 14:19:11.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:19:11.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:19:11.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 3.6295ms
2025-01-22 14:19:11.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.2179ms
2025-01-22 14:19:11.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:19:11.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.5189ms
2025-01-22 14:19:11.395 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:19:11.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.9484ms
2025-01-22 14:19:14.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:19:14.553 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:19:14.593 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:14.604 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:19:14.671 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:19:14.6709818Z"
2025-01-22 14:19:14.713 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:19:14.732 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:14.7324571Z"
2025-01-22 14:19:14.733 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:14.7332744Z"
2025-01-22 14:19:14.733 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:14.7338374Z"
2025-01-22 14:19:14.738 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:19:14.762 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 154.961ms
2025-01-22 14:19:14.764 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:14.768 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 219.1953ms
2025-01-22 14:19:21.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:19:21.123 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:21.124 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:19:21.128 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:19:21.1286112Z"
2025-01-22 14:19:21.144 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:19:21.147 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:21.1472807Z"
2025-01-22 14:19:21.147 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:21.1479372Z"
2025-01-22 14:19:21.148 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:21.1485284Z"
2025-01-22 14:19:21.149 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:19:21.151 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 24.8352ms
2025-01-22 14:19:21.151 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:21.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 33.461ms
2025-01-22 14:19:33.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:19:33.166 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:33.167 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:19:33.172 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:19:33.1723773Z"
2025-01-22 14:19:33.178 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:19:33.180 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:33.1805596Z"
2025-01-22 14:19:33.181 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:33.1812094Z"
2025-01-22 14:19:33.182 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:19:33.1820367Z"
2025-01-22 14:19:33.183 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:19:33.184 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 15.6822ms
2025-01-22 14:19:33.185 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:19:33.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 23.7666ms
2025-01-22 14:20:25.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:20:25.505 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:20:25.507 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:20:25.508 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:20:25.509 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:20:25.5098626Z"
2025-01-22 14:20:25.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:20:25.517 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:20:25.5177120Z"
2025-01-22 14:20:25.518 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:20:25.5183394Z"
2025-01-22 14:20:25.518 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:20:25.5189513Z"
2025-01-22 14:20:25.519 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:20:25.521 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.7787ms
2025-01-22 14:20:25.522 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:20:25.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 23.7915ms
2025-01-22 14:20:48.335 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:20:48.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:20:48.339 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 3.5299ms
2025-01-22 14:20:48.345 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 57
2025-01-22 14:20:48.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:20:48.347 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:20:48.357 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:20:48.402 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:20:48.501 +02:00 [WRN] Invalid login attempt: miri03994@gmail.com
2025-01-22 14:20:48.503 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 14:20:48.504 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 145.1412ms
2025-01-22 14:20:48.505 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:20:48.506 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 160.912ms
2025-01-22 14:21:01.505 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:21:01.506 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:01.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.7584ms
2025-01-22 14:21:01.514 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 57
2025-01-22 14:21:01.515 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:01.516 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:21:01.517 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:21:01.528 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:21:01.608 +02:00 [WRN] Invalid login attempt: miri03994@gmail.com
2025-01-22 14:21:01.608 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 14:21:01.609 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 91.0632ms
2025-01-22 14:21:01.610 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:21:01.611 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 97.626ms
2025-01-22 14:21:17.032 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:21:17.034 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:17.035 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 3.1107ms
2025-01-22 14:21:17.038 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 14:21:17.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:17.041 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:21:17.041 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:21:17.055 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:21:17.179 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:21:17.211 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:21:17.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:21:17.243 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:21:17.254 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 211.177ms
2025-01-22 14:21:17.255 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:21:17.256 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 217.746ms
2025-01-22 14:21:17.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:21:17.265 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:17.265 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:21:17.266 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:21:17.267 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:21:17.2679258Z"
2025-01-22 14:21:17.272 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:21:17.275 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:17.2755929Z"
2025-01-22 14:21:17.276 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:17.2763505Z"
2025-01-22 14:21:17.277 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:17.2771130Z"
2025-01-22 14:21:17.278 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:21:17.279 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.8126ms
2025-01-22 14:21:17.280 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:21:17.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.9986ms
2025-01-22 14:21:22.953 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-22 14:21:22.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:22.955 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 2.6971ms
2025-01-22 14:21:22.958 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-22 14:21:22.960 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:23.004 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:21:23.009 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:21:23.016 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-22 14:21:23.019 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-22T12:21:23.0193246Z"
2025-01-22 14:21:23.069 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-22 14:21:23.072 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:23.0728809Z"
2025-01-22 14:21:23.074 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:21:23.075 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:21:23.079 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.4168ms
2025-01-22 14:21:23.080 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:21:23.080 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 122.5905ms
2025-01-22 14:21:27.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:21:27.254 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:27.255 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:21:27.256 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:21:27.259 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:21:27.2591421Z"
2025-01-22 14:21:27.263 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:21:27.266 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:27.2661474Z"
2025-01-22 14:21:27.266 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:27.2668985Z"
2025-01-22 14:21:27.267 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:21:27.2676348Z"
2025-01-22 14:21:27.268 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:21:27.270 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.4707ms
2025-01-22 14:21:27.271 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:21:27.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.2823ms
2025-01-22 14:21:28.440 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 14:21:28.442 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:28.442 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 2.4228ms
2025-01-22 14:21:28.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 14:21:28.446 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:28.449 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:21:28.453 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:21:28.456 +02:00 [INF] Starting GetByIdAsync with ID 4 at "2025-01-22T12:21:28.4560397Z"
2025-01-22 14:21:28.457 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:21:28.4574622Z"
2025-01-22 14:21:28.459 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:21:28.4590907Z"
2025-01-22 14:21:28.467 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:28.469 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 4 at "2025-01-22T12:21:28.4698263Z"
2025-01-22 14:21:28.470 +02:00 [INF] GetByIdAsync completed successfully with ID 4 at "2025-01-22T12:21:28.4706245Z"
2025-01-22 14:21:28.471 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:21:28.472 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 17.7454ms
2025-01-22 14:21:28.473 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:21:28.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 29.3757ms
2025-01-22 14:21:28.476 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 14:21:28.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:28.478 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.1726ms
2025-01-22 14:21:28.480 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - application/json 2
2025-01-22 14:21:28.482 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:28.483 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:21:28.498 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:28.502 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:21:28.506 +02:00 [INF] Starting AddToBasketAsync with GiftId: 4 and Quantity: 1
2025-01-22 14:21:28.507 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:21:28.508 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:21:28.509 +02:00 [INF] Parsing token...
2025-01-22 14:21:28.510 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:21:28.533 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:21:28.535 +02:00 [INF] User successfully found: ayala
2025-01-22 14:21:28.536 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:21:28.537 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:21:28.5370865Z"
2025-01-22 14:21:28.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:28.541 +02:00 [INF] Gift with Id: 4 successfully retrieved.
2025-01-22 14:21:28.543 +02:00 [INF] Starting to add Gift 4 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:21:28.552 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:21:28.582 +02:00 [INF] Updated existing UserGift entry for Gift 4 (New Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:28.617 +02:00 [INF] Successfully saved changes to database for Gift 4 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 14:21:28.618 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 4 with Quantity: 1
2025-01-22 14:21:28.619 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:21:28.622 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 118.149ms
2025-01-22 14:21:28.623 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:28.624 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:21:28.625 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - 200 null application/json; charset=utf-8 144.4844ms
2025-01-22 14:21:29.312 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:21:29.314 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:29.315 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 2.5907ms
2025-01-22 14:21:29.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:21:29.318 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:29.319 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:21:29.320 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:21:29.322 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:21:29.3222689Z"
2025-01-22 14:21:29.323 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:21:29.3231735Z"
2025-01-22 14:21:29.324 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:21:29.3241153Z"
2025-01-22 14:21:29.327 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:29.329 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:21:29.3291574Z"
2025-01-22 14:21:29.329 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:21:29.3298711Z"
2025-01-22 14:21:29.330 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:21:29.331 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 9.6982ms
2025-01-22 14:21:29.332 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:21:29.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 16.0539ms
2025-01-22 14:21:29.335 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:21:29.336 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:29.337 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.1425ms
2025-01-22 14:21:29.339 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:21:29.342 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:29.342 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:21:29.343 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:29.344 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:21:29.346 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:21:29.352 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:21:29.353 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:21:29.353 +02:00 [INF] Parsing token...
2025-01-22 14:21:29.354 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:21:29.357 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:21:29.359 +02:00 [INF] User successfully found: ayala
2025-01-22 14:21:29.360 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:21:29.361 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:21:29.3611375Z"
2025-01-22 14:21:29.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:29.364 +02:00 [INF] Gift with Id: 5 successfully retrieved.
2025-01-22 14:21:29.365 +02:00 [INF] Starting to add Gift 5 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:21:29.368 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:21:29.370 +02:00 [INF] Updated existing UserGift entry for Gift 5 (New Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:29.427 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 14:21:29.439 +02:00 [INF] Successfully saved changes to database for Gift 5 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 14:21:29.440 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 5 with Quantity: 1
2025-01-22 14:21:29.441 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:21:29.442 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 97.1423ms
2025-01-22 14:21:29.443 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:29.444 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:21:29.444 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 200 null application/json; charset=utf-8 105.1996ms
2025-01-22 14:21:31.095 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:21:31.097 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:31.098 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.9492ms
2025-01-22 14:21:31.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:21:31.102 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:31.103 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:21:31.104 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:21:31.108 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:21:31.112 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:31.114 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:31.132 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:21:31.138 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 3
2025-01-22 14:21:31.139 +02:00 [INF] Successfully retrieved 3 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:31.140 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:21:31.143 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 33.6288ms
2025-01-22 14:21:31.144 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:21:31.144 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:21:31.145 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 44.5935ms
2025-01-22 14:21:34.624 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6&quantity=2 - null null
2025-01-22 14:21:34.626 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:34.627 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6&quantity=2 - 204 null null 2.5133ms
2025-01-22 14:21:34.629 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=6&quantity=2 - application/json 14
2025-01-22 14:21:34.631 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:34.631 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:21:34.632 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:34.633 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:21:34.635 +02:00 [INF] Starting AddToBasketAsync with GiftId: 6 and Quantity: 2
2025-01-22 14:21:34.636 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:21:34.636 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:21:34.637 +02:00 [INF] Parsing token...
2025-01-22 14:21:34.637 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:21:34.644 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:21:34.648 +02:00 [INF] User successfully found: ayala
2025-01-22 14:21:34.649 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:21:34.649 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T12:21:34.6497850Z"
2025-01-22 14:21:34.652 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:34.653 +02:00 [INF] Gift with Id: 6 successfully retrieved.
2025-01-22 14:21:34.654 +02:00 [INF] Starting to add Gift 6 (Quantity: 2) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:21:34.657 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:21:34.659 +02:00 [INF] Updated existing UserGift entry for Gift 6 (New Quantity: 2) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:34.663 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 14:21:34.665 +02:00 [INF] Successfully saved changes to database for Gift 6 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 2)
2025-01-22 14:21:34.666 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 6 with Quantity: 2
2025-01-22 14:21:34.667 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:21:34.668 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 33.4625ms
2025-01-22 14:21:34.669 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:34.669 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:21:34.670 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=6&quantity=2 - 200 null application/json; charset=utf-8 40.768ms
2025-01-22 14:21:35.488 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6&quantity=3 - null null
2025-01-22 14:21:35.491 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:35.492 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=6&quantity=3 - 204 null null 3.664ms
2025-01-22 14:21:35.494 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=6&quantity=3 - application/json 14
2025-01-22 14:21:35.496 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:21:35.496 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:21:35.497 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:35.498 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:21:35.500 +02:00 [INF] Starting AddToBasketAsync with GiftId: 6 and Quantity: 3
2025-01-22 14:21:35.501 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:21:35.501 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:21:35.502 +02:00 [INF] Parsing token...
2025-01-22 14:21:35.502 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:21:35.509 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:21:35.511 +02:00 [INF] User successfully found: ayala
2025-01-22 14:21:35.512 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:21:35.513 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T12:21:35.5130442Z"
2025-01-22 14:21:35.515 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:21:35.516 +02:00 [INF] Gift with Id: 6 successfully retrieved.
2025-01-22 14:21:35.517 +02:00 [INF] Starting to add Gift 6 (Quantity: 3) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:21:35.520 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:21:35.522 +02:00 [INF] Updated existing UserGift entry for Gift 6 (New Quantity: 3) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:21:35.526 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-22 14:21:35.528 +02:00 [INF] Successfully saved changes to database for Gift 6 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 3)
2025-01-22 14:21:35.529 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 6 with Quantity: 3
2025-01-22 14:21:35.530 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:21:35.531 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 31.1081ms
2025-01-22 14:21:35.531 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:21:35.532 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:21:35.533 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=6&quantity=3 - 200 null application/json; charset=utf-8 38.4561ms
2025-01-22 14:22:13.703 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:22:13.708 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:13.709 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:13.709 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:22:13.711 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:22:13.7113289Z"
2025-01-22 14:22:13.715 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:22:13.718 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:13.7187826Z"
2025-01-22 14:22:13.719 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:13.7193728Z"
2025-01-22 14:22:13.719 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:13.7199715Z"
2025-01-22 14:22:13.720 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:22:13.721 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4983ms
2025-01-22 14:22:13.722 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:13.723 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.3001ms
2025-01-22 14:22:28.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:22:28.334 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:28.335 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:22:28.336 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:22:28.3365810Z"
2025-01-22 14:22:28.339 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:22:28.341 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:28.3416392Z"
2025-01-22 14:22:28.342 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:28.3423024Z"
2025-01-22 14:22:28.343 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:28.3430355Z"
2025-01-22 14:22:28.343 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:22:28.344 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2517ms
2025-01-22 14:22:28.345 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:28.346 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.705ms
2025-01-22 14:22:47.354 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:22:47.358 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:47.359 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 4.7534ms
2025-01-22 14:22:47.361 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 14:22:47.362 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:47.363 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:22:47.363 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:22:47.372 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:22:47.455 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:22:47.461 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:22:47.465 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:22:47.471 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:22:47.472 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 107.7749ms
2025-01-22 14:22:47.473 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:22:47.474 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 113.6969ms
2025-01-22 14:22:47.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:22:47.482 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:47.483 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:47.484 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:22:47.485 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:22:47.4855670Z"
2025-01-22 14:22:47.487 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:22:47.489 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:47.4899394Z"
2025-01-22 14:22:47.491 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:47.4912049Z"
2025-01-22 14:22:47.491 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:22:47.4918917Z"
2025-01-22 14:22:47.492 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:22:47.493 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2492ms
2025-01-22 14:22:47.494 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:22:47.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.0258ms
2025-01-22 14:22:59.458 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:22:59.460 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:59.461 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.2147ms
2025-01-22 14:22:59.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:22:59.466 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:22:59.467 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:22:59.470 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:22:59.474 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:22:59.478 +02:00 [INF] Fetching all donators.
2025-01-22 14:22:59.479 +02:00 [INF] Fetching all donators.
2025-01-22 14:22:59.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:22:59.496 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:22:59.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:22:59.500 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 23.7762ms
2025-01-22 14:22:59.501 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:22:59.501 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:22:59.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 37.5268ms
2025-01-22 14:23:02.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - null null
2025-01-22 14:23:02.617 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:23:02.618 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - 204 null null 2.3129ms
2025-01-22 14:23:02.620 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/4 - application/json null
2025-01-22 14:23:02.622 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:23:02.623 +02:00 [INF] Incoming Request: DELETE /api/Donator/4
2025-01-22 14:23:02.624 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-22 14:23:02.627 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 14:23:02.631 +02:00 [INF] Deleting donator with ID: 4
2025-01-22 14:23:02.632 +02:00 [INF] Attempting to delete donator with ID: 4
2025-01-22 14:23:02.633 +02:00 [INF] Fetching donator with ID: 4
2025-01-22 14:23:02.643 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 14:23:02.667 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 14:23:02.713 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f2b12bee-0c15-4292-9429-7f045a08494a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f2b12bee-0c15-4292-9429-7f045a08494a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-22 14:23:02.808 +02:00 [ERR] Error deleting donator with ID 4: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-22 14:23:02.863 +02:00 [ERR] Error deleting donator with ID 4: Error occurred while deleting the donator.
2025-01-22 14:23:02.922 +02:00 [ERR] Error deleting donator with ID 4: Error deleting donator with ID 4.
2025-01-22 14:23:02.923 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 14:23:02.924 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 295.2497ms
2025-01-22 14:23:02.925 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-22 14:23:02.926 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:23:02.927 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/4 - 500 null text/plain; charset=utf-8 306.6215ms
2025-01-22 14:25:14.618 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-22 14:25:14.624 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:14.625 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 6.1462ms
2025-01-22 14:25:14.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:25:14.631 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:14.632 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:25:14.633 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:14.637 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:25:14.642 +02:00 [INF] Filtering donators by email.
2025-01-22 14:25:14.643 +02:00 [INF] Fetching all donators.
2025-01-22 14:25:14.649 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:25:14.651 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:25:14.652 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:25:14.654 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 13.8018ms
2025-01-22 14:25:14.654 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:14.655 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:25:14.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 26.7634ms
2025-01-22 14:25:14.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:25:14.954 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:14.954 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:25:14.955 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:14.956 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:25:14.958 +02:00 [INF] Filtering donators by email.
2025-01-22 14:25:14.958 +02:00 [INF] Fetching all donators.
2025-01-22 14:25:14.961 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:25:14.965 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:25:14.966 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:25:14.967 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 8.9142ms
2025-01-22 14:25:14.968 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:14.969 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:25:14.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 18.2102ms
2025-01-22 14:25:15.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-22 14:25:15.523 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:15.524 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-22 14:25:15.525 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:15.526 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:25:15.528 +02:00 [INF] Filtering donators by email.
2025-01-22 14:25:15.529 +02:00 [INF] Fetching all donators.
2025-01-22 14:25:15.531 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:25:15.533 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:25:15.534 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:25:15.535 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 6.8064ms
2025-01-22 14:25:15.536 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-22 14:25:15.536 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:25:15.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 16.6316ms
2025-01-22 14:25:50.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:25:50.228 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:50.229 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 6.538ms
2025-01-22 14:25:50.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:25:50.236 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:50.237 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:25:50.242 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:25:50.244 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:25:50.245 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:25:50.2457116Z"
2025-01-22 14:25:50.247 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:25:50.2474563Z"
2025-01-22 14:25:50.258 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:25:50.260 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:25:50.2606480Z"
2025-01-22 14:25:50.261 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:25:50.2612930Z"
2025-01-22 14:25:50.262 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:25:50.262 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:25:50.263 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 20.3494ms
2025-01-22 14:25:50.264 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:25:50.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 30.9089ms
2025-01-22 14:25:51.061 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:25:51.063 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:51.064 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.8627ms
2025-01-22 14:25:51.066 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:25:51.067 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:25:51.069 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:25:51.070 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:25:51.070 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:25:51.072 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:25:51.073 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:25:51.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:25:51.078 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:25:51.078 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:25:51.079 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:25:51.084 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 12.3603ms
2025-01-22 14:25:51.085 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:25:51.086 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:25:51.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 21.062ms
2025-01-22 14:29:44.038 +02:00 [INF] Starting up the application
2025-01-22 14:29:44.727 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:29:45.461 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:29:45.511 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:29:45.640 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:29:45.642 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:29:45.642 +02:00 [INF] Hosting environment: Development
2025-01-22 14:29:45.643 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:29:45.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:29:46.093 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 135.7397ms
2025-01-22 14:29:46.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:29:46.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:29:46.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.7324ms
2025-01-22 14:29:46.105 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 6.2837ms
2025-01-22 14:29:46.105 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:29:46.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4951ms
2025-01-22 14:29:46.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:29:46.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.409ms
2025-01-22 14:29:51.147 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:29:51.151 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:29:51.153 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.2473ms
2025-01-22 14:29:51.155 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 14:29:51.157 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:29:51.158 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:29:51.204 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:29:51.217 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:29:51.280 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:29:51.368 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:29:51.394 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:29:51.412 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:29:51.424 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:29:51.436 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 215.2684ms
2025-01-22 14:29:51.437 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:29:51.440 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 284.4288ms
2025-01-22 14:29:51.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:29:51.453 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:29:51.456 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:29:51.461 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:29:51.587 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:29:51.5876238Z"
2025-01-22 14:29:51.609 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:29:51.640 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:29:51.6400936Z"
2025-01-22 14:29:51.642 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:29:51.6421709Z"
2025-01-22 14:29:51.643 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:29:51.6430278Z"
2025-01-22 14:29:51.644 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:29:51.666 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 202.8679ms
2025-01-22 14:29:51.668 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:29:51.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 217.9737ms
2025-01-22 14:30:11.276 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:30:11.278 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:11.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.5841ms
2025-01-22 14:30:11.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:30:11.283 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:11.329 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:30:11.334 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:30:11.339 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:30:11.341 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:30:11.3413144Z"
2025-01-22 14:30:11.343 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:30:11.3431245Z"
2025-01-22 14:30:11.381 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:30:11.384 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:30:11.3844224Z"
2025-01-22 14:30:11.385 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:30:11.3851917Z"
2025-01-22 14:30:11.386 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:30:11.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:11.390 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 52.92ms
2025-01-22 14:30:11.391 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:30:11.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 110.2639ms
2025-01-22 14:30:12.107 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:30:12.109 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:12.110 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 2.7921ms
2025-01-22 14:30:12.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:30:12.113 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:12.114 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:30:12.130 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:30:12.133 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:30:12.137 +02:00 [INF] Fetching all donators.
2025-01-22 14:30:12.138 +02:00 [INF] Fetching all donators.
2025-01-22 14:30:12.146 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:30:12.155 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:30:12.156 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:12.159 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 23.9148ms
2025-01-22 14:30:12.160 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:30:12.160 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:30:12.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 49.339ms
2025-01-22 14:30:12.465 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:30:12.466 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:12.467 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.6749ms
2025-01-22 14:30:12.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:30:12.474 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:12.478 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:30:12.482 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:30:12.488 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:12.4882254Z"
2025-01-22 14:30:12.490 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:12.4900851Z"
2025-01-22 14:30:12.492 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:12.4920658Z"
2025-01-22 14:30:12.514 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:30:12.517 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:12.5169772Z"
2025-01-22 14:30:12.517 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:12.5176509Z"
2025-01-22 14:30:12.518 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:12.5184958Z"
2025-01-22 14:30:12.519 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:12.521 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 37.5365ms
2025-01-22 14:30:12.522 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:30:12.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 50.7091ms
2025-01-22 14:30:13.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:30:13.249 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:13.250 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:30:13.251 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:30:13.253 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:30:13.254 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:30:13.2542250Z"
2025-01-22 14:30:13.254 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:30:13.2548902Z"
2025-01-22 14:30:13.266 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:30:13.268 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:30:13.2687366Z"
2025-01-22 14:30:13.269 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:30:13.2693329Z"
2025-01-22 14:30:13.269 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:30:13.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:13.271 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 18.3821ms
2025-01-22 14:30:13.272 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:30:13.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 26.4878ms
2025-01-22 14:30:15.328 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:30:15.330 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:15.331 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:30:15.332 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:30:15.333 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:30:15.335 +02:00 [INF] Fetching all donators.
2025-01-22 14:30:15.336 +02:00 [INF] Fetching all donators.
2025-01-22 14:30:15.339 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:30:15.341 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:30:15.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:15.342 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 7.8613ms
2025-01-22 14:30:15.343 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:30:15.344 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:30:15.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 16.7853ms
2025-01-22 14:30:19.674 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:30:19.677 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:19.678 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.7068ms
2025-01-22 14:30:19.681 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:30:19.683 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:19.684 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:30:19.686 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:30:19.689 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:19.6890130Z"
2025-01-22 14:30:19.690 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:19.6904534Z"
2025-01-22 14:30:19.692 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:30:19.6922844Z"
2025-01-22 14:30:19.697 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:30:19.699 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:19.6990602Z"
2025-01-22 14:30:19.699 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:19.6996311Z"
2025-01-22 14:30:19.702 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:30:19.7021393Z"
2025-01-22 14:30:19.703 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:19.704 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.2553ms
2025-01-22 14:30:19.705 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:30:19.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 25.0535ms
2025-01-22 14:30:23.806 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:30:23.808 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:23.809 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.7802ms
2025-01-22 14:30:23.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:30:23.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:23.813 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:30:23.814 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:30:23.818 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:30:23.822 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:30:23.824 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:30:23.844 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:30:23.846 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:30:23.847 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:30:23.847 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:23.853 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 33.5865ms
2025-01-22 14:30:23.854 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:30:23.855 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:30:23.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 44.8746ms
2025-01-22 14:30:24.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:30:24.325 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:24.326 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:30:24.327 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:30:24.329 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:30:24.3293259Z"
2025-01-22 14:30:24.332 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:30:24.335 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:30:24.3351017Z"
2025-01-22 14:30:24.336 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:30:24.3368872Z"
2025-01-22 14:30:24.338 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:30:24.3389207Z"
2025-01-22 14:30:24.339 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:30:24.340 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.6316ms
2025-01-22 14:30:24.341 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:30:24.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.7735ms
2025-01-22 14:30:51.238 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:30:51.242 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:51.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 5.5372ms
2025-01-22 14:30:51.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:30:51.250 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:51.251 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:30:51.255 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:30:51.258 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:30:51.2588618Z"
2025-01-22 14:30:51.260 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:30:51.2602451Z"
2025-01-22 14:30:51.261 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:30:51.2618189Z"
2025-01-22 14:30:51.272 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:30:51.274 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:30:51.2744979Z"
2025-01-22 14:30:51.275 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:30:51.2752537Z"
2025-01-22 14:30:51.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:30:51.277 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 20.2818ms
2025-01-22 14:30:51.277 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:30:51.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 29.8078ms
2025-01-22 14:30:51.280 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:30:51.282 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:51.282 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.0028ms
2025-01-22 14:30:51.284 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:30:51.286 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:30:51.286 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:30:51.287 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:30:51.291 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:30:51.302 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:30:51.303 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:30:51.304 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:30:51.305 +02:00 [INF] Parsing token...
2025-01-22 14:30:51.306 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:30:51.326 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:30:51.328 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:30:51.384 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:30:51.455 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:30:51.459 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:30:51.462 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 169.281ms
2025-01-22 14:30:51.463 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:30:51.463 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:30:51.464 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 180.0479ms
2025-01-22 14:31:01.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:31:01.032 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:31:01.033 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:31:01.034 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:31:01.0349488Z"
2025-01-22 14:31:01.040 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:31:01.042 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:01.0422404Z"
2025-01-22 14:31:01.042 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:01.0428383Z"
2025-01-22 14:31:01.043 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:01.0434341Z"
2025-01-22 14:31:01.044 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:31:01.045 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.6337ms
2025-01-22 14:31:01.046 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:31:01.046 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.9824ms
2025-01-22 14:31:26.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:31:26.889 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:31:26.890 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:31:26.891 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:31:26.8915808Z"
2025-01-22 14:31:26.896 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:31:26.898 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:26.8980056Z"
2025-01-22 14:31:26.898 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:26.8985988Z"
2025-01-22 14:31:26.899 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:31:26.8991736Z"
2025-01-22 14:31:26.899 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:31:26.900 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.3955ms
2025-01-22 14:31:26.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:31:26.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.9148ms
2025-01-22 14:31:29.784 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 14:31:29.786 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:31:29.787 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 2.477ms
2025-01-22 14:31:29.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 14:31:29.794 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:31:29.795 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:31:29.796 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:31:29.797 +02:00 [INF] Starting GetByIdAsync with ID 4 at "2025-01-22T12:31:29.7977228Z"
2025-01-22 14:31:29.798 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:31:29.7985104Z"
2025-01-22 14:31:29.799 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:31:29.7992161Z"
2025-01-22 14:31:29.803 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:31:29.805 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 4 at "2025-01-22T12:31:29.8055988Z"
2025-01-22 14:31:29.806 +02:00 [INF] GetByIdAsync completed successfully with ID 4 at "2025-01-22T12:31:29.8062946Z"
2025-01-22 14:31:29.807 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:31:29.807 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 10.4857ms
2025-01-22 14:31:29.808 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:31:29.809 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 16.93ms
2025-01-22 14:31:29.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 14:31:29.813 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:31:29.814 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.0148ms
2025-01-22 14:31:29.816 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - application/json 2
2025-01-22 14:31:29.817 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:31:29.818 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:31:29.818 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:31:29.819 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:31:37.814 +02:00 [INF] Starting AddToBasketAsync with GiftId: 4 and Quantity: 1
2025-01-22 14:32:15.204 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:32:16.989 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:32:16.989 +02:00 [INF] Parsing token...
2025-01-22 14:32:16.990 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:32:17.008 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:32:17.013 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:32:17.024 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:34:34.319 +02:00 [INF] Starting up the application
2025-01-22 14:34:35.095 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:34:35.938 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:34:35.994 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:34:36.134 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:34:36.136 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:34:36.137 +02:00 [INF] Hosting environment: Development
2025-01-22 14:34:36.137 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:34:36.311 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:34:36.454 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 146.4855ms
2025-01-22 14:34:36.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:34:36.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:34:36.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 3.7156ms
2025-01-22 14:34:36.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.7439ms
2025-01-22 14:34:36.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:34:36.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.5937ms
2025-01-22 14:34:36.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:34:36.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.6238ms
2025-01-22 14:34:41.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:34:41.189 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:34:41.235 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:34:41.246 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:34:41.317 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:34:41.3177303Z"
2025-01-22 14:34:41.361 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:34:41.381 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:34:41.3817457Z"
2025-01-22 14:34:41.382 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:34:41.3825391Z"
2025-01-22 14:34:41.383 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:34:41.3831839Z"
2025-01-22 14:34:41.388 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:34:41.410 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 161.1498ms
2025-01-22 14:34:41.412 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:34:41.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 230.3218ms
2025-01-22 14:34:43.014 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:34:43.017 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:34:43.019 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 4.992ms
2025-01-22 14:34:43.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:34:43.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:34:43.080 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:34:43.090 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:34:43.100 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:34:43.1007518Z"
2025-01-22 14:34:43.102 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:34:43.1022899Z"
2025-01-22 14:34:43.103 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:34:43.1039334Z"
2025-01-22 14:34:43.127 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:34:43.129 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:34:43.1295695Z"
2025-01-22 14:34:43.130 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:34:43.1303939Z"
2025-01-22 14:34:43.131 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:34:43.133 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 41.5173ms
2025-01-22 14:34:43.134 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:34:43.135 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 113.3213ms
2025-01-22 14:34:43.137 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:34:43.139 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:34:43.139 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.1647ms
2025-01-22 14:34:43.141 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:34:43.143 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:34:43.144 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:34:43.163 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:34:43.167 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:34:49.492 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:34:59.083 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:35:59.439 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:36:07.753 +02:00 [INF] Parsing token...
2025-01-22 14:36:36.642 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:36:39.141 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:39:43.929 +02:00 [INF] Starting up the application
2025-01-22 14:39:44.610 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:39:45.370 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:39:45.421 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:39:45.568 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:39:45.570 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:39:45.571 +02:00 [INF] Hosting environment: Development
2025-01-22 14:39:45.571 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:39:45.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:39:45.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 156.2223ms
2025-01-22 14:39:45.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:39:45.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:39:45.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 4.4711ms
2025-01-22 14:39:45.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:39:45.996 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 16.1225ms
2025-01-22 14:39:46.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7907ms
2025-01-22 14:39:46.059 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:39:46.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.4207ms
2025-01-22 14:39:49.497 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:39:49.502 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:39:49.503 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 6.8248ms
2025-01-22 14:39:49.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:39:49.508 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:39:49.509 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:39:49.586 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:39:49.602 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:39:49.683 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:39:49.6830480Z"
2025-01-22 14:39:49.685 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:39:49.6850007Z"
2025-01-22 14:39:49.687 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:39:49.6870778Z"
2025-01-22 14:39:49.727 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:39:49.746 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:39:49.7466350Z"
2025-01-22 14:39:49.747 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:39:49.7474286Z"
2025-01-22 14:39:49.752 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:39:49.778 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 171.3823ms
2025-01-22 14:39:49.779 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:39:49.782 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 276.7834ms
2025-01-22 14:39:49.784 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:39:49.786 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:39:49.786 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.0183ms
2025-01-22 14:39:49.788 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:39:49.790 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:39:49.791 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:39:49.804 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:39:49.807 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:39:49.814 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:39:49.816 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:39:49.818 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:39:49.819 +02:00 [INF] Parsing token...
2025-01-22 14:39:49.820 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:39:49.845 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:39:49.848 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:39:49.880 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:39:49.923 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:39:49.927 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:39:49.933 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 124.6506ms
2025-01-22 14:39:49.934 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:39:49.935 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:39:49.936 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 147.4144ms
2025-01-22 14:40:18.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:40:18.835 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:18.840 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:40:18.846 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:40:18.8466758Z"
2025-01-22 14:40:18.860 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:40:18.863 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:18.8636265Z"
2025-01-22 14:40:18.864 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:18.8642906Z"
2025-01-22 14:40:18.864 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:18.8649309Z"
2025-01-22 14:40:18.865 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:40:18.870 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 28.5222ms
2025-01-22 14:40:18.871 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:18.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 40.7943ms
2025-01-22 14:40:20.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 14:40:20.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:40:20.188 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 2.9195ms
2025-01-22 14:40:20.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 14:40:20.192 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:40:20.195 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:40:20.195 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:40:20.201 +02:00 [INF] Starting GetByIdAsync with ID 4 at "2025-01-22T12:40:20.2010023Z"
2025-01-22 14:40:20.201 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:40:20.2017931Z"
2025-01-22 14:40:20.203 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:40:20.2033376Z"
2025-01-22 14:40:20.209 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:40:20.211 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 4 at "2025-01-22T12:40:20.2110388Z"
2025-01-22 14:40:20.211 +02:00 [INF] GetByIdAsync completed successfully with ID 4 at "2025-01-22T12:40:20.2118096Z"
2025-01-22 14:40:20.212 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:40:20.213 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 16.3676ms
2025-01-22 14:40:20.214 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:40:20.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 24.7131ms
2025-01-22 14:40:20.217 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 14:40:20.219 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:40:20.219 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.3439ms
2025-01-22 14:40:20.221 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - application/json 2
2025-01-22 14:40:20.223 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:40:20.223 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:40:20.224 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:40:20.225 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:40:20.227 +02:00 [INF] Starting AddToBasketAsync with GiftId: 4 and Quantity: 1
2025-01-22 14:40:20.231 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:40:20.231 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:40:20.232 +02:00 [INF] Parsing token...
2025-01-22 14:40:20.232 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:40:20.239 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:40:20.242 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:40:20.256 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:40:20.282 +02:00 [ERR] Error occurred while adding Gift 4 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:40:20.284 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:40:20.285 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 58.6497ms
2025-01-22 14:40:20.286 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:40:20.286 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:40:20.287 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - 500 null application/json; charset=utf-8 65.7758ms
2025-01-22 14:40:26.156 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:40:26.158 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:26.159 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:40:26.161 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:40:26.1615134Z"
2025-01-22 14:40:26.167 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:40:26.169 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:26.1693304Z"
2025-01-22 14:40:26.169 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:26.1699258Z"
2025-01-22 14:40:26.171 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:26.1712365Z"
2025-01-22 14:40:26.172 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:40:26.173 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.3089ms
2025-01-22 14:40:26.174 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:26.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.2059ms
2025-01-22 14:40:53.682 +02:00 [INF] Starting up the application
2025-01-22 14:40:54.276 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:40:55.149 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:40:55.202 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:40:55.346 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:40:55.348 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:40:55.349 +02:00 [INF] Hosting environment: Development
2025-01-22 14:40:55.350 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:40:55.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:40:55.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 135.903ms
2025-01-22 14:40:55.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:40:55.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:40:55.803 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 3.7469ms
2025-01-22 14:40:55.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:40:55.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 43.6461ms
2025-01-22 14:40:55.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.5687ms
2025-01-22 14:40:55.913 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:40:56.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.4545ms
2025-01-22 14:40:58.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:40:58.323 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:40:58.364 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:58.373 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:40:58.440 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:40:58.4402874Z"
2025-01-22 14:40:58.484 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:40:58.505 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:58.5056839Z"
2025-01-22 14:40:58.506 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:58.5065450Z"
2025-01-22 14:40:58.507 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:40:58.5072256Z"
2025-01-22 14:40:58.513 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:40:58.540 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 163.3825ms
2025-01-22 14:40:58.542 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:40:58.546 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 226.8816ms
2025-01-22 14:41:00.332 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 14:41:00.334 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:41:00.336 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 4.351ms
2025-01-22 14:41:00.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 14:41:00.340 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:41:00.374 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:41:00.379 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:41:00.386 +02:00 [INF] Starting GetByIdAsync with ID 4 at "2025-01-22T12:41:00.3861815Z"
2025-01-22 14:41:00.387 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:41:00.3872501Z"
2025-01-22 14:41:00.388 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T12:41:00.3882694Z"
2025-01-22 14:41:00.401 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:41:00.403 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 4 at "2025-01-22T12:41:00.4037109Z"
2025-01-22 14:41:00.404 +02:00 [INF] GetByIdAsync completed successfully with ID 4 at "2025-01-22T12:41:00.4047467Z"
2025-01-22 14:41:00.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:41:00.407 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 26.9918ms
2025-01-22 14:41:00.409 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:41:00.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 71.3296ms
2025-01-22 14:41:00.417 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 14:41:00.418 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:41:00.419 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.0033ms
2025-01-22 14:41:00.421 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - application/json 2
2025-01-22 14:41:00.423 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:41:00.423 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:41:00.436 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:41:00.439 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:41:00.446 +02:00 [INF] Starting AddToBasketAsync with GiftId: 4 and Quantity: 1
2025-01-22 14:41:00.447 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:41:00.448 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:41:00.449 +02:00 [INF] Parsing token...
2025-01-22 14:41:00.450 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:41:00.467 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:41:00.469 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:41:00.494 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:41:00.528 +02:00 [ERR] Error occurred while adding Gift 4 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:41:00.531 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:41:00.537 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 96.384ms
2025-01-22 14:41:00.538 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:41:00.539 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:41:00.540 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=4 - 500 null application/json; charset=utf-8 118.7446ms
2025-01-22 14:42:28.469 +02:00 [INF] Starting up the application
2025-01-22 14:42:29.076 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:42:29.753 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:42:30.408 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:42:30.551 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:42:30.553 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:42:30.555 +02:00 [INF] Hosting environment: Development
2025-01-22 14:42:30.555 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:42:31.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:42:31.217 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:42:31.226 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:42:31.288 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:42:31.301 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:42:31.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 140.9675ms
2025-01-22 14:42:31.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:42:31.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:42:31.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 4.1608ms
2025-01-22 14:42:31.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:42:31.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.1514ms
2025-01-22 14:42:31.389 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:42:31.3892381Z"
2025-01-22 14:42:31.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.2089ms
2025-01-22 14:42:31.460 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:42:31.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:42:31.493 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:31.4929927Z"
2025-01-22 14:42:31.494 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:31.4942326Z"
2025-01-22 14:42:31.495 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:31.4955396Z"
2025-01-22 14:42:31.504 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:42:31.541 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 237.0931ms
2025-01-22 14:42:31.543 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:42:31.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 356.9652ms
2025-01-22 14:42:31.562 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.4683ms
2025-01-22 14:42:34.031 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:42:34.033 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:42:34.036 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 4.4506ms
2025-01-22 14:42:34.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:42:34.039 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:42:34.073 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:42:34.078 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:42:34.085 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:42:34.0858718Z"
2025-01-22 14:42:34.086 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:42:34.0868768Z"
2025-01-22 14:42:34.087 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:42:34.0879721Z"
2025-01-22 14:42:34.102 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:42:34.104 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:42:34.1042423Z"
2025-01-22 14:42:34.104 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:42:34.1048592Z"
2025-01-22 14:42:34.105 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:42:34.107 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 26.7848ms
2025-01-22 14:42:34.107 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:42:34.108 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 70.3214ms
2025-01-22 14:42:34.110 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:42:34.111 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:42:34.112 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 1.9732ms
2025-01-22 14:42:34.114 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:42:34.116 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:42:34.116 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:42:34.129 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:42:34.131 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:42:34.137 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:42:34.137 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:42:34.139 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:42:34.139 +02:00 [INF] Parsing token...
2025-01-22 14:42:34.140 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:42:34.154 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:42:34.156 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:42:34.181 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:42:34.219 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:42:34.222 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:42:34.229 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 96.5909ms
2025-01-22 14:42:34.230 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:42:34.231 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:42:34.231 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 116.535ms
2025-01-22 14:42:45.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:42:45.628 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:42:45.630 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:42:45.635 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:42:45.6357321Z"
2025-01-22 14:42:45.642 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:42:45.645 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:45.6451590Z"
2025-01-22 14:42:45.646 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:45.6460452Z"
2025-01-22 14:42:45.647 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:42:45.6470098Z"
2025-01-22 14:42:45.647 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:42:45.649 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 17.55ms
2025-01-22 14:42:45.650 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:42:45.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 23.9448ms
2025-01-22 14:43:00.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:43:00.428 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:43:00.428 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:43:00.431 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:43:00.4314452Z"
2025-01-22 14:43:00.437 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:43:00.439 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:43:00.4395012Z"
2025-01-22 14:43:00.440 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:43:00.4401437Z"
2025-01-22 14:43:00.440 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:43:00.4407245Z"
2025-01-22 14:43:00.441 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:43:00.442 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.8241ms
2025-01-22 14:43:00.443 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:43:00.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.8224ms
2025-01-22 14:43:05.504 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:43:05.506 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:43:05.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 3.1415ms
2025-01-22 14:43:05.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:43:05.510 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:43:05.513 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:43:05.514 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:43:05.516 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:43:05.5162215Z"
2025-01-22 14:43:05.516 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:43:05.5169765Z"
2025-01-22 14:43:05.517 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:43:05.5177240Z"
2025-01-22 14:43:05.525 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:43:05.527 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:43:05.5276294Z"
2025-01-22 14:43:05.528 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:43:05.5283261Z"
2025-01-22 14:43:05.529 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:43:05.530 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 14.6329ms
2025-01-22 14:43:05.531 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:43:05.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 22.9746ms
2025-01-22 14:43:05.534 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:43:05.535 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:43:05.536 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.2031ms
2025-01-22 14:43:05.538 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:43:05.539 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:43:05.540 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:43:05.541 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:43:05.541 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:43:05.544 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:43:05.544 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:43:05.545 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:43:05.545 +02:00 [INF] Parsing token...
2025-01-22 14:43:05.546 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:43:05.550 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:43:05.552 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:43:05.584 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:43:05.627 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:43:05.629 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:43:05.630 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 87.3967ms
2025-01-22 14:43:05.631 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:43:05.632 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:43:05.632 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 94.6483ms
2025-01-22 14:43:26.936 +02:00 [INF] Starting up the application
2025-01-22 14:43:27.609 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:43:28.385 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:43:28.439 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:43:28.601 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:43:28.603 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:43:28.604 +02:00 [INF] Hosting environment: Development
2025-01-22 14:43:28.604 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:43:28.979 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:43:29.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 123.3228ms
2025-01-22 14:43:29.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:43:29.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:43:29.108 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 4.2837ms
2025-01-22 14:43:29.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:43:29.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.5948ms
2025-01-22 14:43:29.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0756ms
2025-01-22 14:43:29.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:43:29.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.9472ms
2025-01-22 14:44:12.024 +02:00 [INF] Starting up the application
2025-01-22 14:44:12.733 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:44:13.502 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:44:13.553 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:44:13.691 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:44:13.693 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:44:13.694 +02:00 [INF] Hosting environment: Development
2025-01-22 14:44:13.694 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:44:14.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:44:14.239 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 130.2298ms
2025-01-22 14:44:14.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:44:14.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:44:14.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.5198ms
2025-01-22 14:44:14.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:44:14.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.0051ms
2025-01-22 14:44:14.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.9517ms
2025-01-22 14:44:14.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:44:14.408 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.7081ms
2025-01-22 14:44:18.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:44:18.947 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:44:18.987 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:44:18.996 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:44:19.061 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:44:19.0610870Z"
2025-01-22 14:44:19.103 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:44:19.124 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:44:19.1240470Z"
2025-01-22 14:44:19.125 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:44:19.1250882Z"
2025-01-22 14:44:19.125 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:44:19.1256522Z"
2025-01-22 14:44:19.130 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:44:19.157 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 156.0888ms
2025-01-22 14:44:19.158 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:44:19.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 217.7654ms
2025-01-22 14:44:21.337 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:44:21.340 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:44:21.342 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 5.2168ms
2025-01-22 14:44:21.344 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:44:21.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:44:21.403 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:44:21.414 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:44:21.425 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:44:21.4258160Z"
2025-01-22 14:44:21.427 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:44:21.4273309Z"
2025-01-22 14:44:21.429 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:44:21.4290418Z"
2025-01-22 14:44:21.450 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:44:21.452 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:44:21.4521209Z"
2025-01-22 14:44:21.452 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:44:21.4529338Z"
2025-01-22 14:44:21.454 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:44:21.455 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 39.5166ms
2025-01-22 14:44:21.456 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:44:21.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 112.7652ms
2025-01-22 14:44:21.459 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:44:21.461 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:44:21.461 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 2.1579ms
2025-01-22 14:44:21.464 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:44:21.465 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:44:21.466 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:44:21.485 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:44:21.489 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:44:21.496 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:44:21.497 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:44:21.499 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:44:21.499 +02:00 [INF] Parsing token...
2025-01-22 14:44:21.501 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:44:21.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:44:21.525 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:44:21.572 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:44:21.633 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:44:21.638 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:44:21.647 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 156.3011ms
2025-01-22 14:44:21.648 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:44:21.649 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:44:21.649 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 185.717ms
2025-01-22 14:45:05.408 +02:00 [INF] Starting up the application
2025-01-22 14:45:06.062 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 14:45:06.947 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 14:45:06.999 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 14:45:07.168 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 14:45:07.170 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 14:45:07.171 +02:00 [INF] Hosting environment: Development
2025-01-22 14:45:07.171 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 14:45:07.437 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 14:45:07.583 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 152.4748ms
2025-01-22 14:45:07.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 14:45:07.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 14:45:07.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 4.4336ms
2025-01-22 14:45:07.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 14:45:07.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 5.9733ms
2025-01-22 14:45:07.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3901ms
2025-01-22 14:45:07.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 14:45:07.768 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.4426ms
2025-01-22 14:45:12.415 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:45:12.420 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 14:45:12.461 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:45:12.471 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:45:12.535 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:45:12.5349747Z"
2025-01-22 14:45:12.577 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:45:12.596 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:12.5967682Z"
2025-01-22 14:45:12.597 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:12.5974134Z"
2025-01-22 14:45:12.597 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:12.5978669Z"
2025-01-22 14:45:12.602 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:45:12.625 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 150.8521ms
2025-01-22 14:45:12.626 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:45:12.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 214.0547ms
2025-01-22 14:45:14.332 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:45:14.336 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:14.338 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 5.9742ms
2025-01-22 14:45:14.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:45:14.341 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:14.375 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:45:14.381 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:45:14.389 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:45:14.3897366Z"
2025-01-22 14:45:14.390 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:45:14.3907011Z"
2025-01-22 14:45:14.391 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:45:14.3917186Z"
2025-01-22 14:45:14.406 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:45:14.407 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:45:14.4078825Z"
2025-01-22 14:45:14.408 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:45:14.4084755Z"
2025-01-22 14:45:14.409 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:45:14.410 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 26.9134ms
2025-01-22 14:45:14.411 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:45:14.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 71.5709ms
2025-01-22 14:45:14.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:45:14.416 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:14.416 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 1.6702ms
2025-01-22 14:45:14.418 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:45:14.419 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:14.420 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:45:14.431 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:45:14.434 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:45:14.438 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:45:14.439 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:45:14.440 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:45:14.440 +02:00 [INF] Parsing token...
2025-01-22 14:45:14.441 +02:00 [INF] Attempting to retrieve user with username: manager and email: manager@gmail.com
2025-01-22 14:45:14.455 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:45:14.456 +02:00 [ERR] User not found with username: manager and email: manager@gmail.com
2025-01-22 14:45:14.483 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
2025-01-22 14:45:14.521 +02:00 [ERR] Error occurred while adding Gift 5 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 135
2025-01-22 14:45:14.523 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:45:14.529 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 94.0263ms
2025-01-22 14:45:14.530 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:45:14.531 +02:00 [INF] Outgoing Response: 500
2025-01-22 14:45:14.532 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 500 null application/json; charset=utf-8 113.0944ms
2025-01-22 14:45:16.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:45:16.910 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:45:16.911 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:45:16.914 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:45:16.9143050Z"
2025-01-22 14:45:16.918 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:45:16.920 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:16.9205118Z"
2025-01-22 14:45:16.920 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:16.9208754Z"
2025-01-22 14:45:16.921 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:16.9212940Z"
2025-01-22 14:45:16.921 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:45:16.922 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4221ms
2025-01-22 14:45:16.922 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:45:16.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.4682ms
2025-01-22 14:45:33.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-22 14:45:33.637 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:33.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 2.7046ms
2025-01-22 14:45:33.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 14:45:33.641 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:33.643 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:45:33.646 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:45:33.649 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 14:45:33.652 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T12:45:33.6520017Z"
2025-01-22 14:45:33.703 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:45:33.705 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:33.7053705Z"
2025-01-22 14:45:33.705 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:45:33.706 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:45:33.708 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 60.9489ms
2025-01-22 14:45:33.709 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:45:33.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 70.2683ms
2025-01-22 14:45:35.034 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-22 14:45:35.036 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:45:35.037 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:45:35.038 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:45:35.040 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-22 14:45:35.040 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-22T12:45:35.0407648Z"
2025-01-22 14:45:35.051 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:45:35.052 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:45:35.0524321Z"
2025-01-22 14:45:35.052 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:45:35.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:45:35.054 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 14.2929ms
2025-01-22 14:45:35.055 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:45:35.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 21.5293ms
2025-01-22 14:46:05.372 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:46:05.376 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:46:05.377 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.1111ms
2025-01-22 14:46:05.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:46:05.385 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:46:05.386 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:46:05.387 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:46:05.389 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:46:05.397 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:46:05.398 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:46:05.416 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:46:05.417 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:46:05.417 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:46:05.418 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:46:05.422 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 31.44ms
2025-01-22 14:46:05.423 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:46:05.423 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:46:05.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 43.21ms
2025-01-22 14:46:11.771 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:46:11.773 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:46:11.775 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:46:11.775 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:46:11.777 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:46:11.7772293Z"
2025-01-22 14:46:11.785 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:46:11.786 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:46:11.7867441Z"
2025-01-22 14:46:11.787 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:46:11.7871456Z"
2025-01-22 14:46:11.787 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:46:11.7874502Z"
2025-01-22 14:46:11.788 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:46:11.789 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.6667ms
2025-01-22 14:46:11.790 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:46:11.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.7196ms
2025-01-22 14:50:01.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:01.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:01.775 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:01.776 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:01.776 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:01.776 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:01.777 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:01.7778764Z"
2025-01-22 14:50:01.778 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:01.7785975Z"
2025-01-22 14:50:01.784 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:01.786 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.7862374Z"
2025-01-22 14:50:01.786 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.7866498Z"
2025-01-22 14:50:01.787 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.7879173Z"
2025-01-22 14:50:01.788 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:01.789 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.4359ms
2025-01-22 14:50:01.789 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:01.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 22.1394ms
2025-01-22 14:50:01.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:01.808 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.8084761Z"
2025-01-22 14:50:01.808 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.8088657Z"
2025-01-22 14:50:01.809 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:01.8092445Z"
2025-01-22 14:50:01.809 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:01.810 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 31.8503ms
2025-01-22 14:50:01.810 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:01.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 39.3623ms
2025-01-22 14:50:06.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:06.671 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:06.672 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:06.674 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:06.6740433Z"
2025-01-22 14:50:06.680 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:06.682 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:06.6822878Z"
2025-01-22 14:50:06.683 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:06.6831629Z"
2025-01-22 14:50:06.684 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:06.6840785Z"
2025-01-22 14:50:06.684 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:06.685 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.6628ms
2025-01-22 14:50:06.687 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:06.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.2643ms
2025-01-22 14:50:14.818 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:14.820 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:14.821 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:14.823 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:14.8232136Z"
2025-01-22 14:50:14.828 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:14.830 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:14.8305144Z"
2025-01-22 14:50:14.831 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:14.8312592Z"
2025-01-22 14:50:14.831 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:14.8316144Z"
2025-01-22 14:50:14.832 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:14.833 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.6524ms
2025-01-22 14:50:14.834 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:14.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.6694ms
2025-01-22 14:50:18.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:18.236 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:18.237 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:18.238 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:18.2383093Z"
2025-01-22 14:50:18.242 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:18.244 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:18.2441526Z"
2025-01-22 14:50:18.244 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:18.2445700Z"
2025-01-22 14:50:18.245 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:18.2449961Z"
2025-01-22 14:50:18.245 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:18.246 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.0169ms
2025-01-22 14:50:18.246 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:18.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 12.6446ms
2025-01-22 14:50:22.741 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:22.743 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:22.744 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:22.746 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:22.7460583Z"
2025-01-22 14:50:22.751 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:22.753 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:22.7532481Z"
2025-01-22 14:50:22.753 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:22.7539544Z"
2025-01-22 14:50:22.754 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:22.7546028Z"
2025-01-22 14:50:22.755 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:22.756 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.6472ms
2025-01-22 14:50:22.757 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:22.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.3946ms
2025-01-22 14:50:26.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:26.746 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:26.747 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:26.748 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:26.7487971Z"
2025-01-22 14:50:26.753 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:26.755 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:26.7555356Z"
2025-01-22 14:50:26.756 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:26.7562548Z"
2025-01-22 14:50:26.757 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:26.7570292Z"
2025-01-22 14:50:26.758 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:26.759 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.7401ms
2025-01-22 14:50:26.761 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:26.762 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.834ms
2025-01-22 14:50:35.715 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:35.717 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:35.717 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:35.718 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:35.7183815Z"
2025-01-22 14:50:35.722 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:35.723 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:35.7235335Z"
2025-01-22 14:50:35.723 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:35.7239653Z"
2025-01-22 14:50:35.724 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:35.7245725Z"
2025-01-22 14:50:35.725 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:35.725 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.623ms
2025-01-22 14:50:35.726 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:35.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 11.1235ms
2025-01-22 14:50:37.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:37.828 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:37.828 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:37.829 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:37.8296105Z"
2025-01-22 14:50:37.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:37.834 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:37.8345917Z"
2025-01-22 14:50:37.834 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:37.8349371Z"
2025-01-22 14:50:37.835 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:37.8352378Z"
2025-01-22 14:50:37.835 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:37.836 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.7914ms
2025-01-22 14:50:37.836 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:37.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.2085ms
2025-01-22 14:50:39.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:39.755 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:39.756 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:39.759 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:39.7597916Z"
2025-01-22 14:50:39.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:39.764 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:39.7647003Z"
2025-01-22 14:50:39.765 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:39.7653240Z"
2025-01-22 14:50:39.765 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:39.7659559Z"
2025-01-22 14:50:39.766 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:39.767 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.5027ms
2025-01-22 14:50:39.768 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:39.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.0464ms
2025-01-22 14:50:41.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:41.763 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:41.763 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:41.764 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:41.7647292Z"
2025-01-22 14:50:41.767 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:41.768 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:41.7686838Z"
2025-01-22 14:50:41.768 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:41.7689951Z"
2025-01-22 14:50:41.769 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:41.7693565Z"
2025-01-22 14:50:41.769 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:41.770 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 5.8285ms
2025-01-22 14:50:41.770 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:41.771 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 10.996ms
2025-01-22 14:50:43.747 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:43.749 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:43.749 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:43.750 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:43.7508649Z"
2025-01-22 14:50:43.753 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:43.754 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:43.7546608Z"
2025-01-22 14:50:43.755 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:43.7550220Z"
2025-01-22 14:50:43.755 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:43.7553517Z"
2025-01-22 14:50:43.755 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:43.756 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 5.6426ms
2025-01-22 14:50:43.756 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:43.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 10.059ms
2025-01-22 14:50:50.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:50.691 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:50.693 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:50.696 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:50.6963865Z"
2025-01-22 14:50:50.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:50.702 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:50.7028530Z"
2025-01-22 14:50:50.704 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:50.7040239Z"
2025-01-22 14:50:50.704 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:50.7045360Z"
2025-01-22 14:50:50.705 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:50.705 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.0779ms
2025-01-22 14:50:50.707 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:50.708 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.9138ms
2025-01-22 14:50:56.503 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:50:56.505 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:56.505 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:50:56.507 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:50:56.5073347Z"
2025-01-22 14:50:56.510 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:50:56.511 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:56.5115372Z"
2025-01-22 14:50:56.511 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:56.5119578Z"
2025-01-22 14:50:56.512 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:50:56.5123895Z"
2025-01-22 14:50:56.512 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:50:56.513 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.6138ms
2025-01-22 14:50:56.514 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:50:56.515 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 11.2551ms
2025-01-22 14:51:38.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:51:38.453 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:38.454 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.5496ms
2025-01-22 14:51:38.459 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 14:51:38.461 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:38.461 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:51:38.464 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:51:38.490 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:51:38.558 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:51:38.571 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:51:38.584 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:51:38.586 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:51:38.587 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 123.058ms
2025-01-22 14:51:38.588 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:51:38.589 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 130.0216ms
2025-01-22 14:51:38.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:51:38.600 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:38.601 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:51:38.601 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:51:38.604 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:51:38.6040795Z"
2025-01-22 14:51:38.607 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:51:38.608 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:38.6085907Z"
2025-01-22 14:51:38.609 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:38.6093689Z"
2025-01-22 14:51:38.609 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:38.6098129Z"
2025-01-22 14:51:38.610 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:51:38.610 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.1057ms
2025-01-22 14:51:38.611 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:51:38.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.9399ms
2025-01-22 14:51:40.347 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 14:51:40.349 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:40.349 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 2.2631ms
2025-01-22 14:51:40.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 14:51:40.353 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:40.354 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:51:40.355 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:51:40.356 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T12:51:40.3568549Z"
2025-01-22 14:51:40.357 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:51:40.3576011Z"
2025-01-22 14:51:40.358 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:51:40.3588735Z"
2025-01-22 14:51:40.364 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:51:40.365 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T12:51:40.3658973Z"
2025-01-22 14:51:40.366 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T12:51:40.3664819Z"
2025-01-22 14:51:40.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:51:40.367 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 11.2478ms
2025-01-22 14:51:40.368 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:51:40.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 17.3839ms
2025-01-22 14:51:40.371 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 14:51:40.372 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:40.372 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 1.2914ms
2025-01-22 14:51:40.373 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 14:51:40.374 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:40.374 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:51:40.375 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:51:40.376 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:51:40.377 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 14:51:40.378 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:51:40.378 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:51:40.378 +02:00 [INF] Parsing token...
2025-01-22 14:51:40.379 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:51:40.382 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:51:40.383 +02:00 [INF] User successfully found: ayala
2025-01-22 14:51:40.383 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:51:40.383 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T12:51:40.3839557Z"
2025-01-22 14:51:40.385 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:51:40.386 +02:00 [INF] Gift with Id: 5 successfully retrieved.
2025-01-22 14:51:44.428 +02:00 [INF] Starting to add Gift 5 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:51:44.438 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:51:44.454 +02:00 [INF] Updated existing UserGift entry for Gift 5 (New Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:44.470 +02:00 [INF] Successfully saved changes to database for Gift 5 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 14:51:44.471 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 5 with Quantity: 1
2025-01-22 14:51:44.472 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:51:44.472 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 4095.676ms
2025-01-22 14:51:44.473 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:51:44.473 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:51:44.474 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 200 null application/json; charset=utf-8 4100.3451ms
2025-01-22 14:51:47.231 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:51:47.233 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:47.234 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.9161ms
2025-01-22 14:51:47.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:51:47.238 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:47.239 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:51:47.240 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:51:47.241 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:51:47.243 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:47.244 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:47.248 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:51:47.251 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 3
2025-01-22 14:51:47.252 +02:00 [INF] Successfully retrieved 3 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:47.252 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:51:47.254 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 11.1384ms
2025-01-22 14:51:47.254 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:51:47.255 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:51:47.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 18.5501ms
2025-01-22 14:51:49.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:51:49.618 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:49.618 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:51:49.619 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:51:49.620 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:51:49.6202640Z"
2025-01-22 14:51:49.624 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:51:49.625 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:49.6252437Z"
2025-01-22 14:51:49.625 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:49.6259100Z"
2025-01-22 14:51:49.626 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:51:49.6267733Z"
2025-01-22 14:51:49.627 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:51:49.628 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.2446ms
2025-01-22 14:51:49.628 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:51:49.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 12.6128ms
2025-01-22 14:51:51.083 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/11 - null null
2025-01-22 14:51:51.086 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:51.087 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/11 - 204 null null 3.5393ms
2025-01-22 14:51:51.089 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/11 - application/json null
2025-01-22 14:51:51.090 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:51.091 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:51:51.092 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 14:51:51.093 +02:00 [INF] Starting GetByIdAsync with ID 11 at "2025-01-22T12:51:51.0938967Z"
2025-01-22 14:51:51.094 +02:00 [INF] Starting GetByIdAsync for Gift ID 11 at "2025-01-22T12:51:51.0945598Z"
2025-01-22 14:51:51.095 +02:00 [INF] Starting GetByIdAsync for Gift ID 11 at "2025-01-22T12:51:51.0953040Z"
2025-01-22 14:51:51.098 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:51:51.100 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 11 at "2025-01-22T12:51:51.1005769Z"
2025-01-22 14:51:51.101 +02:00 [INF] GetByIdAsync completed successfully with ID 11 at "2025-01-22T12:51:51.1012005Z"
2025-01-22 14:51:51.101 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 14:51:51.102 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 9.1191ms
2025-01-22 14:51:51.103 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 14:51:51.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/11 - 200 null application/json; charset=utf-8 14.9608ms
2025-01-22 14:51:51.106 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=11 - null null
2025-01-22 14:51:51.106 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:51.107 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=11 - 204 null null 1.1869ms
2025-01-22 14:51:51.108 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=11 - application/json 2
2025-01-22 14:51:51.109 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:51.110 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 14:51:51.110 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:51:51.111 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 14:51:51.112 +02:00 [INF] Starting AddToBasketAsync with GiftId: 11 and Quantity: 1
2025-01-22 14:51:51.113 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 14:51:51.114 +02:00 [INF] Received request to fetch user by token.
2025-01-22 14:51:51.114 +02:00 [INF] Parsing token...
2025-01-22 14:51:51.114 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 14:51:51.117 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 14:51:51.118 +02:00 [INF] User successfully found: ayala
2025-01-22 14:51:51.119 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 14:51:51.119 +02:00 [INF] Starting GetByIdAsync for Gift ID 11 at "2025-01-22T12:51:51.1194713Z"
2025-01-22 14:51:51.121 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 14:51:51.122 +02:00 [INF] Gift with Id: 11 successfully retrieved.
2025-01-22 14:51:51.122 +02:00 [INF] Starting to add Gift 11 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 14:51:51.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 14:51:51.136 +02:00 [INF] Created new UserGift entry for Gift 11 (Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:51.171 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-22 14:51:51.178 +02:00 [INF] Successfully saved changes to database for Gift 11 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 14:51:51.179 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 11 with Quantity: 1
2025-01-22 14:51:51.180 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:51:51.181 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 68.5899ms
2025-01-22 14:51:51.182 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 14:51:51.182 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:51:51.183 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=11 - 200 null application/json; charset=utf-8 74.7561ms
2025-01-22 14:51:52.621 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:51:52.623 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:52.624 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.9896ms
2025-01-22 14:51:52.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:51:52.628 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:51:52.629 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:51:52.630 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:51:52.631 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:51:52.632 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:52.632 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:52.636 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:51:52.637 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 14:51:52.638 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:51:52.638 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:51:52.639 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 7.2952ms
2025-01-22 14:51:52.639 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:51:52.640 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:51:52.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 13.9743ms
2025-01-22 14:52:43.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:52:43.580 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:52:43.580 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:43.581 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:52:43.582 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:52:43.5827727Z"
2025-01-22 14:52:43.588 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:52:43.589 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:43.5892424Z"
2025-01-22 14:52:43.589 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:43.5896051Z"
2025-01-22 14:52:43.590 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:43.5899939Z"
2025-01-22 14:52:43.590 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:52:43.591 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.5066ms
2025-01-22 14:52:43.591 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:43.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 18.1942ms
2025-01-22 14:52:44.974 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:52:44.976 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:52:44.977 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.4548ms
2025-01-22 14:52:44.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:52:44.988 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:52:44.989 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:52:44.989 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:52:44.990 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:52:44.991 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:52:44.992 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:52:44.996 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:52:44.997 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 14:52:44.998 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:52:44.998 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:52:44.999 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 7.9749ms
2025-01-22 14:52:45.000 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:52:45.001 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:52:45.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 15.3518ms
2025-01-22 14:52:45.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:52:45.518 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:52:45.518 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:45.519 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:52:45.521 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:52:45.5218216Z"
2025-01-22 14:52:45.525 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:52:45.526 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:45.5261611Z"
2025-01-22 14:52:45.526 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:45.5264813Z"
2025-01-22 14:52:45.527 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:45.5271673Z"
2025-01-22 14:52:45.527 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:52:45.528 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.7019ms
2025-01-22 14:52:45.529 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:45.529 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.1317ms
2025-01-22 14:52:54.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:52:54.832 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:54.833 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:52:54.834 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:52:54.8345961Z"
2025-01-22 14:52:54.838 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:52:54.839 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:54.8393485Z"
2025-01-22 14:52:54.839 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:54.8398148Z"
2025-01-22 14:52:54.840 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:52:54.8402407Z"
2025-01-22 14:52:54.840 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:52:54.841 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.7372ms
2025-01-22 14:52:54.841 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:52:54.842 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 11.1288ms
2025-01-22 14:53:13.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:53:13.302 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:53:13.303 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:53:13.304 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:53:13.3041516Z"
2025-01-22 14:53:13.310 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:53:13.312 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:53:13.3120105Z"
2025-01-22 14:53:13.312 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:53:13.3123845Z"
2025-01-22 14:53:13.312 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:53:13.3127473Z"
2025-01-22 14:53:13.313 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:53:13.314 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.0605ms
2025-01-22 14:53:13.314 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:53:13.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.2156ms
2025-01-22 14:56:58.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-22 14:56:58.233 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:56:58.233 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 4.6118ms
2025-01-22 14:56:58.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-22 14:56:58.239 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:56:58.239 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:56:58.240 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 14:56:58.241 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-22 14:56:58.241 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-22T12:56:58.2418479Z"
2025-01-22 14:56:58.257 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-22 14:56:58.260 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:56:58.2602240Z"
2025-01-22 14:56:58.260 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 14:56:58.261 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:56:58.261 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 20.5147ms
2025-01-22 14:56:58.262 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 14:56:58.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 24.7996ms
2025-01-22 14:57:18.351 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:57:18.357 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:18.358 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.3524ms
2025-01-22 14:57:18.361 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:57:18.366 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:18.367 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:57:18.368 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:57:18.368 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:57:18.370 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:57:18.370 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:57:18.374 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:57:18.375 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 14:57:18.375 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 14:57:18.376 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:18.376 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 6.8909ms
2025-01-22 14:57:18.377 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:57:18.377 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:57:18.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 17.0206ms
2025-01-22 14:57:18.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:57:18.895 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:18.896 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:18.897 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:18.898 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:57:18.8988824Z"
2025-01-22 14:57:18.904 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:57:18.905 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:18.9057047Z"
2025-01-22 14:57:18.907 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:18.9072858Z"
2025-01-22 14:57:18.907 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:18.9078036Z"
2025-01-22 14:57:18.908 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:18.909 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.528ms
2025-01-22 14:57:18.910 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:18.910 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.0572ms
2025-01-22 14:57:47.857 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 14:57:47.859 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:47.859 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.1702ms
2025-01-22 14:57:47.865 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 14:57:47.867 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:47.868 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:57:47.869 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 14:57:47.876 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 14:57:47.927 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 14:57:47.931 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 14:57:47.934 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 14:57:47.937 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 14:57:47.938 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 67.962ms
2025-01-22 14:57:47.939 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 14:57:47.939 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 74.7816ms
2025-01-22 14:57:47.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:57:47.948 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:47.949 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:47.950 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:47.952 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:57:47.9527799Z"
2025-01-22 14:57:47.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:57:47.956 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:47.9567642Z"
2025-01-22 14:57:47.957 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:47.9571518Z"
2025-01-22 14:57:47.957 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:47.9575589Z"
2025-01-22 14:57:47.958 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:47.960 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.645ms
2025-01-22 14:57:47.960 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:47.961 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 15.8317ms
2025-01-22 14:57:50.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 14:57:50.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:50.024 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:50.024 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:50.026 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T12:57:50.0266197Z"
2025-01-22 14:57:50.030 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 14:57:50.031 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:50.0314757Z"
2025-01-22 14:57:50.031 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:50.0319097Z"
2025-01-22 14:57:50.032 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T12:57:50.0323857Z"
2025-01-22 14:57:50.032 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:50.034 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.5679ms
2025-01-22 14:57:50.034 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 14:57:50.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.4069ms
2025-01-22 14:57:50.427 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 14:57:50.429 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:50.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.7784ms
2025-01-22 14:57:50.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 14:57:50.434 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:50.434 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 14:57:50.435 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:57:50.436 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 14:57:50.436 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:57:50.437 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:57:50.439 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 14:57:50.440 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:57:50.440 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 14:57:50.440 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:50.441 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 4.6589ms
2025-01-22 14:57:50.442 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 14:57:50.442 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:57:50.442 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 10.3926ms
2025-01-22 14:57:50.886 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 14:57:50.887 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:50.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 1.977ms
2025-01-22 14:57:50.889 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:57:50.891 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:50.892 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:50.895 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:50.897 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:50.8975524Z"
2025-01-22 14:57:50.898 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:50.8984043Z"
2025-01-22 14:57:50.899 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:50.8994619Z"
2025-01-22 14:57:50.909 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:57:50.910 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:50.9104978Z"
2025-01-22 14:57:50.910 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:50.9108567Z"
2025-01-22 14:57:50.911 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:50.9112485Z"
2025-01-22 14:57:50.912 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:50.913 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.2589ms
2025-01-22 14:57:50.913 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:50.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 24.3933ms
2025-01-22 14:57:51.393 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 14:57:51.395 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:51.396 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.0688ms
2025-01-22 14:57:51.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:57:51.402 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:51.402 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:57:51.404 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:57:51.406 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:57:51.408 +02:00 [INF] Fetching all donators.
2025-01-22 14:57:51.409 +02:00 [INF] Fetching all donators.
2025-01-22 14:57:51.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:57:51.420 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:57:51.421 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:51.422 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.3511ms
2025-01-22 14:57:51.423 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:57:51.423 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:57:51.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 23.3355ms
2025-01-22 14:57:52.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:57:52.294 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:52.295 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:52.296 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:52.298 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:52.2982386Z"
2025-01-22 14:57:52.298 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:52.2986816Z"
2025-01-22 14:57:52.299 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:52.2990508Z"
2025-01-22 14:57:52.302 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:57:52.303 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:52.3039634Z"
2025-01-22 14:57:52.304 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:52.3042944Z"
2025-01-22 14:57:52.304 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:52.3046350Z"
2025-01-22 14:57:52.305 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:52.305 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 7.5055ms
2025-01-22 14:57:52.306 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:52.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 14.2063ms
2025-01-22 14:57:53.021 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 14:57:53.023 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:53.024 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 2.8676ms
2025-01-22 14:57:53.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 14:57:53.027 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:53.028 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:57:53.031 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:53.032 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 14:57:53.033 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:57:53.0339789Z"
2025-01-22 14:57:53.035 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T12:57:53.0354109Z"
2025-01-22 14:57:53.043 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 14:57:53.044 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:57:53.0446746Z"
2025-01-22 14:57:53.045 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T12:57:53.0450143Z"
2025-01-22 14:57:53.045 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 14:57:53.046 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:53.046 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 14.4573ms
2025-01-22 14:57:53.047 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 14:57:53.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 22.1072ms
2025-01-22 14:57:53.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 14:57:53.419 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:53.420 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:53.420 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 14:57:53.422 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:53.4222786Z"
2025-01-22 14:57:53.422 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:53.4226703Z"
2025-01-22 14:57:53.423 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T12:57:53.4231158Z"
2025-01-22 14:57:53.425 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 14:57:53.426 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:53.4268090Z"
2025-01-22 14:57:53.427 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:53.4271529Z"
2025-01-22 14:57:53.427 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T12:57:53.4275039Z"
2025-01-22 14:57:53.427 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:53.428 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 6.2619ms
2025-01-22 14:57:53.429 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 14:57:53.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 13.4748ms
2025-01-22 14:57:55.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 14:57:55.479 +02:00 [INF] CORS policy execution successful.
2025-01-22 14:57:55.480 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 14:57:55.481 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:57:55.482 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 14:57:55.484 +02:00 [INF] Fetching all donators.
2025-01-22 14:57:55.484 +02:00 [INF] Fetching all donators.
2025-01-22 14:57:55.487 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 14:57:55.488 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 14:57:55.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 14:57:55.490 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 7.0852ms
2025-01-22 14:57:55.491 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 14:57:55.491 +02:00 [INF] Outgoing Response: 200
2025-01-22 14:57:55.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 15.4379ms
2025-01-22 15:01:39.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:01:39.788 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:01:39.788 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:01:39.789 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:01:39.7898925Z"
2025-01-22 15:01:39.796 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:01:39.797 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:01:39.7973054Z"
2025-01-22 15:01:39.797 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:01:39.7976552Z"
2025-01-22 15:01:39.798 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:01:39.7980615Z"
2025-01-22 15:01:39.798 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:01:39.799 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 9.2646ms
2025-01-22 15:01:39.799 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:01:39.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.7006ms
2025-01-22 15:05:58.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-22 15:05:58.154 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:05:58.155 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:05:58.157 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:05:58.158 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 401 0 null 5.6562ms
2025-01-22 15:06:00.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 15:06:00.386 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:06:00.387 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:06:00.387 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:06:00.388 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 401 0 null 3.4971ms
2025-01-22 15:06:01.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:06:01.865 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:06:01.866 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:06:01.867 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:06:01.8670517Z"
2025-01-22 15:06:01.871 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:06:01.872 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:06:01.8729751Z"
2025-01-22 15:06:01.873 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:06:01.8733400Z"
2025-01-22 15:06:01.873 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:06:01.8736379Z"
2025-01-22 15:06:01.874 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:06:01.875 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.374ms
2025-01-22 15:06:01.876 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:06:01.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 19.4099ms
2025-01-22 15:06:52.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:06:52.901 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:06:52.902 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:06:52.903 +02:00 [WRN] Missing Authorization Header
2025-01-22 15:06:52.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.5185ms
2025-01-22 15:07:57.872 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:07:57.877 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:07:57.878 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.2844ms
2025-01-22 15:07:57.883 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 15:07:57.884 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:07:57.884 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:07:57.885 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:07:57.894 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:07:57.943 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:07:57.947 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:07:57.951 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:07:57.952 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:07:57.952 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 66.9521ms
2025-01-22 15:07:57.953 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:07:57.954 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 70.9184ms
2025-01-22 15:07:57.962 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:07:57.964 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:07:57.964 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:07:57.965 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:07:57.966 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:07:57.9664091Z"
2025-01-22 15:07:57.969 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:07:57.971 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:07:57.9717715Z"
2025-01-22 15:07:57.972 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:07:57.9722816Z"
2025-01-22 15:07:57.972 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:07:57.9727277Z"
2025-01-22 15:07:57.973 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:07:57.974 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.1955ms
2025-01-22 15:07:57.975 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:07:57.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.3679ms
2025-01-22 15:08:01.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - null null
2025-01-22 15:08:01.453 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:01.454 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/5 - 204 null null 2.9882ms
2025-01-22 15:08:01.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/5 - application/json null
2025-01-22 15:08:01.461 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:01.462 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 15:08:01.463 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 15:08:01.464 +02:00 [INF] Starting GetByIdAsync with ID 5 at "2025-01-22T13:08:01.4643777Z"
2025-01-22 15:08:01.464 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T13:08:01.4649441Z"
2025-01-22 15:08:01.465 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T13:08:01.4655349Z"
2025-01-22 15:08:01.470 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 15:08:01.471 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 5 at "2025-01-22T13:08:01.4713858Z"
2025-01-22 15:08:01.471 +02:00 [INF] GetByIdAsync completed successfully with ID 5 at "2025-01-22T13:08:01.4719529Z"
2025-01-22 15:08:01.472 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-22 15:08:01.473 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 9.0475ms
2025-01-22 15:08:01.474 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-22 15:08:01.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/5 - 200 null application/json; charset=utf-8 14.0771ms
2025-01-22 15:08:01.476 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - null null
2025-01-22 15:08:01.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:01.477 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=5 - 204 null null 1.1079ms
2025-01-22 15:08:01.479 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - application/json 2
2025-01-22 15:08:01.480 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:01.480 +02:00 [INF] Incoming Request: POST /api/User
2025-01-22 15:08:01.481 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 15:08:01.482 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-22 15:08:01.484 +02:00 [INF] Starting AddToBasketAsync with GiftId: 5 and Quantity: 1
2025-01-22 15:08:01.484 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-22 15:08:01.485 +02:00 [INF] Received request to fetch user by token.
2025-01-22 15:08:01.485 +02:00 [INF] Parsing token...
2025-01-22 15:08:01.486 +02:00 [INF] Attempting to retrieve user with username: ayala and email: ayala@gmail.com
2025-01-22 15:08:01.489 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-22 15:08:01.490 +02:00 [INF] User successfully found: ayala
2025-01-22 15:08:01.491 +02:00 [INF] User with Id: 577b290f-ce84-459f-84d9-6e671e91cd36 successfully retrieved.
2025-01-22 15:08:01.491 +02:00 [INF] Starting GetByIdAsync for Gift ID 5 at "2025-01-22T13:08:01.4917315Z"
2025-01-22 15:08:01.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 15:08:01.494 +02:00 [INF] Gift with Id: 5 successfully retrieved.
2025-01-22 15:08:01.494 +02:00 [INF] Starting to add Gift 5 (Quantity: 1) to User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 15:08:01.497 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-22 15:08:01.498 +02:00 [INF] Updated existing UserGift entry for Gift 5 (New Quantity: 1) and User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:01.499 +02:00 [INF] Successfully saved changes to database for Gift 5 and User 577b290f-ce84-459f-84d9-6e671e91cd36 (Quantity: 1)
2025-01-22 15:08:01.500 +02:00 [INF] Completed AddToBasketAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36 and GiftId: 5 with Quantity: 1
2025-01-22 15:08:01.500 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:08:01.501 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 17.5411ms
2025-01-22 15:08:01.502 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-22 15:08:01.502 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:08:01.502 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=5 - 200 null application/json; charset=utf-8 23.0866ms
2025-01-22 15:08:02.534 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:08:02.536 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:02.536 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:08:02.538 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:08:02.539 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:08:02.5393912Z"
2025-01-22 15:08:02.541 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:08:02.543 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:02.5432225Z"
2025-01-22 15:08:02.544 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:02.5440018Z"
2025-01-22 15:08:02.544 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:02.5446061Z"
2025-01-22 15:08:02.545 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:08:02.545 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 6.4175ms
2025-01-22 15:08:02.548 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:08:02.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 14.2519ms
2025-01-22 15:08:03.310 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:08:03.313 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:03.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.6006ms
2025-01-22 15:08:03.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:08:03.319 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:03.319 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:08:03.320 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:08:03.320 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:08:03.321 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:03.322 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:03.324 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:08:03.330 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 15:08:03.330 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:03.331 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:08:03.331 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 10.393ms
2025-01-22 15:08:03.332 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:08:03.332 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:08:03.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 17.1983ms
2025-01-22 15:08:20.674 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-22 15:08:20.675 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:20.676 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 1.917ms
2025-01-22 15:08:20.678 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-22 15:08:20.680 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:20.680 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-22 15:08:20.681 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 15:08:20.683 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-22 15:08:20.685 +02:00 [INF] Starting ConfirmPurchaseAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.685 +02:00 [INF] Confirming purchase for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.687 +02:00 [INF] Fetching UserGifts for User 577b290f-ce84-459f-84d9-6e671e91cd36 to confirm purchase
2025-01-22 15:08:20.697 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-22 15:08:20.699 +02:00 [INF] Updated Gift 4 to Purchased for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.699 +02:00 [INF] Updated Gift 5 to Purchased for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.699 +02:00 [INF] Updated Gift 6 to Purchased for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.700 +02:00 [INF] Updated Gift 11 to Purchased for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.720 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 450), @p3='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 450), @p6='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
UPDATE [UserGifts] SET [GiftStatus] = @p3
OUTPUT 1
WHERE [GiftId] = @p4 AND [UserId] = @p5;
UPDATE [UserGifts] SET [GiftStatus] = @p6
OUTPUT 1
WHERE [GiftId] = @p7 AND [UserId] = @p8;
UPDATE [UserGifts] SET [GiftStatus] = @p9
OUTPUT 1
WHERE [GiftId] = @p10 AND [UserId] = @p11;
2025-01-22 15:08:20.728 +02:00 [INF] Purchase confirmed for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.728 +02:00 [INF] Purchase confirmed for User 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.729 +02:00 [INF] Completed ConfirmPurchaseAsync for User: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:20.729 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 45.41ms
2025-01-22 15:08:20.730 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-22 15:08:20.730 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:08:20.730 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 52.094ms
2025-01-22 15:08:24.973 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:08:24.975 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:24.975 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 2.7041ms
2025-01-22 15:08:24.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:08:24.979 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:24.980 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:08:24.981 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:08:24.982 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:08:24.983 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:24.983 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:24.987 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:08:24.988 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 15:08:24.988 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:08:24.989 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:08:24.989 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 6.4213ms
2025-01-22 15:08:24.990 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:08:24.990 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:08:24.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 12.7349ms
2025-01-22 15:08:25.891 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - null null
2025-01-22 15:08:25.893 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:25.894 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=4 - 204 null null 2.9846ms
2025-01-22 15:08:25.896 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=4 - application/json null
2025-01-22 15:08:25.898 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:25.898 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-22 15:08:25.899 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 15:08:25.903 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-22 15:08:25.905 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 4
2025-01-22 15:08:25.906 +02:00 [INF] Removing Gift 4 from User 577b290f-ce84-459f-84d9-6e671e91cd36's basket
2025-01-22 15:08:25.908 +02:00 [INF] Removing Gift 4 for User 577b290f-ce84-459f-84d9-6e671e91cd36 in database
2025-01-22 15:08:25.917 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-22 15:08:25.930 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-22 15:08:26.028 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 124.0902ms
2025-01-22 15:08:26.029 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-22 15:08:26.084 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Cannot remove gift because it has already been purchased.
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט סופי\server\project\Controllers\UserController.cs:line 189
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט סופי\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-22 15:08:26.091 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=4 - 500 null text/plain; charset=utf-8 194.838ms
2025-01-22 15:08:58.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:08:58.784 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:08:58.784 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:08:58.785 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:08:58.786 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:08:58.7865995Z"
2025-01-22 15:08:58.791 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:08:58.793 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:58.7939302Z"
2025-01-22 15:08:58.794 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:58.7943784Z"
2025-01-22 15:08:58.794 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:08:58.7947301Z"
2025-01-22 15:08:58.795 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:08:58.798 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.7485ms
2025-01-22 15:08:58.799 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:08:58.799 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.2921ms
2025-01-22 15:19:33.160 +02:00 [INF] Starting up the application
2025-01-22 15:19:33.859 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:19:34.758 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:19:34.811 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:19:34.954 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:19:34.956 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:19:34.956 +02:00 [INF] Hosting environment: Development
2025-01-22 15:19:34.957 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:19:35.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:19:35.264 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 136.0389ms
2025-01-22 15:19:35.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:19:35.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:19:35.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:19:35.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.4439ms
2025-01-22 15:19:35.284 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 12.2603ms
2025-01-22 15:19:35.311 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.8781ms
2025-01-22 15:19:35.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:19:35.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.0246ms
2025-01-22 15:19:39.805 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:19:39.809 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:19:39.852 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:19:39.863 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:19:39.933 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:19:39.9332695Z"
2025-01-22 15:19:39.976 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:19:39.998 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:39.9981393Z"
2025-01-22 15:19:39.999 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:39.9990879Z"
2025-01-22 15:19:39.999 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:39.9996509Z"
2025-01-22 15:19:40.005 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:19:40.030 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 163.6478ms
2025-01-22 15:19:40.031 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:19:40.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 228.3491ms
2025-01-22 15:19:45.334 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:19:45.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:19:45.339 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.0272ms
2025-01-22 15:19:45.342 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:19:45.343 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:19:45.346 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:19:45.420 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:19:45.425 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:19:45.430 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:19:45.432 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:19:45.507 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:19:45.532 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 15:19:45.533 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:19:45.535 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:19:45.539 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 112.58ms
2025-01-22 15:19:45.540 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:19:45.541 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:19:45.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 199.7807ms
2025-01-22 15:19:50.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:19:50.041 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:19:50.043 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:19:50.044 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:19:50.046 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:19:50.0463381Z"
2025-01-22 15:19:50.051 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:19:50.053 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:50.0535094Z"
2025-01-22 15:19:50.054 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:50.0540212Z"
2025-01-22 15:19:50.054 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:19:50.0545201Z"
2025-01-22 15:19:50.055 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:19:50.056 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.4621ms
2025-01-22 15:19:50.056 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:19:50.057 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 17.9199ms
2025-01-22 15:20:09.162 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:20:09.164 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:09.164 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.1431ms
2025-01-22 15:20:09.166 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 57
2025-01-22 15:20:09.167 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:09.169 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:09.177 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:20:09.218 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:20:09.222 +02:00 [WRN] Invalid login attempt: managment@gmail.com
2025-01-22 15:20:09.223 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 15:20:09.224 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 45.7278ms
2025-01-22 15:20:09.224 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:09.225 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 59.1982ms
2025-01-22 15:20:16.426 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:20:16.427 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:16.428 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.0584ms
2025-01-22 15:20:16.430 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 57
2025-01-22 15:20:16.431 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:16.432 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:16.433 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:20:16.442 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:20:16.443 +02:00 [WRN] Invalid login attempt: managment@gmail.com
2025-01-22 15:20:16.444 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 15:20:16.445 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 11.2023ms
2025-01-22 15:20:16.446 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:16.447 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 16.8404ms
2025-01-22 15:20:40.547 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:20:40.548 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:40.549 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 1.7804ms
2025-01-22 15:20:40.553 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 15:20:40.555 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:40.555 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:40.556 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:20:40.569 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:20:40.673 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:20:40.689 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:20:40.706 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:20:40.715 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:20:40.725 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 167.8343ms
2025-01-22 15:20:40.726 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:20:40.727 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 173.4673ms
2025-01-22 15:20:40.733 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:20:40.735 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:40.736 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:20:40.736 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:20:40.741 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:20:40.7410030Z"
2025-01-22 15:20:40.744 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:20:40.746 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:40.7460820Z"
2025-01-22 15:20:40.746 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:40.7465753Z"
2025-01-22 15:20:40.747 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:40.7471327Z"
2025-01-22 15:20:40.747 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:20:40.749 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 10.9241ms
2025-01-22 15:20:40.749 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:20:40.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.5625ms
2025-01-22 15:20:44.667 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:20:44.670 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:44.670 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.6101ms
2025-01-22 15:20:44.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:20:44.677 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:44.677 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:20:44.681 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:20:44.684 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:20:44.688 +02:00 [INF] Fetching all donators.
2025-01-22 15:20:44.689 +02:00 [INF] Fetching all donators.
2025-01-22 15:20:44.697 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:20:44.706 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:20:44.706 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:20:44.709 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 23.4471ms
2025-01-22 15:20:44.709 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:20:44.710 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:20:44.711 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 36.7905ms
2025-01-22 15:20:45.664 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:20:45.666 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:45.667 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.3133ms
2025-01-22 15:20:45.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:20:45.672 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:45.674 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:20:45.678 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:20:45.679 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:20:45.6798747Z"
2025-01-22 15:20:45.680 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:20:45.6809584Z"
2025-01-22 15:20:45.682 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:20:45.6826760Z"
2025-01-22 15:20:45.718 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:20:45.721 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:20:45.7215184Z"
2025-01-22 15:20:45.722 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:20:45.7221848Z"
2025-01-22 15:20:45.722 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:20:45.7227782Z"
2025-01-22 15:20:45.723 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:20:45.727 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 48.4084ms
2025-01-22 15:20:45.728 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:20:45.728 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 58.5318ms
2025-01-22 15:20:52.078 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:20:52.081 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:52.082 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.224ms
2025-01-22 15:20:52.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:20:52.086 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:52.088 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:20:52.089 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:20:52.089 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:20:52.091 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:20:52.099 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:20:52.103 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:20:52.105 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:20:52.105 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:20:52.106 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:20:52.111 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 20.566ms
2025-01-22 15:20:52.111 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:20:52.112 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:20:52.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 28.9379ms
2025-01-22 15:20:53.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:20:53.184 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:53.184 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:20:53.185 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:20:53.187 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:20:53.1877777Z"
2025-01-22 15:20:53.191 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:20:53.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:53.1934339Z"
2025-01-22 15:20:53.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:53.1939159Z"
2025-01-22 15:20:53.194 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:20:53.1944638Z"
2025-01-22 15:20:53.195 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:20:53.196 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 8.5225ms
2025-01-22 15:20:53.197 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:20:53.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 16.7922ms
2025-01-22 15:20:59.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/6 - null null
2025-01-22 15:20:59.596 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:20:59.598 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:20:59.602 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:20:59.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/6 - 401 0 null 8.2182ms
2025-01-22 15:21:01.076 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:21:01.078 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:01.078 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:21:01.079 +02:00 [WRN] Missing Authorization Header
2025-01-22 15:21:01.080 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 4.0024ms
2025-01-22 15:21:21.914 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:21:21.915 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:21.916 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 2.0131ms
2025-01-22 15:21:21.921 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 15:21:21.923 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:21.923 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:21:21.924 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:21:21.929 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:21:22.021 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:21:22.025 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:21:22.029 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:21:22.030 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:21:22.031 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 106.1452ms
2025-01-22 15:21:22.032 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:21:22.033 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 111.4218ms
2025-01-22 15:21:22.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:21:22.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:22.041 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:21:22.041 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:21:22.043 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:21:22.0432776Z"
2025-01-22 15:21:22.046 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:21:22.048 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:21:22.0480902Z"
2025-01-22 15:21:22.048 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:21:22.0486732Z"
2025-01-22 15:21:22.049 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:21:22.0491708Z"
2025-01-22 15:21:22.049 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:21:22.050 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 7.5944ms
2025-01-22 15:21:22.051 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:21:22.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 13.848ms
2025-01-22 15:21:24.595 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:21:24.598 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:24.599 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 3.6724ms
2025-01-22 15:21:24.602 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:21:24.605 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:21:24.606 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:21:24.607 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:21:24.608 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:21:24.611 +02:00 [INF] Received request to get basket for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:21:24.611 +02:00 [INF] Start fetching user gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:21:24.615 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:21:24.617 +02:00 [INF] Successfully fetched gifts for userId: 577b290f-ce84-459f-84d9-6e671e91cd36, result count: 4
2025-01-22 15:21:24.618 +02:00 [INF] Successfully retrieved 4 gifts for user: 577b290f-ce84-459f-84d9-6e671e91cd36
2025-01-22 15:21:24.619 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:21:24.620 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 11.3702ms
2025-01-22 15:21:24.621 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:21:24.622 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:21:24.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 19.689ms
2025-01-22 15:30:08.322 +02:00 [INF] Starting up the application
2025-01-22 15:30:11.107 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:30:13.517 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:30:13.615 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:30:13.778 +02:00 [INF] Creating key {9759511b-beca-4f3f-a148-0d383bf2d9dc} with creation date 2025-01-22 13:30:13Z, activation date 2025-01-22 13:30:13Z, and expiration date 2025-04-22 13:30:13Z.
2025-01-22 15:30:13.805 +02:00 [INF] Writing data to file 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys\key-9759511b-beca-4f3f-a148-0d383bf2d9dc.xml'.
2025-01-22 15:30:13.941 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:30:13.946 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:30:13.947 +02:00 [INF] Hosting environment: Development
2025-01-22 15:30:13.948 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:30:14.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-01-22 15:30:15.083 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 299.6527ms
2025-01-22 15:30:15.091 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:30:15.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 138.3116ms
2025-01-22 15:30:15.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-01-22 15:30:15.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-01-22 15:30:15.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-01-22 15:30:15.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:30:15.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-01-22 15:30:15.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 62.4708ms
2025-01-22 15:30:15.333 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-01-22 15:30:15.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:30:15.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 96.6797ms
2025-01-22 15:30:15.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 126.2668ms
2025-01-22 15:30:15.396 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-01-22 15:30:15.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:30:15.397 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-01-22 15:30:15.415 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-01-22 15:30:15.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 230007 text/javascript 165.0376ms
2025-01-22 15:30:15.427 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1426050 text/javascript 174.4959ms
2025-01-22 15:30:15.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 152035 text/css 179.1412ms
2025-01-22 15:30:15.527 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.1801ms
2025-01-22 15:30:15.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:30:15.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-01-22 15:30:15.724 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-01-22 15:30:15.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 5.8392ms
2025-01-22 15:30:15.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.074ms
2025-01-22 15:30:21.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:30:21.271 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:21.275 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:30:21.331 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:30:21.333 +02:00 [WRN] Missing Authorization Header
2025-01-22 15:30:21.337 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 78.0809ms
2025-01-22 15:30:23.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:30:23.103 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:23.300 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:30:23.320 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:30:23.450 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:30:23.4498886Z"
2025-01-22 15:30:23.523 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:30:23.562 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:23.5627372Z"
2025-01-22 15:30:23.564 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:23.5641377Z"
2025-01-22 15:30:23.565 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:23.5653832Z"
2025-01-22 15:30:23.573 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:30:23.627 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 299.3667ms
2025-01-22 15:30:23.629 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:30:23.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 534.0438ms
2025-01-22 15:30:48.500 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:30:48.504 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:48.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.1532ms
2025-01-22 15:30:48.514 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 54
2025-01-22 15:30:48.516 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:48.518 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:30:48.537 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:30:48.613 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:30:48.725 +02:00 [WRN] Invalid login attempt: ayala@gmail.com
2025-01-22 15:30:48.727 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-22 15:30:48.728 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 185.9933ms
2025-01-22 15:30:48.730 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:30:48.731 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 216.3348ms
2025-01-22 15:30:54.190 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:30:54.194 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:54.195 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.1101ms
2025-01-22 15:30:54.198 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 53
2025-01-22 15:30:54.202 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:54.207 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:30:54.209 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:30:54.219 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:30:54.493 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:30:54.559 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:30:54.590 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:30:54.594 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:30:54.607 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 396.0319ms
2025-01-22 15:30:54.608 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:30:54.610 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 411.1556ms
2025-01-22 15:30:54.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:30:54.632 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:30:54.632 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:30:54.634 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:30:54.641 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:30:54.6410179Z"
2025-01-22 15:30:54.646 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:30:54.648 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:54.6489306Z"
2025-01-22 15:30:54.649 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:54.6497273Z"
2025-01-22 15:30:54.650 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:30:54.6505494Z"
2025-01-22 15:30:54.652 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:30:54.656 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 16.7543ms
2025-01-22 15:30:54.658 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:30:54.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 31.2533ms
2025-01-22 15:31:02.454 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-22 15:31:02.457 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:31:02.459 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 204 null null 4.8529ms
2025-01-22 15:31:02.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - application/json null
2025-01-22 15:31:02.469 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:31:02.527 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 15:31:02.533 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-22 15:31:02.545 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-22 15:31:02.551 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-22T13:31:02.5510204Z"
2025-01-22 15:31:02.606 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-22 15:31:02.609 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:31:02.6098148Z"
2025-01-22 15:31:02.610 +02:00 [INF] Successfully retrieved 9 gifts.
2025-01-22 15:31:02.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:31:02.620 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 85.3721ms
2025-01-22 15:31:02.622 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-22 15:31:02.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 160.6093ms
2025-01-22 15:33:13.895 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:33:13.900 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:33:13.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.4172ms
2025-01-22 15:33:13.907 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-22 15:33:13.909 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:33:13.910 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:33:13.913 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:33:13.932 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:33:13.936 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:33:14.105 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:33:14.140 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:33:14.143 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 227.9557ms
2025-01-22 15:33:14.144 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:33:14.145 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 237.6284ms
2025-01-22 15:34:08.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:34:08.008 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:34:08.009 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:34:08.010 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:34:08.013 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:34:08.0137921Z"
2025-01-22 15:34:08.019 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:34:08.025 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:34:08.0253459Z"
2025-01-22 15:34:08.026 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:34:08.0262118Z"
2025-01-22 15:34:08.027 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:34:08.0271421Z"
2025-01-22 15:34:08.029 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:34:08.031 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 17.8825ms
2025-01-22 15:34:08.032 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:34:08.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 29.3212ms
2025-01-22 15:34:37.302 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:34:37.307 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:34:37.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.9009ms
2025-01-22 15:34:37.314 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:34:37.317 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:34:37.317 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:34:37.318 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:34:37.324 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:34:37.327 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:34:37.422 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:34:37.426 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:34:37.427 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 107.0128ms
2025-01-22 15:34:37.429 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:34:37.430 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 115.5088ms
2025-01-22 15:35:25.719 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:35:25.723 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:25.724 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.2289ms
2025-01-22 15:35:25.727 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:35:25.729 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:25.730 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:25.731 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:35:25.736 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:35:25.739 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:35:25.832 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:35:25.836 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:35:25.840 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 107.0129ms
2025-01-22 15:35:25.841 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:25.843 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 116.113ms
2025-01-22 15:35:43.023 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:35:43.026 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:43.027 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 3.7809ms
2025-01-22 15:35:43.030 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:35:43.032 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:43.033 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:43.034 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:35:43.040 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:35:43.045 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:35:43.146 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:35:43.154 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:35:43.156 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 119.7641ms
2025-01-22 15:35:43.158 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:43.159 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 128.9559ms
2025-01-22 15:35:57.090 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:35:57.094 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:57.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.0473ms
2025-01-22 15:35:57.098 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:35:57.100 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:35:57.101 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:57.102 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:35:57.109 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:35:57.112 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:35:57.212 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:35:57.216 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:35:57.218 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 114.0592ms
2025-01-22 15:35:57.219 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:35:57.220 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 121.9711ms
2025-01-22 15:36:11.137 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:36:11.140 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:36:11.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 3.6991ms
2025-01-22 15:36:11.143 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:36:11.145 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:36:11.146 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:36:11.147 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:36:11.152 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:36:11.156 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:36:11.254 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:36:11.260 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:36:11.261 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 112.3332ms
2025-01-22 15:36:11.262 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:36:11.263 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 119.9779ms
2025-01-22 15:36:45.283 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:36:45.286 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:36:45.287 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 3.403ms
2025-01-22 15:36:45.290 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:36:45.292 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:36:45.293 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:36:45.294 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:36:45.301 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:36:45.305 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:36:45.396 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:36:45.400 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:36:45.401 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 105.823ms
2025-01-22 15:36:45.403 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:36:45.409 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 118.3636ms
2025-01-22 15:37:27.613 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:37:27.621 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:37:27.622 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 9.102ms
2025-01-22 15:37:27.629 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:37:27.631 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:37:27.632 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:37:27.633 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:37:27.640 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:37:27.643 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:37:27.736 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:37:27.740 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:37:27.741 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 106.4686ms
2025-01-22 15:37:27.743 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:37:27.744 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 115.5046ms
2025-01-22 15:38:05.014 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:38:05.022 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:38:05.023 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 9.1572ms
2025-01-22 15:38:05.029 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:38:05.031 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:38:05.031 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:38:05.032 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:38:05.039 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:38:05.044 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:38:05.137 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:38:05.141 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:38:05.142 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 107.5982ms
2025-01-22 15:38:05.143 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:38:05.145 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 115.852ms
2025-01-22 15:38:33.332 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-22 15:38:33.337 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:38:33.338 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.8864ms
2025-01-22 15:38:33.344 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-22 15:38:33.346 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:38:33.346 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:38:33.348 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-22 15:38:33.354 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:38:33.358 +02:00 [WRN] Registration failed: Username 'manager' is already taken.
2025-01-22 15:38:33.444 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 43
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט סופי\server\project\Services\AuthService.cs:line 72
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט סופי\server\project\Controllers\AuthController .cs:line 39
2025-01-22 15:38:33.448 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:38:33.450 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 99.5167ms
2025-01-22 15:38:33.451 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-22 15:38:33.453 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 108.8452ms
2025-01-22 15:40:25.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:40:25.503 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:40:25.505 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:40:25.507 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:40:25.5077056Z"
2025-01-22 15:40:25.513 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:40:25.515 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:40:25.5153829Z"
2025-01-22 15:40:25.516 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:40:25.5161072Z"
2025-01-22 15:40:25.517 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:40:25.5171579Z"
2025-01-22 15:40:25.518 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:40:25.519 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 12.4673ms
2025-01-22 15:40:25.520 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:40:25.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 27.0596ms
2025-01-22 15:41:15.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:41:15.468 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:15.469 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.5697ms
2025-01-22 15:41:15.475 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 15:41:15.477 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:15.479 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:41:15.481 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:41:15.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:41:15.573 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:41:15.579 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:41:15.584 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:41:15.597 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:41:15.599 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 115.2274ms
2025-01-22 15:41:15.600 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:41:15.601 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 126.5199ms
2025-01-22 15:41:15.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:41:15.616 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:15.617 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:41:15.618 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:41:15.620 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:41:15.6206179Z"
2025-01-22 15:41:15.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:41:15.628 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:41:15.6285001Z"
2025-01-22 15:41:15.629 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:41:15.6292500Z"
2025-01-22 15:41:15.630 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:41:15.6301455Z"
2025-01-22 15:41:15.631 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:41:15.632 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 11.8225ms
2025-01-22 15:41:15.633 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:41:15.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 20.6472ms
2025-01-22 15:41:29.140 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:41:29.146 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:29.146 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 5.9942ms
2025-01-22 15:41:29.150 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:41:29.152 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:29.160 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:41:29.164 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:41:29.167 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:41:29.168 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:41:29.1686055Z"
2025-01-22 15:41:29.170 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:41:29.1706484Z"
2025-01-22 15:41:29.179 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:41:29.181 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:41:29.1811611Z"
2025-01-22 15:41:29.181 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:41:29.1819119Z"
2025-01-22 15:41:29.183 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 15:41:29.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:41:29.185 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 18.974ms
2025-01-22 15:41:29.186 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:41:29.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 37.2448ms
2025-01-22 15:41:32.709 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:41:32.714 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:32.716 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.2871ms
2025-01-22 15:41:32.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:41:32.724 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:32.726 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:41:32.742 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:41:32.745 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:41:32.749 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:41:32.752 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:41:32.778 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:41:32.781 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:41:32.782 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:41:32.783 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:41:32.790 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 43.1137ms
2025-01-22 15:41:32.791 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:41:32.792 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:41:32.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 70.535ms
2025-01-22 15:41:33.654 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:41:33.656 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:33.657 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.3571ms
2025-01-22 15:41:33.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:41:33.663 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:33.664 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:41:33.665 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:41:33.669 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:41:33.673 +02:00 [INF] Fetching all donators.
2025-01-22 15:41:33.674 +02:00 [INF] Fetching all donators.
2025-01-22 15:41:33.681 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:41:33.692 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:41:33.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:41:33.695 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 24.5885ms
2025-01-22 15:41:33.697 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:41:33.699 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:41:33.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 38.9504ms
2025-01-22 15:41:33.978 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:41:33.981 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:33.982 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 4.0854ms
2025-01-22 15:41:33.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:41:33.990 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:41:33.991 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:41:33.995 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:41:33.998 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:41:33.9980920Z"
2025-01-22 15:41:34.000 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:41:34.0000182Z"
2025-01-22 15:41:34.002 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:41:34.0025736Z"
2025-01-22 15:41:34.018 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:41:34.024 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:41:34.0246554Z"
2025-01-22 15:41:34.026 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:41:34.0260940Z"
2025-01-22 15:41:34.026 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:41:34.0268521Z"
2025-01-22 15:41:34.027 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:41:34.029 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 32.0634ms
2025-01-22 15:41:34.030 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:41:34.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 45.2948ms
2025-01-22 15:42:35.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:35.159 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:42:35.163 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:42:35.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.8457ms
2025-01-22 15:42:35.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:35.218 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:42:35.219 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:42:35.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.4503ms
2025-01-22 15:42:35.433 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:35.441 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:35.442 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.9278ms
2025-01-22 15:42:35.446 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:42:35.452 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:35.453 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:35.454 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:42:35.459 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:35.4597842Z"
2025-01-22 15:42:35.461 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:35.4616874Z"
2025-01-22 15:42:35.464 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:35.4640444Z"
2025-01-22 15:42:35.472 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:42:35.477 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:35.4779456Z"
2025-01-22 15:42:35.479 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:35.4793237Z"
2025-01-22 15:42:35.481 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:35.4814310Z"
2025-01-22 15:42:35.483 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:42:35.484 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 26.3804ms
2025-01-22 15:42:35.485 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:35.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 39.8833ms
2025-01-22 15:42:43.058 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:43.061 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:42:43.062 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:42:43.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.032ms
2025-01-22 15:42:43.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:43.194 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:43.195 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0169ms
2025-01-22 15:42:43.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:42:43.201 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:43.203 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:43.205 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:42:43.208 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:43.2089229Z"
2025-01-22 15:42:43.209 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:43.2099390Z"
2025-01-22 15:42:43.210 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:43.2109413Z"
2025-01-22 15:42:43.216 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:42:43.220 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:43.2202042Z"
2025-01-22 15:42:43.221 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:43.2211992Z"
2025-01-22 15:42:43.222 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:43.2222184Z"
2025-01-22 15:42:43.223 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:42:43.224 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.7967ms
2025-01-22 15:42:43.225 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:43.226 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 27.7134ms
2025-01-22 15:42:49.992 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - null null
2025-01-22 15:42:49.995 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:49.997 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/4 - 204 null null 4.5631ms
2025-01-22 15:42:50.000 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/4 - application/json null
2025-01-22 15:42:50.003 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:50.004 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:42:50.007 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 15:42:50.010 +02:00 [INF] Starting DeleteGiftAsync with ID 4 at "2025-01-22T13:42:50.0106269Z"
2025-01-22 15:42:50.012 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 4 at "2025-01-22T13:42:50.0121527Z"
2025-01-22 15:42:50.015 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 4 at "2025-01-22T13:42:50.0151325Z"
2025-01-22 15:42:50.017 +02:00 [INF] Starting GetByIdAsync for Gift ID 4 at "2025-01-22T13:42:50.0171863Z"
2025-01-22 15:42:50.027 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 15:42:50.123 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 15:42:50.139 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 4 at "2025-01-22T13:42:50.1390787Z"
2025-01-22 15:42:50.141 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 4 at "2025-01-22T13:42:50.1411595Z"
2025-01-22 15:42:50.142 +02:00 [INF] DeleteGiftAsync completed successfully with ID 4 at "2025-01-22T13:42:50.1424564Z"
2025-01-22 15:42:50.143 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:42:50.146 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 137.4876ms
2025-01-22 15:42:50.148 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:42:50.150 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/4 - 200 null application/json; charset=utf-8 149.617ms
2025-01-22 15:42:50.154 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:50.157 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:50.157 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.3665ms
2025-01-22 15:42:50.160 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:42:50.163 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:50.164 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:50.165 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:42:50.167 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:50.1679197Z"
2025-01-22 15:42:50.168 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:50.1686700Z"
2025-01-22 15:42:50.169 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:50.1694621Z"
2025-01-22 15:42:50.173 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:42:50.176 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:50.1760057Z"
2025-01-22 15:42:50.176 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:50.1767655Z"
2025-01-22 15:42:50.177 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:50.1775949Z"
2025-01-22 15:42:50.178 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:42:50.179 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.0977ms
2025-01-22 15:42:50.180 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:50.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.5572ms
2025-01-22 15:42:52.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:42:52.492 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:42:52.493 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:42:52.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 4.7089ms
2025-01-22 15:42:52.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:42:52.642 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:42:52.644 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:52.646 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:42:52.652 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:52.6522809Z"
2025-01-22 15:42:52.654 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:52.6540149Z"
2025-01-22 15:42:52.655 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:42:52.6557453Z"
2025-01-22 15:42:52.662 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:42:52.665 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:52.6656693Z"
2025-01-22 15:42:52.666 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:52.6664335Z"
2025-01-22 15:42:52.667 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:42:52.6673244Z"
2025-01-22 15:42:52.668 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:42:52.670 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 18.2387ms
2025-01-22 15:42:52.671 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:42:52.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 33.3999ms
2025-01-22 15:43:48.614 +02:00 [INF] Starting up the application
2025-01-22 15:43:49.907 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:43:51.186 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:43:51.279 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:43:51.534 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:43:51.538 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:43:51.539 +02:00 [INF] Hosting environment: Development
2025-01-22 15:43:51.540 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:43:52.140 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:43:52.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 252.88ms
2025-01-22 15:43:52.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:43:52.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:43:52.404 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:43:52.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 58.5309ms
2025-01-22 15:43:52.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 58.3331ms
2025-01-22 15:43:52.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.2786ms
2025-01-22 15:43:52.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:43:52.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 203.1903ms
2025-01-22 15:44:01.251 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-22 15:44:01.257 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:01.259 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.8835ms
2025-01-22 15:44:01.262 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 55
2025-01-22 15:44:01.265 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:01.268 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:44:01.333 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:44:01.355 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-22 15:44:01.459 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-22 15:44:01.599 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-22 15:44:01.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-22 15:44:01.677 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-22 15:44:01.705 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:44:01.725 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 364.9258ms
2025-01-22 15:44:01.727 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-22 15:44:01.733 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 470.7147ms
2025-01-22 15:44:01.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:44:01.757 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:01.760 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:44:01.771 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:01.893 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:44:01.8932990Z"
2025-01-22 15:44:01.915 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:44:01.945 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:44:01.9448680Z"
2025-01-22 15:44:01.947 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:44:01.9472350Z"
2025-01-22 15:44:01.948 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:44:01.9482449Z"
2025-01-22 15:44:01.949 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:01.971 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 197.0902ms
2025-01-22 15:44:01.973 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:44:01.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 221.0389ms
2025-01-22 15:44:05.224 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:44:05.227 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:05.229 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 4.2286ms
2025-01-22 15:44:05.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:44:05.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:05.287 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:44:05.291 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:05.297 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:44:05.299 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:44:05.2994578Z"
2025-01-22 15:44:05.301 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:44:05.3016754Z"
2025-01-22 15:44:05.340 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:44:05.343 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:44:05.3431067Z"
2025-01-22 15:44:05.343 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:44:05.3438939Z"
2025-01-22 15:44:05.344 +02:00 [INF] Successfully retrieved 8 gifts with purchases.
2025-01-22 15:44:05.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:05.351 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 55.407ms
2025-01-22 15:44:05.352 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:44:05.353 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 117.5925ms
2025-01-22 15:44:05.813 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:44:05.816 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:05.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 3.8362ms
2025-01-22 15:44:05.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:44:05.822 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:05.823 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:44:05.839 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:44:05.843 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:44:05.850 +02:00 [INF] Fetching all donators.
2025-01-22 15:44:05.852 +02:00 [INF] Fetching all donators.
2025-01-22 15:44:05.862 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:44:05.871 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:44:05.873 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:05.876 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 30.038ms
2025-01-22 15:44:05.877 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:44:05.878 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:44:05.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 58.156ms
2025-01-22 15:44:06.645 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:44:06.650 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:06.653 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:44:06.655 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:06.659 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:44:06.660 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:44:06.6606489Z"
2025-01-22 15:44:06.661 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:44:06.6615128Z"
2025-01-22 15:44:06.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:44:06.671 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:44:06.6714097Z"
2025-01-22 15:44:06.672 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:44:06.6721356Z"
2025-01-22 15:44:06.672 +02:00 [INF] Successfully retrieved 8 gifts with purchases.
2025-01-22 15:44:06.673 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:06.675 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 18.3703ms
2025-01-22 15:44:06.676 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:44:06.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 32.2505ms
2025-01-22 15:44:09.523 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:44:09.528 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:09.531 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.3833ms
2025-01-22 15:44:09.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:44:09.538 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:09.539 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:44:09.541 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:44:09.545 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:44:09.553 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:44:09.555 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:44:09.580 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:44:09.583 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:44:09.584 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:44:09.585 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:09.591 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 42.201ms
2025-01-22 15:44:09.593 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:44:09.594 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:44:09.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 59.8824ms
2025-01-22 15:44:09.918 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:44:09.921 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:09.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.0429ms
2025-01-22 15:44:09.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:44:09.931 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:09.933 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:09.937 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:09.939 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:09.9397323Z"
2025-01-22 15:44:09.941 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:09.9410029Z"
2025-01-22 15:44:09.942 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:09.9428601Z"
2025-01-22 15:44:09.964 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:44:09.968 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:09.9688309Z"
2025-01-22 15:44:09.969 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:09.9697581Z"
2025-01-22 15:44:09.970 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:09.9705793Z"
2025-01-22 15:44:09.971 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:09.973 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 34.5587ms
2025-01-22 15:44:09.974 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:09.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 48.0348ms
2025-01-22 15:44:13.699 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/6 - null null
2025-01-22 15:44:13.701 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:13.702 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/6 - 204 null null 3.0419ms
2025-01-22 15:44:13.705 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/6 - application/json null
2025-01-22 15:44:13.707 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:13.708 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:44:13.712 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 15:44:13.717 +02:00 [INF] Starting DeleteGiftAsync with ID 6 at "2025-01-22T13:44:13.7170718Z"
2025-01-22 15:44:13.719 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 6 at "2025-01-22T13:44:13.7194479Z"
2025-01-22 15:44:13.721 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 6 at "2025-01-22T13:44:13.7212969Z"
2025-01-22 15:44:13.723 +02:00 [INF] Starting GetByIdAsync for Gift ID 6 at "2025-01-22T13:44:13.7229922Z"
2025-01-22 15:44:13.732 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 15:44:13.820 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 15:44:13.836 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 6 at "2025-01-22T13:44:13.8363393Z"
2025-01-22 15:44:13.837 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 6 at "2025-01-22T13:44:13.8379434Z"
2025-01-22 15:44:13.839 +02:00 [INF] DeleteGiftAsync completed successfully with ID 6 at "2025-01-22T13:44:13.8389824Z"
2025-01-22 15:44:13.840 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:44:13.843 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 129.7934ms
2025-01-22 15:44:13.844 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:44:13.846 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/6 - 200 null application/json; charset=utf-8 140.9694ms
2025-01-22 15:44:13.848 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:44:13.850 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:13.851 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:13.852 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:13.854 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:13.8545256Z"
2025-01-22 15:44:13.855 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:13.8552409Z"
2025-01-22 15:44:13.856 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:13.8562402Z"
2025-01-22 15:44:13.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:44:13.862 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:13.8624969Z"
2025-01-22 15:44:13.863 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:13.8632074Z"
2025-01-22 15:44:13.863 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:13.8639755Z"
2025-01-22 15:44:13.864 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:13.866 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 11.6847ms
2025-01-22 15:44:13.867 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:13.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 19.1605ms
2025-01-22 15:44:15.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:44:15.640 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:44:15.645 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:44:15.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.0314ms
2025-01-22 15:44:15.781 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:44:15.783 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:15.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 2.957ms
2025-01-22 15:44:15.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:44:15.790 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:44:15.791 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:15.793 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:44:15.797 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:15.7976163Z"
2025-01-22 15:44:15.798 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:15.7986904Z"
2025-01-22 15:44:15.800 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:44:15.8005135Z"
2025-01-22 15:44:15.805 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:44:15.807 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:15.8076947Z"
2025-01-22 15:44:15.809 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:15.8090600Z"
2025-01-22 15:44:15.810 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:44:15.8103691Z"
2025-01-22 15:44:15.811 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:44:15.812 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.5979ms
2025-01-22 15:44:15.813 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:44:15.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 27.4439ms
2025-01-22 15:45:31.409 +02:00 [INF] Starting up the application
2025-01-22 15:45:32.689 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:45:33.970 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:45:34.076 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:45:34.348 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:45:34.352 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:45:34.354 +02:00 [INF] Hosting environment: Development
2025-01-22 15:45:34.356 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:45:35.205 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:45:35.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 478.7014ms
2025-01-22 15:45:35.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:45:35.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:45:35.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 13.1677ms
2025-01-22 15:45:35.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:45:35.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 22.1879ms
2025-01-22 15:45:35.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.8622ms
2025-01-22 15:45:35.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:45:35.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.4529ms
2025-01-22 15:45:44.078 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:45:44.086 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:45:44.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 13.5479ms
2025-01-22 15:45:44.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:45:44.098 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:45:44.100 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:45:44.228 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:45:44.247 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:45:44.352 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:45:44.355 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:45:44.3549680Z"
2025-01-22 15:45:44.357 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:45:44.3570805Z"
2025-01-22 15:45:44.476 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:45:44.480 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:45:44.4805396Z"
2025-01-22 15:45:44.481 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:45:44.4816079Z"
2025-01-22 15:45:44.482 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 15:45:44.491 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:45:44.521 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 268.3502ms
2025-01-22 15:45:44.523 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:45:44.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 432.751ms
2025-01-22 15:46:46.075 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:46:46.083 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (manager)
2025-01-22 15:46:46.091 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:46:46.092 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 401 0 null 17.1469ms
2025-01-22 15:46:46.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:46:46.223 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:46:46.224 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 5.4003ms
2025-01-22 15:46:46.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:46:46.233 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:46:46.236 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:46:46.241 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:46:46.248 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:46:46.249 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:46:46.2495063Z"
2025-01-22 15:46:46.250 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:46:46.2503006Z"
2025-01-22 15:46:46.268 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:46:46.273 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:46:46.2731414Z"
2025-01-22 15:46:46.274 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:46:46.2746112Z"
2025-01-22 15:46:46.275 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 15:46:46.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:46:46.278 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 34.4714ms
2025-01-22 15:46:46.280 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:46:46.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 49.854ms
2025-01-22 15:47:00.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:00.947 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:00.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.3543ms
2025-01-22 15:47:00.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:00.955 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:00.957 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:00.963 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:00.975 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:00.9756511Z"
2025-01-22 15:47:00.978 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:00.9780085Z"
2025-01-22 15:47:00.981 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:00.9813059Z"
2025-01-22 15:47:01.013 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:01.017 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.0175303Z"
2025-01-22 15:47:01.018 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.0183300Z"
2025-01-22 15:47:01.019 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.0190940Z"
2025-01-22 15:47:01.020 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:01.026 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 58.215ms
2025-01-22 15:47:01.028 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:01.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 76.7039ms
2025-01-22 15:47:01.395 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:47:01.398 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:01.400 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.8134ms
2025-01-22 15:47:01.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:47:01.405 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:01.406 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:47:01.423 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:01.428 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:01.434 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:01.436 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:01.446 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:47:01.462 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:47:01.463 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:01.477 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 45.4974ms
2025-01-22 15:47:01.478 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:01.480 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:01.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 77.4987ms
2025-01-22 15:47:01.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:01.778 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:01.780 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:01.783 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:01.786 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:01.7862365Z"
2025-01-22 15:47:01.787 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:01.7873953Z"
2025-01-22 15:47:01.788 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:01.7881546Z"
2025-01-22 15:47:01.792 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:01.794 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.7944508Z"
2025-01-22 15:47:01.795 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.7951492Z"
2025-01-22 15:47:01.795 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:01.7959458Z"
2025-01-22 15:47:01.797 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:01.799 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.8916ms
2025-01-22 15:47:01.800 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:01.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 28.1413ms
2025-01-22 15:47:09.749 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-22 15:47:09.753 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:09.755 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 6.0012ms
2025-01-22 15:47:09.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-22 15:47:09.764 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:09.765 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-22 15:47:09.767 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 15:47:09.771 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-22 15:47:09.814 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-22 15:47:09.849 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-22 15:47:09.852 +02:00 [WRN] No winners found with associated gifts.
2025-01-22 15:47:10.088 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-22 15:47:10.095 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 320.176ms
2025-01-22 15:47:10.096 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-22 15:47:10.097 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:10.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2655 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 338.7069ms
2025-01-22 15:47:18.020 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:47:18.024 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:18.026 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.1093ms
2025-01-22 15:47:18.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:47:18.033 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:18.034 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:47:18.035 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:18.036 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:18.038 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:18.039 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:18.047 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:47:18.051 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:47:18.051 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:18.053 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 15.6704ms
2025-01-22 15:47:18.054 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:18.055 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:18.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 25.9893ms
2025-01-22 15:47:22.233 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:22.236 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:22.239 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.3949ms
2025-01-22 15:47:22.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:22.248 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:22.249 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:22.250 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:22.252 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:22.2522083Z"
2025-01-22 15:47:22.252 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:22.2529674Z"
2025-01-22 15:47:22.254 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:22.2542205Z"
2025-01-22 15:47:22.259 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:22.262 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:22.2623974Z"
2025-01-22 15:47:22.263 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:22.2632540Z"
2025-01-22 15:47:22.264 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:22.2640056Z"
2025-01-22 15:47:22.264 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:22.266 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.0251ms
2025-01-22 15:47:22.267 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:22.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.0133ms
2025-01-22 15:47:22.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:47:22.842 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:22.843 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:47:22.844 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:22.846 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:22.849 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:22.850 +02:00 [INF] Fetching all donators.
2025-01-22 15:47:22.854 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:47:22.857 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:47:22.858 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:22.860 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.7824ms
2025-01-22 15:47:22.861 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:47:22.863 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:22.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 25.9633ms
2025-01-22 15:47:23.728 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - null null
2025-01-22 15:47:23.731 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:23.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/3 - 204 null null 4.0658ms
2025-01-22 15:47:23.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - application/json null
2025-01-22 15:47:23.737 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:23.738 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/3
2025-01-22 15:47:23.740 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:23.749 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:23.762 +02:00 [INF] Fetching donator with gifts for ID: 3
2025-01-22 15:47:23.764 +02:00 [INF] Fetching donator with ID: 3
2025-01-22 15:47:23.774 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 15:47:23.777 +02:00 [INF] Fetching gifts for donator ID: 3
2025-01-22 15:47:23.784 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 15:47:23.818 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 3
2025-01-22 15:47:23.821 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:47:23.832 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 81.7052ms
2025-01-22 15:47:23.834 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:23.836 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:23.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/3 - 200 null application/json; charset=utf-8 105.3005ms
2025-01-22 15:47:29.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - null null
2025-01-22 15:47:29.760 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:29.761 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - 204 null null 3.2914ms
2025-01-22 15:47:29.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - application/json null
2025-01-22 15:47:29.766 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:29.769 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/1
2025-01-22 15:47:29.772 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:29.773 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:29.775 +02:00 [INF] Fetching donator with gifts for ID: 1
2025-01-22 15:47:29.776 +02:00 [INF] Fetching donator with ID: 1
2025-01-22 15:47:29.782 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 15:47:29.785 +02:00 [INF] Fetching gifts for donator ID: 1
2025-01-22 15:47:29.788 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 15:47:29.791 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 1
2025-01-22 15:47:29.791 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:47:29.793 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 18.4168ms
2025-01-22 15:47:29.794 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:29.795 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:29.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - 200 null application/json; charset=utf-8 31.8036ms
2025-01-22 15:47:32.589 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/4 - null null
2025-01-22 15:47:32.592 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:32.593 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/4 - 204 null null 3.6837ms
2025-01-22 15:47:32.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/4 - application/json null
2025-01-22 15:47:32.598 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:32.599 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/4
2025-01-22 15:47:32.600 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:32.601 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:32.603 +02:00 [INF] Fetching donator with gifts for ID: 4
2025-01-22 15:47:32.604 +02:00 [INF] Fetching donator with ID: 4
2025-01-22 15:47:32.608 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 15:47:32.614 +02:00 [INF] Fetching gifts for donator ID: 4
2025-01-22 15:47:32.618 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 15:47:32.623 +02:00 [WRN] No gifts found for donator ID: 4
2025-01-22 15:47:32.624 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 4
2025-01-22 15:47:32.624 +02:00 [WRN] No gifts found for donator with ID 4.
2025-01-22 15:47:32.625 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:47:32.627 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 23.8187ms
2025-01-22 15:47:32.628 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:32.629 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:32.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/4 - 200 null application/json; charset=utf-8 34.1562ms
2025-01-22 15:47:35.222 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/4 - application/json null
2025-01-22 15:47:35.225 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:35.226 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/4
2025-01-22 15:47:35.227 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:35.227 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:35.229 +02:00 [INF] Fetching donator with gifts for ID: 4
2025-01-22 15:47:35.230 +02:00 [INF] Fetching donator with ID: 4
2025-01-22 15:47:35.236 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 15:47:35.238 +02:00 [INF] Fetching gifts for donator ID: 4
2025-01-22 15:47:35.241 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-22 15:47:35.243 +02:00 [WRN] No gifts found for donator ID: 4
2025-01-22 15:47:35.244 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 4
2025-01-22 15:47:35.244 +02:00 [WRN] No gifts found for donator with ID 4.
2025-01-22 15:47:35.245 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:47:35.247 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 18.039ms
2025-01-22 15:47:35.249 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-22 15:47:35.252 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:35.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/4 - 200 null application/json; charset=utf-8 31.1189ms
2025-01-22 15:47:38.706 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-22 15:47:38.709 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:38.710 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 4.1389ms
2025-01-22 15:47:38.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/1 - application/json null
2025-01-22 15:47:38.716 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:38.717 +02:00 [INF] Incoming Request: GET /api/Donator/1
2025-01-22 15:47:38.718 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-22 15:47:38.722 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:38.726 +02:00 [INF] Fetching donator with ID: 1
2025-01-22 15:47:38.727 +02:00 [INF] Fetching donator with ID: 1
2025-01-22 15:47:38.732 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-22 15:47:38.735 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-22 15:47:38.736 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 12.34ms
2025-01-22 15:47:38.737 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-22 15:47:38.738 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:38.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/1 - 200 null application/json; charset=utf-8 24.9005ms
2025-01-22 15:47:40.501 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:47:40.506 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:40.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.599ms
2025-01-22 15:47:40.510 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 80
2025-01-22 15:47:40.512 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:40.513 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-22 15:47:40.514 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-22 15:47:40.519 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-22 15:47:40.568 +02:00 [INF] Updating donator with ID: 1
2025-01-22 15:47:40.572 +02:00 [INF] Updating donator with ID: 1
2025-01-22 15:47:40.706 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-22 15:47:40.723 +02:00 [INF] Successfully updated donator with ID: 1
2025-01-22 15:47:40.723 +02:00 [INF] Donator with ID 1 updated successfully.
2025-01-22 15:47:40.726 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-22 15:47:40.727 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 206.6021ms
2025-01-22 15:47:40.729 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-22 15:47:40.730 +02:00 [INF] Outgoing Response: 204
2025-01-22 15:47:40.731 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 220.8774ms
2025-01-22 15:47:41.433 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:41.437 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:41.439 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.9168ms
2025-01-22 15:47:41.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:41.449 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:41.450 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:41.451 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:41.453 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:41.4534864Z"
2025-01-22 15:47:41.454 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:41.4545947Z"
2025-01-22 15:47:41.455 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:41.4553688Z"
2025-01-22 15:47:41.459 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:41.462 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:41.4626678Z"
2025-01-22 15:47:41.464 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:41.4645228Z"
2025-01-22 15:47:41.465 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:41.4654601Z"
2025-01-22 15:47:41.466 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:41.467 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.6302ms
2025-01-22 15:47:41.469 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:41.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 26.2649ms
2025-01-22 15:47:42.000 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:47:42.004 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:42.006 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 5.5986ms
2025-01-22 15:47:42.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:47:42.012 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:42.013 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:47:42.015 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:47:42.019 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:47:42.023 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:42.024 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:42.043 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:47:42.046 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:42.047 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:42.048 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:42.055 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 34.8509ms
2025-01-22 15:47:42.057 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:47:42.058 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:42.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 48.9502ms
2025-01-22 15:47:42.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:42.591 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:42.592 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:42.593 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:42.597 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:42.5974506Z"
2025-01-22 15:47:42.598 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:42.5983126Z"
2025-01-22 15:47:42.599 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:42.5991106Z"
2025-01-22 15:47:42.603 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:42.605 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:42.6056096Z"
2025-01-22 15:47:42.606 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:42.6062953Z"
2025-01-22 15:47:42.607 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:42.6070663Z"
2025-01-22 15:47:42.607 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:42.609 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.1247ms
2025-01-22 15:47:42.610 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:42.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 23.9884ms
2025-01-22 15:47:43.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:47:43.494 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:43.496 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:47:43.500 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:43.513 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:47:43.5131585Z"
2025-01-22 15:47:43.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:47:43.525 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:47:43.5250639Z"
2025-01-22 15:47:43.525 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:47:43.5257952Z"
2025-01-22 15:47:43.527 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:47:43.5276260Z"
2025-01-22 15:47:43.529 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:43.534 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 23.5157ms
2025-01-22 15:47:43.535 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:47:43.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 47.6238ms
2025-01-22 15:47:48.639 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:47:48.642 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:48.643 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 4.5693ms
2025-01-22 15:47:48.648 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:47:48.651 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:48.655 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:47:48.657 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:47:48.659 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:47:48.666 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:48.668 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:48.673 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:47:48.681 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:48.683 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:47:48.684 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:48.688 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 22.9011ms
2025-01-22 15:47:48.691 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:47:48.693 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:47:48.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 46.6103ms
2025-01-22 15:47:49.352 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:49.355 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:49.356 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.821ms
2025-01-22 15:47:49.361 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:49.363 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:49.365 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:49.366 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:49.368 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:49.3687057Z"
2025-01-22 15:47:49.369 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:49.3693948Z"
2025-01-22 15:47:49.370 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:49.3701625Z"
2025-01-22 15:47:49.376 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:49.379 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:49.3795160Z"
2025-01-22 15:47:49.380 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:49.3803875Z"
2025-01-22 15:47:49.381 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:49.3811519Z"
2025-01-22 15:47:49.381 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:49.383 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.5942ms
2025-01-22 15:47:49.384 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:49.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 23.7793ms
2025-01-22 15:47:54.525 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/8 - null null
2025-01-22 15:47:54.528 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:54.529 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/8 - 204 null null 4.9042ms
2025-01-22 15:47:54.532 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/8 - application/json null
2025-01-22 15:47:54.534 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:54.535 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:47:54.539 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-22 15:47:54.542 +02:00 [INF] Starting DeleteGiftAsync with ID 8 at "2025-01-22T13:47:54.5421075Z"
2025-01-22 15:47:54.543 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 8 at "2025-01-22T13:47:54.5435622Z"
2025-01-22 15:47:54.545 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 8 at "2025-01-22T13:47:54.5451552Z"
2025-01-22 15:47:54.546 +02:00 [INF] Starting GetByIdAsync for Gift ID 8 at "2025-01-22T13:47:54.5468156Z"
2025-01-22 15:47:54.555 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-22 15:47:54.588 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-22 15:47:54.593 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 8 at "2025-01-22T13:47:54.5937343Z"
2025-01-22 15:47:54.594 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 8 at "2025-01-22T13:47:54.5946819Z"
2025-01-22 15:47:54.595 +02:00 [INF] DeleteGiftAsync completed successfully with ID 8 at "2025-01-22T13:47:54.5957784Z"
2025-01-22 15:47:54.597 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-22 15:47:54.598 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 57.98ms
2025-01-22 15:47:54.599 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-22 15:47:54.601 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/8 - 200 null application/json; charset=utf-8 68.7579ms
2025-01-22 15:47:54.604 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:54.606 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:54.607 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.0304ms
2025-01-22 15:47:54.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:54.613 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:54.614 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:54.614 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:54.616 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:54.6166681Z"
2025-01-22 15:47:54.617 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:54.6173633Z"
2025-01-22 15:47:54.618 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:54.6181305Z"
2025-01-22 15:47:54.622 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:54.625 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:54.6249953Z"
2025-01-22 15:47:54.625 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:54.6258058Z"
2025-01-22 15:47:54.626 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:54.6266735Z"
2025-01-22 15:47:54.628 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:54.629 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 12.778ms
2025-01-22 15:47:54.630 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:54.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 21.75ms
2025-01-22 15:47:56.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:47:56.542 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:47:56.543 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:47:56.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.3753ms
2025-01-22 15:47:56.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:47:56.729 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:47:56.730 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:56.732 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:47:56.738 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:56.7384469Z"
2025-01-22 15:47:56.739 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:56.7394306Z"
2025-01-22 15:47:56.740 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:47:56.7408534Z"
2025-01-22 15:47:56.746 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:47:56.749 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:56.7495676Z"
2025-01-22 15:47:56.750 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:56.7502946Z"
2025-01-22 15:47:56.751 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:47:56.7510856Z"
2025-01-22 15:47:56.751 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:47:56.753 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 15.5064ms
2025-01-22 15:47:56.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:47:56.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 34.3936ms
2025-01-22 15:49:05.072 +02:00 [INF] Starting up the application
2025-01-22 15:49:06.361 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:49:07.679 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:49:07.775 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:49:08.042 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:49:08.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:49:08.048 +02:00 [INF] Hosting environment: Development
2025-01-22 15:49:08.049 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:49:08.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:49:09.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 313.5993ms
2025-01-22 15:49:09.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:49:09.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:49:09.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.8679ms
2025-01-22 15:49:09.099 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 20.6859ms
2025-01-22 15:49:09.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:49:09.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.0178ms
2025-01-22 15:49:09.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:49:09.389 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.502ms
2025-01-22 15:53:37.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:53:37.519 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:53:37.623 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:53:37.630 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:53:37.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 136.9556ms
2025-01-22 15:53:37.962 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:53:37.968 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:53:37.972 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 10.0945ms
2025-01-22 15:53:37.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:53:37.985 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:53:38.068 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:53:38.090 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:53:38.234 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:53:38.2337834Z"
2025-01-22 15:53:38.236 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:53:38.2365920Z"
2025-01-22 15:53:38.238 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:53:38.2386922Z"
2025-01-22 15:53:38.379 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:53:38.386 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:53:38.3867316Z"
2025-01-22 15:53:38.388 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:53:38.3880006Z"
2025-01-22 15:53:38.388 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:53:38.3889536Z"
2025-01-22 15:53:38.398 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:53:38.432 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 336.1782ms
2025-01-22 15:53:38.434 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:53:38.439 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 459.5751ms
2025-01-22 15:56:31.641 +02:00 [INF] Starting up the application
2025-01-22 15:56:32.928 +02:00 [INF] User profile is available. Using 'C:\Users\214916314\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-22 15:56:34.185 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-22 15:56:34.267 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-22 15:56:34.521 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-22 15:56:34.524 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-22 15:56:34.526 +02:00 [INF] Hosting environment: Development
2025-01-22 15:56:34.527 +02:00 [INF] Content root path: E:\פרויקט סופי\server\project
2025-01-22 15:56:35.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-22 15:56:35.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 336.0194ms
2025-01-22 15:56:35.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - null null
2025-01-22 15:56:35.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-22 15:56:35.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 10.3283ms
2025-01-22 15:56:35.654 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/_vs/browserLink - null null
2025-01-22 15:56:35.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 30.5699ms
2025-01-22 15:56:35.714 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.5418ms
2025-01-22 15:56:35.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-22 15:56:35.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 163.2737ms
2025-01-22 15:57:42.515 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:57:42.520 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-22 15:57:42.601 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:57:42.617 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:57:42.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 105.8565ms
2025-01-22 15:57:42.937 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:57:42.945 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:57:42.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 12.0545ms
2025-01-22 15:57:42.953 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:57:42.958 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:57:43.108 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:43.146 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:57:43.385 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:43.3850488Z"
2025-01-22 15:57:43.387 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:43.3872007Z"
2025-01-22 15:57:43.389 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:43.3893422Z"
2025-01-22 15:57:43.578 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:57:43.587 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:43.5871858Z"
2025-01-22 15:57:43.590 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:43.5904282Z"
2025-01-22 15:57:43.595 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:43.5950500Z"
2025-01-22 15:57:43.609 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:57:43.655 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 502.4536ms
2025-01-22 15:57:43.659 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:43.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 711.6955ms
2025-01-22 15:57:44.406 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:57:44.413 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:57:44.416 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:57:44.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.492ms
2025-01-22 15:57:44.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:57:44.635 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:57:44.636 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:44.637 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:57:44.645 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:44.6449870Z"
2025-01-22 15:57:44.647 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:44.6471846Z"
2025-01-22 15:57:44.648 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:44.6487439Z"
2025-01-22 15:57:44.689 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:57:44.694 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:44.6939168Z"
2025-01-22 15:57:44.695 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:44.6955896Z"
2025-01-22 15:57:44.697 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:44.6972575Z"
2025-01-22 15:57:44.698 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:57:44.700 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 60.3354ms
2025-01-22 15:57:44.701 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:44.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 69.6031ms
2025-01-22 15:57:51.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:57:51.754 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:57:51.758 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:57:51.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 9.04ms
2025-01-22 15:57:51.930 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:57:51.933 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:57:51.933 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.6395ms
2025-01-22 15:57:51.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:57:51.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:57:51.942 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:51.943 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:57:51.949 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:51.9498309Z"
2025-01-22 15:57:51.950 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:51.9507332Z"
2025-01-22 15:57:51.952 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:57:51.9520375Z"
2025-01-22 15:57:51.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:57:51.961 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:51.9611256Z"
2025-01-22 15:57:51.962 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:51.9621852Z"
2025-01-22 15:57:51.963 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:57:51.9631117Z"
2025-01-22 15:57:51.964 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:57:51.966 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 21.1375ms
2025-01-22 15:57:51.968 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:57:51.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 31.4817ms
2025-01-22 15:58:05.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:58:05.428 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:58:05.429 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:58:05.431 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 5.7416ms
2025-01-22 15:58:05.602 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:58:05.605 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:05.605 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.3413ms
2025-01-22 15:58:05.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:58:05.614 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:05.615 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:05.617 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:05.621 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:05.6215639Z"
2025-01-22 15:58:05.622 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:05.6228803Z"
2025-01-22 15:58:05.624 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:05.6247141Z"
2025-01-22 15:58:05.634 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:58:05.638 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:05.6384587Z"
2025-01-22 15:58:05.639 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:05.6396085Z"
2025-01-22 15:58:05.641 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:05.6417147Z"
2025-01-22 15:58:05.643 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:05.645 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 24.7301ms
2025-01-22 15:58:05.647 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:05.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 40.6806ms
2025-01-22 15:58:08.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:58:08.408 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-22 15:58:08.410 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-22 15:58:08.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 7.5356ms
2025-01-22 15:58:08.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:58:08.668 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:08.674 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:08.675 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:08.677 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:08.6775378Z"
2025-01-22 15:58:08.678 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:08.6783259Z"
2025-01-22 15:58:08.679 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:08.6795708Z"
2025-01-22 15:58:08.687 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:58:08.690 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:08.6905130Z"
2025-01-22 15:58:08.691 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:08.6919152Z"
2025-01-22 15:58:08.693 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:08.6933849Z"
2025-01-22 15:58:08.694 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:08.697 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 20.0675ms
2025-01-22 15:58:08.699 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:08.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 39.6116ms
2025-01-22 15:58:10.926 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:58:10.931 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:10.933 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.4892ms
2025-01-22 15:58:10.937 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:58:10.940 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:10.943 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:58:10.966 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:10.971 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:58:10.977 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:10.978 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:10.988 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:58:11.006 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:58:11.008 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:11.020 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 45.6395ms
2025-01-22 15:58:11.021 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:11.022 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:11.024 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 87.0814ms
2025-01-22 15:58:11.799 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:58:11.802 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:11.802 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 3.3661ms
2025-01-22 15:58:11.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:58:11.809 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:11.810 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:58:11.814 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:11.817 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:58:11.818 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:58:11.8184907Z"
2025-01-22 15:58:11.820 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:58:11.8202041Z"
2025-01-22 15:58:11.834 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:58:11.837 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:58:11.8371966Z"
2025-01-22 15:58:11.838 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:58:11.8379955Z"
2025-01-22 15:58:11.838 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 15:58:11.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:11.841 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 25.3191ms
2025-01-22 15:58:11.842 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:58:11.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 37.0118ms
2025-01-22 15:58:12.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:58:12.797 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:12.798 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:58:12.799 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:12.800 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:58:12.802 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:12.803 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:12.807 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:58:12.809 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:58:12.810 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:12.812 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 9.7826ms
2025-01-22 15:58:12.813 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:12.814 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:12.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 23.5184ms
2025-01-22 15:58:13.225 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 15:58:13.229 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:13.231 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.0475ms
2025-01-22 15:58:13.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:58:13.237 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:13.238 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:13.239 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:13.241 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:13.2415875Z"
2025-01-22 15:58:13.242 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:13.2422599Z"
2025-01-22 15:58:13.243 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:13.2430075Z"
2025-01-22 15:58:13.249 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:58:13.251 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:13.2516708Z"
2025-01-22 15:58:13.252 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:13.2523863Z"
2025-01-22 15:58:13.253 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:13.2531946Z"
2025-01-22 15:58:13.254 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:13.255 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 14.0462ms
2025-01-22 15:58:13.256 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:13.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.6059ms
2025-01-22 15:58:13.642 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 15:58:13.646 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:13.648 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.5933ms
2025-01-22 15:58:13.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:58:13.656 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:13.658 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:58:13.659 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:58:13.665 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:58:13.669 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:13.671 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:13.700 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:58:13.704 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:13.704 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:13.705 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:13.713 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 46.4036ms
2025-01-22 15:58:13.715 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:58:13.716 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:13.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 65.1048ms
2025-01-22 15:58:14.171 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 15:58:14.174 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:14.175 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:58:14.179 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:14.183 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T13:58:14.1831669Z"
2025-01-22 15:58:14.191 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 15:58:14.213 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:58:14.2131905Z"
2025-01-22 15:58:14.214 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:58:14.2140812Z"
2025-01-22 15:58:14.214 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T13:58:14.2149003Z"
2025-01-22 15:58:14.215 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:14.219 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 37.1086ms
2025-01-22 15:58:14.220 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 15:58:14.221 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 50.0791ms
2025-01-22 15:58:15.808 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 15:58:15.812 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:15.814 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 15:58:15.815 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:58:15.816 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 15:58:15.822 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:15.827 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:15.832 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 15:58:15.834 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:15.835 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 15:58:15.836 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:15.837 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 16.3717ms
2025-01-22 15:58:15.838 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 15:58:15.839 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:15.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 32.1366ms
2025-01-22 15:58:16.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 15:58:16.339 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:16.341 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:16.343 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:16.351 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:16.3516284Z"
2025-01-22 15:58:16.352 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:16.3527109Z"
2025-01-22 15:58:16.353 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T13:58:16.3535139Z"
2025-01-22 15:58:16.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 15:58:16.361 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:16.3617917Z"
2025-01-22 15:58:16.363 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:16.3636294Z"
2025-01-22 15:58:16.364 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T13:58:16.3645247Z"
2025-01-22 15:58:16.365 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:16.367 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 16.3426ms
2025-01-22 15:58:16.368 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 15:58:16.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 34.1396ms
2025-01-22 15:58:17.310 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:58:17.314 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:17.315 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.9588ms
2025-01-22 15:58:17.318 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:58:17.320 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:17.321 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:58:17.322 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:17.323 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:58:17.326 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:17.327 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:17.332 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:58:17.334 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:58:17.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:17.336 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 10.8386ms
2025-01-22 15:58:17.337 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:17.338 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:17.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 20.7007ms
2025-01-22 15:58:17.677 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 15:58:17.681 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:17.683 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 5.4493ms
2025-01-22 15:58:17.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 15:58:17.689 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:17.690 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:58:17.691 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 15:58:17.694 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 15:58:17.695 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:58:17.6952963Z"
2025-01-22 15:58:17.696 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T13:58:17.6961888Z"
2025-01-22 15:58:17.699 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 15:58:17.702 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:58:17.7022066Z"
2025-01-22 15:58:17.702 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T13:58:17.7029437Z"
2025-01-22 15:58:17.703 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 15:58:17.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:17.705 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 12.2773ms
2025-01-22 15:58:17.707 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 15:58:17.708 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 20.5645ms
2025-01-22 15:58:26.279 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 15:58:26.285 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:26.287 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.5742ms
2025-01-22 15:58:26.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:58:26.301 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:26.302 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:58:26.303 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:26.304 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:58:26.308 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:26.309 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:26.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:58:26.316 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:58:26.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:26.318 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.1785ms
2025-01-22 15:58:26.319 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:26.320 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:26.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 22.9023ms
2025-01-22 15:58:27.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 15:58:27.261 +02:00 [INF] CORS policy execution successful.
2025-01-22 15:58:27.262 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 15:58:27.263 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:27.264 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 15:58:27.267 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:27.267 +02:00 [INF] Fetching all donators.
2025-01-22 15:58:27.273 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 15:58:27.276 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 15:58:27.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 15:58:27.278 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 11.3124ms
2025-01-22 15:58:27.279 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 15:58:27.280 +02:00 [INF] Outgoing Response: 200
2025-01-22 15:58:27.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 21.6168ms
2025-01-22 16:15:38.035 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 16:15:38.040 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:38.041 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.9716ms
2025-01-22 16:15:38.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 16:15:38.053 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:38.054 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 16:15:38.055 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 16:15:38.057 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:38.0578533Z"
2025-01-22 16:15:38.058 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:38.0586689Z"
2025-01-22 16:15:38.059 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:38.0597932Z"
2025-01-22 16:15:38.090 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 16:15:38.094 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:38.0940559Z"
2025-01-22 16:15:38.094 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:38.0949289Z"
2025-01-22 16:15:38.095 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:38.0957680Z"
2025-01-22 16:15:38.096 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:38.098 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 41.2893ms
2025-01-22 16:15:38.100 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 16:15:38.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 56.3557ms
2025-01-22 16:15:43.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 16:15:43.232 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:43.233 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.0062ms
2025-01-22 16:15:43.237 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 16:15:43.239 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:43.240 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 16:15:43.241 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 16:15:43.243 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 16:15:43.245 +02:00 [INF] Fetching all donators.
2025-01-22 16:15:43.246 +02:00 [INF] Fetching all donators.
2025-01-22 16:15:43.250 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 16:15:43.253 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 16:15:43.254 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:43.255 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 10.3792ms
2025-01-22 16:15:43.256 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 16:15:43.257 +02:00 [INF] Outgoing Response: 200
2025-01-22 16:15:43.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 21.6258ms
2025-01-22 16:15:43.839 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 16:15:43.844 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:43.845 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 5.6324ms
2025-01-22 16:15:43.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 16:15:43.851 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:43.852 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 16:15:43.853 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 16:15:43.855 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 16:15:43.856 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T14:15:43.8566493Z"
2025-01-22 16:15:43.858 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T14:15:43.8583782Z"
2025-01-22 16:15:43.863 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 16:15:43.865 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T14:15:43.8654749Z"
2025-01-22 16:15:43.866 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T14:15:43.8661805Z"
2025-01-22 16:15:43.866 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 16:15:43.867 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:43.869 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 13.5664ms
2025-01-22 16:15:43.870 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 16:15:43.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 21.8758ms
2025-01-22 16:15:46.174 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-22 16:15:46.178 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:46.180 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 5.6599ms
2025-01-22 16:15:46.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-22 16:15:46.187 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:46.188 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-22 16:15:46.190 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 16:15:46.192 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-22 16:15:46.197 +02:00 [INF] Received request to get basket for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 16:15:46.198 +02:00 [INF] Start fetching user gifts for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 16:15:46.202 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-22 16:15:46.206 +02:00 [WRN] No gifts found for userId: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 16:15:46.209 +02:00 [INF] No gifts found for user: 0d16a340-5e2f-4e9f-bbd1-530e97d7dbbd
2025-01-22 16:15:46.212 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:46.217 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 21.4857ms
2025-01-22 16:15:46.222 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-22 16:15:46.224 +02:00 [INF] Outgoing Response: 200
2025-01-22 16:15:46.226 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 41.6818ms
2025-01-22 16:15:46.503 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-22 16:15:46.506 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:46.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 3.5812ms
2025-01-22 16:15:46.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-22 16:15:46.512 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:46.513 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 16:15:46.515 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-22 16:15:46.517 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:46.5173108Z"
2025-01-22 16:15:46.518 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:46.5180057Z"
2025-01-22 16:15:46.518 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-22T14:15:46.5187718Z"
2025-01-22 16:15:46.522 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-22 16:15:46.526 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:46.5262006Z"
2025-01-22 16:15:46.527 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:46.5270341Z"
2025-01-22 16:15:46.527 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-22T14:15:46.5278937Z"
2025-01-22 16:15:46.528 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:46.530 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 13.5038ms
2025-01-22 16:15:46.531 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-22 16:15:46.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 22.6968ms
2025-01-22 16:15:51.918 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-22 16:15:51.921 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:51.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.3624ms
2025-01-22 16:15:51.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-22 16:15:51.932 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:51.933 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-22 16:15:51.934 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 16:15:51.935 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-22 16:15:51.938 +02:00 [INF] Fetching all donators.
2025-01-22 16:15:51.940 +02:00 [INF] Fetching all donators.
2025-01-22 16:15:51.947 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-22 16:15:51.949 +02:00 [INF] Successfully fetched 4 donators.
2025-01-22 16:15:51.950 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:51.951 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 13.519ms
2025-01-22 16:15:51.952 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-22 16:15:51.953 +02:00 [INF] Outgoing Response: 200
2025-01-22 16:15:51.955 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 26.0404ms
2025-01-22 16:15:52.316 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-22 16:15:52.320 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:52.320 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 4.4583ms
2025-01-22 16:15:52.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-22 16:15:52.326 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:15:52.326 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 16:15:52.327 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-22 16:15:52.330 +02:00 [INF] Received request to get gifts with purchases.
2025-01-22 16:15:52.330 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T14:15:52.3306365Z"
2025-01-22 16:15:52.333 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-22T14:15:52.3331109Z"
2025-01-22 16:15:52.337 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-22 16:15:52.339 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T14:15:52.3395583Z"
2025-01-22 16:15:52.340 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-22T14:15:52.3403272Z"
2025-01-22 16:15:52.341 +02:00 [INF] Successfully retrieved 9 gifts with purchases.
2025-01-22 16:15:52.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:15:52.343 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 13.3277ms
2025-01-22 16:15:52.344 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-22 16:15:52.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 21.0785ms
2025-01-22 16:16:07.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 16:16:07.167 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:16:07.169 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 16:16:07.171 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 16:16:07.173 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T14:16:07.1735524Z"
2025-01-22 16:16:07.180 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 16:16:07.185 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:16:07.1856162Z"
2025-01-22 16:16:07.186 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:16:07.1863944Z"
2025-01-22 16:16:07.187 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:16:07.1872102Z"
2025-01-22 16:16:07.188 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:16:07.189 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 16.0432ms
2025-01-22 16:16:07.191 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 16:16:07.192 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 30.1232ms
2025-01-22 16:18:48.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-22 16:18:48.724 +02:00 [INF] CORS policy execution successful.
2025-01-22 16:18:48.725 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 16:18:48.727 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-22 16:18:48.730 +02:00 [INF] Starting GetGiftsAsync at "2025-01-22T14:18:48.7308382Z"
2025-01-22 16:18:48.735 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-22 16:18:48.740 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:18:48.7409812Z"
2025-01-22 16:18:48.741 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:18:48.7418024Z"
2025-01-22 16:18:48.742 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-22T14:18:48.7427970Z"
2025-01-22 16:18:48.744 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-22 16:18:48.745 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 14.8197ms
2025-01-22 16:18:48.746 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-22 16:18:48.747 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 33.2968ms
