2025-01-21 00:00:07.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:00:07.530 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:00:07.532 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:00:07.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 57.6519ms
2025-01-21 00:00:09.282 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:00:09.292 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:00:09.294 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.3865ms
2025-01-21 00:00:09.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:00:09.311 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:00:09.313 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:00:09.317 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:00:09.319 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:00:09.374 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:00:09.377 +02:00 [INF] Fetching all donators.
2025-01-21 00:00:09.379 +02:00 [INF] Fetching all donators.
2025-01-21 00:00:09.387 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:00:09.392 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:00:09.394 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.1141ms.
2025-01-21 00:00:09.399 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:00:09.402 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 78.2813ms
2025-01-21 00:00:09.405 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:00:09.408 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:00:09.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 109.1994ms
2025-01-21 00:01:31.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:01:31.732 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:01:31.733 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:01:31.735 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 57.2974ms
2025-01-21 00:01:32.392 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:01:32.410 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:01:32.419 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 27.5829ms
2025-01-21 00:01:32.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:01:32.438 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:01:32.440 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:01:32.452 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:01:32.492 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:01:32.563 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:01:32.567 +02:00 [INF] Fetching all donators.
2025-01-21 00:01:32.569 +02:00 [INF] Fetching all donators.
2025-01-21 00:01:32.580 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:01:32.588 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:01:32.598 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.4704ms.
2025-01-21 00:01:32.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:01:32.615 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 110.4055ms
2025-01-21 00:01:32.621 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:01:32.623 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:01:32.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 193.1628ms
2025-01-21 00:01:34.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:01:34.805 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:01:34.806 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:01:34.809 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:01:34.811 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:01:34.850 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:01:34.853 +02:00 [INF] Fetching all donators.
2025-01-21 00:01:34.855 +02:00 [INF] Fetching all donators.
2025-01-21 00:01:34.863 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:01:34.898 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:01:34.900 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.5935ms.
2025-01-21 00:01:34.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:01:34.913 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 98.3735ms
2025-01-21 00:01:34.922 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:01:34.924 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:01:34.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 128.6469ms
2025-01-21 00:01:56.650 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:01:56.655 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:01:56.657 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.423ms
2025-01-21 00:01:56.664 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 66
2025-01-21 00:01:56.667 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:01:56.669 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:01:56.671 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:01:56.674 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:01:56.676 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:01:56.678 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 13.9604ms
2025-01-21 00:02:04.424 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-21 00:02:04.432 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:02:04.434 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 10.3089ms
2025-01-21 00:02:04.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-21 00:02:04.445 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:02:04.447 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-21 00:02:04.450 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:02:04.457 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:02:04.504 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 00:02:04.509 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-21 00:02:04.510 +02:00 [INF] Fetching donator with ID: 2
2025-01-21 00:02:04.517 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:02:04.525 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-21 00:02:04.542 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 00:02:04.548 +02:00 [WRN] No gifts found for donator ID: 2
2025-01-21 00:02:04.549 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 2
2025-01-21 00:02:04.550 +02:00 [WRN] No gifts found for donator with ID 2.
2025-01-21 00:02:04.552 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.3756ms.
2025-01-21 00:02:04.554 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:02:04.563 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 102.1529ms
2025-01-21 00:02:04.566 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:02:04.572 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:02:04.575 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 134.2319ms
2025-01-21 00:02:07.237 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - null null
2025-01-21 00:02:07.242 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:02:07.245 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - 204 null null 7.8711ms
2025-01-21 00:02:07.250 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - application/json null
2025-01-21 00:02:07.253 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:02:07.254 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/1
2025-01-21 00:02:07.257 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:02:07.260 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:02:07.296 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 00:02:07.298 +02:00 [INF] Fetching donator with gifts for ID: 1
2025-01-21 00:02:07.300 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:02:07.306 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:02:07.310 +02:00 [INF] Fetching gifts for donator ID: 1
2025-01-21 00:02:07.315 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 00:02:07.379 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 1
2025-01-21 00:02:07.381 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.2884ms.
2025-01-21 00:02:07.387 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:02:07.392 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 127.2485ms
2025-01-21 00:02:07.395 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:02:07.398 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:02:07.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - 200 null application/json; charset=utf-8 150.9685ms
2025-01-21 00:03:13.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:03:13.532 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:03:13.533 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:03:13.535 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 15.32ms
2025-01-21 00:03:14.088 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:03:14.117 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:14.119 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 31.0711ms
2025-01-21 00:03:14.126 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:03:14.131 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:14.133 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:03:14.136 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:14.138 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:03:14.198 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:03:14.201 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:14.203 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:14.211 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:03:14.217 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:03:14.218 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.1462ms.
2025-01-21 00:03:14.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:03:14.225 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 78.4253ms
2025-01-21 00:03:14.227 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:14.229 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:03:14.231 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 105.3735ms
2025-01-21 00:03:32.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:03:32.169 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:03:32.171 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:03:32.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 6.0803ms
2025-01-21 00:03:32.824 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:03:32.926 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:32.928 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 104.1846ms
2025-01-21 00:03:32.937 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:03:33.207 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:33.212 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:03:33.216 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:33.282 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:03:33.323 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:03:33.326 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:33.327 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:33.332 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:03:33.336 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:03:33.338 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.2265ms.
2025-01-21 00:03:33.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:03:33.346 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 57.8225ms
2025-01-21 00:03:33.349 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:33.352 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:03:33.353 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 416.0542ms
2025-01-21 00:03:35.016 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:03:35.021 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:35.023 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:03:35.026 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:35.029 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:03:35.082 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:03:35.085 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:35.086 +02:00 [INF] Fetching all donators.
2025-01-21 00:03:35.090 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:03:35.095 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:03:35.099 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.4092ms.
2025-01-21 00:03:35.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:03:35.107 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 72.3499ms
2025-01-21 00:03:35.110 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:03:35.112 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:03:35.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 98.9572ms
2025-01-21 00:03:50.014 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:03:50.018 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:50.019 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.5897ms
2025-01-21 00:03:50.024 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 58
2025-01-21 00:03:50.028 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:03:50.030 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:03:50.033 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:03:50.035 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:03:50.037 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:03:50.039 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 15.1135ms
2025-01-21 00:04:28.140 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:04:28.161 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:04:28.162 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:04:28.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 22.9144ms
2025-01-21 00:04:28.659 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:04:28.664 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:04:28.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.4672ms
2025-01-21 00:04:28.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:04:28.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:04:28.704 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:04:28.707 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:04:28.709 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:04:28.752 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:04:28.754 +02:00 [INF] Fetching all donators.
2025-01-21 00:04:28.756 +02:00 [INF] Fetching all donators.
2025-01-21 00:04:28.762 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:04:28.767 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:04:28.769 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.5798ms.
2025-01-21 00:04:28.773 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:04:28.776 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 62.9333ms
2025-01-21 00:04:28.778 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:04:28.780 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:04:28.782 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 86.1346ms
2025-01-21 00:05:09.491 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:05:09.510 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:05:09.512 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:05:09.513 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 23.1226ms
2025-01-21 00:05:10.012 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:05:10.017 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:10.019 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.041ms
2025-01-21 00:05:10.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:05:10.052 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:10.054 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:05:10.056 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:10.059 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:05:10.106 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:05:10.109 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:10.111 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:10.117 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:05:10.122 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:05:10.124 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.0142ms.
2025-01-21 00:05:10.129 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:05:10.132 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 69.4421ms
2025-01-21 00:05:10.135 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:10.136 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:05:10.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 90.8277ms
2025-01-21 00:05:17.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:05:17.368 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:05:17.370 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:05:17.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 24.2261ms
2025-01-21 00:05:17.910 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:05:17.916 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:17.919 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.1346ms
2025-01-21 00:05:17.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:05:17.932 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:17.934 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:05:17.936 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:17.939 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:05:17.998 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:05:18.000 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:18.002 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:18.012 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:05:18.019 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:05:18.021 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.0335ms.
2025-01-21 00:05:18.026 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:05:18.029 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 83.9128ms
2025-01-21 00:05:18.031 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:18.033 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:05:18.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 107.244ms
2025-01-21 00:05:22.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:05:22.669 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:22.670 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:05:22.673 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:22.675 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:05:22.710 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:05:22.715 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:22.716 +02:00 [INF] Fetching all donators.
2025-01-21 00:05:22.720 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:05:22.724 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:05:22.725 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.6843ms.
2025-01-21 00:05:22.729 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:05:22.733 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 53.1583ms
2025-01-21 00:05:22.735 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:05:22.738 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:05:22.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 75.595ms
2025-01-21 00:05:37.008 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:05:37.012 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:37.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.8803ms
2025-01-21 00:05:37.018 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 55
2025-01-21 00:05:37.021 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:37.022 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:05:37.024 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:05:37.025 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:05:37.027 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:05:37.029 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 11.7005ms
2025-01-21 00:05:43.935 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:05:43.940 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:43.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.7626ms
2025-01-21 00:05:43.947 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 55
2025-01-21 00:05:43.953 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:05:43.954 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:05:43.956 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:05:43.958 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:05:43.960 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:05:43.962 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 14.9974ms
2025-01-21 00:07:28.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:07:28.438 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:07:28.452 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:07:28.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 25.4982ms
2025-01-21 00:07:29.284 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:07:29.289 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:07:29.291 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.1583ms
2025-01-21 00:07:29.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:07:29.338 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:07:29.343 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:07:29.346 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:07:29.348 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:07:29.513 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:07:29.618 +02:00 [INF] Fetching all donators.
2025-01-21 00:07:29.627 +02:00 [INF] Fetching all donators.
2025-01-21 00:07:29.633 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:07:29.643 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:07:29.646 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.0881ms.
2025-01-21 00:07:29.649 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:07:29.654 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 293.0668ms
2025-01-21 00:07:29.657 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:07:29.660 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:07:29.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 334.5783ms
2025-01-21 00:07:31.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:07:31.338 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:07:31.340 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:07:31.343 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:07:31.345 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:07:31.382 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:07:31.385 +02:00 [INF] Fetching all donators.
2025-01-21 00:07:31.387 +02:00 [INF] Fetching all donators.
2025-01-21 00:07:31.392 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:07:31.397 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:07:31.398 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.6971ms.
2025-01-21 00:07:31.401 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:07:31.403 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 54.4567ms
2025-01-21 00:07:31.405 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:07:31.407 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:07:31.409 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 75.7739ms
2025-01-21 00:07:42.143 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:07:42.148 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:07:42.150 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.1421ms
2025-01-21 00:07:42.157 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 58
2025-01-21 00:07:42.161 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:07:42.162 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:07:42.164 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:07:42.165 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:07:42.168 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:07:42.169 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 12.7979ms
2025-01-21 00:08:15.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:08:15.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:08:15.199 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:08:15.202 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:08:15.203 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:08:15.204 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:08:15.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 40.479ms
2025-01-21 00:08:15.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 30.9536ms
2025-01-21 00:08:15.716 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:08:15.729 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:08:15.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 15.5039ms
2025-01-21 00:08:15.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:08:15.766 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:08:15.769 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:08:15.774 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:08:15.777 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:08:15.871 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:08:15.877 +02:00 [INF] Fetching all donators.
2025-01-21 00:08:15.879 +02:00 [INF] Fetching all donators.
2025-01-21 00:08:15.888 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:08:15.904 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:08:15.907 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2273ms.
2025-01-21 00:08:15.914 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:08:15.920 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 138.6836ms
2025-01-21 00:08:15.932 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:08:15.936 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:08:15.938 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 193.3397ms
2025-01-21 00:08:16.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:08:16.904 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:08:16.906 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:08:16.908 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:08:16.910 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:08:16.960 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:08:16.963 +02:00 [INF] Fetching all donators.
2025-01-21 00:08:16.965 +02:00 [INF] Fetching all donators.
2025-01-21 00:08:16.971 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:08:16.976 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:08:16.977 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.0881ms.
2025-01-21 00:08:16.981 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:08:16.984 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 68.8548ms
2025-01-21 00:08:16.987 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:08:16.989 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:08:16.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 91.8342ms
2025-01-21 00:08:27.252 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:08:27.257 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:08:27.260 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.5003ms
2025-01-21 00:08:27.265 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 60
2025-01-21 00:08:27.268 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:08:27.270 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:08:27.273 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 00:08:27.275 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 00:08:27.277 +02:00 [INF] Outgoing Response: 405
2025-01-21 00:08:27.279 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 405 0 null 14.3286ms
2025-01-21 00:23:28.513 +02:00 [INF] Starting up the application
2025-01-21 00:23:32.608 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 00:23:35.719 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 00:23:35.918 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 00:23:36.367 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 00:23:36.372 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 00:23:36.375 +02:00 [INF] Hosting environment: Development
2025-01-21 00:23:36.376 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 00:23:37.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 00:23:38.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 306.223ms
2025-01-21 00:23:38.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 00:23:38.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.4185ms
2025-01-21 00:23:38.611 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 00:23:39.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 441.5192ms
2025-01-21 00:23:45.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:23:45.110 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 00:23:45.145 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:23:45.147 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:23:45.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 57.5034ms
2025-01-21 00:23:45.632 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:23:45.711 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:45.722 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 89.7273ms
2025-01-21 00:23:45.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:23:45.741 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:45.747 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:23:46.727 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:46.764 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:23:47.129 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:23:47.139 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:47.143 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:47.271 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:23:47.309 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:23:47.317 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.9211ms.
2025-01-21 00:23:47.336 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:23:47.429 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 654.8068ms
2025-01-21 00:23:47.432 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:47.434 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:23:47.442 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 1706.3898ms
2025-01-21 00:23:49.919 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - null null
2025-01-21 00:23:49.924 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:49.926 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - 204 null null 7.7356ms
2025-01-21 00:23:49.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - application/json null
2025-01-21 00:23:49.936 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:49.938 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/1
2025-01-21 00:23:49.945 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:23:49.963 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:23:50.018 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 00:23:50.025 +02:00 [INF] Fetching donator with gifts for ID: 1
2025-01-21 00:23:50.029 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:23:50.060 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:23:50.067 +02:00 [INF] Fetching gifts for donator ID: 1
2025-01-21 00:23:50.086 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 00:23:50.155 +02:00 [INF] Successfully fetched 1 gifts for donator ID: 1
2025-01-21 00:23:50.157 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 137.4974ms.
2025-01-21 00:23:50.160 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:23:50.183 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 215.4803ms
2025-01-21 00:23:50.185 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:23:50.187 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:23:50.189 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - 200 null application/json; charset=utf-8 256.3536ms
2025-01-21 00:23:51.336 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:23:51.341 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:51.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.752ms
2025-01-21 00:23:51.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:23:51.352 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:51.354 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:23:51.361 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:51.363 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:23:51.407 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:23:51.409 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:51.411 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:51.420 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:23:51.423 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:23:51.424 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.9678ms.
2025-01-21 00:23:51.426 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:23:51.430 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 62.9548ms
2025-01-21 00:23:51.434 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:51.435 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:23:51.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 87.773ms
2025-01-21 00:23:58.273 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:23:58.283 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:58.285 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.345ms
2025-01-21 00:23:58.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:23:58.297 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:23:58.298 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:23:58.300 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:58.302 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:23:58.329 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:23:58.333 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:58.335 +02:00 [INF] Fetching all donators.
2025-01-21 00:23:58.339 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:23:58.343 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:23:58.344 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.0454ms.
2025-01-21 00:23:58.349 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:23:58.353 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 47.7204ms
2025-01-21 00:23:58.355 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:23:58.357 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:23:58.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 66.8867ms
2025-01-21 00:24:12.512 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:24:12.517 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:12.518 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.3714ms
2025-01-21 00:24:12.523 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 61
2025-01-21 00:24:12.526 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:12.528 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:24:12.530 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 00:24:12.537 +02:00 [INF] Route matched with {action = "CreateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:12.613 +02:00 [INF] Executing action method project.Controllers.DonatorController.CreateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:24:12.617 +02:00 [INF] Received request to create donator: avi
2025-01-21 00:24:12.619 +02:00 [INF] Creating donator with name: avi
2025-01-21 00:24:12.622 +02:00 [INF] Adding donator with name: avi
2025-01-21 00:24:12.798 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donators] ([Email], [Name], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 00:24:12.841 +02:00 [INF] Successfully added donator: avi
2025-01-21 00:24:12.843 +02:00 [INF] Donator avi created successfully.
2025-01-21 00:24:12.844 +02:00 [INF] Successfully created donator: avi
2025-01-21 00:24:12.846 +02:00 [INF] Executed action method project.Controllers.DonatorController.CreateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 229.4978ms.
2025-01-21 00:24:12.849 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:24:12.852 +02:00 [INF] Executed action project.Controllers.DonatorController.CreateDonatorAsync (project) in 311.203ms
2025-01-21 00:24:12.855 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 00:24:12.857 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:24:12.858 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 335.5788ms
2025-01-21 00:24:12.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:24:12.967 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:12.970 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:24:12.972 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:12.974 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:13.007 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:24:13.010 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:13.011 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:13.016 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:24:13.020 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 00:24:13.021 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.0298ms.
2025-01-21 00:24:13.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:24:13.026 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 46.4236ms
2025-01-21 00:24:13.028 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:13.030 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:24:13.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 72.1772ms
2025-01-21 00:24:17.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - null null
2025-01-21 00:24:17.490 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:17.492 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - 204 null null 18.7896ms
2025-01-21 00:24:17.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/4 - application/json null
2025-01-21 00:24:17.505 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:17.508 +02:00 [INF] Incoming Request: GET /api/Donator/4
2025-01-21 00:24:17.512 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 00:24:17.519 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:17.555 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 00:24:17.560 +02:00 [INF] Fetching donator with ID: 4
2025-01-21 00:24:17.561 +02:00 [INF] Fetching donator with ID: 4
2025-01-21 00:24:17.573 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:24:17.577 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.2962ms.
2025-01-21 00:24:17.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-21 00:24:17.585 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 62.5723ms
2025-01-21 00:24:17.587 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 00:24:17.589 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:24:17.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/4 - 200 null application/json; charset=utf-8 91.447ms
2025-01-21 00:24:25.971 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:24:25.975 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:25.978 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.2983ms
2025-01-21 00:24:25.984 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 77
2025-01-21 00:24:25.987 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:25.988 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-21 00:24:25.990 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 00:24:25.996 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:26.034 +02:00 [INF] Executing action method project.Controllers.DonatorController.UpdateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:24:26.040 +02:00 [INF] Updating donator with ID: 4
2025-01-21 00:24:26.042 +02:00 [INF] Updating donator with ID: 4
2025-01-21 00:24:26.059 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-21 00:24:26.065 +02:00 [INF] Successfully updated donator with ID: 4
2025-01-21 00:24:26.066 +02:00 [INF] Donator with ID 4 updated successfully.
2025-01-21 00:24:26.068 +02:00 [INF] Executed action method project.Controllers.DonatorController.UpdateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 30.9645ms.
2025-01-21 00:24:26.075 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-21 00:24:26.077 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 76.8047ms
2025-01-21 00:24:26.079 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 00:24:26.080 +02:00 [INF] Outgoing Response: 204
2025-01-21 00:24:26.081 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 97.8473ms
2025-01-21 00:24:26.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:24:26.179 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:26.181 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:24:26.183 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:26.184 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:26.215 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:24:26.218 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:26.219 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:26.224 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:24:26.228 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 00:24:26.229 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.6943ms.
2025-01-21 00:24:26.234 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:24:26.238 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 50.3963ms
2025-01-21 00:24:26.241 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:26.243 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:24:26.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 71.5372ms
2025-01-21 00:24:28.343 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - null null
2025-01-21 00:24:28.349 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:28.351 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/4 - 204 null null 8.3532ms
2025-01-21 00:24:28.357 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/4 - application/json null
2025-01-21 00:24:28.363 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:28.366 +02:00 [INF] Incoming Request: DELETE /api/Donator/4
2025-01-21 00:24:28.368 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:24:28.375 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:28.416 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:24:28.421 +02:00 [INF] Deleting donator with ID: 4
2025-01-21 00:24:28.424 +02:00 [INF] Attempting to delete donator with ID: 4
2025-01-21 00:24:28.425 +02:00 [INF] Fetching donator with ID: 4
2025-01-21 00:24:28.433 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:24:28.461 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:24:28.469 +02:00 [INF] Successfully deleted donator with ID: 4
2025-01-21 00:24:28.471 +02:00 [INF] Successfully deleted donator with ID: 4
2025-01-21 00:24:28.472 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 52.9355ms.
2025-01-21 00:24:28.474 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-21 00:24:28.476 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 94.3038ms
2025-01-21 00:24:28.478 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:24:28.480 +02:00 [INF] Outgoing Response: 204
2025-01-21 00:24:28.481 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/4 - 204 null null 124.6275ms
2025-01-21 00:24:28.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:24:28.492 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:28.495 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:24:28.497 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:28.499 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:24:28.525 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:24:28.527 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:28.529 +02:00 [INF] Fetching all donators.
2025-01-21 00:24:28.534 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:24:28.537 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:24:28.538 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.717ms.
2025-01-21 00:24:28.540 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:24:28.542 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 40.2358ms
2025-01-21 00:24:28.545 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:24:28.549 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:24:28.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 60.9305ms
2025-01-21 00:24:31.153 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - null null
2025-01-21 00:24:31.158 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:31.160 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - 204 null null 6.544ms
2025-01-21 00:24:31.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/2 - application/json null
2025-01-21 00:24:31.172 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:31.174 +02:00 [INF] Incoming Request: GET /api/Donator/2
2025-01-21 00:24:31.277 +02:00 [WRN] Invalid Token
2025-01-21 00:24:31.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/2 - 401 null null 112.2048ms
2025-01-21 00:24:38.306 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:24:38.312 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:38.314 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 7.4488ms
2025-01-21 00:24:38.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/1 - application/json null
2025-01-21 00:24:38.326 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:38.328 +02:00 [INF] Incoming Request: GET /api/Donator/1
2025-01-21 00:24:38.382 +02:00 [WRN] Invalid Token
2025-01-21 00:24:38.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/1 - 401 null null 63.6798ms
2025-01-21 00:24:43.526 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:24:43.531 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:24:43.532 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:24:43.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.3247ms
2025-01-21 00:24:43.948 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:24:43.955 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:43.959 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 10.0104ms
2025-01-21 00:24:43.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:24:43.989 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:24:43.998 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:24:44.109 +02:00 [WRN] Invalid Token
2025-01-21 00:24:44.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 141.6345ms
2025-01-21 00:27:22.842 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:27:22.864 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:27:22.866 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:27:22.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 26.7345ms
2025-01-21 00:27:23.813 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:27:23.866 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:23.868 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 55.0916ms
2025-01-21 00:27:23.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:27:23.885 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:23.886 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:27:23.951 +02:00 [WRN] Invalid Token
2025-01-21 00:27:23.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 78.3822ms
2025-01-21 00:27:44.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:27:44.692 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:27:44.694 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:27:44.696 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.3426ms
2025-01-21 00:27:45.522 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:27:46.063 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:46.075 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 553.1114ms
2025-01-21 00:27:46.115 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:27:46.128 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:46.144 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:27:46.320 +02:00 [WRN] Invalid Token
2025-01-21 00:27:46.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 207.0294ms
2025-01-21 00:27:57.170 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 00:27:57.175 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:57.176 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.7566ms
2025-01-21 00:27:57.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 00:27:57.185 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:57.187 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 00:27:57.198 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 00:27:57.251 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 00:27:57.261 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:27:57.2610283Z"
2025-01-21 00:27:57.266 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:27:57.2665605Z"
2025-01-21 00:27:57.271 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:27:57.2716904Z"
2025-01-21 00:27:57.479 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 00:27:57.484 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:27:57.4841802Z"
2025-01-21 00:27:57.485 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:27:57.4853691Z"
2025-01-21 00:27:57.486 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:27:57.4865812Z"
2025-01-21 00:27:57.488 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 234.5718ms.
2025-01-21 00:27:57.490 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:27:57.503 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 300.9525ms
2025-01-21 00:27:57.505 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 00:27:57.508 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 326.5856ms
2025-01-21 00:27:58.828 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:27:58.833 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:58.835 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.8355ms
2025-01-21 00:27:58.842 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:27:58.847 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:27:58.848 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:27:58.922 +02:00 [WRN] Invalid Token
2025-01-21 00:27:58.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 82.1719ms
2025-01-21 00:28:00.310 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-21 00:28:00.313 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:00.315 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 4.9851ms
2025-01-21 00:28:00.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-21 00:28:00.323 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:00.324 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-21 00:28:00.413 +02:00 [WRN] Invalid Token
2025-01-21 00:28:00.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 401 null null 95.5493ms
2025-01-21 00:28:01.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:28:01.450 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:01.452 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:28:01.499 +02:00 [WRN] Invalid Token
2025-01-21 00:28:01.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 56.448ms
2025-01-21 00:28:12.775 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:28:12.781 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:12.782 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.9822ms
2025-01-21 00:28:12.786 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 60
2025-01-21 00:28:12.790 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:12.793 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 00:28:12.844 +02:00 [WRN] Invalid Token
2025-01-21 00:28:12.846 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 401 null null 59.3953ms
2025-01-21 00:28:42.965 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 00:28:42.979 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:42.980 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 26.5914ms
2025-01-21 00:28:43.011 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 00:28:43.016 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:43.018 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 00:28:43.031 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 00:28:43.083 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 00:28:43.118 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 00:28:43.308 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 00:28:43.336 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 00:28:43.368 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 00:28:43.394 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 309.4842ms.
2025-01-21 00:28:43.398 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:28:43.406 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 371.5103ms
2025-01-21 00:28:43.409 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 00:28:43.412 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 400.9154ms
2025-01-21 00:28:45.478 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:28:45.485 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:45.487 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.066ms
2025-01-21 00:28:45.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:28:45.500 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:45.501 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:28:45.504 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:45.506 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:28:45.555 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:28:45.558 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:45.559 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:45.564 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:28:45.568 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:28:45.569 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.089ms.
2025-01-21 00:28:45.573 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:28:45.576 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 58.7405ms
2025-01-21 00:28:45.578 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:45.580 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:28:45.581 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 86.2165ms
2025-01-21 00:28:46.948 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 00:28:46.952 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:46.955 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.7462ms
2025-01-21 00:28:46.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 00:28:46.969 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:46.973 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 00:28:46.978 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 00:28:47.016 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 00:28:47.018 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:28:47.0185935Z"
2025-01-21 00:28:47.020 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:28:47.0202456Z"
2025-01-21 00:28:47.021 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-20T22:28:47.0217660Z"
2025-01-21 00:28:47.036 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 00:28:47.040 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:28:47.0404458Z"
2025-01-21 00:28:47.041 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:28:47.0419715Z"
2025-01-21 00:28:47.043 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-20T22:28:47.0435905Z"
2025-01-21 00:28:47.045 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.4645ms.
2025-01-21 00:28:47.047 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:28:47.049 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 67.5598ms
2025-01-21 00:28:47.051 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 00:28:47.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 89.5961ms
2025-01-21 00:28:48.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:28:48.645 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:48.648 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:28:48.651 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:48.653 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:28:48.685 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:28:48.688 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:48.689 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:48.694 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:28:48.698 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:28:48.699 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.238ms.
2025-01-21 00:28:48.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:28:48.707 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 49.9517ms
2025-01-21 00:28:48.712 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:48.714 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:28:48.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 75.7638ms
2025-01-21 00:28:50.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:28:50.911 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:50.913 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.0751ms
2025-01-21 00:28:50.918 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:28:50.924 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:50.926 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:28:50.929 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:50.931 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:28:50.983 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:28:50.985 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:50.986 +02:00 [INF] Fetching all donators.
2025-01-21 00:28:50.992 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:28:50.996 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:28:50.997 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.5416ms.
2025-01-21 00:28:50.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:28:51.001 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 66.2068ms
2025-01-21 00:28:51.005 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:28:51.009 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:28:51.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 92.5284ms
2025-01-21 00:28:53.164 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - null null
2025-01-21 00:28:53.169 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:53.171 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/2 - 204 null null 6.7419ms
2025-01-21 00:28:53.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/2 - application/json null
2025-01-21 00:28:53.181 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:53.184 +02:00 [INF] Incoming Request: GET /api/Donator/2
2025-01-21 00:28:53.186 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 00:28:53.188 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:28:53.274 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 00:28:53.289 +02:00 [INF] Fetching donator with ID: 2
2025-01-21 00:28:53.292 +02:00 [INF] Fetching donator with ID: 2
2025-01-21 00:28:53.300 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:28:53.311 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.1028ms.
2025-01-21 00:28:53.315 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-21 00:28:53.317 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 124.6515ms
2025-01-21 00:28:53.321 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 00:28:53.324 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:28:53.326 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/2 - 200 null application/json; charset=utf-8 148.6907ms
2025-01-21 00:28:55.460 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:28:55.465 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:55.467 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.3271ms
2025-01-21 00:28:55.476 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 79
2025-01-21 00:28:55.481 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:28:55.483 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-21 00:28:55.485 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 00:28:55.486 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 00:28:55.535 +02:00 [INF] Executing action method project.Controllers.DonatorController.UpdateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:28:55.538 +02:00 [INF] Updating donator with ID: 2
2025-01-21 00:28:55.545 +02:00 [INF] Updating donator with ID: 2
2025-01-21 00:28:55.561 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-21 00:28:55.566 +02:00 [INF] Successfully updated donator with ID: 2
2025-01-21 00:28:55.567 +02:00 [INF] Donator with ID 2 updated successfully.
2025-01-21 00:28:55.569 +02:00 [INF] Executed action method project.Controllers.DonatorController.UpdateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 30.5906ms.
2025-01-21 00:28:55.574 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-21 00:28:55.578 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 88.4368ms
2025-01-21 00:28:55.581 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 00:28:55.583 +02:00 [INF] Outgoing Response: 204
2025-01-21 00:28:55.586 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 109.9699ms
2025-01-21 00:29:00.586 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-21 00:29:00.595 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:29:00.597 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 10.9146ms
2025-01-21 00:29:00.602 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-21 00:29:00.608 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:29:00.610 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-21 00:29:00.613 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:29:00.614 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:29:00.646 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 00:29:00.650 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-21 00:29:00.652 +02:00 [INF] Fetching donator with ID: 2
2025-01-21 00:29:00.658 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:29:00.662 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-21 00:29:00.668 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 00:29:00.674 +02:00 [WRN] No gifts found for donator ID: 2
2025-01-21 00:29:00.675 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 2
2025-01-21 00:29:00.676 +02:00 [WRN] No gifts found for donator with ID 2.
2025-01-21 00:29:00.677 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.4565ms.
2025-01-21 00:29:00.682 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 00:29:00.687 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 69.9449ms
2025-01-21 00:29:00.689 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 00:29:00.692 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:29:00.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 92.4984ms
2025-01-21 00:29:03.007 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:29:03.013 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:29:03.014 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 7.5891ms
2025-01-21 00:29:03.019 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - application/json null
2025-01-21 00:29:03.026 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:29:03.028 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:29:03.030 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:29:03.033 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:29:03.082 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:29:03.085 +02:00 [INF] Deleting donator with ID: 1
2025-01-21 00:29:03.086 +02:00 [INF] Attempting to delete donator with ID: 1
2025-01-21 00:29:03.087 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:29:03.095 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:29:03.121 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:29:03.196 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 00:29:03.376 +02:00 [ERR] Error deleting donator with ID 1: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-21 00:29:03.559 +02:00 [ERR] Error deleting donator with ID 1: Error occurred while deleting the donator.
2025-01-21 00:29:03.742 +02:00 [ERR] Error deleting donator with ID 1: Error deleting donator with ID 1.
2025-01-21 00:29:03.744 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 659.3718ms.
2025-01-21 00:29:03.746 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 00:29:03.748 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 710.8477ms
2025-01-21 00:29:03.750 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:29:03.752 +02:00 [INF] Outgoing Response: 500
2025-01-21 00:29:03.753 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 500 null text/plain; charset=utf-8 734.0887ms
2025-01-21 00:29:08.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:29:08.794 +02:00 [INF] Incoming Request: GET /api/Donator/1
2025-01-21 00:29:08.795 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:29:08.797 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/1 - 401 null null 9.2209ms
2025-01-21 00:29:08.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon.ico - null null
2025-01-21 00:29:08.915 +02:00 [INF] Incoming Request: GET /favicon.ico
2025-01-21 00:29:08.917 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:29:08.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon.ico - 401 null null 11.0783ms
2025-01-21 00:29:15.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:29:15.216 +02:00 [INF] Incoming Request: GET /api/Donator/1
2025-01-21 00:29:15.218 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:29:15.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/1 - 401 null null 8.2795ms
2025-01-21 00:29:15.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon.ico - null null
2025-01-21 00:29:15.497 +02:00 [INF] Incoming Request: GET /favicon.ico
2025-01-21 00:29:15.499 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:29:15.501 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon.ico - 401 null null 11.0605ms
2025-01-21 00:30:01.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 00:30:01.667 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:30:01.668 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:30:01.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 32.144ms
2025-01-21 00:30:02.178 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 00:30:02.183 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:30:02.186 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.9811ms
2025-01-21 00:30:02.192 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 00:30:02.196 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:30:02.199 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 00:30:02.204 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:30:02.211 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 00:30:02.289 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 00:30:02.293 +02:00 [INF] Fetching all donators.
2025-01-21 00:30:02.294 +02:00 [INF] Fetching all donators.
2025-01-21 00:30:02.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 00:30:02.307 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 00:30:02.309 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0769ms.
2025-01-21 00:30:02.313 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 00:30:02.316 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 96.0924ms
2025-01-21 00:30:02.318 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 00:30:02.321 +02:00 [INF] Outgoing Response: 200
2025-01-21 00:30:02.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 131.1586ms
2025-01-21 00:30:04.437 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:30:04.442 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:30:04.444 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 6.7209ms
2025-01-21 00:30:04.448 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - application/json null
2025-01-21 00:30:04.451 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:30:04.454 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:30:04.458 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:30:04.460 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:30:04.501 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:30:04.505 +02:00 [INF] Deleting donator with ID: 1
2025-01-21 00:30:04.507 +02:00 [INF] Attempting to delete donator with ID: 1
2025-01-21 00:30:04.509 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:30:04.515 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:30:04.525 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:30:04.536 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 00:30:04.666 +02:00 [ERR] Error deleting donator with ID 1: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-21 00:30:04.850 +02:00 [ERR] Error deleting donator with ID 1: Error occurred while deleting the donator.
2025-01-21 00:30:05.024 +02:00 [ERR] Error deleting donator with ID 1: Error deleting donator with ID 1.
2025-01-21 00:30:05.026 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 521.3174ms.
2025-01-21 00:30:05.029 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 00:30:05.031 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 567.2266ms
2025-01-21 00:30:05.034 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:30:05.037 +02:00 [INF] Outgoing Response: 500
2025-01-21 00:30:05.038 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 500 null text/plain; charset=utf-8 590.1558ms
2025-01-21 00:30:17.935 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:30:17.939 +02:00 [INF] CORS policy execution failed.
2025-01-21 00:30:17.941 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 00:30:17.953 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:30:17.959 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:30:17.961 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 401 null null 26.1544ms
2025-01-21 00:31:01.420 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:31:01.448 +02:00 [INF] CORS policy execution failed.
2025-01-21 00:31:01.449 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 00:31:01.451 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:31:01.454 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:31:01.456 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:31:01.486 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:31:01.488 +02:00 [INF] Deleting donator with ID: 1
2025-01-21 00:31:01.489 +02:00 [INF] Attempting to delete donator with ID: 1
2025-01-21 00:31:01.491 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:31:01.498 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:31:01.519 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:31:01.527 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:258e0299-ca4e-4351-bce1-00f9a89de2a3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 00:31:01.657 +02:00 [ERR] Error deleting donator with ID 1: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-21 00:31:01.839 +02:00 [ERR] Error deleting donator with ID 1: Error occurred while deleting the donator.
2025-01-21 00:31:02.034 +02:00 [ERR] Error deleting donator with ID 1: Error deleting donator with ID 1.
2025-01-21 00:31:02.036 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 548.374ms.
2025-01-21 00:31:02.040 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 00:31:02.043 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 583.0359ms
2025-01-21 00:31:02.045 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:31:02.047 +02:00 [INF] Outgoing Response: 500
2025-01-21 00:31:02.050 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 500 null text/plain; charset=utf-8 629.4599ms
2025-01-21 00:35:59.848 +02:00 [INF] Starting up the application
2025-01-21 00:36:03.542 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 00:36:05.778 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 00:36:05.946 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 00:36:06.338 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 00:36:06.382 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 00:36:06.385 +02:00 [INF] Hosting environment: Development
2025-01-21 00:36:06.386 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 00:36:07.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 00:36:07.891 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 388.41ms
2025-01-21 00:36:07.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 00:36:07.920 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.0213ms
2025-01-21 00:36:08.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 00:36:08.466 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 343.9008ms
2025-01-21 00:36:12.446 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:36:12.456 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:36:12.461 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 14.5853ms
2025-01-21 00:36:12.467 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - application/json null
2025-01-21 00:36:12.471 +02:00 [INF] CORS policy execution successful.
2025-01-21 00:36:12.474 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 00:36:12.514 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:36:12.759 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:36:12.795 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:36:13.141 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:36:13.148 +02:00 [INF] Deleting donator with ID: 1
2025-01-21 00:36:13.151 +02:00 [INF] Attempting to delete donator with ID: 1
2025-01-21 00:36:13.154 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:36:13.255 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:36:13.418 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:36:13.479 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fbcc1fb0-bbdc-4f18-b80d-907dba18cbdd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fbcc1fb0-bbdc-4f18-b80d-907dba18cbdd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 00:36:13.668 +02:00 [ERR] Error deleting donator with ID 1: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-21 00:36:13.850 +02:00 [ERR] Error deleting donator with ID 1: Error occurred while deleting the donator.
2025-01-21 00:36:14.053 +02:00 [ERR] Error deleting donator with ID 1: Error deleting donator with ID 1.
2025-01-21 00:36:14.061 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 911.9576ms.
2025-01-21 00:36:14.075 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 00:36:14.085 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 1280.1987ms
2025-01-21 00:36:14.088 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:36:14.091 +02:00 [INF] Outgoing Response: 500
2025-01-21 00:36:14.101 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 500 null text/plain; charset=utf-8 1634.4398ms
2025-01-21 00:36:34.649 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:36:34.680 +02:00 [INF] CORS policy execution failed.
2025-01-21 00:36:34.681 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 00:36:34.685 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:36:34.687 +02:00 [WRN] Missing Authorization Header
2025-01-21 00:36:34.688 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 401 null null 38.7076ms
2025-01-21 00:36:49.840 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - null null
2025-01-21 00:36:49.844 +02:00 [INF] CORS policy execution failed.
2025-01-21 00:36:49.845 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 00:36:49.848 +02:00 [INF] Incoming Request: DELETE /api/Donator/1
2025-01-21 00:36:49.855 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:36:49.857 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 00:36:49.902 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 00:36:49.906 +02:00 [INF] Deleting donator with ID: 1
2025-01-21 00:36:49.907 +02:00 [INF] Attempting to delete donator with ID: 1
2025-01-21 00:36:49.908 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 00:36:49.936 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 00:36:49.946 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 00:36:49.955 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'project.Repository.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fbcc1fb0-bbdc-4f18-b80d-907dba18cbdd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Gifts_Donators_DonatorId". The conflict occurred in database "ourProject3", table "dbo.Gifts", column 'DonatorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fbcc1fb0-bbdc-4f18-b80d-907dba18cbdd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-01-21 00:36:50.084 +02:00 [ERR] Error deleting donator with ID 1: An error occurred while saving the entity changes. See the inner exception for details.
2025-01-21 00:36:50.262 +02:00 [ERR] Error deleting donator with ID 1: Error occurred while deleting the donator.
2025-01-21 00:36:50.459 +02:00 [ERR] Error deleting donator with ID 1: Error deleting donator with ID 1.
2025-01-21 00:36:50.461 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 555.1199ms.
2025-01-21 00:36:50.464 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 00:36:50.467 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 607.0168ms
2025-01-21 00:36:50.470 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 00:36:50.472 +02:00 [INF] Outgoing Response: 500
2025-01-21 00:36:50.475 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/1 - 500 null text/plain; charset=utf-8 634.6183ms
2025-01-21 15:11:58.022 +02:00 [INF] Starting up the application
2025-01-21 15:12:03.588 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 15:12:06.791 +02:00 [INF] Executed DbCommand (374ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 15:12:07.011 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 15:12:07.611 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 15:12:07.617 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 15:12:07.619 +02:00 [INF] Hosting environment: Development
2025-01-21 15:12:07.622 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 15:12:09.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 15:12:10.021 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 518.9033ms
2025-01-21 15:12:10.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 15:12:10.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.3527ms
2025-01-21 15:12:10.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 15:12:10.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 427.1894ms
2025-01-21 15:12:30.287 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:12:30.300 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:30.307 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 20.1016ms
2025-01-21 15:12:30.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:12:30.366 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:30.372 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 15:12:30.767 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:12:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-01-21 15:12:30.852 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:12:30'.
2025-01-21 15:12:30.875 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:12:30.888 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:12:30.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 575.9251ms
2025-01-21 15:12:33.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:12:33.344 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:12:33.347 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:12:33.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 28.288ms
2025-01-21 15:12:33.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:12:33.717 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:33.723 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:12:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-01-21 15:12:33.737 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:12:33'.
2025-01-21 15:12:33.746 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:12:33.756 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:12:33.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 49.3928ms
2025-01-21 15:12:35.972 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:12:35.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:12:35.978 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:35.983 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:35.984 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.8664ms
2025-01-21 15:12:35.992 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:12:35.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:12:36.006 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:12:36.011 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:12:36.322 +02:00 [WRN] Invalid Token
2025-01-21 15:12:36.323 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:12:36.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 328.4121ms
2025-01-21 15:12:36.542 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:12:36.703 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:12:36.734 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:12:36.743 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 190.8408ms.
2025-01-21 15:12:36.757 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:12:36.817 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 476.194ms
2025-01-21 15:12:36.820 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:12:36.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 854.4653ms
2025-01-21 15:13:25.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:13:25.925 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:13:25.928 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:13:25.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 10.2084ms
2025-01-21 15:13:26.252 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:13:26.277 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:26.280 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 27.6462ms
2025-01-21 15:13:26.286 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:13:26.294 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:26.297 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:13:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-01-21 15:13:26.313 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20/01/2025 22:58:43', Current time (UTC): '21/01/2025 13:13:26'.
2025-01-21 15:13:26.316 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:13:26.319 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:13:26.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 40.6381ms
2025-01-21 15:13:44.102 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 15:13:44.108 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:44.111 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 9.2461ms
2025-01-21 15:13:44.123 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 15:13:44.128 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:44.130 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 15:13:44.163 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 15:13:44.302 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 15:13:44.364 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 15:13:44.684 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 15:13:44.723 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 15:13:44.810 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 15:13:44.847 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 540.9064ms.
2025-01-21 15:13:44.851 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:13:44.882 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 712.9623ms
2025-01-21 15:13:44.884 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 15:13:44.887 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 763.526ms
2025-01-21 15:13:47.647 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:13:47.656 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:47.659 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.1177ms
2025-01-21 15:13:47.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:13:47.681 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:13:47.718 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:13:47.731 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:13:48.125 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:13:48.131 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:13:48.1314852Z"
2025-01-21 15:13:48.135 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:13:48.1355443Z"
2025-01-21 15:13:48.147 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:13:48.1467655Z"
2025-01-21 15:13:48.287 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:13:48.296 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:13:48.2968371Z"
2025-01-21 15:13:48.298 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:13:48.2986006Z"
2025-01-21 15:13:48.300 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:13:48.3007900Z"
2025-01-21 15:13:48.304 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 174.809ms.
2025-01-21 15:13:48.312 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:13:48.349 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 612.8348ms
2025-01-21 15:13:48.352 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:13:48.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 690.3041ms
2025-01-21 15:14:02.603 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:14:02.643 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:02.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 15:14:02.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:14:02.648 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 45.2541ms
2025-01-21 15:14:02.659 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:02.652 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:02.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:14:02.721 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:14:02.723 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 112.6543ms
2025-01-21 15:14:02.750 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 15:14:02.738 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:14:02.733 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:02.760 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:02.914 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:14:02.916 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:14:02.926 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:14:02.969 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:14:02.983 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:14:02.984 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:14:02.985 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:14:02.985 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.2699ms.
2025-01-21 15:14:03.002 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:03.009 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:14:03.063 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 15:14:03.064 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 277.025ms
2025-01-21 15:14:03.132 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:14:03.129 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T13:14:03.1287009Z"
2025-01-21 15:14:03.127 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:14:03.135 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 528.3359ms
2025-01-21 15:14:03.144 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T13:14:03.1446473Z"
2025-01-21 15:14:03.158 +02:00 [INF] Fetching all donators.
2025-01-21 15:14:03.175 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T13:14:03.1756082Z"
2025-01-21 15:14:03.177 +02:00 [INF] Fetching all donators.
2025-01-21 15:14:03.213 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 15:14:03.291 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:14:03.319 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:14:03.326 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 171.2769ms.
2025-01-21 15:14:03.328 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T13:14:03.3282764Z"
2025-01-21 15:14:03.330 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:03.333 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T13:14:03.3331061Z"
2025-01-21 15:14:03.342 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 263.3183ms.
2025-01-21 15:14:03.346 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 15:14:03.372 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 296.7952ms
2025-01-21 15:14:03.375 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 384.9135ms
2025-01-21 15:14:03.379 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:14:03.375 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:14:03.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 631.3438ms
2025-01-21 15:14:03.388 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:14:03.409 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 690.7172ms
2025-01-21 15:14:21.694 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:14:21.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:21.705 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.1034ms
2025-01-21 15:14:21.714 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 183
2025-01-21 15:14:21.719 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:21.727 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 15:14:21.739 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:14:21.827 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:14:21.833 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T13:14:21.8338580Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:14:21.856 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 3 at "2025-01-21T13:14:21.8561388Z"
2025-01-21 15:14:21.880 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 15:14:22.145 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [Price] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-01-21 15:14:22.182 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 3 at "2025-01-21T13:14:22.1821685Z"
2025-01-21 15:14:22.185 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T13:14:22.1850726Z"
2025-01-21 15:14:22.187 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 356.6379ms.
2025-01-21 15:14:22.192 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:14:22.199 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 454.3885ms
2025-01-21 15:14:22.202 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 15:14:22.208 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 493.834ms
2025-01-21 15:14:22.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:14:22.324 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:22.327 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 10.1288ms
2025-01-21 15:14:22.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:14:22.347 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:22.350 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:14:22.352 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:14:22.407 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:14:22.410 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:22.4106215Z"
2025-01-21 15:14:22.413 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:22.4130476Z"
2025-01-21 15:14:22.415 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:22.4153522Z"
2025-01-21 15:14:22.443 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:14:22.450 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:22.4508852Z"
2025-01-21 15:14:22.456 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:22.4567392Z"
2025-01-21 15:14:22.459 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:22.4593889Z"
2025-01-21 15:14:22.461 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 51.1511ms.
2025-01-21 15:14:22.466 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:22.474 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 111.0824ms
2025-01-21 15:14:22.477 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:14:22.480 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 142.6445ms
2025-01-21 15:14:43.571 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:14:43.600 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:43.603 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 31.4746ms
2025-01-21 15:14:43.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:14:43.618 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:43.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:14:43.622 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:14:43.630 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:43.633 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:14:43.641 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:14:43.635 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:14:43.650 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:14:43.715 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:14:43.791 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:14:43.792 +02:00 [INF] Fetching all donators.
2025-01-21 15:14:43.797 +02:00 [INF] Fetching all donators.
2025-01-21 15:14:43.800 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:14:43.810 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:14:43.816 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:14:43.817 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.9368ms.
2025-01-21 15:14:43.827 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:14:43.834 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:43.836 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.7355ms.
2025-01-21 15:14:43.842 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 120.699ms
2025-01-21 15:14:43.850 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:43.855 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:14:43.863 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 216.0759ms
2025-01-21 15:14:43.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 270.4654ms
2025-01-21 15:14:43.872 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:14:43.887 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:14:43.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 280.0421ms
2025-01-21 15:14:58.551 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:14:58.558 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:58.560 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.5965ms
2025-01-21 15:14:58.566 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 153
2025-01-21 15:14:58.577 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:58.579 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:14:58.590 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:14:58.636 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:14:58.640 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T13:14:58.6407475Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:14:58.645 +02:00 [INF] Starting CreateGiftAsync for GiftDto: wig at "2025-01-21T13:14:58.6454263Z"
2025-01-21 15:14:58.648 +02:00 [INF] Fetching donator by name: miri
2025-01-21 15:14:58.672 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 15:14:58.703 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 15:14:58.711 +02:00 [INF] Successfully retrieved category with name: home
2025-01-21 15:14:58.714 +02:00 [INF] Starting CreateGiftAsync for Gift: wig at "2025-01-21T13:14:58.7145676Z"
2025-01-21 15:14:58.924 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 15:14:58.963 +02:00 [INF] CreateGiftAsync completed successfully for Gift: wig at "2025-01-21T13:14:58.9638634Z"
2025-01-21 15:14:58.966 +02:00 [INF] CreateGiftAsync completed successfully for Gift: wig at "2025-01-21T13:14:58.9664527Z"
2025-01-21 15:14:58.968 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T13:14:58.9684782Z"
2025-01-21 15:14:58.970 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 331.1259ms.
2025-01-21 15:14:58.974 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:14:58.976 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 380.9555ms
2025-01-21 15:14:58.978 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:14:58.981 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 414.9435ms
2025-01-21 15:14:59.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:14:59.085 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:59.089 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.9162ms
2025-01-21 15:14:59.099 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:14:59.107 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:14:59.111 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:14:59.114 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:14:59.156 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:14:59.159 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:59.1597182Z"
2025-01-21 15:14:59.161 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:59.1614978Z"
2025-01-21 15:14:59.163 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:14:59.1635343Z"
2025-01-21 15:14:59.191 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:14:59.196 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:59.1968935Z"
2025-01-21 15:14:59.198 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:59.1982958Z"
2025-01-21 15:14:59.199 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:14:59.1999393Z"
2025-01-21 15:14:59.201 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.155ms.
2025-01-21 15:14:59.207 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:14:59.210 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 90.0467ms
2025-01-21 15:14:59.212 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:14:59.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 114.8517ms
2025-01-21 15:15:07.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:15:07.160 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:15:07.162 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:07.163 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 15:15:07.166 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:07.169 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.9891ms
2025-01-21 15:15:07.174 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:07.178 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:15:07.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:15:07.187 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 23.991ms
2025-01-21 15:15:07.192 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:15:07.198 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:07.204 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 15:15:07.218 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:15:07.271 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:15:07.275 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:07.278 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:15:07.284 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:15:07.284 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:15:07.285 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:15:07.292 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:15:07.299 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:15:07.355 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:15:07.363 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.1878ms.
2025-01-21 15:15:07.366 +02:00 [INF] Fetching all donators.
2025-01-21 15:15:07.407 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 15:15:07.412 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:15:07.414 +02:00 [INF] Fetching all donators.
2025-01-21 15:15:07.416 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T13:15:07.4167384Z"
2025-01-21 15:15:07.419 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 205.0062ms
2025-01-21 15:15:07.427 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:15:07.431 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T13:15:07.4319459Z"
2025-01-21 15:15:07.434 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:15:07.447 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:15:07.449 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T13:15:07.4497873Z"
2025-01-21 15:15:07.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 291.4874ms
2025-01-21 15:15:07.454 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 88.0009ms.
2025-01-21 15:15:07.469 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 15:15:07.483 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:15:07.494 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T13:15:07.4943532Z"
2025-01-21 15:15:07.497 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 185.9855ms
2025-01-21 15:15:07.499 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T13:15:07.4999250Z"
2025-01-21 15:15:07.502 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:15:07.510 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 93.806ms.
2025-01-21 15:15:07.513 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:15:07.517 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 15:15:07.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 334.0878ms
2025-01-21 15:15:07.528 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 167.3755ms
2025-01-21 15:15:07.536 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:15:07.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 337.7573ms
2025-01-21 15:15:11.577 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:15:11.585 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:11.588 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 10.5149ms
2025-01-21 15:15:11.594 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 181
2025-01-21 15:15:11.600 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:11.606 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 15:15:11.608 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:15:11.659 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:15:11.678 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T13:15:11.6787621Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:15:11.681 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 3 at "2025-01-21T13:15:11.6813908Z"
2025-01-21 15:15:11.689 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 15:15:11.698 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 3 at "2025-01-21T13:15:11.6983743Z"
2025-01-21 15:15:11.700 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T13:15:11.7003994Z"
2025-01-21 15:15:11.702 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.0782ms.
2025-01-21 15:15:11.710 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:15:11.713 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 92.96ms
2025-01-21 15:15:11.716 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 15:15:11.719 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 125.3587ms
2025-01-21 15:15:11.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:15:11.828 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:11.831 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.4819ms
2025-01-21 15:15:11.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:15:11.842 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:11.847 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:15:11.850 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:15:11.880 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:15:11.883 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:15:11.8837693Z"
2025-01-21 15:15:11.886 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:15:11.8860018Z"
2025-01-21 15:15:11.888 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:15:11.8882701Z"
2025-01-21 15:15:11.898 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:15:11.905 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:15:11.9049890Z"
2025-01-21 15:15:11.908 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:15:11.9080366Z"
2025-01-21 15:15:11.910 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:15:11.9101800Z"
2025-01-21 15:15:11.911 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.0006ms.
2025-01-21 15:15:11.914 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:15:11.917 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 61.652ms
2025-01-21 15:15:11.920 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:15:11.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 87.8532ms
2025-01-21 15:15:51.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 15:15:51.240 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:51.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 23.3897ms
2025-01-21 15:15:51.271 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-21 15:15:51.276 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:15:51.279 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:15:51.289 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:15:51.343 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 15:15:51.348 +02:00 [INF] Starting LotteryAsync for Gift ID 12 at "2025-01-21T13:15:51.3485138Z"
2025-01-21 15:15:51.352 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 12 at "2025-01-21T13:15:51.3521354Z"
2025-01-21 15:15:51.355 +02:00 [INF] Fetching Gift with participants for Gift ID 12 at "2025-01-21T13:15:51.3557184Z"
2025-01-21 15:15:51.443 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 15:15:51.468 +02:00 [WRN] No participants found for Gift ID 12 at "2025-01-21T13:15:51.4679896Z"
2025-01-21 15:15:51.470 +02:00 [WRN] No winner found for Gift ID 12 at "2025-01-21T13:15:51.4706687Z"
2025-01-21 15:15:51.475 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 128.8554ms.
2025-01-21 15:15:51.477 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-21 15:15:51.479 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 185.5646ms
2025-01-21 15:15:51.482 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:15:51.484 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 213.0479ms
2025-01-21 15:16:39.920 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 15:16:39.948 +02:00 [INF] CORS policy execution failed.
2025-01-21 15:16:39.950 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 15:16:39.956 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:16:39.959 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:16:40.005 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 15:16:40.007 +02:00 [INF] Starting LotteryAsync for Gift ID 1 at "2025-01-21T13:16:40.0076551Z"
2025-01-21 15:16:40.009 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 1 at "2025-01-21T13:16:40.0094162Z"
2025-01-21 15:16:40.011 +02:00 [INF] Fetching Gift with participants for Gift ID 1 at "2025-01-21T13:16:40.0111185Z"
2025-01-21 15:16:40.027 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 15:16:40.040 +02:00 [WRN] No participants found for Gift ID 1 at "2025-01-21T13:16:40.0401697Z"
2025-01-21 15:16:40.042 +02:00 [WRN] No winner found for Gift ID 1 at "2025-01-21T13:16:40.0425382Z"
2025-01-21 15:16:40.044 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 36.738ms.
2025-01-21 15:16:40.050 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-01-21 15:16:40.054 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 91.2248ms
2025-01-21 15:16:40.057 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:16:40.059 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 404 null text/plain; charset=utf-8 138.8036ms
2025-01-21 15:16:49.102 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 15:16:49.108 +02:00 [INF] CORS policy execution failed.
2025-01-21 15:16:49.109 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 15:16:49.113 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:16:49.115 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:16:49.168 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 15:16:49.173 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T13:16:49.1734819Z"
2025-01-21 15:16:49.176 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T13:16:49.1764859Z"
2025-01-21 15:16:49.178 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T13:16:49.1785667Z"
2025-01-21 15:16:49.201 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 15:16:49.259 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T13:16:49.2596457Z"
2025-01-21 15:16:49.393 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 15:16:49.412 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 15:16:49.442 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner string at "2025-01-21T13:16:49.4428960Z"
2025-01-21 15:16:49.444 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T13:16:49.4447170Z"
2025-01-21 15:16:49.446 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 273.4038ms.
2025-01-21 15:16:49.451 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:16:49.457 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 333.4552ms
2025-01-21 15:16:49.460 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 15:16:49.462 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 360.2513ms
2025-01-21 15:17:57.926 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=ca - null null
2025-01-21 15:17:57.947 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:17:57.948 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=ca - 204 null null 22.1973ms
2025-01-21 15:17:57.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=ca - application/json null
2025-01-21 15:17:57.979 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:17:57.980 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-21 15:17:57.991 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-21 15:17:58.032 +02:00 [INF] Executing action method project.Controllers.GiftController.SearchAsync (project) - Validation state: "Valid"
2025-01-21 15:17:58.037 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-21T13:17:58.0378493Z"
2025-01-21 15:17:58.040 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-21T13:17:58.0405479Z"
2025-01-21 15:17:58.046 +02:00 [INF] Starting SearchAsync with text 'ca' at "2025-01-21T13:17:58.0459948Z"
2025-01-21 15:17:58.114 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-21 15:17:58.122 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-21T13:17:58.1222434Z"
2025-01-21 15:17:58.124 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-21T13:17:58.1247893Z"
2025-01-21 15:17:58.126 +02:00 [INF] SearchAsync completed successfully with text 'ca' at "2025-01-21T13:17:58.1268395Z"
2025-01-21 15:17:58.128 +02:00 [INF] Executed action method project.Controllers.GiftController.SearchAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.0309ms.
2025-01-21 15:17:58.131 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:17:58.133 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 138.2476ms
2025-01-21 15:17:58.136 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-21 15:17:58.143 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=ca - 200 null application/json; charset=utf-8 167.6314ms
2025-01-21 15:18:01.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:18:01.217 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 15:18:01.220 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 15:18:01.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 11.5957ms
2025-01-21 15:18:01.742 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:18:01.749 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:01.752 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 10.9524ms
2025-01-21 15:18:01.765 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:18:01.776 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:01.780 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:18:01.794 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:18:01.915 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:18:01.919 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:01.9198856Z"
2025-01-21 15:18:01.923 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:01.9237279Z"
2025-01-21 15:18:01.935 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:01.9354616Z"
2025-01-21 15:18:02.015 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:18:02.031 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:02.0309898Z"
2025-01-21 15:18:02.033 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:02.0332346Z"
2025-01-21 15:18:02.042 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:02.0420733Z"
2025-01-21 15:18:02.060 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 140.484ms.
2025-01-21 15:18:02.074 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:18:02.094 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 286.539ms
2025-01-21 15:18:02.109 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:18:02.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 350.4568ms
2025-01-21 15:18:08.983 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-21 15:18:08.988 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:08.990 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 6.7546ms
2025-01-21 15:18:08.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-21 15:18:08.998 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:08.999 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-21 15:18:09.001 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 15:18:09.007 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-21 15:18:09.040 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportRevenueToExcel (project) - Validation state: "Valid"
2025-01-21 15:18:09.302 +02:00 [INF] Calculating gift revenues.
2025-01-21 15:18:09.358 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN [UserGifts] AS [u0] ON [g0].[Id] = [u0].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN [UserGifts] AS [u] ON [g].[Id] = [u].[GiftId]
GROUP BY [g].[Id]
2025-01-21 15:18:09.369 +02:00 [INF] Total revenue calculated: 140.00.
2025-01-21 15:18:10.330 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportRevenueToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 1286.8312ms.
2025-01-21 15:18:10.335 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-21 15:18:10.350 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 1337.7402ms
2025-01-21 15:18:10.353 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 15:18:10.355 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:18:10.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2816 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 1363.9409ms
2025-01-21 15:18:34.335 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-21 15:18:34.358 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:34.360 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 24.8129ms
2025-01-21 15:18:34.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-21 15:18:34.383 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:34.389 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-21 15:18:34.391 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 15:18:34.393 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-21 15:18:34.421 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportRevenueToExcel (project) - Validation state: "Valid"
2025-01-21 15:18:34.423 +02:00 [INF] Calculating gift revenues.
2025-01-21 15:18:34.435 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN [UserGifts] AS [u0] ON [g0].[Id] = [u0].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN [UserGifts] AS [u] ON [g].[Id] = [u].[GiftId]
GROUP BY [g].[Id]
2025-01-21 15:18:34.440 +02:00 [INF] Total revenue calculated: 140.00.
2025-01-21 15:18:34.464 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportRevenueToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 40.8306ms.
2025-01-21 15:18:34.468 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-21 15:18:34.471 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 73.9595ms
2025-01-21 15:18:34.473 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 15:18:34.475 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:18:34.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2816 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 97.4971ms
2025-01-21 15:18:51.556 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - null null
2025-01-21 15:18:51.560 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:51.562 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/12 - 204 null null 5.4782ms
2025-01-21 15:18:51.567 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/12 - application/json null
2025-01-21 15:18:51.572 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:51.574 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-21 15:18:51.581 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:18:51.622 +02:00 [INF] Executing action method project.Controllers.GiftController.DeleteGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:18:51.626 +02:00 [INF] Starting DeleteGiftAsync with ID 12 at "2025-01-21T13:18:51.6266417Z"
2025-01-21 15:18:51.630 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 12 at "2025-01-21T13:18:51.6304496Z"
2025-01-21 15:18:51.635 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 12 at "2025-01-21T13:18:51.6354769Z"
2025-01-21 15:18:51.637 +02:00 [INF] Starting GetByIdAsync for Gift ID 12 at "2025-01-21T13:18:51.6376302Z"
2025-01-21 15:18:51.644 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 15:18:51.674 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 15:18:51.684 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 12 at "2025-01-21T13:18:51.6843386Z"
2025-01-21 15:18:51.686 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 12 at "2025-01-21T13:18:51.6864256Z"
2025-01-21 15:18:51.690 +02:00 [INF] DeleteGiftAsync completed successfully with ID 12 at "2025-01-21T13:18:51.6906041Z"
2025-01-21 15:18:51.692 +02:00 [INF] Executed action method project.Controllers.GiftController.DeleteGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.7329ms.
2025-01-21 15:18:51.695 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:18:51.698 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 111.4802ms
2025-01-21 15:18:51.701 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-21 15:18:51.707 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/12 - 200 null application/json; charset=utf-8 140.013ms
2025-01-21 15:18:51.714 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:18:51.722 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:51.724 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.6522ms
2025-01-21 15:18:51.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:18:51.734 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:51.740 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:18:51.741 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:18:51.936 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:18:51.939 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:51.9396567Z"
2025-01-21 15:18:51.941 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:51.9413229Z"
2025-01-21 15:18:51.942 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:18:51.9429363Z"
2025-01-21 15:18:51.954 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:18:51.960 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:51.9601763Z"
2025-01-21 15:18:51.962 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:51.9622571Z"
2025-01-21 15:18:51.964 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:18:51.9641972Z"
2025-01-21 15:18:51.966 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.423ms.
2025-01-21 15:18:51.972 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:18:51.975 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 229.1856ms
2025-01-21 15:18:51.977 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:18:51.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 250.1834ms
2025-01-21 15:18:53.346 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:18:53.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:18:53.353 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:53.357 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:53.359 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.6315ms
2025-01-21 15:18:53.362 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:18:53.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:18:53.373 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:18:53.376 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:18:53.387 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:18:53.419 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:18:53.423 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:18:53.428 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:18:53.429 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:18:53.481 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:18:53.487 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:18:53.490 +02:00 [INF] Fetching all donators.
2025-01-21 15:18:53.492 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.4061ms.
2025-01-21 15:18:53.493 +02:00 [INF] Fetching all donators.
2025-01-21 15:18:53.498 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:18:53.507 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:18:53.510 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 126.0881ms
2025-01-21 15:18:53.519 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:18:53.515 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:18:53.527 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 174.0984ms
2025-01-21 15:18:53.529 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.2694ms.
2025-01-21 15:18:53.544 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:18:53.549 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 95.0138ms
2025-01-21 15:18:53.557 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:18:53.561 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:18:53.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 193.6534ms
2025-01-21 15:19:04.043 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:19:04.047 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:04.050 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.788ms
2025-01-21 15:19:04.059 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 153
2025-01-21 15:19:04.062 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:04.065 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:19:04.066 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:19:04.104 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:19:04.107 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T13:19:04.1079341Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:19:04.109 +02:00 [INF] Starting CreateGiftAsync for GiftDto: wig at "2025-01-21T13:19:04.1099035Z"
2025-01-21 15:19:04.111 +02:00 [INF] Fetching donator by name: sari
2025-01-21 15:19:04.116 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 15:19:04.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 15:19:04.132 +02:00 [INF] Successfully retrieved category with name: home
2025-01-21 15:19:04.134 +02:00 [INF] Starting CreateGiftAsync for Gift: wig at "2025-01-21T13:19:04.1346408Z"
2025-01-21 15:19:04.152 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 15:19:04.159 +02:00 [INF] CreateGiftAsync completed successfully for Gift: wig at "2025-01-21T13:19:04.1594072Z"
2025-01-21 15:19:04.161 +02:00 [INF] CreateGiftAsync completed successfully for Gift: wig at "2025-01-21T13:19:04.1616904Z"
2025-01-21 15:19:04.163 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T13:19:04.1637421Z"
2025-01-21 15:19:04.165 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.684ms.
2025-01-21 15:19:04.174 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:19:04.176 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 102.3658ms
2025-01-21 15:19:04.178 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:19:04.181 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 122.2454ms
2025-01-21 15:19:04.283 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:19:04.287 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:04.290 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.9478ms
2025-01-21 15:19:04.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:19:04.302 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:04.304 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:19:04.310 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:19:04.338 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:19:04.341 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:19:04.3415147Z"
2025-01-21 15:19:04.344 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:19:04.3440329Z"
2025-01-21 15:19:04.346 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:19:04.3465172Z"
2025-01-21 15:19:04.361 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:19:04.370 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:19:04.3709564Z"
2025-01-21 15:19:04.373 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:19:04.3731977Z"
2025-01-21 15:19:04.376 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:19:04.3767832Z"
2025-01-21 15:19:04.380 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.6492ms.
2025-01-21 15:19:04.388 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:04.391 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 77.5929ms
2025-01-21 15:19:04.393 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:19:04.396 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 98.9289ms
2025-01-21 15:19:16.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:19:16.742 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:16.744 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.2781ms
2025-01-21 15:19:16.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:19:16.760 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:16.762 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:19:16.765 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:16.766 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:16.815 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:19:16.818 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:16.820 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:16.824 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:19:16.829 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:19:16.830 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.2899ms.
2025-01-21 15:19:16.833 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:16.840 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 69.7198ms
2025-01-21 15:19:16.843 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:16.844 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:16.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 94.4763ms
2025-01-21 15:19:21.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - null null
2025-01-21 15:19:21.224 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:21.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/1 - 204 null null 7.5715ms
2025-01-21 15:19:21.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/1 - application/json null
2025-01-21 15:19:21.240 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:21.242 +02:00 [INF] Incoming Request: GET /api/Donator/1
2025-01-21 15:19:21.245 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 15:19:21.256 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:21.315 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 15:19:21.324 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 15:19:21.329 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 15:19:21.345 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 15:19:21.362 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.5721ms.
2025-01-21 15:19:21.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-21 15:19:21.376 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 113.9694ms
2025-01-21 15:19:21.380 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 15:19:21.383 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:21.389 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/1 - 200 null application/json; charset=utf-8 154.9489ms
2025-01-21 15:19:28.781 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:19:28.786 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:28.788 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.502ms
2025-01-21 15:19:28.793 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 79
2025-01-21 15:19:28.798 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:28.800 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-21 15:19:28.804 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 15:19:28.810 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:28.870 +02:00 [INF] Executing action method project.Controllers.DonatorController.UpdateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 15:19:28.875 +02:00 [INF] Updating donator with ID: 1
2025-01-21 15:19:28.878 +02:00 [INF] Updating donator with ID: 1
2025-01-21 15:19:28.887 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-21 15:19:28.894 +02:00 [INF] Successfully updated donator with ID: 1
2025-01-21 15:19:28.895 +02:00 [INF] Donator with ID 1 updated successfully.
2025-01-21 15:19:28.896 +02:00 [INF] Executed action method project.Controllers.DonatorController.UpdateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 23.9289ms.
2025-01-21 15:19:28.905 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-21 15:19:28.908 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 92.4104ms
2025-01-21 15:19:28.910 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 15:19:28.912 +02:00 [INF] Outgoing Response: 204
2025-01-21 15:19:28.913 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 120.7761ms
2025-01-21 15:19:29.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:19:29.014 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:29.017 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:19:29.021 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:29.024 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:29.059 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:19:29.063 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:29.065 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:29.072 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:19:29.078 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:19:29.080 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.1757ms.
2025-01-21 15:19:29.087 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:29.092 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 64.0631ms
2025-01-21 15:19:29.098 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:29.101 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:29.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 93.46ms
2025-01-21 15:19:32.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:19:32.164 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:32.166 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:19:32.169 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:32.170 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:32.217 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:19:32.222 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:32.224 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:32.229 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:19:32.233 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:19:32.235 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.0346ms.
2025-01-21 15:19:32.241 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:32.246 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 72.3971ms
2025-01-21 15:19:32.249 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:32.252 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:32.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 96.5574ms
2025-01-21 15:19:41.614 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:19:41.620 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:41.622 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.2392ms
2025-01-21 15:19:41.626 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 59
2025-01-21 15:19:41.630 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:41.631 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 15:19:41.636 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 15:19:41.643 +02:00 [INF] Route matched with {action = "CreateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:41.673 +02:00 [INF] Executing action method project.Controllers.DonatorController.CreateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 15:19:41.677 +02:00 [INF] Received request to create donator: drgh
2025-01-21 15:19:41.679 +02:00 [INF] Creating donator with name: drgh
2025-01-21 15:19:41.681 +02:00 [INF] Adding donator with name: drgh
2025-01-21 15:19:41.691 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donators] ([Email], [Name], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 15:19:41.697 +02:00 [INF] Successfully added donator: drgh
2025-01-21 15:19:41.699 +02:00 [INF] Donator drgh created successfully.
2025-01-21 15:19:41.701 +02:00 [INF] Successfully created donator: drgh
2025-01-21 15:19:41.703 +02:00 [INF] Executed action method project.Controllers.DonatorController.CreateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.2063ms.
2025-01-21 15:19:41.705 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:19:41.708 +02:00 [INF] Executed action project.Controllers.DonatorController.CreateDonatorAsync (project) in 60.6644ms
2025-01-21 15:19:41.710 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 15:19:41.714 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:41.716 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 89.4588ms
2025-01-21 15:19:41.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:19:41.816 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:41.819 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:19:41.824 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:41.826 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:41.854 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:19:41.857 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:41.859 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:41.863 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:19:41.871 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 15:19:41.873 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.8191ms.
2025-01-21 15:19:41.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:41.879 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 49.5655ms
2025-01-21 15:19:41.882 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:41.888 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:41.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 78.2934ms
2025-01-21 15:19:48.203 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/5 - null null
2025-01-21 15:19:48.208 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:48.210 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/5 - 204 null null 7.1985ms
2025-01-21 15:19:48.217 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/5 - application/json null
2025-01-21 15:19:48.221 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:48.224 +02:00 [INF] Incoming Request: DELETE /api/Donator/5
2025-01-21 15:19:48.229 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 15:19:48.241 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:48.278 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 15:19:48.285 +02:00 [INF] Deleting donator with ID: 5
2025-01-21 15:19:48.288 +02:00 [INF] Attempting to delete donator with ID: 5
2025-01-21 15:19:48.290 +02:00 [INF] Fetching donator with ID: 5
2025-01-21 15:19:48.296 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 15:19:48.309 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 15:19:48.313 +02:00 [INF] Successfully deleted donator with ID: 5
2025-01-21 15:19:48.314 +02:00 [INF] Successfully deleted donator with ID: 5
2025-01-21 15:19:48.315 +02:00 [INF] DeleteGiftAsync completed successfully with ID 5 at "2025-01-21T13:19:48.3156235Z"
2025-01-21 15:19:48.318 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.304ms.
2025-01-21 15:19:48.323 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:19:48.326 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 79.287ms
2025-01-21 15:19:48.329 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 15:19:48.330 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:48.332 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/5 - 200 null application/json; charset=utf-8 114.8566ms
2025-01-21 15:19:48.340 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:19:48.345 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:48.346 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 5.8153ms
2025-01-21 15:19:48.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:19:48.359 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:19:48.361 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:19:48.363 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:48.364 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:19:48.477 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:19:48.480 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:48.481 +02:00 [INF] Fetching all donators.
2025-01-21 15:19:48.486 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:19:48.490 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:19:48.494 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.8797ms.
2025-01-21 15:19:48.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:19:48.499 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 127.131ms
2025-01-21 15:19:48.503 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:19:48.505 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:19:48.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 155.8835ms
2025-01-21 15:20:39.526 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:20:39.565 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:39.567 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 40.8148ms
2025-01-21 15:20:39.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:20:39.596 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:39.597 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:20:39.604 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:20:39.637 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:20:39.642 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:20:39.644 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:20:39.6444208Z"
2025-01-21 15:20:39.650 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:20:39.6501640Z"
2025-01-21 15:20:39.672 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:20:39.677 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:20:39.6778605Z"
2025-01-21 15:20:39.679 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:20:39.6794996Z"
2025-01-21 15:20:39.686 +02:00 [INF] Successfully retrieved 2 gifts with purchases.
2025-01-21 15:20:39.688 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.4887ms.
2025-01-21 15:20:39.691 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:20:39.694 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 86.4069ms
2025-01-21 15:20:39.699 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:20:39.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 110.1524ms
2025-01-21 15:20:46.513 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - null null
2025-01-21 15:20:46.519 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:46.523 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - 204 null null 9.7316ms
2025-01-21 15:20:46.530 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - application/json null
2025-01-21 15:20:46.538 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:46.541 +02:00 [INF] Incoming Request: GET /api/User/13/buyers
2025-01-21 15:20:46.545 +02:00 [INF] Outgoing Response: 404
2025-01-21 15:20:46.546 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - 404 0 null 16.1864ms
2025-01-21 15:20:46.559 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/13/buyers, Response status code: 404
2025-01-21 15:20:50.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-21 15:20:50.234 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:50.237 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 8.2407ms
2025-01-21 15:20:50.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 15:20:50.245 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:20:50.249 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 15:20:50.255 +02:00 [INF] Outgoing Response: 404
2025-01-21 15:20:50.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 404 0 null 14.769ms
2025-01-21 15:20:50.261 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/3/buyers, Response status code: 404
2025-01-21 15:21:05.742 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:21:05.748 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:05.749 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.8091ms
2025-01-21 15:21:05.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:21:05.760 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:05.765 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:05.768 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:21:05.797 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:21:05.801 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:05.8014273Z"
2025-01-21 15:21:05.803 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:05.8037396Z"
2025-01-21 15:21:05.805 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:05.8054075Z"
2025-01-21 15:21:05.816 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:21:05.821 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:05.8218628Z"
2025-01-21 15:21:05.823 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:05.8231324Z"
2025-01-21 15:21:05.824 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:05.8246103Z"
2025-01-21 15:21:05.828 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.5337ms.
2025-01-21 15:21:05.833 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:05.836 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 63.8254ms
2025-01-21 15:21:05.838 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:05.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 85.6002ms
2025-01-21 15:21:07.401 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:21:07.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:21:07.406 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:07.411 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:07.414 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.8814ms
2025-01-21 15:21:07.417 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:21:07.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:21:07.446 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:21:07.451 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:07.503 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:21:07.504 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:21:07.513 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:21:07.514 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:21:07.525 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:21:07.528 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:21:07.529 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.6916ms.
2025-01-21 15:21:07.623 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:07.613 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:21:07.635 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 178.1671ms
2025-01-21 15:21:07.643 +02:00 [INF] Fetching all donators.
2025-01-21 15:21:07.650 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:21:07.653 +02:00 [INF] Fetching all donators.
2025-01-21 15:21:07.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 251.8609ms
2025-01-21 15:21:07.668 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:21:07.687 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:21:07.690 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.6372ms.
2025-01-21 15:21:07.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:07.701 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 159.5582ms
2025-01-21 15:21:07.710 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:21:07.712 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:21:07.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 270.3776ms
2025-01-21 15:21:15.855 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:21:15.860 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:15.862 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.06ms
2025-01-21 15:21:15.871 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 153
2025-01-21 15:21:15.875 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:15.877 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:21:15.879 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:21:15.918 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:21:15.921 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T13:21:15.9218304Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:21:15.923 +02:00 [INF] Starting CreateGiftAsync for GiftDto: aaa at "2025-01-21T13:21:15.9239901Z"
2025-01-21 15:21:15.925 +02:00 [INF] Fetching donator by name: miri
2025-01-21 15:21:15.930 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 15:21:15.940 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 15:21:15.944 +02:00 [INF] Successfully retrieved category with name: home
2025-01-21 15:21:15.946 +02:00 [INF] Starting CreateGiftAsync for Gift: aaa at "2025-01-21T13:21:15.9460694Z"
2025-01-21 15:21:15.960 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 15:21:15.969 +02:00 [INF] CreateGiftAsync completed successfully for Gift: aaa at "2025-01-21T13:21:15.9693613Z"
2025-01-21 15:21:15.971 +02:00 [INF] CreateGiftAsync completed successfully for Gift: aaa at "2025-01-21T13:21:15.9713523Z"
2025-01-21 15:21:15.973 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T13:21:15.9732067Z"
2025-01-21 15:21:15.974 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.9147ms.
2025-01-21 15:21:15.982 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:21:15.985 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 101.6128ms
2025-01-21 15:21:15.988 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:21:15.991 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 119.5012ms
2025-01-21 15:21:16.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:21:16.103 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:16.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.2167ms
2025-01-21 15:21:16.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:21:16.121 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:16.123 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:16.125 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:21:16.155 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:21:16.158 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:16.1587723Z"
2025-01-21 15:21:16.160 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:16.1603886Z"
2025-01-21 15:21:16.161 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:16.1618934Z"
2025-01-21 15:21:16.171 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:21:16.175 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:16.1756652Z"
2025-01-21 15:21:16.177 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:16.1770621Z"
2025-01-21 15:21:16.178 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:16.1786171Z"
2025-01-21 15:21:16.184 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.4223ms.
2025-01-21 15:21:16.189 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:16.191 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 62.19ms
2025-01-21 15:21:16.194 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:16.202 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 88.6238ms
2025-01-21 15:21:17.562 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:21:17.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:21:17.570 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:17.574 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:17.576 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 13.3079ms
2025-01-21 15:21:17.578 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:21:17.587 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:21:17.589 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:21:17.595 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:17.643 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:21:17.644 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:21:17.652 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:21:17.652 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:21:17.657 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:21:17.659 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:21:17.664 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.345ms.
2025-01-21 15:21:17.706 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:21:17.712 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:17.716 +02:00 [INF] Fetching all donators.
2025-01-21 15:21:17.726 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 122.6793ms
2025-01-21 15:21:17.735 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:21:17.728 +02:00 [INF] Fetching all donators.
2025-01-21 15:21:17.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 176.6964ms
2025-01-21 15:21:17.756 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:21:17.775 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:21:17.777 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.8241ms.
2025-01-21 15:21:17.790 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:17.796 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 122.3716ms
2025-01-21 15:21:17.805 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:21:17.809 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:21:17.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 225.3845ms
2025-01-21 15:21:26.482 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:21:26.487 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:26.489 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.9811ms
2025-01-21 15:21:26.494 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 152
2025-01-21 15:21:26.503 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:26.505 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:21:26.507 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:21:26.538 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:21:26.541 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T13:21:26.5410711Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:21:26.543 +02:00 [INF] Starting CreateGiftAsync for GiftDto: ddd at "2025-01-21T13:21:26.5435871Z"
2025-01-21 15:21:26.545 +02:00 [INF] Fetching donator by name: sari
2025-01-21 15:21:26.553 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 15:21:26.560 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 15:21:26.570 +02:00 [INF] Successfully retrieved category with name: aa1
2025-01-21 15:21:26.571 +02:00 [INF] Starting CreateGiftAsync for Gift: ddd at "2025-01-21T13:21:26.5718650Z"
2025-01-21 15:21:26.581 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 15:21:26.588 +02:00 [INF] CreateGiftAsync completed successfully for Gift: ddd at "2025-01-21T13:21:26.5887128Z"
2025-01-21 15:21:26.590 +02:00 [INF] CreateGiftAsync completed successfully for Gift: ddd at "2025-01-21T13:21:26.5904142Z"
2025-01-21 15:21:26.592 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T13:21:26.5922733Z"
2025-01-21 15:21:26.595 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.8991ms.
2025-01-21 15:21:26.599 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:21:26.604 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 93.5651ms
2025-01-21 15:21:26.606 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:21:26.611 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 117.4267ms
2025-01-21 15:21:26.714 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:21:26.719 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:26.722 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.0815ms
2025-01-21 15:21:26.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:21:26.738 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:26.741 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:26.742 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:21:26.771 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:21:26.773 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:26.7735182Z"
2025-01-21 15:21:26.775 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:26.7750481Z"
2025-01-21 15:21:26.776 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:21:26.7769518Z"
2025-01-21 15:21:26.787 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:21:26.791 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:26.7919826Z"
2025-01-21 15:21:26.793 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:26.7932736Z"
2025-01-21 15:21:26.794 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:21:26.7947820Z"
2025-01-21 15:21:26.799 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.4614ms.
2025-01-21 15:21:26.803 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:26.805 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 58.513ms
2025-01-21 15:21:26.808 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:21:26.810 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 80.7333ms
2025-01-21 15:21:35.246 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:21:35.258 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:35.261 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 15.5829ms
2025-01-21 15:21:35.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:21:35.273 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:35.277 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:21:35.279 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:21:35.311 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:21:35.313 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:21:35.315 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:21:35.3154574Z"
2025-01-21 15:21:35.316 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:21:35.3168993Z"
2025-01-21 15:21:35.325 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:21:35.329 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:21:35.3294768Z"
2025-01-21 15:21:35.330 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:21:35.3308709Z"
2025-01-21 15:21:35.332 +02:00 [INF] Successfully retrieved 4 gifts with purchases.
2025-01-21 15:21:35.334 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.6617ms.
2025-01-21 15:21:35.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:21:35.342 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 56.8952ms
2025-01-21 15:21:35.345 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:21:35.347 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 77.1147ms
2025-01-21 15:21:42.921 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 15:21:42.925 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:42.927 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 5.7411ms
2025-01-21 15:21:42.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 15:21:42.938 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:42.940 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:21:42.941 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:21:42.960 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-21 15:21:42.995 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 50.0114ms
2025-01-21 15:21:42.998 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:21:43.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 400 null application/problem+json; charset=utf-8 66.4118ms
2025-01-21 15:21:44.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 15:21:44.773 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:21:44.775 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:21:44.777 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 15:21:44.781 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-21 15:21:44.784 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 3.7636ms
2025-01-21 15:21:44.794 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 15:21:44.797 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 400 null application/problem+json; charset=utf-8 28.5641ms
2025-01-21 15:27:07.092 +02:00 [INF] Starting up the application
2025-01-21 15:27:10.432 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 15:27:13.235 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 15:27:13.422 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 15:27:13.882 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 15:27:13.890 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 15:27:13.892 +02:00 [INF] Hosting environment: Development
2025-01-21 15:27:13.893 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 15:27:15.003 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 15:27:15.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 431.7932ms
2025-01-21 15:27:15.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 15:27:15.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 17.4978ms
2025-01-21 15:27:15.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 15:27:16.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 367.754ms
2025-01-21 15:28:09.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 15:28:09.834 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 15:28:10.198 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:28:10.234 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:28:10.620 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:28:10.627 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:28:10.6269176Z"
2025-01-21 15:28:10.775 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:28:10.842 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:28:10.8420864Z"
2025-01-21 15:28:10.845 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:28:10.8452128Z"
2025-01-21 15:28:10.848 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:28:10.8488397Z"
2025-01-21 15:28:10.857 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 228.3546ms.
2025-01-21 15:28:10.873 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:28:10.975 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 732.5191ms
2025-01-21 15:28:10.978 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:28:10.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1182.9111ms
2025-01-21 15:31:28.802 +02:00 [INF] Starting up the application
2025-01-21 15:31:32.549 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 15:31:35.333 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 15:31:35.509 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 15:31:35.956 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 15:31:35.963 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 15:31:35.965 +02:00 [INF] Hosting environment: Development
2025-01-21 15:31:35.966 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 15:31:37.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 15:31:38.099 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 549.2699ms
2025-01-21 15:31:38.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 15:31:38.142 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.0439ms
2025-01-21 15:31:38.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 15:31:38.780 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 410.3427ms
2025-01-21 15:32:43.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - null null
2025-01-21 15:32:43.808 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 15:32:44.190 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:32:44.230 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:32:44.657 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:32:44.667 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:32:44.6672103Z"
2025-01-21 15:32:44.789 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:32:44.847 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:32:44.8472524Z"
2025-01-21 15:32:44.850 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:32:44.8499404Z"
2025-01-21 15:32:44.851 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:32:44.8515125Z"
2025-01-21 15:32:44.859 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 193.5769ms.
2025-01-21 15:32:44.877 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:32:44.955 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 715.447ms
2025-01-21 15:32:44.959 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:32:44.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - 200 null application/json; charset=utf-8 1212.8135ms
2025-01-21 15:41:01.133 +02:00 [INF] Starting up the application
2025-01-21 15:41:04.843 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 15:41:07.234 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 15:41:07.396 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 15:41:07.828 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 15:41:07.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 15:41:07.838 +02:00 [INF] Hosting environment: Development
2025-01-21 15:41:07.839 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 15:41:08.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 15:41:09.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 546.2638ms
2025-01-21 15:41:09.299 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 15:41:09.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 65.5391ms
2025-01-21 15:41:09.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 15:41:09.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 388.8974ms
2025-01-21 15:41:23.562 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:41:23.576 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:41:23.582 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 20.3431ms
2025-01-21 15:41:23.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:41:23.612 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:41:23.618 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 15:41:23.861 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:41:23.863 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:41:23.866 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 276.6102ms
2025-01-21 15:42:37.134 +02:00 [INF] Starting up the application
2025-01-21 15:42:40.575 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 15:42:43.112 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 15:42:43.300 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 15:42:43.709 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 15:42:43.716 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 15:42:43.719 +02:00 [INF] Hosting environment: Development
2025-01-21 15:42:43.720 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 15:42:44.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 15:42:45.285 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 317.791ms
2025-01-21 15:42:45.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 15:42:45.330 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 17.256ms
2025-01-21 15:42:45.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 15:42:46.162 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 571.3616ms
2025-01-21 15:44:37.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - null null
2025-01-21 15:44:37.336 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 15:44:37.612 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:44:37.644 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:44:38.013 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:44:38.023 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:44:38.0233151Z"
2025-01-21 15:44:38.133 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:44:38.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:44:38.2118421Z"
2025-01-21 15:44:38.215 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:44:38.2150518Z"
2025-01-21 15:44:38.218 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:44:38.2182174Z"
2025-01-21 15:44:38.227 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 205.3824ms.
2025-01-21 15:44:38.243 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:44:38.322 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 668.5189ms
2025-01-21 15:44:38.326 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:44:38.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - 200 null application/json; charset=utf-8 1018.062ms
2025-01-21 15:45:42.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:45:42.570 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:45:42.579 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:45:42.650 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:45:42.654 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:45:42.656 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:45:42.6569296Z"
2025-01-21 15:45:42.660 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:45:42.6606209Z"
2025-01-21 15:45:42.820 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:45:42.826 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:45:42.8264811Z"
2025-01-21 15:45:42.828 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:45:42.8285645Z"
2025-01-21 15:45:42.831 +02:00 [INF] Successfully retrieved 4 gifts with purchases.
2025-01-21 15:45:42.835 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.8974ms.
2025-01-21 15:45:42.838 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:45:42.849 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 264.6196ms
2025-01-21 15:45:42.851 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:45:42.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 309.7594ms
2025-01-21 15:45:44.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:45:44.072 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:45:44.078 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 14.5594ms
2025-01-21 15:45:44.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:45:44.091 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:45:44.103 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:45:44.106 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:45:44.219 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:45:44.239 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:45:44.241 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:45:44.2415800Z"
2025-01-21 15:45:44.244 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:45:44.2441540Z"
2025-01-21 15:45:44.367 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:45:44.444 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:45:44.4441439Z"
2025-01-21 15:45:44.447 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:45:44.4478547Z"
2025-01-21 15:45:44.451 +02:00 [INF] Successfully retrieved 4 gifts with purchases.
2025-01-21 15:45:44.456 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 216.7794ms.
2025-01-21 15:45:44.459 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:45:44.465 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 352.8657ms
2025-01-21 15:45:44.472 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:45:44.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 389.3625ms
2025-01-21 15:45:46.790 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 15:45:46.795 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:45:46.797 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.2078ms
2025-01-21 15:45:46.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 15:45:46.808 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:45:46.816 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:45:46.818 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:45:46.865 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:45:46.867 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:45:46.8678760Z"
2025-01-21 15:45:46.875 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:45:46.879 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:45:46.8792862Z"
2025-01-21 15:45:46.880 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:45:46.8805750Z"
2025-01-21 15:45:46.882 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:45:46.8824212Z"
2025-01-21 15:45:46.885 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.4413ms.
2025-01-21 15:45:46.888 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:45:46.891 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 67.9698ms
2025-01-21 15:45:46.894 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:45:46.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 91.8738ms
2025-01-21 15:46:00.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - null null
2025-01-21 15:46:00.597 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:00.600 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - 204 null null 7.6218ms
2025-01-21 15:46:00.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - application/json null
2025-01-21 15:46:00.610 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:00.613 +02:00 [INF] Incoming Request: GET /api/User/15/buyers
2025-01-21 15:46:00.781 +02:00 [WRN] Invalid Token
2025-01-21 15:46:00.784 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - 401 null null 177.8961ms
2025-01-21 15:46:40.053 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - null null
2025-01-21 15:46:40.080 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:40.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - 204 null null 29.2576ms
2025-01-21 15:46:40.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - application/json null
2025-01-21 15:46:40.112 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:40.114 +02:00 [INF] Incoming Request: GET /api/User/15/buyers
2025-01-21 15:46:40.195 +02:00 [WRN] Invalid Token
2025-01-21 15:46:40.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - 401 null null 88.2242ms
2025-01-21 15:46:49.253 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 15:46:49.260 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:49.264 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 10.1373ms
2025-01-21 15:46:49.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 15:46:49.293 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:49.295 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 15:46:49.346 +02:00 [WRN] Invalid Token
2025-01-21 15:46:49.348 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 58.8407ms
2025-01-21 15:46:51.600 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:46:51.604 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:51.606 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.7646ms
2025-01-21 15:46:51.611 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:46:51.615 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:51.617 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:51.619 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:51.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 10.7044ms
2025-01-21 15:46:55.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 15:46:55.416 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:55.418 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:55.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 7.4125ms
2025-01-21 15:46:55.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:46:55.967 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:46:55.969 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:55.971 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:46:55.973 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 17.629ms
2025-01-21 15:47:09.665 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:47:09.670 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:09.672 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.9664ms
2025-01-21 15:47:09.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:47:09.684 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:09.686 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:47:09.751 +02:00 [WRN] Invalid Token
2025-01-21 15:47:09.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 74.7985ms
2025-01-21 15:47:19.368 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 15:47:19.371 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:19.373 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.0616ms
2025-01-21 15:47:19.378 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 15:47:19.382 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:19.383 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 15:47:19.398 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 15:47:19.485 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 15:47:19.518 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 15:47:19.768 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 15:47:19.798 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 15:47:19.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 15:47:19.850 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 362.6446ms.
2025-01-21 15:47:19.853 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:47:19.875 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 472.7975ms
2025-01-21 15:47:19.878 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 15:47:19.881 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 502.268ms
2025-01-21 15:47:22.287 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:47:22.342 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:22.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 56.0548ms
2025-01-21 15:47:22.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:47:22.362 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:22.363 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:47:22.378 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:47:22.384 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:47:22.412 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:47:22.416 +02:00 [INF] Fetching all donators.
2025-01-21 15:47:22.420 +02:00 [INF] Fetching all donators.
2025-01-21 15:47:22.431 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:47:22.447 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:47:22.448 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.3531ms.
2025-01-21 15:47:22.451 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:47:22.456 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 69.8467ms
2025-01-21 15:47:22.459 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:47:22.461 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:47:22.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 112.3162ms
2025-01-21 15:47:24.127 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:47:24.133 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:24.135 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.727ms
2025-01-21 15:47:24.141 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:47:24.146 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:24.148 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:47:24.157 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:47:24.205 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:47:24.208 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:47:24.2088287Z"
2025-01-21 15:47:24.211 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:47:24.2112042Z"
2025-01-21 15:47:24.216 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:47:24.2165394Z"
2025-01-21 15:47:24.262 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:47:24.267 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:47:24.2671157Z"
2025-01-21 15:47:24.268 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:47:24.2683127Z"
2025-01-21 15:47:24.269 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:47:24.2698691Z"
2025-01-21 15:47:24.271 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 63.8858ms.
2025-01-21 15:47:24.273 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:47:24.276 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 114.9038ms
2025-01-21 15:47:24.278 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:47:24.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 138.2133ms
2025-01-21 15:47:26.922 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:47:26.931 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:26.933 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 11.2037ms
2025-01-21 15:47:26.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:47:26.943 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:26.944 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:47:26.946 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:47:26.976 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:47:26.978 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:47:26.979 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:47:26.9799763Z"
2025-01-21 15:47:26.981 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:47:26.9815388Z"
2025-01-21 15:47:26.990 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:47:26.994 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:47:26.9948179Z"
2025-01-21 15:47:26.996 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:47:26.9960366Z"
2025-01-21 15:47:26.997 +02:00 [INF] Successfully retrieved 4 gifts with purchases.
2025-01-21 15:47:26.999 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.7564ms.
2025-01-21 15:47:27.001 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:47:27.004 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 53.2662ms
2025-01-21 15:47:27.006 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:47:27.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 68.9294ms
2025-01-21 15:47:32.066 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 15:47:32.071 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:32.074 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.0614ms
2025-01-21 15:47:32.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 15:47:32.086 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:32.088 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 15:47:32.091 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 15:47:32.098 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 15:47:32.129 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 15:47:32.137 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 15:47:32.141 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:47:32.146 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:47:32.183 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 15:47:32.188 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:47:32.189 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:47:32.191 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:47:32.192 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 60.3214ms.
2025-01-21 15:47:32.194 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:47:32.205 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 101.1899ms
2025-01-21 15:47:32.207 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 15:47:32.209 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:47:32.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 128.4353ms
2025-01-21 15:47:33.152 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:47:33.157 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:33.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.8335ms
2025-01-21 15:47:33.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:47:33.170 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:47:33.172 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:47:33.177 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:47:33.179 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 13.7282ms
2025-01-21 15:48:35.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:48:35.394 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:35.397 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 79.6537ms
2025-01-21 15:48:35.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:48:35.410 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:35.413 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:48:35.415 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:48:35.456 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:48:35.458 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:48:35.459 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:48:35.4594693Z"
2025-01-21 15:48:35.460 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:48:35.4608586Z"
2025-01-21 15:48:35.471 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:48:35.475 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:48:35.4753187Z"
2025-01-21 15:48:35.476 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:48:35.4768366Z"
2025-01-21 15:48:35.478 +02:00 [INF] Successfully retrieved 4 gifts with purchases.
2025-01-21 15:48:35.479 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.6549ms.
2025-01-21 15:48:35.482 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:35.484 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 63.1494ms
2025-01-21 15:48:35.486 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:48:35.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 83.2066ms
2025-01-21 15:48:41.353 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 15:48:41.358 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:41.359 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 6.5536ms
2025-01-21 15:48:41.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 15:48:41.371 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:41.374 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:48:41.376 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:48:41.416 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:48:41.419 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:48:41.4190137Z"
2025-01-21 15:48:41.425 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:48:41.429 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:41.4293017Z"
2025-01-21 15:48:41.430 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:41.4306867Z"
2025-01-21 15:48:41.432 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:41.4326681Z"
2025-01-21 15:48:41.434 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.3886ms.
2025-01-21 15:48:41.437 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:41.441 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 59.7724ms
2025-01-21 15:48:41.443 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:48:41.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 79.315ms
2025-01-21 15:48:43.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 15:48:43.245 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:43.247 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:48:43.249 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:48:43.280 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:48:43.283 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:48:43.2836061Z"
2025-01-21 15:48:43.290 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:48:43.293 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:43.2936727Z"
2025-01-21 15:48:43.294 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:43.2948202Z"
2025-01-21 15:48:43.296 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:48:43.2967101Z"
2025-01-21 15:48:43.299 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.8132ms.
2025-01-21 15:48:43.303 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:43.305 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 52.7423ms
2025-01-21 15:48:43.308 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:48:43.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 68.8853ms
2025-01-21 15:48:47.103 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:48:47.108 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:47.110 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.9162ms
2025-01-21 15:48:47.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:48:47.122 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:47.124 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:48:47.127 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:48:47.169 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:48:47.171 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:48:47.1713098Z"
2025-01-21 15:48:47.172 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:48:47.1728713Z"
2025-01-21 15:48:47.174 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:48:47.1744959Z"
2025-01-21 15:48:47.193 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:48:47.197 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:48:47.1978164Z"
2025-01-21 15:48:47.198 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:48:47.1989205Z"
2025-01-21 15:48:47.200 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:48:47.2001390Z"
2025-01-21 15:48:47.201 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.1146ms.
2025-01-21 15:48:47.203 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:47.205 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 70.5015ms
2025-01-21 15:48:47.207 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:48:47.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 91.7818ms
2025-01-21 15:48:50.520 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:48:50.524 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 15:48:50.538 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:50.549 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:50.550 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 30.2154ms
2025-01-21 15:48:50.552 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:48:50.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:48:50.566 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:48:50.567 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 15:48:50.568 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:48:50.610 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 15:48:50.611 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:48:50.615 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:48:50.658 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:48:50.661 +02:00 [INF] Fetching all donators.
2025-01-21 15:48:50.662 +02:00 [INF] Fetching all donators.
2025-01-21 15:48:50.671 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:48:50.694 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:48:50.695 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.1581ms.
2025-01-21 15:48:50.706 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:50.706 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 15:48:50.710 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 90.6449ms
2025-01-21 15:48:50.718 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:48:50.721 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:48:50.722 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 163.7919ms
2025-01-21 15:48:50.726 +02:00 [INF] Successfully retrieved categories.
2025-01-21 15:48:50.729 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.6485ms.
2025-01-21 15:48:50.735 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:48:50.738 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 166.2015ms
2025-01-21 15:48:50.740 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 15:48:50.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 218.304ms
2025-01-21 15:49:01.986 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:49:01.991 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:01.998 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.8577ms
2025-01-21 15:49:02.005 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 156
2025-01-21 15:49:02.009 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:02.011 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:49:02.021 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 15:49:02.084 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 15:49:02.089 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T13:49:02.0891534Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 15:49:02.093 +02:00 [INF] Starting CreateGiftAsync for GiftDto: uyhk at "2025-01-21T13:49:02.0933638Z"
2025-01-21 15:49:02.096 +02:00 [INF] Fetching donator by name: miri
2025-01-21 15:49:02.108 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 15:49:02.131 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 15:49:02.136 +02:00 [INF] Successfully retrieved category with name: aנa
2025-01-21 15:49:02.152 +02:00 [INF] Starting CreateGiftAsync for Gift: uyhk at "2025-01-21T13:49:02.1526153Z"
2025-01-21 15:49:02.386 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 15:49:02.427 +02:00 [INF] CreateGiftAsync completed successfully for Gift: uyhk at "2025-01-21T13:49:02.4273435Z"
2025-01-21 15:49:02.429 +02:00 [INF] CreateGiftAsync completed successfully for Gift: uyhk at "2025-01-21T13:49:02.4296653Z"
2025-01-21 15:49:02.431 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T13:49:02.4316984Z"
2025-01-21 15:49:02.433 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 346.2914ms.
2025-01-21 15:49:02.435 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 15:49:02.439 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 412.8729ms
2025-01-21 15:49:02.442 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 15:49:02.443 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 438.6904ms
2025-01-21 15:49:02.551 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:49:02.555 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:02.557 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.7612ms
2025-01-21 15:49:02.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:49:02.569 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:02.571 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:49:02.573 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:49:02.613 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:49:02.615 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:49:02.6157836Z"
2025-01-21 15:49:02.617 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:49:02.6176382Z"
2025-01-21 15:49:02.619 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:49:02.6190023Z"
2025-01-21 15:49:02.632 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:49:02.636 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:49:02.6369453Z"
2025-01-21 15:49:02.638 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:49:02.6381765Z"
2025-01-21 15:49:02.639 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:49:02.6397068Z"
2025-01-21 15:49:02.641 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.3464ms.
2025-01-21 15:49:02.643 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:49:02.646 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 69.611ms
2025-01-21 15:49:02.649 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:49:02.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 86.3374ms
2025-01-21 15:49:11.175 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 15:49:11.183 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:11.185 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.0919ms
2025-01-21 15:49:11.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 15:49:11.195 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:11.199 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:49:11.201 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 15:49:11.314 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 15:49:11.317 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 15:49:11.318 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:49:11.3186563Z"
2025-01-21 15:49:11.320 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T13:49:11.3204551Z"
2025-01-21 15:49:11.330 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 15:49:11.334 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:49:11.3345792Z"
2025-01-21 15:49:11.335 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T13:49:11.3359724Z"
2025-01-21 15:49:11.337 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 15:49:11.338 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.7139ms.
2025-01-21 15:49:11.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:49:11.347 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 140.3196ms
2025-01-21 15:49:11.351 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 15:49:11.354 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 163.7093ms
2025-01-21 15:49:17.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 15:49:17.597 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:17.598 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 6.7379ms
2025-01-21 15:49:17.604 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 15:49:17.608 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:17.610 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:49:17.612 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:49:17.643 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:49:17.646 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:49:17.6464271Z"
2025-01-21 15:49:17.651 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:49:17.655 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:17.6556088Z"
2025-01-21 15:49:17.656 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:17.6569379Z"
2025-01-21 15:49:17.658 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:17.6583825Z"
2025-01-21 15:49:17.659 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.5141ms.
2025-01-21 15:49:17.662 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:49:17.664 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 48.4512ms
2025-01-21 15:49:17.667 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:49:17.671 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 66.5113ms
2025-01-21 15:49:19.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 15:49:19.564 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:19.567 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:49:19.568 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 15:49:19.601 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 15:49:19.604 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T13:49:19.6042517Z"
2025-01-21 15:49:19.609 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 15:49:19.613 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:19.6136167Z"
2025-01-21 15:49:19.615 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:19.6157507Z"
2025-01-21 15:49:19.617 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T13:49:19.6170775Z"
2025-01-21 15:49:19.618 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.4112ms.
2025-01-21 15:49:19.621 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:49:19.624 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 52.0739ms
2025-01-21 15:49:19.626 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 15:49:19.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 68.0762ms
2025-01-21 15:49:35.018 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:49:35.023 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:35.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.4867ms
2025-01-21 15:49:35.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:49:35.034 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:49:35.038 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:49:35.042 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:49:35.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 18.755ms
2025-01-21 15:59:25.349 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 15:59:25.374 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:25.375 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 26.0113ms
2025-01-21 15:59:25.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 15:59:25.405 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:25.406 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 15:59:25.408 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:59:25.409 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 15:59:25.447 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 15:59:25.450 +02:00 [INF] Fetching all donators.
2025-01-21 15:59:25.452 +02:00 [INF] Fetching all donators.
2025-01-21 15:59:25.485 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 15:59:25.490 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 15:59:25.491 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.7048ms.
2025-01-21 15:59:25.495 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:59:25.498 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 85.934ms
2025-01-21 15:59:25.500 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 15:59:25.502 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:59:25.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 103.2521ms
2025-01-21 15:59:27.237 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 15:59:27.244 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:27.246 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.9212ms
2025-01-21 15:59:27.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 15:59:27.258 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:27.313 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:59:27.328 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 15:59:27.371 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 15:59:27.375 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:59:27.3751141Z"
2025-01-21 15:59:27.376 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:59:27.3765376Z"
2025-01-21 15:59:27.377 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T13:59:27.3777895Z"
2025-01-21 15:59:27.388 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 15:59:27.392 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:59:27.3924872Z"
2025-01-21 15:59:27.393 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:59:27.3936970Z"
2025-01-21 15:59:27.395 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T13:59:27.3950718Z"
2025-01-21 15:59:27.396 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.7776ms.
2025-01-21 15:59:27.399 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:59:27.402 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 69.5923ms
2025-01-21 15:59:27.405 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 15:59:27.407 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 154.2785ms
2025-01-21 15:59:29.108 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 15:59:29.113 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:29.115 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 7.5202ms
2025-01-21 15:59:29.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 15:59:29.129 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:29.131 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 15:59:29.133 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 15:59:29.134 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 15:59:29.169 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 15:59:29.185 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 15:59:29.187 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:59:29.189 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:59:29.196 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 15:59:29.200 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:59:29.202 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:59:29.203 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 15:59:29.204 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.9858ms.
2025-01-21 15:59:29.207 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 15:59:29.209 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 68.4231ms
2025-01-21 15:59:29.211 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 15:59:29.213 +02:00 [INF] Outgoing Response: 200
2025-01-21 15:59:29.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 90.1326ms
2025-01-21 15:59:30.860 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 15:59:30.866 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:30.867 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.1993ms
2025-01-21 15:59:30.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 15:59:30.876 +02:00 [INF] CORS policy execution successful.
2025-01-21 15:59:30.880 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 15:59:30.884 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 15:59:30.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 13.6055ms
2025-01-21 16:00:43.727 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:00:43.763 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:43.765 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 38.6103ms
2025-01-21 16:00:43.797 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:00:43.801 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:43.803 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:00:43.805 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:00:43.838 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:00:43.841 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:43.8410790Z"
2025-01-21 16:00:43.843 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:43.8430632Z"
2025-01-21 16:00:43.844 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:43.8448544Z"
2025-01-21 16:00:43.864 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:00:43.868 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:43.8689111Z"
2025-01-21 16:00:43.870 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:43.8709196Z"
2025-01-21 16:00:43.873 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:43.8730207Z"
2025-01-21 16:00:43.875 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.6992ms.
2025-01-21 16:00:43.879 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:00:43.882 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 72.3943ms
2025-01-21 16:00:43.887 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:00:43.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 92.5098ms
2025-01-21 16:00:49.934 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 16:00:49.940 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:49.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 7.2367ms
2025-01-21 16:00:49.947 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 16:00:49.951 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:49.955 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 16:00:49.963 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:00:50.009 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 16:00:50.014 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T14:00:50.0142719Z"
2025-01-21 16:00:50.018 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T14:00:50.0186597Z"
2025-01-21 16:00:50.022 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T14:00:50.0225048Z"
2025-01-21 16:00:50.109 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 16:00:50.162 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T14:00:50.1624293Z"
2025-01-21 16:00:50.261 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 16:00:50.279 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 16:00:50.304 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T14:00:50.3046488Z"
2025-01-21 16:00:50.307 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T14:00:50.3073758Z"
2025-01-21 16:00:50.309 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 297.1767ms.
2025-01-21 16:00:50.312 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:00:50.315 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 347.3402ms
2025-01-21 16:00:50.317 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 16:00:50.319 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 371.7915ms
2025-01-21 16:00:57.170 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:00:57.176 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:00:57.183 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:00:57.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 15.0365ms
2025-01-21 16:00:58.046 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:00:58.059 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:58.061 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 15.0284ms
2025-01-21 16:00:58.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:00:58.158 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:00:58.168 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:00:58.173 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:00:58.259 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:00:58.275 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:58.2750265Z"
2025-01-21 16:00:58.284 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:58.2842364Z"
2025-01-21 16:00:58.290 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:00:58.2903025Z"
2025-01-21 16:00:58.317 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:00:58.323 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:58.3231223Z"
2025-01-21 16:00:58.325 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:58.3252514Z"
2025-01-21 16:00:58.328 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:00:58.3286891Z"
2025-01-21 16:00:58.330 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 55.1538ms.
2025-01-21 16:00:58.333 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:00:58.336 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 148.823ms
2025-01-21 16:00:58.338 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:00:58.340 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 193.3488ms
2025-01-21 16:01:01.868 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 16:01:01.900 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:01:01.901 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 32.8574ms
2025-01-21 16:01:01.908 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 16:01:01.912 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:01:01.915 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 16:01:01.917 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:01:01.962 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 16:01:01.966 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T14:01:01.9661251Z"
2025-01-21 16:01:01.969 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T14:01:01.9690482Z"
2025-01-21 16:01:01.971 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T14:01:01.9714738Z"
2025-01-21 16:01:01.992 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 16:01:02.001 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T14:01:02.0017549Z"
2025-01-21 16:01:02.014 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 16:01:02.023 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 16:01:02.030 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T14:01:02.0304321Z"
2025-01-21 16:01:02.032 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T14:01:02.0321219Z"
2025-01-21 16:01:02.033 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.5614ms.
2025-01-21 16:01:02.036 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:01:02.039 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 118.8398ms
2025-01-21 16:01:02.041 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 16:01:02.043 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 135.4566ms
2025-01-21 16:02:25.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:02:25.750 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:25.752 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 23.5729ms
2025-01-21 16:02:25.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:02:25.777 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:25.779 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:02:25.780 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:25.782 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:02:25.818 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:02:25.821 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:25.822 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:25.828 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:02:25.833 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:02:25.834 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1738ms.
2025-01-21 16:02:25.838 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:25.841 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 56.6722ms
2025-01-21 16:02:25.844 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:25.846 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:25.848 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 74.0704ms
2025-01-21 16:02:28.681 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 16:02:28.688 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:28.692 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.4736ms
2025-01-21 16:02:28.698 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 16:02:28.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:28.705 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 16:02:28.708 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 16:02:28.739 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 16:02:28.742 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 16:02:28.743 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T14:02:28.7439056Z"
2025-01-21 16:02:28.745 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T14:02:28.7455326Z"
2025-01-21 16:02:28.757 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 16:02:28.760 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T14:02:28.7609175Z"
2025-01-21 16:02:28.762 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T14:02:28.7620688Z"
2025-01-21 16:02:28.763 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 16:02:28.764 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.328ms.
2025-01-21 16:02:28.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:28.770 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 57.1443ms
2025-01-21 16:02:28.774 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 16:02:28.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 77.1951ms
2025-01-21 16:02:30.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:02:30.013 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:30.016 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:02:30.020 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:30.022 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:02:30.062 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:02:30.064 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:30.065 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:30.068 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:02:30.073 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:02:30.074 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.6551ms.
2025-01-21 16:02:30.076 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:30.078 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 52.4289ms
2025-01-21 16:02:30.081 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:30.083 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:30.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 75.6602ms
2025-01-21 16:02:31.516 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:02:31.521 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:31.523 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.5729ms
2025-01-21 16:02:31.527 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:02:31.532 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:31.536 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:31.539 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:02:31.586 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:02:31.589 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:31.5891399Z"
2025-01-21 16:02:31.590 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:31.5906558Z"
2025-01-21 16:02:31.592 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:31.5920519Z"
2025-01-21 16:02:31.601 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:02:31.607 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:31.6073590Z"
2025-01-21 16:02:31.608 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:31.6086478Z"
2025-01-21 16:02:31.610 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:31.6102666Z"
2025-01-21 16:02:31.611 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.5972ms.
2025-01-21 16:02:31.614 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:31.616 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 73.1595ms
2025-01-21 16:02:31.618 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:31.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 92.2893ms
2025-01-21 16:02:33.696 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 16:02:33.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:33.708 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 11.4355ms
2025-01-21 16:02:33.715 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 16:02:33.720 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:33.722 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 16:02:33.724 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:33.727 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 16:02:33.768 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 16:02:33.771 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 16:02:33.772 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:33.774 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:33.780 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 16:02:33.784 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:33.786 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:33.787 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:33.789 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.279ms.
2025-01-21 16:02:33.791 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:33.793 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 62.7758ms
2025-01-21 16:02:33.795 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:33.796 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:33.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 82.6209ms
2025-01-21 16:02:35.054 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:02:35.060 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:35.062 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:35.063 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:02:35.106 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:02:35.109 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:35.1093835Z"
2025-01-21 16:02:35.110 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:35.1108571Z"
2025-01-21 16:02:35.112 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:35.1122241Z"
2025-01-21 16:02:35.117 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:02:35.122 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:35.1226029Z"
2025-01-21 16:02:35.125 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:35.1254418Z"
2025-01-21 16:02:35.127 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:35.1271807Z"
2025-01-21 16:02:35.128 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.0998ms.
2025-01-21 16:02:35.130 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:35.132 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 65.9149ms
2025-01-21 16:02:35.134 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:35.137 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 82.5871ms
2025-01-21 16:02:35.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 16:02:35.625 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:35.627 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 16:02:35.630 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:35.632 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 16:02:35.662 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 16:02:35.664 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 16:02:35.665 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:35.667 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:35.672 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 16:02:35.676 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:35.678 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:35.680 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:35.681 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.6296ms.
2025-01-21 16:02:35.684 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:35.689 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 54.006ms
2025-01-21 16:02:35.691 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:35.693 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:35.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 76.7903ms
2025-01-21 16:02:37.511 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:02:37.515 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:37.518 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.0035ms
2025-01-21 16:02:37.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:02:37.526 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:37.528 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-01-21 16:02:37.530 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-01-21 16:02:37.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 405 0 null 9.8673ms
2025-01-21 16:02:41.239 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 16:02:41.245 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:41.248 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.4785ms
2025-01-21 16:02:41.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 16:02:41.322 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:41.323 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 16:02:41.326 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:41.339 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 16:02:41.365 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 16:02:41.367 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 16:02:41.368 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:41.369 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:41.373 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 16:02:41.379 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:41.380 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:41.381 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 16:02:41.382 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.8897ms.
2025-01-21 16:02:41.385 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:41.387 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 45.3135ms
2025-01-21 16:02:41.389 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 16:02:41.391 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:41.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 75.4607ms
2025-01-21 16:02:41.993 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:02:41.997 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:41.999 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.4436ms
2025-01-21 16:02:42.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:02:42.011 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:42.013 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:42.015 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:02:42.043 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:02:42.046 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:42.0463238Z"
2025-01-21 16:02:42.048 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:42.0481572Z"
2025-01-21 16:02:42.049 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:02:42.0494663Z"
2025-01-21 16:02:42.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:02:42.061 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:42.0609970Z"
2025-01-21 16:02:42.063 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:42.0637355Z"
2025-01-21 16:02:42.065 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:02:42.0655781Z"
2025-01-21 16:02:42.067 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.4555ms.
2025-01-21 16:02:42.072 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:42.076 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 56.8947ms
2025-01-21 16:02:42.079 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:02:42.083 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 77.3113ms
2025-01-21 16:02:42.530 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:02:42.536 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:42.538 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.0458ms
2025-01-21 16:02:42.542 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:02:42.546 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:42.549 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:02:42.553 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:42.556 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:02:42.590 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:02:42.593 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:42.595 +02:00 [INF] Fetching all donators.
2025-01-21 16:02:42.600 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:02:42.606 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:02:42.608 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.0023ms.
2025-01-21 16:02:42.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:42.615 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 55.0427ms
2025-01-21 16:02:42.617 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:02:42.619 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:02:42.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 78.7111ms
2025-01-21 16:02:45.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 16:02:45.027 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:45.030 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.8158ms
2025-01-21 16:02:45.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 16:02:45.041 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:02:45.043 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 16:02:45.044 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 16:02:45.070 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 16:02:45.073 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 16:02:45.074 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T14:02:45.0746833Z"
2025-01-21 16:02:45.075 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T14:02:45.0759492Z"
2025-01-21 16:02:45.079 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 16:02:45.083 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T14:02:45.0837764Z"
2025-01-21 16:02:45.085 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T14:02:45.0854631Z"
2025-01-21 16:02:45.087 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 16:02:45.088 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.3365ms.
2025-01-21 16:02:45.091 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:02:45.093 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 43.5556ms
2025-01-21 16:02:45.095 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 16:02:45.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 60.2574ms
2025-01-21 16:03:02.243 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/16/buyers - null null
2025-01-21 16:03:02.248 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:02.251 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/16/buyers - 204 null null 8.3599ms
2025-01-21 16:03:02.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/16/buyers - application/json null
2025-01-21 16:03:02.260 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:02.261 +02:00 [INF] Incoming Request: GET /api/User/16/buyers
2025-01-21 16:03:02.263 +02:00 [INF] Outgoing Response: 404
2025-01-21 16:03:02.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/16/buyers - 404 0 null 8.5911ms
2025-01-21 16:03:02.273 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/16/buyers, Response status code: 404
2025-01-21 16:03:37.230 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:03:37.257 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:37.259 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 28.369ms
2025-01-21 16:03:37.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:03:37.283 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:37.284 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:03:37.286 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:37.288 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:03:37.311 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:03:37.314 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:37.315 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:37.320 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:03:37.343 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:03:37.345 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8756ms.
2025-01-21 16:03:37.348 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:03:37.351 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 60.6507ms
2025-01-21 16:03:37.354 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:37.357 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:03:37.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 78.9839ms
2025-01-21 16:03:40.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:03:40.356 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:40.358 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:03:40.361 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:40.364 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:03:40.389 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:03:40.393 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:40.433 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:40.477 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:03:40.482 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:03:40.483 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.4451ms.
2025-01-21 16:03:40.500 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:03:40.504 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 137.7926ms
2025-01-21 16:03:40.508 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:40.510 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:03:40.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 161.3596ms
2025-01-21 16:03:57.365 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:03:57.371 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:57.372 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.9582ms
2025-01-21 16:03:57.377 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 62
2025-01-21 16:03:57.381 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:57.382 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 16:03:57.386 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 16:03:57.394 +02:00 [INF] Route matched with {action = "CreateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 16:03:57.436 +02:00 [INF] Executing action method project.Controllers.DonatorController.CreateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 16:03:57.440 +02:00 [INF] Received request to create donator: jytg
2025-01-21 16:03:57.443 +02:00 [INF] Creating donator with name: jytg
2025-01-21 16:03:57.445 +02:00 [INF] Adding donator with name: jytg
2025-01-21 16:03:57.453 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donators] ([Email], [Name], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 16:03:57.458 +02:00 [INF] Successfully added donator: jytg
2025-01-21 16:03:57.459 +02:00 [INF] Donator jytg created successfully.
2025-01-21 16:03:57.461 +02:00 [INF] Successfully created donator: jytg
2025-01-21 16:03:57.463 +02:00 [INF] Executed action method project.Controllers.DonatorController.CreateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.8565ms.
2025-01-21 16:03:57.466 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:03:57.469 +02:00 [INF] Executed action project.Controllers.DonatorController.CreateDonatorAsync (project) in 71.2223ms
2025-01-21 16:03:57.472 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 16:03:57.474 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:03:57.476 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 99.5728ms
2025-01-21 16:03:57.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:03:57.588 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:03:57.590 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:03:57.593 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:57.596 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:03:57.628 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:03:57.631 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:57.632 +02:00 [INF] Fetching all donators.
2025-01-21 16:03:57.638 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:03:57.668 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 16:03:57.669 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.8016ms.
2025-01-21 16:03:57.671 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:03:57.673 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 73.2225ms
2025-01-21 16:03:57.675 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:03:57.677 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:03:57.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 95.2109ms
2025-01-21 16:04:00.786 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/6 - null null
2025-01-21 16:04:00.792 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:00.794 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/6 - 204 null null 7.3381ms
2025-01-21 16:04:00.798 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/6 - application/json null
2025-01-21 16:04:00.802 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:00.804 +02:00 [INF] Incoming Request: DELETE /api/Donator/6
2025-01-21 16:04:00.806 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 16:04:00.817 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 16:04:00.846 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 16:04:00.851 +02:00 [INF] Deleting donator with ID: 6
2025-01-21 16:04:00.853 +02:00 [INF] Attempting to delete donator with ID: 6
2025-01-21 16:04:00.857 +02:00 [INF] Fetching donator with ID: 6
2025-01-21 16:04:00.871 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 16:04:00.896 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 16:04:00.907 +02:00 [INF] Successfully deleted donator with ID: 6
2025-01-21 16:04:00.909 +02:00 [INF] Successfully deleted donator with ID: 6
2025-01-21 16:04:00.910 +02:00 [INF] DeleteGiftAsync completed successfully with ID 6 at "2025-01-21T14:04:00.9102222Z"
2025-01-21 16:04:00.911 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 63.2152ms.
2025-01-21 16:04:00.914 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:04:00.916 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 94.8515ms
2025-01-21 16:04:00.920 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 16:04:00.922 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:04:00.923 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/6 - 200 null application/json; charset=utf-8 124.5777ms
2025-01-21 16:04:00.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:04:00.938 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:00.939 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:04:00.941 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:04:00.943 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:04:00.975 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:04:00.977 +02:00 [INF] Fetching all donators.
2025-01-21 16:04:00.979 +02:00 [INF] Fetching all donators.
2025-01-21 16:04:00.983 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:04:00.987 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:04:00.988 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.7404ms.
2025-01-21 16:04:00.990 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:04:00.992 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 44.3113ms
2025-01-21 16:04:00.995 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:04:00.997 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:04:00.998 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 65.2037ms
2025-01-21 16:04:13.837 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:04:13.841 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:13.843 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.3727ms
2025-01-21 16:04:13.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:04:13.852 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:13.855 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:04:13.857 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:04:13.892 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:04:13.895 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:13.8954499Z"
2025-01-21 16:04:13.896 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:13.8967479Z"
2025-01-21 16:04:13.899 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:13.8991487Z"
2025-01-21 16:04:13.912 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:04:13.917 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:13.9172528Z"
2025-01-21 16:04:13.918 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:13.9187253Z"
2025-01-21 16:04:13.920 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:13.9203848Z"
2025-01-21 16:04:13.922 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.5865ms.
2025-01-21 16:04:13.925 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:04:13.928 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 67.001ms
2025-01-21 16:04:13.930 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:04:13.933 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 83.6202ms
2025-01-21 16:04:16.821 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:04:16.826 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 16:04:16.826 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:16.829 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 16:04:16.831 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:16.832 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.0907ms
2025-01-21 16:04:16.837 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:16.839 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:04:16.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:04:16.846 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 17.8256ms
2025-01-21 16:04:16.849 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 16:04:16.854 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:16.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 16:04:16.866 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:04:16.897 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 16:04:16.899 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:16.902 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:04:16.906 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:04:16.906 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 16:04:16.907 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:04:16.913 +02:00 [INF] Successfully retrieved categories.
2025-01-21 16:04:16.915 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:04:16.939 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:04:16.940 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.9844ms.
2025-01-21 16:04:16.984 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:04:16.985 +02:00 [INF] Fetching all donators.
2025-01-21 16:04:16.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:04:16.992 +02:00 [INF] Fetching all donators.
2025-01-21 16:04:16.994 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T14:04:16.9941616Z"
2025-01-21 16:04:16.998 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 133.8178ms
2025-01-21 16:04:17.006 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:04:17.009 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:04:17.009 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T14:04:17.0093432Z"
2025-01-21 16:04:17.014 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:04:17.019 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.8966ms.
2025-01-21 16:04:17.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 189.2759ms
2025-01-21 16:04:17.020 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T14:04:17.0206027Z"
2025-01-21 16:04:17.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:04:17.034 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 118.467ms
2025-01-21 16:04:17.038 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:04:17.043 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:04:17.046 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 201.5348ms
2025-01-21 16:04:17.049 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:04:17.061 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T14:04:17.0619122Z"
2025-01-21 16:04:17.064 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T14:04:17.0641972Z"
2025-01-21 16:04:17.066 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 76.2921ms.
2025-01-21 16:04:17.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:04:17.071 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 127.5185ms
2025-01-21 16:04:17.072 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:04:17.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 215.4578ms
2025-01-21 16:04:34.553 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:04:34.559 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:34.561 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2657ms
2025-01-21 16:04:34.565 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 182
2025-01-21 16:04:34.570 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:34.571 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:04:34.578 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 16:04:34.611 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 16:04:34.615 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T14:04:34.6156988Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 16:04:34.619 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 3 at "2025-01-21T14:04:34.6195770Z"
2025-01-21 16:04:34.633 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 16:04:34.637 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 3 at "2025-01-21T14:04:34.6372779Z"
2025-01-21 16:04:34.640 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T14:04:34.6400863Z"
2025-01-21 16:04:34.641 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.6131ms.
2025-01-21 16:04:34.645 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:04:34.647 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 64.6256ms
2025-01-21 16:04:34.650 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:04:34.653 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 87.1961ms
2025-01-21 16:04:34.773 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:04:34.779 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:34.781 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.5735ms
2025-01-21 16:04:34.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:04:34.792 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:04:34.794 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:04:34.797 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:04:34.830 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:04:34.832 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:34.8327849Z"
2025-01-21 16:04:34.834 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:34.8340404Z"
2025-01-21 16:04:34.836 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:04:34.8360474Z"
2025-01-21 16:04:34.850 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:04:34.854 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:34.8540956Z"
2025-01-21 16:04:34.855 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:34.8552182Z"
2025-01-21 16:04:34.856 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:04:34.8564629Z"
2025-01-21 16:04:34.857 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.9511ms.
2025-01-21 16:04:34.861 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:04:34.864 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 62.2465ms
2025-01-21 16:04:34.866 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:04:34.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 81.8897ms
2025-01-21 16:24:30.446 +02:00 [INF] Starting up the application
2025-01-21 16:24:34.870 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 16:24:37.957 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 16:24:38.163 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 16:24:38.708 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 16:24:38.775 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 16:24:38.777 +02:00 [INF] Hosting environment: Development
2025-01-21 16:24:38.779 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 16:24:40.131 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 16:24:40.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 622.8178ms
2025-01-21 16:24:40.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 16:24:40.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 51.7288ms
2025-01-21 16:24:41.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 16:24:41.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.3222ms
2025-01-21 16:25:21.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 16:25:21.463 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:25:21.470 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 18.9472ms
2025-01-21 16:25:21.499 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 16:25:21.505 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:25:21.509 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 16:25:21.728 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:25:21.771 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 16:25:22.078 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 16:25:22.214 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 16:25:22.475 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 16:25:22.557 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 16:25:22.631 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 16:25:22.662 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 576.8918ms.
2025-01-21 16:25:22.682 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:25:22.726 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 942.5194ms
2025-01-21 16:25:22.730 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:25:22.742 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 1243.348ms
2025-01-21 16:30:26.616 +02:00 [INF] Starting up the application
2025-01-21 16:30:30.902 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 16:30:34.772 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 16:30:35.020 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 16:30:35.788 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 16:30:35.841 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 16:30:35.845 +02:00 [INF] Hosting environment: Development
2025-01-21 16:30:35.847 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 16:30:37.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 16:30:37.909 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 620.6437ms
2025-01-21 16:30:37.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 16:30:37.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.5438ms
2025-01-21 16:30:38.208 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 16:30:38.609 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 401.251ms
2025-01-21 16:31:55.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:31:55.936 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 16:31:56.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:31:56.387 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:31:56.757 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:31:56.768 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:31:56.7680419Z"
2025-01-21 16:31:56.779 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:31:56.7789516Z"
2025-01-21 16:31:56.786 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:31:56.7861613Z"
2025-01-21 16:31:57.109 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:31:57.121 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:31:57.1211114Z"
2025-01-21 16:31:57.123 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:31:57.1234354Z"
2025-01-21 16:31:57.125 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:31:57.1254089Z"
2025-01-21 16:31:57.136 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 367.695ms.
2025-01-21 16:31:57.161 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:31:57.240 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 844.5588ms
2025-01-21 16:31:57.243 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:31:57.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1334.5029ms
2025-01-21 16:33:41.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - null null
2025-01-21 16:33:41.304 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:33:41.329 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:33:41.405 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:33:41.410 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: desc
2025-01-21 16:33:41.421 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: desc at "2025-01-21T14:33:41.4217565Z"
2025-01-21 16:33:41.486 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price] DESC
2025-01-21 16:33:41.494 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:33:41.4940419Z"
2025-01-21 16:33:41.495 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:33:41.500 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.8826ms.
2025-01-21 16:33:41.506 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:33:41.534 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 199.9745ms
2025-01-21 16:33:41.537 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:33:41.539 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=desc - 200 null application/json; charset=utf-8 274.6041ms
2025-01-21 16:34:59.791 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:34:59.804 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:34:59.808 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 28.3412ms
2025-01-21 16:34:59.833 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:34:59.837 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:34:59.840 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:34:59.879 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:34:59.888 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:34:59.923 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:34:59.933 +02:00 [INF] Fetching all donators.
2025-01-21 16:34:59.938 +02:00 [INF] Fetching all donators.
2025-01-21 16:34:59.956 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:34:59.991 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:34:59.994 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.4948ms.
2025-01-21 16:34:59.998 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:35:00.024 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 132.1561ms
2025-01-21 16:35:00.027 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:35:00.029 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:35:00.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 198.2829ms
2025-01-21 16:35:06.390 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - null null
2025-01-21 16:35:06.413 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:06.416 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - 204 null null 25.8983ms
2025-01-21 16:35:06.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - application/json null
2025-01-21 16:35:06.437 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:06.440 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/1
2025-01-21 16:35:06.445 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 16:35:06.455 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 16:35:06.500 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:35:06.506 +02:00 [INF] Fetching donator with gifts for ID: 1
2025-01-21 16:35:06.515 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 16:35:06.530 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 16:35:06.540 +02:00 [INF] Fetching gifts for donator ID: 1
2025-01-21 16:35:06.555 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 16:35:06.627 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 1
2025-01-21 16:35:06.630 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.7971ms.
2025-01-21 16:35:06.633 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:35:06.641 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 178.9601ms
2025-01-21 16:35:06.644 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 16:35:06.650 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:35:06.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - 200 null application/json; charset=utf-8 229.651ms
2025-01-21 16:35:10.228 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:35:10.234 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:10.236 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.65ms
2025-01-21 16:35:10.243 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:35:10.250 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:10.253 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:35:10.255 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:35:10.306 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:35:10.308 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:35:10.3086118Z"
2025-01-21 16:35:10.310 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:35:10.3100080Z"
2025-01-21 16:35:10.312 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:35:10.3122723Z"
2025-01-21 16:35:10.331 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:35:10.338 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:35:10.3383791Z"
2025-01-21 16:35:10.339 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:35:10.3397418Z"
2025-01-21 16:35:10.343 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:35:10.3433304Z"
2025-01-21 16:35:10.344 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.3315ms.
2025-01-21 16:35:10.349 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:35:10.352 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 93.3125ms
2025-01-21 16:35:10.354 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:35:10.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 113.2698ms
2025-01-21 16:35:17.102 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:35:17.107 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:17.109 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.5276ms
2025-01-21 16:35:17.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:35:17.120 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:17.122 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:35:17.131 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:35:17.168 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:35:17.171 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:35:17.1717280Z"
2025-01-21 16:35:17.185 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:35:17.189 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:35:17.1899718Z"
2025-01-21 16:35:17.191 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:35:17.1918405Z"
2025-01-21 16:35:17.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:35:17.1934879Z"
2025-01-21 16:35:17.195 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.4187ms.
2025-01-21 16:35:17.202 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:35:17.209 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 70.868ms
2025-01-21 16:35:17.213 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:35:17.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 102.5037ms
2025-01-21 16:35:41.460 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 16:35:41.485 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:41.486 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 26.6718ms
2025-01-21 16:35:41.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 16:35:41.519 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:35:41.523 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:35:41.526 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:35:41.570 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:35:41.572 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 16:35:41.574 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T14:35:41.5745052Z"
2025-01-21 16:35:41.592 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:35:41.600 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:35:41.6008592Z"
2025-01-21 16:35:41.602 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:35:41.604 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.6445ms.
2025-01-21 16:35:41.607 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:35:41.613 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 80.001ms
2025-01-21 16:35:41.617 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:35:41.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 110.1891ms
2025-01-21 16:36:44.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:36:44.631 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:36:44.642 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:36:44.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 37.5793ms
2025-01-21 16:36:44.972 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:36:44.995 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:36:44.997 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 25.638ms
2025-01-21 16:36:45.004 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:36:45.009 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:36:45.011 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:36:45.013 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:36:45.058 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:36:45.062 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:36:45.0622510Z"
2025-01-21 16:36:45.069 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:36:45.079 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:36:45.0799236Z"
2025-01-21 16:36:45.084 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:36:45.0848528Z"
2025-01-21 16:36:45.086 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:36:45.0869674Z"
2025-01-21 16:36:45.089 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.8674ms.
2025-01-21 16:36:45.092 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:36:45.102 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 78.0153ms
2025-01-21 16:36:45.106 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:36:45.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 109.1011ms
2025-01-21 16:36:47.944 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 16:36:47.951 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:36:47.952 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.4914ms
2025-01-21 16:36:47.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:36:47.963 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:36:47.969 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:36:47.972 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:36:48.018 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:36:48.021 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:36:48.023 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:36:48.0234825Z"
2025-01-21 16:36:48.035 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:36:48.041 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:36:48.0419208Z"
2025-01-21 16:36:48.043 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:36:48.046 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.2746ms.
2025-01-21 16:36:48.051 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:36:48.053 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 77.0668ms
2025-01-21 16:36:48.058 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:36:48.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 103.1165ms
2025-01-21 16:36:50.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:36:50.522 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:36:50.523 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:36:50.525 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:36:50.567 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:36:50.570 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:36:50.573 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:36:50.5737461Z"
2025-01-21 16:36:50.590 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:36:50.595 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:36:50.5953234Z"
2025-01-21 16:36:50.597 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:36:50.600 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.7565ms.
2025-01-21 16:36:50.607 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:36:50.610 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 80.559ms
2025-01-21 16:36:50.613 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:36:50.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 100.4444ms
2025-01-21 16:37:50.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:37:50.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:37:50.262 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:37:50.266 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:37:50.268 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:37:50.270 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:37:50.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 30.351ms
2025-01-21 16:37:50.274 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 32.2101ms
2025-01-21 16:37:51.513 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:37:51.902 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:52.006 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 492.5388ms
2025-01-21 16:37:52.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:37:52.043 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:52.053 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:52.055 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:37:52.134 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:37:52.138 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:37:52.1382817Z"
2025-01-21 16:37:52.146 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:37:52.165 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:52.1652587Z"
2025-01-21 16:37:52.168 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:52.1681351Z"
2025-01-21 16:37:52.170 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:52.1703461Z"
2025-01-21 16:37:52.180 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.1871ms.
2025-01-21 16:37:52.185 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:37:52.191 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 122.5981ms
2025-01-21 16:37:52.201 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:52.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 194.3874ms
2025-01-21 16:37:53.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:37:53.983 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:37:53.986 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:37:53.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.764ms
2025-01-21 16:37:54.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:37:54.706 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:54.710 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:54.717 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:37:54.761 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:37:54.765 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:37:54.7657226Z"
2025-01-21 16:37:54.771 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:37:54.775 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:54.7756838Z"
2025-01-21 16:37:54.776 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:54.7768479Z"
2025-01-21 16:37:54.781 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:54.7810637Z"
2025-01-21 16:37:54.782 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.9218ms.
2025-01-21 16:37:54.785 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:37:54.787 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 65.6734ms
2025-01-21 16:37:54.789 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:54.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 89.5198ms
2025-01-21 16:37:59.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 16:37:59.322 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:59.323 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 6.4212ms
2025-01-21 16:37:59.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:37:59.334 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:59.336 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:37:59.337 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:37:59.380 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:37:59.383 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:37:59.385 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:37:59.3854426Z"
2025-01-21 16:37:59.398 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:37:59.403 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:59.4034253Z"
2025-01-21 16:37:59.409 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:37:59.412 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.5963ms.
2025-01-21 16:37:59.417 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:37:59.422 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 77.6443ms
2025-01-21 16:37:59.425 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:37:59.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 99.6072ms
2025-01-21 16:37:59.440 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:37:59.445 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:59.447 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.328ms
2025-01-21 16:37:59.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:37:59.462 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:37:59.465 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:59.467 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:37:59.625 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:37:59.629 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:37:59.6292534Z"
2025-01-21 16:37:59.635 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:37:59.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:59.6390374Z"
2025-01-21 16:37:59.640 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:59.6401546Z"
2025-01-21 16:37:59.641 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:37:59.6416173Z"
2025-01-21 16:37:59.646 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.5492ms.
2025-01-21 16:37:59.650 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:37:59.653 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 178.3865ms
2025-01-21 16:37:59.655 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:37:59.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 200.7556ms
2025-01-21 16:38:00.501 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:38:00.508 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:00.513 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:38:00.516 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:38:00.570 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:38:00.572 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:38:00.574 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:38:00.5747391Z"
2025-01-21 16:38:00.588 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:38:00.592 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:00.5929312Z"
2025-01-21 16:38:00.595 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:38:00.598 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.2656ms.
2025-01-21 16:38:00.604 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:38:00.607 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 82.1371ms
2025-01-21 16:38:00.609 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:38:00.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 110.6902ms
2025-01-21 16:38:00.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:38:00.624 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:00.626 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:00.628 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:38:00.719 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:38:00.721 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:38:00.7219840Z"
2025-01-21 16:38:00.727 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:38:00.732 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:00.7327142Z"
2025-01-21 16:38:00.733 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:00.7338652Z"
2025-01-21 16:38:00.735 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:00.7353851Z"
2025-01-21 16:38:00.736 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.9419ms.
2025-01-21 16:38:00.739 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:38:00.749 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 113.1723ms
2025-01-21 16:38:00.753 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:00.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 135.243ms
2025-01-21 16:38:02.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:38:02.905 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:02.907 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:38:02.908 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:38:02.954 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:38:02.957 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:38:02.960 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:38:02.9603699Z"
2025-01-21 16:38:02.971 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:38:02.980 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:02.9799941Z"
2025-01-21 16:38:02.982 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:38:02.985 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.9016ms.
2025-01-21 16:38:02.990 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:38:02.994 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 78.8684ms
2025-01-21 16:38:02.998 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:38:03.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 101.1327ms
2025-01-21 16:38:03.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:38:03.014 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:03.016 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:03.018 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:38:03.136 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:38:03.140 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:38:03.1400280Z"
2025-01-21 16:38:03.146 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:38:03.152 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:03.1520952Z"
2025-01-21 16:38:03.153 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:03.1535952Z"
2025-01-21 16:38:03.155 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:03.1555828Z"
2025-01-21 16:38:03.157 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.761ms.
2025-01-21 16:38:03.166 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:38:03.169 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 144.2529ms
2025-01-21 16:38:03.171 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:03.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 164.5177ms
2025-01-21 16:38:57.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:38:57.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:38:57.427 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:38:57.430 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:38:57.436 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:38:57.468 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:38:57.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 69.4203ms
2025-01-21 16:38:57.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 52.2391ms
2025-01-21 16:38:57.836 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:38:57.841 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:57.843 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.1976ms
2025-01-21 16:38:57.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:38:57.854 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:38:57.857 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:57.858 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:38:57.908 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:38:57.911 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:38:57.9112846Z"
2025-01-21 16:38:57.917 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:38:57.921 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:57.9211350Z"
2025-01-21 16:38:57.924 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:57.9243500Z"
2025-01-21 16:38:57.925 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:38:57.9258989Z"
2025-01-21 16:38:57.928 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.8517ms.
2025-01-21 16:38:57.931 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:38:57.934 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 66.1927ms
2025-01-21 16:38:57.936 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:38:57.941 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 90.4059ms
2025-01-21 16:39:04.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:39:04.029 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:39:04.032 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:39:04.034 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.7965ms
2025-01-21 16:39:04.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:39:04.329 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:04.332 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.1342ms
2025-01-21 16:39:04.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:39:04.342 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:04.345 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:39:04.350 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:39:04.394 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:39:04.397 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:39:04.3975498Z"
2025-01-21 16:39:04.403 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:39:04.409 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:04.4095362Z"
2025-01-21 16:39:04.416 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:04.4167360Z"
2025-01-21 16:39:04.419 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:04.4196239Z"
2025-01-21 16:39:04.422 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.8497ms.
2025-01-21 16:39:04.425 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:39:04.436 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.1273ms
2025-01-21 16:39:04.438 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:39:04.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 109.4536ms
2025-01-21 16:39:14.613 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 16:39:14.619 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:14.621 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.5175ms
2025-01-21 16:39:14.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 16:39:14.634 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:14.636 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:39:14.637 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 16:39:14.675 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 16:39:14.679 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 16:39:14.682 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T14:39:14.6823724Z"
2025-01-21 16:39:14.693 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:39:14.699 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:14.6998650Z"
2025-01-21 16:39:14.701 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 16:39:14.703 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.7135ms.
2025-01-21 16:39:14.706 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:39:14.708 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 67.7647ms
2025-01-21 16:39:14.715 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 16:39:14.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 92.1388ms
2025-01-21 16:39:14.724 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:39:14.735 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:14.736 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 12.0335ms
2025-01-21 16:39:14.744 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:39:14.750 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:39:14.752 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:39:14.754 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:39:14.856 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:39:14.859 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:39:14.8592307Z"
2025-01-21 16:39:14.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:39:14.874 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:14.8742912Z"
2025-01-21 16:39:14.877 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:14.8775267Z"
2025-01-21 16:39:14.881 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:39:14.8811546Z"
2025-01-21 16:39:14.886 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.2088ms.
2025-01-21 16:39:14.890 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:39:14.895 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 130.1007ms
2025-01-21 16:39:14.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:39:14.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 159.2194ms
2025-01-21 16:40:03.117 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 16:40:03.139 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:03.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 24.3348ms
2025-01-21 16:40:03.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 16:40:03.172 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:03.174 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:40:03.186 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:40:03.224 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:40:03.230 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T14:40:03.2305516Z"
2025-01-21 16:40:03.234 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:40:03.2348327Z"
2025-01-21 16:40:03.238 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:40:03.2381548Z"
2025-01-21 16:40:03.255 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:40:03.261 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T14:40:03.2619041Z"
2025-01-21 16:40:03.267 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T14:40:03.2674550Z"
2025-01-21 16:40:03.270 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.3288ms.
2025-01-21 16:40:03.272 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:40:03.275 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 84.6188ms
2025-01-21 16:40:03.277 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:40:03.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 115.0901ms
2025-01-21 16:40:03.289 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 16:40:03.293 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:03.299 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 9.8927ms
2025-01-21 16:40:03.305 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-21 16:40:03.308 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:03.309 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 16:40:03.316 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 16:40:03.322 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 16:40:03.423 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 16:40:03.432 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-21 16:40:03.434 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 16:40:03.440 +02:00 [INF] Received request to fetch user by token.
2025-01-21 16:40:03.441 +02:00 [INF] Parsing token...
2025-01-21 16:40:03.445 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 16:40:03.495 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 16:40:03.501 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-21 16:40:03.665 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-21 16:40:03.851 +02:00 [ERR] Error occurred while adding Gift 13 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-21 16:40:03.861 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 435.0674ms.
2025-01-21 16:40:03.864 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 16:40:03.867 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 536.5437ms
2025-01-21 16:40:03.874 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 16:40:03.877 +02:00 [INF] Outgoing Response: 500
2025-01-21 16:40:03.879 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 500 null text/plain; charset=utf-8 574.7836ms
2025-01-21 16:40:52.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:40:52.685 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:40:52.688 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:40:52.690 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 23.5042ms
2025-01-21 16:40:53.195 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:40:53.202 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:53.206 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 10.2945ms
2025-01-21 16:40:53.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:40:53.222 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:53.228 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:40:53.230 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:40:53.304 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:40:53.307 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:40:53.3079500Z"
2025-01-21 16:40:53.318 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:40:53.351 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:53.3511843Z"
2025-01-21 16:40:53.352 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:53.3529298Z"
2025-01-21 16:40:53.355 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:53.3552823Z"
2025-01-21 16:40:53.357 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 49.8173ms.
2025-01-21 16:40:53.367 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:40:53.371 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 123.8369ms
2025-01-21 16:40:53.379 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:40:53.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 167.6092ms
2025-01-21 16:40:56.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:40:56.501 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:40:56.503 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:40:56.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.6425ms
2025-01-21 16:40:57.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:40:57.267 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:40:57.272 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:40:57.283 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:40:57.363 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:40:57.367 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:40:57.3676776Z"
2025-01-21 16:40:57.376 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:40:57.387 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:57.3873963Z"
2025-01-21 16:40:57.390 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:57.3902144Z"
2025-01-21 16:40:57.394 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:40:57.3940480Z"
2025-01-21 16:40:57.400 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.9579ms.
2025-01-21 16:40:57.410 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:40:57.418 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 119.432ms
2025-01-21 16:40:57.421 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:40:57.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 162.8801ms
2025-01-21 16:41:17.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:41:17.614 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:41:17.617 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:41:17.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.914ms
2025-01-21 16:41:18.674 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:41:18.680 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:41:18.683 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.3516ms
2025-01-21 16:41:18.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:41:18.698 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:41:18.700 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:41:18.702 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:41:18.766 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:41:18.769 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:41:18.7694620Z"
2025-01-21 16:41:18.775 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:41:18.781 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:18.7812028Z"
2025-01-21 16:41:18.782 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:18.7823569Z"
2025-01-21 16:41:18.787 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:18.7879492Z"
2025-01-21 16:41:18.790 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.0994ms.
2025-01-21 16:41:18.796 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:41:18.800 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.6439ms
2025-01-21 16:41:18.805 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:41:18.807 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 115.2993ms
2025-01-21 16:41:36.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 16:41:36.675 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:41:36.682 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:41:36.684 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.0053ms
2025-01-21 16:41:37.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:41:37.333 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:41:37.337 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.2468ms
2025-01-21 16:41:37.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 16:41:37.358 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:41:37.368 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:41:37.370 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 16:41:37.552 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 16:41:37.574 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T14:41:37.5742156Z"
2025-01-21 16:41:37.663 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 16:41:37.684 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:37.6840194Z"
2025-01-21 16:41:37.702 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:37.7018325Z"
2025-01-21 16:41:37.743 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T14:41:37.7437298Z"
2025-01-21 16:41:37.747 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 173.5571ms.
2025-01-21 16:41:37.755 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:41:37.769 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 388.4539ms
2025-01-21 16:41:37.787 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 16:41:37.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 438.4342ms
2025-01-21 16:42:04.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 16:42:04.615 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:42:04.617 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 25.0588ms
2025-01-21 16:42:04.643 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 16:42:04.648 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:42:04.650 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:42:04.658 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 16:42:04.735 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 16:42:04.765 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 16:42:04.965 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 16:42:05.022 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 16:42:05.066 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 16:42:05.085 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 347.8973ms.
2025-01-21 16:42:05.088 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:42:05.094 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 430.9412ms
2025-01-21 16:42:05.098 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:42:05.101 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 458.2983ms
2025-01-21 16:44:25.806 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:44:25.815 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:44:25.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.3983ms
2025-01-21 16:44:25.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:44:25.864 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:44:25.869 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:44:25.872 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:44:25.930 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:44:25.935 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:44:25.9358230Z"
2025-01-21 16:44:25.940 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:44:25.9403395Z"
2025-01-21 16:44:25.944 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:44:25.9443362Z"
2025-01-21 16:44:25.967 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:44:25.972 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:44:25.9727274Z"
2025-01-21 16:44:25.979 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:44:25.9793129Z"
2025-01-21 16:44:25.981 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:44:25.9815694Z"
2025-01-21 16:44:25.983 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 48.1562ms.
2025-01-21 16:44:25.986 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:44:25.991 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 111.132ms
2025-01-21 16:44:25.999 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:44:26.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 150.338ms
2025-01-21 16:45:14.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:14.714 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:45:14.716 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:45:14.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 22.1968ms
2025-01-21 16:45:15.621 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:15.649 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:15.651 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 29.8482ms
2025-01-21 16:45:15.660 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:45:15.664 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:15.667 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:15.673 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:45:15.719 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:45:15.722 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:15.7227116Z"
2025-01-21 16:45:15.724 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:15.7249636Z"
2025-01-21 16:45:15.727 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:15.7273132Z"
2025-01-21 16:45:15.747 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:45:15.753 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:15.7536449Z"
2025-01-21 16:45:15.755 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:15.7554182Z"
2025-01-21 16:45:15.757 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:15.7577105Z"
2025-01-21 16:45:15.759 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.2004ms.
2025-01-21 16:45:15.763 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:15.770 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 91.3653ms
2025-01-21 16:45:15.773 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:15.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 117.3703ms
2025-01-21 16:45:27.379 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:27.383 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:45:27.385 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:45:27.387 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 8.3526ms
2025-01-21 16:45:28.122 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:28.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:28.130 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.648ms
2025-01-21 16:45:28.137 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:45:28.142 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:28.149 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:28.151 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:45:28.216 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:45:28.219 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:28.2199516Z"
2025-01-21 16:45:28.222 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:28.2222935Z"
2025-01-21 16:45:28.225 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:28.2251294Z"
2025-01-21 16:45:28.242 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:45:28.250 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:28.2504631Z"
2025-01-21 16:45:28.252 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:28.2522540Z"
2025-01-21 16:45:28.260 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:28.2605940Z"
2025-01-21 16:45:28.263 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.5466ms.
2025-01-21 16:45:28.270 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:28.282 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 126.674ms
2025-01-21 16:45:28.285 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:28.290 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 153.4914ms
2025-01-21 16:45:38.735 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:38.741 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:45:38.744 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:45:38.747 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 12.4799ms
2025-01-21 16:45:39.251 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:39.304 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:39.311 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 59.5613ms
2025-01-21 16:45:39.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:45:39.339 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:39.349 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:39.352 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:45:39.474 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:45:39.480 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:39.4806861Z"
2025-01-21 16:45:39.482 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:39.4827070Z"
2025-01-21 16:45:39.485 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:39.4855406Z"
2025-01-21 16:45:39.535 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:45:39.550 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:39.5503161Z"
2025-01-21 16:45:39.563 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:39.5634293Z"
2025-01-21 16:45:39.569 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:39.5690670Z"
2025-01-21 16:45:39.571 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 90.2999ms.
2025-01-21 16:45:39.580 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:39.594 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 230.1688ms
2025-01-21 16:45:39.604 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:39.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 280.3708ms
2025-01-21 16:45:40.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:40.359 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:45:40.362 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:45:40.364 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 13.3467ms
2025-01-21 16:45:40.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:45:40.871 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:40.875 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:40.877 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:45:40.938 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:45:40.945 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:40.9456117Z"
2025-01-21 16:45:40.947 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:40.9477011Z"
2025-01-21 16:45:40.955 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:40.9552125Z"
2025-01-21 16:45:40.987 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:45:41.049 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:41.0492445Z"
2025-01-21 16:45:41.054 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:41.0541987Z"
2025-01-21 16:45:41.071 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:41.0712615Z"
2025-01-21 16:45:41.084 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 138.9106ms.
2025-01-21 16:45:41.113 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:41.119 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 234.649ms
2025-01-21 16:45:41.132 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:41.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 281.3345ms
2025-01-21 16:45:44.419 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:45:44.427 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 16:45:44.446 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:44.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 16:45:44.461 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:44.463 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 44.0261ms
2025-01-21 16:45:44.471 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:44.489 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:45:44.481 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:45:44.475 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 47.2999ms
2025-01-21 16:45:44.499 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:44.500 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 16:45:44.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 16:45:44.512 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:45:44.576 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 16:45:44.578 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:44.593 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:45:44.581 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:45:44.606 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:45:44.610 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:45:44.617 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 16:45:44.648 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:45:44.683 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:45:44.695 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T14:45:44.6953766Z"
2025-01-21 16:45:44.698 +02:00 [INF] Fetching all donators.
2025-01-21 16:45:44.700 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T14:45:44.7007207Z"
2025-01-21 16:45:44.701 +02:00 [INF] Successfully retrieved categories.
2025-01-21 16:45:44.702 +02:00 [INF] Fetching all donators.
2025-01-21 16:45:44.708 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T14:45:44.7080945Z"
2025-01-21 16:45:44.710 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 123.4224ms.
2025-01-21 16:45:44.715 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:45:44.741 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:44.746 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:45:44.784 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 257.8445ms
2025-01-21 16:45:44.789 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:45:44.786 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:45:44.785 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.8125ms.
2025-01-21 16:45:44.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 365.9441ms
2025-01-21 16:45:44.805 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T14:45:44.8050876Z"
2025-01-21 16:45:44.816 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:44.826 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T14:45:44.8259663Z"
2025-01-21 16:45:44.835 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 181.8321ms
2025-01-21 16:45:44.840 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:45:44.837 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 142.3461ms.
2025-01-21 16:45:44.847 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:45:44.853 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:45:44.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 374.469ms
2025-01-21 16:45:44.865 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 248.8578ms
2025-01-21 16:45:44.881 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:45:44.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 373.9209ms
2025-01-21 16:45:51.423 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:45:51.427 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 16:45:51.428 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:51.429 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 16:45:51.434 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:51.436 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 13.352ms
2025-01-21 16:45:51.457 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:45:51.444 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:45:51.442 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:51.462 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:51.465 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 16:45:51.467 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 37.1678ms
2025-01-21 16:45:51.471 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:45:51.511 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 16:45:51.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 16:45:51.520 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:45:51.530 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 16:45:51.531 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:51.534 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:45:51.543 +02:00 [INF] Successfully retrieved categories.
2025-01-21 16:45:51.546 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:45:51.611 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:45:51.612 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.4676ms.
2025-01-21 16:45:51.615 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:45:51.622 +02:00 [INF] Fetching all donators.
2025-01-21 16:45:51.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:51.699 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:45:51.700 +02:00 [INF] Fetching all donators.
2025-01-21 16:45:51.707 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 231.559ms
2025-01-21 16:45:51.718 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T14:45:51.7185999Z"
2025-01-21 16:45:51.734 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:45:51.734 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:45:51.737 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:45:51.7374858Z"
2025-01-21 16:45:51.747 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:45:51.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 323.7644ms
2025-01-21 16:45:51.754 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:45:51.7543231Z"
2025-01-21 16:45:51.762 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 140.093ms.
2025-01-21 16:45:51.784 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:45:51.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:51.795 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T14:45:51.7954835Z"
2025-01-21 16:45:51.798 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 248.2454ms
2025-01-21 16:45:51.801 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T14:45:51.8010353Z"
2025-01-21 16:45:51.804 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:45:51.814 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.3013ms.
2025-01-21 16:45:51.831 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:45:51.818 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:45:51.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 381.4297ms
2025-01-21 16:45:51.835 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 196.4114ms
2025-01-21 16:45:51.869 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:45:51.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 362.5034ms
2025-01-21 16:45:57.205 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:45:57.211 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:57.213 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.6752ms
2025-01-21 16:45:57.218 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 184
2025-01-21 16:45:57.226 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:57.228 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:45:57.235 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 16:45:57.298 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 16:45:57.303 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T14:45:57.3037190Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 16:45:57.324 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 13 at "2025-01-21T14:45:57.3245570Z"
2025-01-21 16:45:57.345 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 16:45:57.407 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 13 at "2025-01-21T14:45:57.4074514Z"
2025-01-21 16:45:57.410 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T14:45:57.4101711Z"
2025-01-21 16:45:57.411 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.8848ms.
2025-01-21 16:45:57.414 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:45:57.418 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 171.6146ms
2025-01-21 16:45:57.420 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:45:57.423 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 204.8608ms
2025-01-21 16:45:57.536 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:45:57.543 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:57.545 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.5724ms
2025-01-21 16:45:57.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:45:57.564 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:45:57.567 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:57.573 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:45:57.612 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:45:57.616 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:57.6160931Z"
2025-01-21 16:45:57.618 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:57.6181151Z"
2025-01-21 16:45:57.620 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:45:57.6200648Z"
2025-01-21 16:45:57.637 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:45:57.648 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:57.6484230Z"
2025-01-21 16:45:57.650 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:57.6504733Z"
2025-01-21 16:45:57.652 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:45:57.6529350Z"
2025-01-21 16:45:57.655 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.0805ms.
2025-01-21 16:45:57.662 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:45:57.665 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 86.1041ms
2025-01-21 16:45:57.667 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:45:57.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 111.0968ms
2025-01-21 16:46:05.776 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:46:05.783 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:05.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 16:46:05.785 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 16:46:05.796 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:05.792 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:05.786 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.8561ms
2025-01-21 16:46:05.802 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 17.1579ms
2025-01-21 16:46:05.807 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:46:05.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:46:05.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 16:46:05.823 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 16:46:05.828 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:05.836 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:05.845 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:46:05.875 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 16:46:05.877 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:46:05.879 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:46:05.886 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:46:05.886 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 16:46:05.888 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:46:05.944 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:46:05.947 +02:00 [INF] Successfully retrieved categories.
2025-01-21 16:46:05.987 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:46:05.990 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T14:46:05.9902795Z"
2025-01-21 16:46:05.991 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.0765ms.
2025-01-21 16:46:05.994 +02:00 [INF] Fetching all donators.
2025-01-21 16:46:05.996 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:46:05.9966407Z"
2025-01-21 16:46:05.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:46:06.003 +02:00 [INF] Fetching all donators.
2025-01-21 16:46:06.005 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:46:06.0056446Z"
2025-01-21 16:46:06.010 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 166.363ms
2025-01-21 16:46:06.018 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:46:06.025 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:46:06.026 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:46:06.032 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:46:06.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 256.7448ms
2025-01-21 16:46:06.051 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T14:46:06.0517557Z"
2025-01-21 16:46:06.053 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.4902ms.
2025-01-21 16:46:06.063 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T14:46:06.0632175Z"
2025-01-21 16:46:06.068 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:46:06.070 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.97ms.
2025-01-21 16:46:06.073 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 122.9856ms
2025-01-21 16:46:06.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:46:06.085 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:46:06.089 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 192.7225ms
2025-01-21 16:46:06.091 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:46:06.098 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:46:06.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 287.8791ms
2025-01-21 16:46:06.102 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 282.3501ms
2025-01-21 16:46:11.795 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:46:11.800 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:11.803 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.5472ms
2025-01-21 16:46:11.812 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 184
2025-01-21 16:46:11.816 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:11.819 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:46:11.821 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 16:46:11.860 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 16:46:11.864 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T14:46:11.8641634Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 16:46:11.867 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 13 at "2025-01-21T14:46:11.8671936Z"
2025-01-21 16:46:11.873 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 16:46:11.879 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 13 at "2025-01-21T14:46:11.8796211Z"
2025-01-21 16:46:11.881 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T14:46:11.8811534Z"
2025-01-21 16:46:11.882 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.5308ms.
2025-01-21 16:46:11.885 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:46:11.894 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 65.0956ms
2025-01-21 16:46:11.897 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:46:11.900 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 87.8098ms
2025-01-21 16:46:12.005 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:46:12.011 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:12.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.7855ms
2025-01-21 16:46:12.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:46:12.026 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:46:12.028 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:46:12.031 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:46:12.075 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:46:12.078 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:46:12.0783069Z"
2025-01-21 16:46:12.080 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:46:12.0805454Z"
2025-01-21 16:46:12.082 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:46:12.0825129Z"
2025-01-21 16:46:12.094 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:46:12.099 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:46:12.0994135Z"
2025-01-21 16:46:12.100 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:46:12.1009833Z"
2025-01-21 16:46:12.102 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:46:12.1026059Z"
2025-01-21 16:46:12.104 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.2792ms.
2025-01-21 16:46:12.112 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:46:12.115 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 79.2935ms
2025-01-21 16:46:12.117 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:46:12.120 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 99.5327ms
2025-01-21 16:52:16.480 +02:00 [INF] Starting up the application
2025-01-21 16:52:20.174 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 16:52:22.556 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 16:52:22.747 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 16:52:23.205 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 16:52:23.214 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 16:52:23.216 +02:00 [INF] Hosting environment: Development
2025-01-21 16:52:23.218 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 16:52:24.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 16:52:25.017 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 407.7081ms
2025-01-21 16:52:25.051 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 16:52:25.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 24.6487ms
2025-01-21 16:52:25.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 16:52:25.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 365.0249ms
2025-01-21 16:53:33.770 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 16:53:33.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 16:53:33.772 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 16:53:33.830 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:33.830 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:33.833 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:33.838 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 16:53:33.839 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 68.9093ms
2025-01-21 16:53:33.844 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 71.942ms
2025-01-21 16:53:33.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 16:53:33.890 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 16:53:33.894 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:33.909 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:33.946 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 16:53:34.148 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:53:34.207 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 16:53:34.387 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 16:53:34.396 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:53:34.396 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:53:34.406 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 16:53:34.420 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 16:53:34.519 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 16:53:34.552 +02:00 [INF] Successfully retrieved categories.
2025-01-21 16:53:34.565 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 164.5443ms.
2025-01-21 16:53:34.587 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:53:34.643 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 424.8112ms
2025-01-21 16:53:34.647 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 16:53:34.710 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 16:53:34.725 +02:00 [INF] Fetching all donators.
2025-01-21 16:53:34.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 953.375ms
2025-01-21 16:53:34.750 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 16:53:34.750 +02:00 [INF] Fetching all donators.
2025-01-21 16:53:34.760 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T14:53:34.7595740Z"
2025-01-21 16:53:34.767 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:53:34.7668930Z"
2025-01-21 16:53:34.770 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T14:53:34.7703930Z"
2025-01-21 16:53:34.793 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 16:53:34.828 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 16:53:34.838 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 16:53:34.839 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.1348ms.
2025-01-21 16:53:34.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:53:34.868 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T14:53:34.8683211Z"
2025-01-21 16:53:34.870 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T14:53:34.8704717Z"
2025-01-21 16:53:34.873 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.8789ms.
2025-01-21 16:53:34.876 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 463.3337ms
2025-01-21 16:53:34.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 16:53:34.878 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 16:53:34.886 +02:00 [INF] Outgoing Response: 200
2025-01-21 16:53:34.888 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 460.0482ms
2025-01-21 16:53:34.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 1005.5378ms
2025-01-21 16:53:34.892 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 16:53:34.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 1012.4275ms
2025-01-21 16:53:39.894 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 16:53:39.901 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:39.904 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.7843ms
2025-01-21 16:53:39.915 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 185
2025-01-21 16:53:39.921 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:39.932 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:53:39.950 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 16:53:40.055 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 16:53:40.060 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T14:53:40.0607602Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 16:53:40.076 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 13 at "2025-01-21T14:53:40.0760035Z"
2025-01-21 16:53:40.105 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 16:53:40.178 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 13 at "2025-01-21T14:53:40.1788175Z"
2025-01-21 16:53:40.180 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T14:53:40.1807241Z"
2025-01-21 16:53:40.182 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 124.3964ms.
2025-01-21 16:53:40.185 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 16:53:40.201 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 241.4801ms
2025-01-21 16:53:40.203 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 16:53:40.205 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 290.426ms
2025-01-21 16:53:40.318 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:53:40.327 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:40.330 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 12.16ms
2025-01-21 16:53:40.342 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:53:40.395 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:53:40.404 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:53:40.416 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:53:40.476 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:53:40.480 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:53:40.4801061Z"
2025-01-21 16:53:40.482 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:53:40.4824083Z"
2025-01-21 16:53:40.485 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:53:40.4858748Z"
2025-01-21 16:53:40.654 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:53:40.660 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:53:40.6609427Z"
2025-01-21 16:53:40.662 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:53:40.6623369Z"
2025-01-21 16:53:40.665 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:53:40.6658710Z"
2025-01-21 16:53:40.667 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 188.7741ms.
2025-01-21 16:53:40.670 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:53:40.680 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 252.7368ms
2025-01-21 16:53:40.683 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:53:40.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 344.0734ms
2025-01-21 16:54:42.663 +02:00 [INF] Starting up the application
2025-01-21 16:54:46.584 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 16:54:49.477 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 16:54:49.671 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 16:54:50.152 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 16:54:50.160 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 16:54:50.162 +02:00 [INF] Hosting environment: Development
2025-01-21 16:54:50.164 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 16:54:51.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 16:54:51.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 467.509ms
2025-01-21 16:54:51.651 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 16:54:51.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.5245ms
2025-01-21 16:54:51.932 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 16:54:52.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 334.5141ms
2025-01-21 16:57:29.931 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:57:29.942 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 16:57:30.152 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 16:57:30.163 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 16:57:30.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 234.2957ms
2025-01-21 16:57:31.454 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 16:57:31.460 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:57:31.465 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 10.9489ms
2025-01-21 16:57:31.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 16:57:31.479 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:57:31.645 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:57:31.690 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 16:57:32.132 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 16:57:32.141 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:57:32.1407787Z"
2025-01-21 16:57:32.145 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:57:32.1453169Z"
2025-01-21 16:57:32.152 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T14:57:32.1525352Z"
2025-01-21 16:57:32.434 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 16:57:32.443 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:57:32.4431031Z"
2025-01-21 16:57:32.446 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:57:32.4468927Z"
2025-01-21 16:57:32.448 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T14:57:32.4485309Z"
2025-01-21 16:57:32.457 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 316.8734ms.
2025-01-21 16:57:32.476 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 16:57:32.546 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 844.4554ms
2025-01-21 16:57:32.550 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 16:57:32.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 1090.4027ms
2025-01-21 16:58:17.110 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 16:58:17.115 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:58:17.117 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.157ms
2025-01-21 16:58:17.146 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 52
2025-01-21 16:58:17.154 +02:00 [INF] CORS policy execution successful.
2025-01-21 16:58:17.158 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:58:17.180 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 16:58:17.297 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 16:58:17.349 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 16:58:17.357 +02:00 [WRN] Invalid login attempt: aa@example.com
2025-01-21 16:58:17.360 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 56.8496ms.
2025-01-21 16:58:17.363 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 16:58:17.365 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 179.2504ms
2025-01-21 16:58:17.368 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 16:58:17.375 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 228.8902ms
2025-01-21 17:00:03.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 17:00:03.089 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:03.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 19.264ms
2025-01-21 17:00:03.115 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 17:00:03.121 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:03.129 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:00:03.131 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 17:00:03.186 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 17:00:03.199 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 17:00:03.422 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 17:00:03.478 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 17:00:03.516 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 17:00:03.543 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 354.6726ms.
2025-01-21 17:00:03.547 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:00:03.565 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 422.9283ms
2025-01-21 17:00:03.567 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:00:03.571 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 455.2404ms
2025-01-21 17:00:09.569 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 17:00:09.575 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:09.577 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.8526ms
2025-01-21 17:00:09.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 17:00:09.594 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:09.605 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 17:00:09.607 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 17:00:09.652 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 17:00:09.654 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T15:00:09.6547283Z"
2025-01-21 17:00:09.656 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T15:00:09.6566373Z"
2025-01-21 17:00:09.658 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T15:00:09.6582167Z"
2025-01-21 17:00:09.675 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:00:09.680 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T15:00:09.6809485Z"
2025-01-21 17:00:09.682 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T15:00:09.6821567Z"
2025-01-21 17:00:09.683 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T15:00:09.6837478Z"
2025-01-21 17:00:09.685 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.8123ms.
2025-01-21 17:00:09.689 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:00:09.698 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 86.4985ms
2025-01-21 17:00:09.701 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 17:00:09.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 121.7927ms
2025-01-21 17:00:13.005 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:00:13.010 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:13.012 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2788ms
2025-01-21 17:00:13.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:00:13.026 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:13.030 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:00:13.044 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:00:13.103 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:00:13.112 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:00:13.1124661Z"
2025-01-21 17:00:13.140 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:00:13.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:00:13.2123261Z"
2025-01-21 17:00:13.213 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:00:13.2139437Z"
2025-01-21 17:00:13.215 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:00:13.2157357Z"
2025-01-21 17:00:13.217 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 107.0826ms.
2025-01-21 17:00:13.220 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:00:13.245 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 190.3821ms
2025-01-21 17:00:13.247 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:00:13.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 228.8942ms
2025-01-21 17:00:17.382 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:00:17.389 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:17.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.7915ms
2025-01-21 17:00:17.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:00:17.406 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:17.409 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:00:17.421 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:00:17.479 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:00:17.485 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:00:17.495 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:00:17.4953752Z"
2025-01-21 17:00:17.526 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:00:17.531 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:00:17.5313802Z"
2025-01-21 17:00:17.533 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:00:17.538 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.7027ms.
2025-01-21 17:00:17.541 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:00:17.550 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 123.2297ms
2025-01-21 17:00:17.553 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:00:17.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 160.5653ms
2025-01-21 17:00:24.358 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:00:24.364 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:24.366 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.6382ms
2025-01-21 17:00:24.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:00:24.382 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:00:24.384 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:00:24.386 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:00:24.426 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:00:24.429 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:00:24.431 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:00:24.4317382Z"
2025-01-21 17:00:24.445 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:00:24.449 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:00:24.4498742Z"
2025-01-21 17:00:24.451 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:00:24.458 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.2033ms.
2025-01-21 17:00:24.462 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:00:24.465 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 70.1291ms
2025-01-21 17:00:24.472 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:00:24.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 97.5626ms
2025-01-21 17:01:51.501 +02:00 [INF] Starting up the application
2025-01-21 17:01:55.838 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:01:58.808 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:01:59.007 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:01:59.460 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:01:59.506 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:01:59.509 +02:00 [INF] Hosting environment: Development
2025-01-21 17:01:59.511 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:02:00.898 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:02:01.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 348.067ms
2025-01-21 17:02:01.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:02:01.397 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 20.6692ms
2025-01-21 17:02:01.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:02:02.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 315.1321ms
2025-01-21 17:02:43.703 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:02:43.729 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:02:43.935 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:02:43.945 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:02:43.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 244.1311ms
2025-01-21 17:02:44.814 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:02:44.904 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:02:44.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 100.8442ms
2025-01-21 17:02:44.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:02:44.940 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:02:45.143 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:02:45.178 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:02:45.611 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:02:45.621 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:02:45.6207039Z"
2025-01-21 17:02:45.731 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:02:45.799 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:02:45.7987876Z"
2025-01-21 17:02:45.802 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:02:45.8016682Z"
2025-01-21 17:02:45.803 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:02:45.8033733Z"
2025-01-21 17:02:45.811 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 191.9285ms.
2025-01-21 17:02:45.831 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:02:45.926 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 734.5148ms
2025-01-21 17:02:45.930 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:02:45.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1014.8153ms
2025-01-21 17:02:48.491 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:02:48.497 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:02:48.498 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.1302ms
2025-01-21 17:02:48.508 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:02:48.514 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:02:48.523 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:02:48.544 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:02:48.610 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:02:48.615 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:02:48.623 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:02:48.6230662Z"
2025-01-21 17:02:48.812 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:02:48.817 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:02:48.8179640Z"
2025-01-21 17:02:48.819 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:02:48.821 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 208.2778ms.
2025-01-21 17:02:48.827 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:02:48.848 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 300.4151ms
2025-01-21 17:02:48.852 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:02:48.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 348.7281ms
2025-01-21 17:03:42.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:03:42.456 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:03:42.459 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:03:42.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.5013ms
2025-01-21 17:03:42.994 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:03:43.029 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:03:43.033 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 38.106ms
2025-01-21 17:03:43.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:03:43.046 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:03:43.052 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:03:43.059 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:03:43.201 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:03:43.209 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:03:43.2092088Z"
2025-01-21 17:03:43.321 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:03:43.345 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:03:43.3456493Z"
2025-01-21 17:03:43.347 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:03:43.3476571Z"
2025-01-21 17:03:43.351 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:03:43.3513290Z"
2025-01-21 17:03:43.416 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 207.379ms.
2025-01-21 17:03:43.425 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:03:43.428 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 360.0998ms
2025-01-21 17:03:43.441 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:03:43.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 408.7113ms
2025-01-21 17:03:45.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:03:45.735 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:03:45.737 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.4225ms
2025-01-21 17:03:45.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:03:45.749 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:03:45.754 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:03:45.758 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:03:45.792 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:03:45.795 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:03:45.797 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:03:45.7970268Z"
2025-01-21 17:03:45.813 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:03:45.819 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:03:45.8191987Z"
2025-01-21 17:03:45.822 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:03:45.824 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.1228ms.
2025-01-21 17:03:45.826 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:03:45.829 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 66.0425ms
2025-01-21 17:03:45.831 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:03:45.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 89.6959ms
2025-01-21 17:04:38.648 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:04:38.671 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:04:38.674 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:04:38.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.1673ms
2025-01-21 17:04:39.161 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:04:39.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:04:39.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 28.004ms
2025-01-21 17:04:39.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:04:39.204 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:04:39.208 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:04:39.214 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:04:39.327 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:04:39.333 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:04:39.3337535Z"
2025-01-21 17:04:39.344 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:04:39.352 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:39.3524163Z"
2025-01-21 17:04:39.357 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:39.3574202Z"
2025-01-21 17:04:39.360 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:39.3602269Z"
2025-01-21 17:04:39.365 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.3781ms.
2025-01-21 17:04:39.375 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:04:39.391 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 167.5459ms
2025-01-21 17:04:39.452 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:04:39.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 260.9367ms
2025-01-21 17:04:52.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:04:52.566 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:04:52.570 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:04:52.574 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.6121ms
2025-01-21 17:04:53.011 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:04:53.022 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:04:53.028 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 16.878ms
2025-01-21 17:04:53.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:04:53.052 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:04:53.055 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:04:53.059 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:04:53.129 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:04:53.135 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:04:53.1359223Z"
2025-01-21 17:04:53.145 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:04:53.161 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:53.1612766Z"
2025-01-21 17:04:53.168 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:53.1688434Z"
2025-01-21 17:04:53.171 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:04:53.1710416Z"
2025-01-21 17:04:53.173 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.9421ms.
2025-01-21 17:04:53.178 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:04:53.204 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 136.7933ms
2025-01-21 17:04:53.208 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:04:53.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 214.2311ms
2025-01-21 17:07:13.515 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:07:13.520 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:07:13.524 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:07:13.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.2323ms
2025-01-21 17:07:14.969 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:07:14.975 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:07:14.978 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.2749ms
2025-01-21 17:07:15.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:07:15.025 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:07:15.030 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:07:15.032 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:07:15.108 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:07:15.111 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:07:15.1117283Z"
2025-01-21 17:07:15.122 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:07:15.129 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:07:15.1295406Z"
2025-01-21 17:07:15.136 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:07:15.1362931Z"
2025-01-21 17:07:15.139 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:07:15.1392457Z"
2025-01-21 17:07:15.141 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.0819ms.
2025-01-21 17:07:15.153 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:07:15.157 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 114.3623ms
2025-01-21 17:07:15.160 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:07:15.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 148.8454ms
2025-01-21 17:11:09.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:11:09.479 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:11:09.481 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:11:09.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.0152ms
2025-01-21 17:11:10.351 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:11:10.395 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:11:10.399 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 48.1054ms
2025-01-21 17:11:10.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:11:10.411 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:11:10.416 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:11:10.418 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:11:10.479 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:11:10.486 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:11:10.4860550Z"
2025-01-21 17:11:10.499 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:11:10.508 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:11:10.5082124Z"
2025-01-21 17:11:10.514 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:11:10.5144083Z"
2025-01-21 17:11:10.516 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:11:10.5166305Z"
2025-01-21 17:11:10.518 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.7036ms.
2025-01-21 17:11:10.525 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:11:10.530 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 106.0384ms
2025-01-21 17:11:10.534 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:11:10.537 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 131.3175ms
2025-01-21 17:12:00.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:12:00.724 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:12:00.726 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:12:00.728 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 12.2805ms
2025-01-21 17:12:01.675 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:12:01.699 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:12:01.701 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 25.5518ms
2025-01-21 17:12:01.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:12:01.715 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:12:01.717 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:12:01.719 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:12:01.778 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:12:01.781 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:12:01.7819339Z"
2025-01-21 17:12:01.789 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:12:01.798 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:01.7988045Z"
2025-01-21 17:12:01.800 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:01.8004871Z"
2025-01-21 17:12:01.802 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:01.8027763Z"
2025-01-21 17:12:01.805 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.6503ms.
2025-01-21 17:12:01.815 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:12:01.821 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 93.6748ms
2025-01-21 17:12:01.824 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:12:01.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 122.8151ms
2025-01-21 17:12:45.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:12:45.785 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:12:45.788 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:12:45.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.8331ms
2025-01-21 17:12:46.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:12:46.329 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:12:46.332 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.099ms
2025-01-21 17:12:46.339 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:12:46.347 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:12:46.354 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:12:46.356 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:12:46.458 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:12:46.468 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:12:46.4679816Z"
2025-01-21 17:12:46.477 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:12:46.486 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:46.4863405Z"
2025-01-21 17:12:46.490 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:46.4908526Z"
2025-01-21 17:12:46.496 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:12:46.4958936Z"
2025-01-21 17:12:46.521 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 53.1863ms.
2025-01-21 17:12:46.544 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:12:46.557 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 185.5974ms
2025-01-21 17:12:46.562 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:12:46.571 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 232.1353ms
2025-01-21 17:13:37.108 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:13:37.114 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:37.116 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.9358ms
2025-01-21 17:13:37.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:13:37.128 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:37.131 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:13:37.132 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:13:37.180 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:13:37.184 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:13:37.187 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:13:37.1873041Z"
2025-01-21 17:13:37.198 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:13:37.205 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:13:37.2053611Z"
2025-01-21 17:13:37.206 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:13:37.208 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.1452ms.
2025-01-21 17:13:37.213 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:13:37.220 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 81.5688ms
2025-01-21 17:13:37.222 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:13:37.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 101.8562ms
2025-01-21 17:13:51.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:13:51.636 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:13:51.639 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:13:51.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 13.3705ms
2025-01-21 17:13:52.143 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:13:52.152 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:52.154 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.6456ms
2025-01-21 17:13:52.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:13:52.168 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:52.172 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:13:52.173 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:13:52.298 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:13:52.308 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:13:52.3081950Z"
2025-01-21 17:13:52.317 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:13:52.324 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:13:52.3243169Z"
2025-01-21 17:13:52.327 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:13:52.3269399Z"
2025-01-21 17:13:52.330 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:13:52.3302501Z"
2025-01-21 17:13:52.337 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.5422ms.
2025-01-21 17:13:52.343 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:13:52.352 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 162.9033ms
2025-01-21 17:13:52.354 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:13:52.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 193.9214ms
2025-01-21 17:13:56.303 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - null null
2025-01-21 17:13:56.310 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:56.312 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - 204 null null 8.6659ms
2025-01-21 17:13:56.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - application/json null
2025-01-21 17:13:56.328 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:13:56.334 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:13:56.336 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:13:56.371 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:13:56.373 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: category, order: asc
2025-01-21 17:13:56.376 +02:00 [INF] Starting GetGiftsAsync with sortBy: category, order: asc at "2025-01-21T15:13:56.3768517Z"
2025-01-21 17:13:56.423 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [c].[name]
2025-01-21 17:13:56.429 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:13:56.4299577Z"
2025-01-21 17:13:56.431 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:13:56.433 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.3668ms.
2025-01-21 17:13:56.436 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:13:56.443 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 103.3494ms
2025-01-21 17:13:56.447 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:13:56.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - 200 null application/json; charset=utf-8 127.4553ms
2025-01-21 17:15:42.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:15:42.977 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:15:42.981 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:15:42.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.9047ms
2025-01-21 17:15:43.730 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:15:43.763 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:43.765 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 35.0233ms
2025-01-21 17:15:43.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:15:43.780 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:43.783 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:43.787 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:15:43.847 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:15:43.850 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:15:43.8509475Z"
2025-01-21 17:15:43.858 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:15:43.866 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:43.8662537Z"
2025-01-21 17:15:43.868 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:43.8680122Z"
2025-01-21 17:15:43.871 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:43.8709404Z"
2025-01-21 17:15:43.873 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.5156ms.
2025-01-21 17:15:43.880 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:15:43.884 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 88.9432ms
2025-01-21 17:15:43.886 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:43.889 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 115.1222ms
2025-01-21 17:15:46.260 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:15:46.265 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:15:46.266 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:15:46.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.2785ms
2025-01-21 17:15:46.712 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:15:46.718 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:46.721 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:46.723 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:15:46.766 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:15:46.769 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:15:46.7697125Z"
2025-01-21 17:15:46.777 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:15:46.789 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:46.7896927Z"
2025-01-21 17:15:46.792 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:46.7919703Z"
2025-01-21 17:15:46.797 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:46.7975874Z"
2025-01-21 17:15:46.800 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 30.892ms.
2025-01-21 17:15:46.805 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:15:46.815 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 87.8656ms
2025-01-21 17:15:46.819 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:46.823 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 110.1914ms
2025-01-21 17:15:52.168 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:15:52.172 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:15:52.174 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:15:52.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.7256ms
2025-01-21 17:15:52.665 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:15:52.671 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:52.687 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 21.9734ms
2025-01-21 17:15:52.737 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:15:52.754 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:52.761 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:52.766 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:15:52.832 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:15:52.836 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:15:52.8362856Z"
2025-01-21 17:15:52.848 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:15:52.858 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:52.8583990Z"
2025-01-21 17:15:52.869 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:52.8693282Z"
2025-01-21 17:15:52.872 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:52.8721133Z"
2025-01-21 17:15:52.883 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.4168ms.
2025-01-21 17:15:52.890 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:15:52.904 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 129.1468ms
2025-01-21 17:15:52.914 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:15:52.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 181.2475ms
2025-01-21 17:15:54.639 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:15:54.646 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:54.648 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.7405ms
2025-01-21 17:15:54.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:15:54.657 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:15:54.662 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:15:54.664 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:15:54.704 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:15:54.708 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:15:54.712 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:15:54.7122304Z"
2025-01-21 17:15:54.725 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:15:54.732 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:15:54.7326073Z"
2025-01-21 17:15:54.734 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:15:54.735 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.1716ms.
2025-01-21 17:15:54.743 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:15:54.747 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 78.8756ms
2025-01-21 17:15:54.749 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:15:54.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 99.2836ms
2025-01-21 17:17:15.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:17:15.997 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:17:16.000 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:17:16.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 31.0086ms
2025-01-21 17:17:16.830 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:17:16.854 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:17:16.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 25.9801ms
2025-01-21 17:17:16.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:17:16.868 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:17:16.871 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:17:16.873 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:17:16.922 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:17:16.926 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:17:16.9262221Z"
2025-01-21 17:17:16.935 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:17:16.941 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:16.9416248Z"
2025-01-21 17:17:16.943 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:16.9433852Z"
2025-01-21 17:17:16.948 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:16.9483088Z"
2025-01-21 17:17:16.950 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.5309ms.
2025-01-21 17:17:16.955 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:17:16.964 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 84.96ms
2025-01-21 17:17:16.967 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:17:16.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 107.6056ms
2025-01-21 17:17:24.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:17:24.190 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:17:24.192 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:17:24.194 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.7771ms
2025-01-21 17:17:24.886 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:17:24.890 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:17:24.895 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.16ms
2025-01-21 17:17:24.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:17:24.921 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:17:24.938 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:17:24.941 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:17:25.036 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:17:25.039 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:17:25.0399744Z"
2025-01-21 17:17:25.050 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:17:25.063 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:25.0631556Z"
2025-01-21 17:17:25.064 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:25.0648926Z"
2025-01-21 17:17:25.068 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:17:25.0684948Z"
2025-01-21 17:17:25.075 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 35.7325ms.
2025-01-21 17:17:25.081 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:17:25.091 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 120.1436ms
2025-01-21 17:17:25.096 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:17:25.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 190.2933ms
2025-01-21 17:18:08.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:18:08.840 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:18:08.844 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:18:08.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 17.3087ms
2025-01-21 17:18:09.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:18:09.463 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:18:09.466 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 14.6593ms
2025-01-21 17:18:09.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:18:09.547 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:18:09.554 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:18:09.609 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:18:09.715 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:18:09.721 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:18:09.7215940Z"
2025-01-21 17:18:09.734 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:18:09.741 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:09.7414638Z"
2025-01-21 17:18:09.751 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:09.7516710Z"
2025-01-21 17:18:09.755 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:09.7550666Z"
2025-01-21 17:18:09.761 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.2845ms.
2025-01-21 17:18:09.775 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:18:09.784 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 157.095ms
2025-01-21 17:18:09.798 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:18:09.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 279.3129ms
2025-01-21 17:18:13.868 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:18:13.872 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:18:13.876 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:18:13.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.5015ms
2025-01-21 17:18:14.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:18:14.385 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:18:14.390 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:18:14.398 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:18:14.469 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:18:14.473 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:18:14.4735614Z"
2025-01-21 17:18:14.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:18:14.492 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:14.4928238Z"
2025-01-21 17:18:14.495 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:14.4951818Z"
2025-01-21 17:18:14.499 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:14.4985963Z"
2025-01-21 17:18:14.507 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.4236ms.
2025-01-21 17:18:14.517 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:18:14.527 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 123.251ms
2025-01-21 17:18:14.569 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:18:14.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 209.1268ms
2025-01-21 17:18:19.598 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:18:19.604 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:18:19.606 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.8166ms
2025-01-21 17:18:19.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:18:19.621 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:18:19.625 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:18:19.627 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:18:19.655 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:18:19.658 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:18:19.662 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:18:19.6621518Z"
2025-01-21 17:18:19.673 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:18:19.678 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:18:19.6787147Z"
2025-01-21 17:18:19.680 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:18:19.683 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.1203ms.
2025-01-21 17:18:19.686 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:18:19.690 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 58.6293ms
2025-01-21 17:18:19.694 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:18:19.699 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 85.2446ms
2025-01-21 17:21:20.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:21:20.325 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:21:20.328 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:21:20.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 32.9548ms
2025-01-21 17:21:21.203 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:21:21.208 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:21:21.211 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.6226ms
2025-01-21 17:21:21.249 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:21:21.256 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:21:21.260 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:21:21.265 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:21:21.352 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:21:21.355 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:21:21.3557856Z"
2025-01-21 17:21:21.362 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:21:21.373 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:21:21.3733277Z"
2025-01-21 17:21:21.374 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:21:21.3749333Z"
2025-01-21 17:21:21.377 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:21:21.3773313Z"
2025-01-21 17:21:21.379 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.8605ms.
2025-01-21 17:21:21.389 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:21:21.394 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 102.6024ms
2025-01-21 17:21:21.399 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:21:21.405 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 155.7236ms
2025-01-21 17:22:16.146 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:22:16.182 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:22:16.183 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 37.4588ms
2025-01-21 17:22:16.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:22:16.200 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:22:16.202 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:22:16.206 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:22:16.242 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:22:16.245 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:22:16.250 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:22:16.2500074Z"
2025-01-21 17:22:16.260 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:22:16.265 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:22:16.2653364Z"
2025-01-21 17:22:16.268 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:22:16.272 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.8199ms.
2025-01-21 17:22:16.275 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:22:16.278 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.1233ms
2025-01-21 17:22:16.280 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:22:16.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 91.8031ms
2025-01-21 17:22:49.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:22:49.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:22:49.690 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:22:49.693 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:22:49.696 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:22:49.697 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:22:49.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 48.8388ms
2025-01-21 17:22:49.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 34.2741ms
2025-01-21 17:22:50.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:22:50.309 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:22:50.312 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.7525ms
2025-01-21 17:22:50.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:22:50.322 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:22:50.325 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:22:50.331 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:22:50.374 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:22:50.378 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:22:50.3788675Z"
2025-01-21 17:22:50.386 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:22:50.395 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:22:50.3957411Z"
2025-01-21 17:22:50.397 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:22:50.3976820Z"
2025-01-21 17:22:50.400 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:22:50.4001218Z"
2025-01-21 17:22:50.403 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.035ms.
2025-01-21 17:22:50.413 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:22:50.421 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 85.0911ms
2025-01-21 17:22:50.424 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:22:50.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 110.7743ms
2025-01-21 17:23:05.518 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:05.522 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:05.524 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:05.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.1062ms
2025-01-21 17:23:06.276 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:23:06.281 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:06.282 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.2359ms
2025-01-21 17:23:06.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:06.298 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:06.301 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:06.303 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:06.366 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:06.370 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:06.3704549Z"
2025-01-21 17:23:06.377 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:06.382 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:06.3826685Z"
2025-01-21 17:23:06.384 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:06.3842639Z"
2025-01-21 17:23:06.391 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:06.3919348Z"
2025-01-21 17:23:06.394 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.1178ms.
2025-01-21 17:23:06.401 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:06.429 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 114.0036ms
2025-01-21 17:23:06.438 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:06.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 151.9525ms
2025-01-21 17:23:10.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:10.155 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:10.157 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:10.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.7468ms
2025-01-21 17:23:10.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:10.596 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:10.599 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:10.602 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:10.648 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:10.654 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:10.6548948Z"
2025-01-21 17:23:10.664 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:10.673 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:10.6730535Z"
2025-01-21 17:23:10.675 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:10.6757717Z"
2025-01-21 17:23:10.682 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:10.6825334Z"
2025-01-21 17:23:10.686 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.7403ms.
2025-01-21 17:23:10.695 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:10.701 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 91.8091ms
2025-01-21 17:23:10.704 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:10.707 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 116.3894ms
2025-01-21 17:23:12.288 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:12.293 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:12.295 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:12.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.8959ms
2025-01-21 17:23:12.679 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:23:12.684 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:12.686 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.3467ms
2025-01-21 17:23:12.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:12.699 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:12.704 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:12.705 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:12.752 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:12.756 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:12.7567135Z"
2025-01-21 17:23:12.763 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:12.770 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:12.7703995Z"
2025-01-21 17:23:12.775 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:12.7753786Z"
2025-01-21 17:23:12.778 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:12.7782895Z"
2025-01-21 17:23:12.781 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.6489ms.
2025-01-21 17:23:12.785 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:12.794 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.5614ms
2025-01-21 17:23:12.799 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:12.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 111.6978ms
2025-01-21 17:23:19.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:19.682 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:19.683 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:19.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.6662ms
2025-01-21 17:23:20.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:23:20.163 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:20.169 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.0512ms
2025-01-21 17:23:20.179 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:20.193 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:20.203 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:20.211 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:20.277 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:20.280 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:20.2808876Z"
2025-01-21 17:23:20.326 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:20.373 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:20.3731390Z"
2025-01-21 17:23:20.375 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:20.3751061Z"
2025-01-21 17:23:20.382 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:20.3820412Z"
2025-01-21 17:23:20.387 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 106.9454ms.
2025-01-21 17:23:20.399 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:20.405 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 182.428ms
2025-01-21 17:23:20.417 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:20.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 241.4196ms
2025-01-21 17:23:23.174 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:23:23.180 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:23.181 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.7545ms
2025-01-21 17:23:23.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:23:23.193 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:23.194 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:23:23.196 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:23:23.231 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:23:23.234 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:23:23.237 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:23:23.2376271Z"
2025-01-21 17:23:23.249 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:23:23.256 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:23.2565795Z"
2025-01-21 17:23:23.259 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:23:23.262 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.0644ms.
2025-01-21 17:23:23.265 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:23:23.268 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 60.8874ms
2025-01-21 17:23:23.272 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:23:23.274 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 86.3564ms
2025-01-21 17:23:42.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:42.554 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:42.557 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:42.559 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.5214ms
2025-01-21 17:23:43.100 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:23:43.105 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:43.108 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.5011ms
2025-01-21 17:23:43.114 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:43.122 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:43.126 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:43.130 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:43.182 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:43.186 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:43.1862349Z"
2025-01-21 17:23:43.195 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:43.228 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:43.2285128Z"
2025-01-21 17:23:43.229 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:43.2297543Z"
2025-01-21 17:23:43.234 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:43.2346780Z"
2025-01-21 17:23:43.238 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 52.395ms.
2025-01-21 17:23:43.244 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:43.251 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 108.9751ms
2025-01-21 17:23:43.255 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:43.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 144.8277ms
2025-01-21 17:23:51.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:23:51.699 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:23:51.702 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:23:51.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.6663ms
2025-01-21 17:23:52.216 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:23:52.223 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:52.227 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.0393ms
2025-01-21 17:23:52.250 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:23:52.272 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:52.276 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:52.278 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:23:52.417 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:23:52.460 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:23:52.4604314Z"
2025-01-21 17:23:52.494 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:23:52.500 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:52.5009191Z"
2025-01-21 17:23:52.506 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:52.5058363Z"
2025-01-21 17:23:52.510 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:52.5099052Z"
2025-01-21 17:23:52.513 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 52.7707ms.
2025-01-21 17:23:52.521 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:23:52.524 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 234.2191ms
2025-01-21 17:23:52.527 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:23:52.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 303.3377ms
2025-01-21 17:23:53.876 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:23:53.882 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:53.885 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.3002ms
2025-01-21 17:23:53.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:23:53.898 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:23:53.906 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:23:53.909 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:23:53.990 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:23:53.994 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:23:53.996 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:23:53.9963630Z"
2025-01-21 17:23:54.006 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:23:54.012 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:23:54.0129750Z"
2025-01-21 17:23:54.014 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:23:54.016 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.8844ms.
2025-01-21 17:23:54.021 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.Collections.Generic.IEnumerable`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:23:54.027 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 101.227ms
2025-01-21 17:23:54.030 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:23:54.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 140.0764ms
2025-01-21 17:26:58.621 +02:00 [INF] Starting up the application
2025-01-21 17:27:02.376 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:27:05.176 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:27:05.379 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:27:05.840 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:27:05.846 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:27:05.848 +02:00 [INF] Hosting environment: Development
2025-01-21 17:27:05.850 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:27:06.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:27:07.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 391.5159ms
2025-01-21 17:27:07.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:27:07.352 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.3072ms
2025-01-21 17:27:07.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:27:07.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 371.3669ms
2025-01-21 17:27:12.913 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:27:12.922 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:27:13.086 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:27:13.095 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:27:13.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 184.4565ms
2025-01-21 17:27:13.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:27:13.919 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:13.927 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 23.7743ms
2025-01-21 17:27:13.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:27:13.986 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:14.163 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:27:14.208 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:27:14.599 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:27:14.609 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:27:14.6091394Z"
2025-01-21 17:27:14.717 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:27:14.774 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:14.7744892Z"
2025-01-21 17:27:14.778 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:14.7778147Z"
2025-01-21 17:27:14.780 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:14.7801291Z"
2025-01-21 17:27:14.787 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 180.0483ms.
2025-01-21 17:27:14.803 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:27:14.876 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 658.6468ms
2025-01-21 17:27:14.880 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:27:14.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 950.0617ms
2025-01-21 17:27:17.026 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:27:17.031 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:17.034 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.3635ms
2025-01-21 17:27:17.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:27:17.047 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:17.059 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:27:17.086 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:27:17.149 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:27:17.156 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:27:17.162 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:27:17.1626319Z"
2025-01-21 17:27:17.327 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:27:17.333 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:17.3330954Z"
2025-01-21 17:27:17.335 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:27:17.337 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.1573ms.
2025-01-21 17:27:17.340 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:27:17.349 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 257.3111ms
2025-01-21 17:27:17.353 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:27:17.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 315.8808ms
2025-01-21 17:27:44.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:27:44.798 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:27:44.800 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:27:44.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.7644ms
2025-01-21 17:27:45.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:27:45.296 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:45.302 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 14.4359ms
2025-01-21 17:27:45.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:27:45.371 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:45.373 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:27:45.375 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:27:45.459 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:27:45.463 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:27:45.4632964Z"
2025-01-21 17:27:45.473 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:27:45.480 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:45.4805936Z"
2025-01-21 17:27:45.482 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:45.4820480Z"
2025-01-21 17:27:45.485 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:45.4853549Z"
2025-01-21 17:27:45.492 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.0417ms.
2025-01-21 17:27:45.498 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:27:45.502 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 115.1544ms
2025-01-21 17:27:45.507 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:27:45.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 142.2602ms
2025-01-21 17:27:47.378 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:27:47.384 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:47.386 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.885ms
2025-01-21 17:27:47.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:27:47.397 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:27:47.402 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:27:47.408 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:27:47.445 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:27:47.448 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:27:47.452 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:27:47.4522529Z"
2025-01-21 17:27:47.470 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:27:47.475 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:27:47.4750456Z"
2025-01-21 17:27:47.476 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:27:47.477 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.5179ms.
2025-01-21 17:27:47.484 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:27:47.487 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 75.6437ms
2025-01-21 17:27:47.489 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:27:47.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 99.3377ms
2025-01-21 17:28:18.012 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:28:18.041 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:28:18.043 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 31.1346ms
2025-01-21 17:28:18.076 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:28:18.086 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:28:18.089 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:28:18.092 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:28:18.166 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:28:18.171 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:28:18.174 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:28:18.1748921Z"
2025-01-21 17:28:18.202 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:28:18.210 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:28:18.2103799Z"
2025-01-21 17:28:18.212 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:28:18.215 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 43.9741ms.
2025-01-21 17:28:18.219 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:28:18.226 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 123.7096ms
2025-01-21 17:28:18.230 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:28:18.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 157.8256ms
2025-01-21 17:28:49.141 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:28:49.152 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:28:49.155 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 14.1228ms
2025-01-21 17:28:49.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:28:49.200 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:28:49.205 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:28:49.207 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:28:49.255 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:28:49.257 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:31:27.467 +02:00 [INF] Starting up the application
2025-01-21 17:31:31.307 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:31:33.673 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:31:33.849 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:31:34.242 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:31:34.249 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:31:34.251 +02:00 [INF] Hosting environment: Development
2025-01-21 17:31:34.253 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:31:35.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:31:35.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 455.5769ms
2025-01-21 17:31:35.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:31:35.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 14.3394ms
2025-01-21 17:31:35.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:31:36.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 288.8711ms
2025-01-21 17:31:39.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:31:39.636 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:31:39.805 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:31:39.813 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:31:39.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 194.2054ms
2025-01-21 17:31:40.377 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:31:40.387 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:31:40.394 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 17.3586ms
2025-01-21 17:31:40.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:31:40.408 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:31:40.657 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:31:40.705 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:31:41.195 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:31:41.200 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:31:41.1999227Z"
2025-01-21 17:31:41.317 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:31:41.397 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:31:41.3970059Z"
2025-01-21 17:31:41.399 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:31:41.3991612Z"
2025-01-21 17:31:41.401 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:31:41.4018545Z"
2025-01-21 17:31:41.414 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 207.6744ms.
2025-01-21 17:31:41.434 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:31:41.533 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 813.8459ms
2025-01-21 17:31:41.536 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:31:41.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1146.2278ms
2025-01-21 17:31:49.612 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:31:49.619 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:31:49.621 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.807ms
2025-01-21 17:31:49.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:31:49.632 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:31:49.641 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:31:49.666 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:31:49.743 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:31:49.749 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:31:49.756 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:31:49.7569105Z"
2025-01-21 17:31:49.919 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:31:49.926 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:31:49.9266468Z"
2025-01-21 17:31:49.928 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:31:49.931 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.4535ms.
2025-01-21 17:31:49.936 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:31:49.944 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 273.1621ms
2025-01-21 17:31:49.950 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:31:49.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 326.0083ms
2025-01-21 17:32:21.541 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:32:21.548 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:21.550 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 9.1049ms
2025-01-21 17:32:21.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:32:21.560 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:21.572 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:32:21.574 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:32:21.631 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:32:21.634 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:32:21.636 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:32:21.6362697Z"
2025-01-21 17:32:21.654 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:32:21.659 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:32:21.6593424Z"
2025-01-21 17:32:21.660 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:32:21.662 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.2102ms.
2025-01-21 17:32:21.666 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:32:21.668 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 83.6295ms
2025-01-21 17:32:21.670 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:32:21.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 120.418ms
2025-01-21 17:32:31.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:32:31.449 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:32:31.451 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:32:31.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.6939ms
2025-01-21 17:32:31.879 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:32:31.895 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:31.897 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 18.3094ms
2025-01-21 17:32:31.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:32:31.916 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:31.922 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:32:31.924 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:32:32.054 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:32:32.087 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:32:32.0871599Z"
2025-01-21 17:32:32.192 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:32:32.212 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:32:32.2124662Z"
2025-01-21 17:32:32.219 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:32:32.2191165Z"
2025-01-21 17:32:32.226 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:32:32.2261357Z"
2025-01-21 17:32:32.230 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 143.4937ms.
2025-01-21 17:32:32.273 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:32:32.284 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 346.9987ms
2025-01-21 17:32:32.289 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:32:32.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 383.6185ms
2025-01-21 17:32:42.712 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:32:42.717 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:42.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 7.5725ms
2025-01-21 17:32:42.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:32:42.730 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:32:42.733 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:32:42.734 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:32:42.776 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:32:42.781 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:32:42.784 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:32:42.7849547Z"
2025-01-21 17:32:42.798 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:32:42.806 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:32:42.8065074Z"
2025-01-21 17:32:42.808 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:32:42.811 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.6553ms.
2025-01-21 17:32:42.820 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:32:42.823 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 79.7045ms
2025-01-21 17:32:42.826 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:32:42.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 108.4135ms
2025-01-21 17:33:37.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:33:37.400 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:33:37.404 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:33:37.440 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:33:37.442 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:33:37.445 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:33:37.4449849Z"
2025-01-21 17:33:37.457 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:33:37.464 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:33:37.4647509Z"
2025-01-21 17:33:37.469 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:33:37.471 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.5491ms.
2025-01-21 17:33:37.474 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:33:37.477 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.1163ms
2025-01-21 17:33:37.480 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:33:37.484 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 106.9506ms
2025-01-21 17:33:57.068 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:33:57.091 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:33:57.092 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 23.9615ms
2025-01-21 17:33:57.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:33:57.104 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:33:57.108 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:33:57.110 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:33:57.147 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:33:57.150 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:34:53.416 +02:00 [INF] Starting up the application
2025-01-21 17:34:56.863 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:34:59.323 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:34:59.512 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:34:59.962 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:34:59.968 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:34:59.970 +02:00 [INF] Hosting environment: Development
2025-01-21 17:34:59.971 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:35:01.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:35:01.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 528.2166ms
2025-01-21 17:35:01.654 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:35:01.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.7657ms
2025-01-21 17:35:01.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:35:02.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 333.7776ms
2025-01-21 17:35:03.735 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:35:03.745 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:35:03.881 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:35:03.889 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:35:03.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 156.8746ms
2025-01-21 17:35:04.516 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:35:04.524 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:04.532 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 16.457ms
2025-01-21 17:35:04.538 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:35:04.549 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:04.776 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/01/2025 15:30:03', Current time (UTC): '21/01/2025 15:35:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-01-21 17:35:04.834 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/01/2025 15:30:03', Current time (UTC): '21/01/2025 15:35:04'.
2025-01-21 17:35:04.841 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:35:04.847 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:35:04.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 312.327ms
2025-01-21 17:35:16.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 17:35:16.322 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:16.325 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.3063ms
2025-01-21 17:35:16.331 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 17:35:16.334 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:16.339 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:35:16.380 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 17:35:16.631 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 17:35:16.745 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 17:35:16.993 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 17:35:17.032 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 17:35:17.091 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 17:35:17.125 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 487.2874ms.
2025-01-21 17:35:17.136 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:35:17.174 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 783.1104ms
2025-01-21 17:35:17.178 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:35:17.188 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 857.6096ms
2025-01-21 17:35:19.339 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:35:19.345 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:19.347 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.4819ms
2025-01-21 17:35:19.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:35:19.356 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:19.379 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:35:19.387 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:35:19.592 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:35:19.597 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:35:19.5974706Z"
2025-01-21 17:35:19.630 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:35:19.681 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:35:19.6807860Z"
2025-01-21 17:35:19.683 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:35:19.6832118Z"
2025-01-21 17:35:19.685 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:35:19.6849738Z"
2025-01-21 17:35:19.689 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 93.2739ms.
2025-01-21 17:35:19.693 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:35:19.734 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 342.2422ms
2025-01-21 17:35:19.737 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:35:19.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 388.6662ms
2025-01-21 17:35:31.599 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 17:35:31.604 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:31.607 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 7.8996ms
2025-01-21 17:35:31.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 17:35:31.617 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:35:31.620 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:35:31.630 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:35:31.673 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:35:31.678 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 17:35:31.687 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T15:35:31.6872811Z"
2025-01-21 17:35:31.787 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 17:35:31.797 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:35:31.7971084Z"
2025-01-21 17:35:31.799 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:35:31.801 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 124.9303ms.
2025-01-21 17:35:31.805 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:35:31.817 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 181.7989ms
2025-01-21 17:35:31.820 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:35:31.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 208.1249ms
2025-01-21 17:36:06.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - null null
2025-01-21 17:36:06.410 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:36:06.421 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:36:06.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy - 401 0 null 26.3129ms
2025-01-21 17:36:16.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:36:16.542 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:36:16.545 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:36:16.556 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 401 0 null 19.6132ms
2025-01-21 17:36:27.267 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:36:27.271 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:36:27.274 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:36:27.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.5874ms
2025-01-21 17:36:27.941 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:36:27.964 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:36:27.986 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 44.4156ms
2025-01-21 17:36:28.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:36:28.266 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:36:28.275 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:36:28.285 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:36:28.398 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:36:28.403 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:36:28.4030384Z"
2025-01-21 17:36:28.433 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:36:28.452 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:36:28.4520060Z"
2025-01-21 17:36:28.454 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:36:28.4539667Z"
2025-01-21 17:36:28.456 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:36:28.4565969Z"
2025-01-21 17:36:28.463 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 60.4672ms.
2025-01-21 17:36:28.470 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:36:28.479 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 181.2705ms
2025-01-21 17:36:28.482 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:36:28.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 239.5906ms
2025-01-21 17:36:34.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:36:34.832 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:36:34.834 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 11.0541ms
2025-01-21 17:36:34.841 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:36:34.846 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:36:34.851 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:36:34.853 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:36:34.925 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:36:34.933 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:37:06.174 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:37:06.1544343Z"
2025-01-21 17:38:18.383 +02:00 [INF] Starting up the application
2025-01-21 17:38:21.892 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:38:24.251 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:38:24.433 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:38:24.864 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:38:24.871 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:38:24.873 +02:00 [INF] Hosting environment: Development
2025-01-21 17:38:24.875 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:38:26.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:38:26.521 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 370.1212ms
2025-01-21 17:38:26.544 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:38:26.555 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.1438ms
2025-01-21 17:38:26.738 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:38:27.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 362.7384ms
2025-01-21 17:38:29.455 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 17:38:29.467 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:29.472 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 16.2875ms
2025-01-21 17:38:29.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 17:38:29.488 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:29.493 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:38:29.730 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:38:29.767 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:38:30.118 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:38:30.123 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 17:38:30.130 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T15:38:30.1305128Z"
2025-01-21 17:38:30.372 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:38:30.380 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:30.3808846Z"
2025-01-21 17:38:30.383 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:38:30.392 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 265.3633ms.
2025-01-21 17:38:30.407 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:38:30.461 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 684.6944ms
2025-01-21 17:38:30.464 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:38:30.477 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 996.4713ms
2025-01-21 17:38:48.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:38:48.413 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:38:48.429 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:38:48.431 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 32.1513ms
2025-01-21 17:38:49.048 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:38:49.054 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:49.057 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.0406ms
2025-01-21 17:38:49.064 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:38:49.069 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:49.085 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:38:49.104 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:38:49.173 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:38:49.179 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:38:49.1794122Z"
2025-01-21 17:38:49.229 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:38:49.306 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:49.3067868Z"
2025-01-21 17:38:49.309 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:49.3089526Z"
2025-01-21 17:38:49.310 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:49.3108623Z"
2025-01-21 17:38:49.313 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 136.0876ms.
2025-01-21 17:38:49.317 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:38:49.367 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 255.8398ms
2025-01-21 17:38:49.370 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:38:49.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 309.1297ms
2025-01-21 17:38:54.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:38:54.478 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:38:54.481 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:38:54.484 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.7251ms
2025-01-21 17:38:55.256 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:38:55.261 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:55.263 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2468ms
2025-01-21 17:38:55.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:38:55.275 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:38:55.281 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:38:55.284 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:38:55.359 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:38:55.363 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:38:55.3637799Z"
2025-01-21 17:38:55.375 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:38:55.382 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:55.3823604Z"
2025-01-21 17:38:55.384 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:55.3843640Z"
2025-01-21 17:38:55.389 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:38:55.3895662Z"
2025-01-21 17:38:55.392 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.4365ms.
2025-01-21 17:38:55.397 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:38:55.401 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 111.2718ms
2025-01-21 17:38:55.407 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:38:55.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 141.9488ms
2025-01-21 17:39:06.944 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 17:39:06.951 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:39:06.953 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 9.1591ms
2025-01-21 17:39:06.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 17:39:06.964 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:39:06.970 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:39:06.973 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:39:07.013 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:39:07.016 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 17:39:17.957 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T15:39:17.9393284Z"
2025-01-21 17:39:58.049 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 17:40:27.699 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:40:27.6811168Z"
2025-01-21 17:40:42.607 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:40:52.923 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105907.1718ms.
2025-01-21 17:40:52.927 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:40:52.995 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 106014.8889ms
2025-01-21 17:40:52.999 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:40:53.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 106040.4547ms
2025-01-21 17:41:10.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:41:10.666 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:41:10.667 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:41:10.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.5802ms
2025-01-21 17:41:10.947 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:41:10.951 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:10.953 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.9909ms
2025-01-21 17:41:10.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:41:10.964 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:20.491 +02:00 [INF] Starting up the application
2025-01-21 17:41:23.464 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 17:41:25.955 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 17:41:26.125 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 17:41:26.569 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 17:41:26.619 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 17:41:26.623 +02:00 [INF] Hosting environment: Development
2025-01-21 17:41:26.625 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 17:41:27.518 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 17:41:28.020 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 516.6751ms
2025-01-21 17:41:28.044 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 17:41:28.062 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 18.1616ms
2025-01-21 17:41:28.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 17:41:28.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 309.5627ms
2025-01-21 17:41:29.534 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:41:29.547 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 17:41:29.681 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:41:29.690 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:41:29.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 159.6243ms
2025-01-21 17:41:29.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:41:29.932 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:29.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 16.9552ms
2025-01-21 17:41:29.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:41:29.961 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:30.089 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:41:30.117 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:41:30.448 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:41:30.453 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:41:30.4534491Z"
2025-01-21 17:41:30.555 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:41:30.612 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:30.6124853Z"
2025-01-21 17:41:30.615 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:30.6151918Z"
2025-01-21 17:41:30.618 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:30.6182368Z"
2025-01-21 17:41:30.634 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 175.5234ms.
2025-01-21 17:41:30.652 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:41:30.727 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 598.7508ms
2025-01-21 17:41:30.731 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:41:30.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 791.8194ms
2025-01-21 17:41:34.718 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 17:41:34.725 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:34.726 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 8.0965ms
2025-01-21 17:41:34.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 17:41:34.735 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:34.740 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:41:34.762 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:41:34.823 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:41:34.828 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 17:41:34.834 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T15:41:34.8347936Z"
2025-01-21 17:41:35.008 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 17:41:35.015 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:35.0150724Z"
2025-01-21 17:41:35.016 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:41:35.019 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.2759ms.
2025-01-21 17:41:35.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:41:35.033 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 266.3785ms
2025-01-21 17:41:35.038 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:41:35.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 310.1608ms
2025-01-21 17:41:54.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:41:54.538 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:41:54.542 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:41:54.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.8686ms
2025-01-21 17:41:54.919 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:41:54.924 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:54.928 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.5267ms
2025-01-21 17:41:54.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:41:54.960 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:54.967 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:41:54.971 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:41:55.063 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:41:55.073 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:41:55.0736705Z"
2025-01-21 17:41:55.083 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:41:55.127 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:55.1270611Z"
2025-01-21 17:41:55.128 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:55.1283366Z"
2025-01-21 17:41:55.129 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:55.1299495Z"
2025-01-21 17:41:55.131 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 57.9399ms.
2025-01-21 17:41:55.138 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:41:55.142 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 159.5292ms
2025-01-21 17:41:55.144 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:41:55.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 195.7436ms
2025-01-21 17:41:58.681 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 17:41:58.686 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:58.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 6.6167ms
2025-01-21 17:41:58.698 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 17:41:58.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:41:58.708 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:41:58.710 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:41:58.744 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:41:58.747 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 17:41:58.749 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T15:41:58.7490810Z"
2025-01-21 17:41:58.761 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 17:41:58.766 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:41:58.7664785Z"
2025-01-21 17:41:58.768 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:41:58.769 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.402ms.
2025-01-21 17:41:58.773 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:41:58.779 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 62.6655ms
2025-01-21 17:41:58.782 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:41:58.784 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 86.1821ms
2025-01-21 17:42:19.431 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:42:19.499 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:42:19.503 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:42:19.513 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 81.7235ms
2025-01-21 17:42:19.850 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:42:19.853 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:19.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.8284ms
2025-01-21 17:42:19.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:42:19.889 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:19.893 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:42:19.895 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:42:19.946 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:42:19.949 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:42:19.9497398Z"
2025-01-21 17:42:19.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:42:19.966 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:19.9667854Z"
2025-01-21 17:42:19.968 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:19.9680428Z"
2025-01-21 17:42:19.969 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:19.9698448Z"
2025-01-21 17:42:19.971 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.9193ms.
2025-01-21 17:42:19.977 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:42:19.983 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 79.9264ms
2025-01-21 17:42:19.986 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:42:19.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 106.2832ms
2025-01-21 17:42:34.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 17:42:34.653 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 17:42:34.657 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 17:42:34.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.2584ms
2025-01-21 17:42:34.887 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 17:42:34.892 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:34.895 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.0306ms
2025-01-21 17:42:34.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 17:42:34.912 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:34.916 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:42:34.923 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 17:42:34.979 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 17:42:34.983 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T15:42:34.9830873Z"
2025-01-21 17:42:34.993 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 17:42:35.002 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:35.0020279Z"
2025-01-21 17:42:35.003 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:35.0032125Z"
2025-01-21 17:42:35.005 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:35.0056549Z"
2025-01-21 17:42:35.008 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.5593ms.
2025-01-21 17:42:35.011 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:42:35.016 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.3341ms
2025-01-21 17:42:35.019 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 17:42:35.021 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 119.2004ms
2025-01-21 17:42:36.247 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 17:42:36.253 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:36.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 8.59ms
2025-01-21 17:42:36.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 17:42:36.271 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:36.274 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:42:36.279 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:42:36.311 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:42:36.314 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 17:42:36.316 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T15:42:36.3166264Z"
2025-01-21 17:42:36.330 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 17:42:36.335 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:36.3354799Z"
2025-01-21 17:42:36.341 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:42:36.345 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.3851ms.
2025-01-21 17:42:36.348 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:42:36.351 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 67.5609ms
2025-01-21 17:42:36.355 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:42:36.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 93.75ms
2025-01-21 17:42:44.770 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - null null
2025-01-21 17:42:44.776 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:44.778 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 204 null null 7.1732ms
2025-01-21 17:42:44.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - application/json null
2025-01-21 17:42:44.795 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:42:44.799 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:42:44.800 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 17:42:44.833 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 17:42:44.836 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Category, order: asc
2025-01-21 17:42:44.839 +02:00 [INF] Starting GetGiftsAsync with sortBy: Category, order: asc at "2025-01-21T15:42:44.8395554Z"
2025-01-21 17:42:44.868 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 17:42:44.875 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T15:42:44.8755291Z"
2025-01-21 17:42:44.881 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 17:42:44.883 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.2179ms.
2025-01-21 17:42:44.886 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 17:42:44.893 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 89.0433ms
2025-01-21 17:42:44.896 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 17:42:44.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Category&order=asc - 200 null application/json; charset=utf-8 109.0727ms
2025-01-21 17:45:08.508 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 17:45:08.548 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:45:08.549 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 41.2426ms
2025-01-21 17:45:08.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 17:45:08.579 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:45:08.581 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 17:45:08.589 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 17:45:08.635 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 17:45:08.644 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T15:45:08.6448301Z"
2025-01-21 17:45:08.648 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T15:45:08.6489089Z"
2025-01-21 17:45:08.659 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T15:45:08.6596452Z"
2025-01-21 17:45:08.681 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 17:45:08.702 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T15:45:08.7023698Z"
2025-01-21 17:45:08.704 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T15:45:08.7048605Z"
2025-01-21 17:45:08.707 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.8823ms.
2025-01-21 17:45:08.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 17:45:08.715 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 119.7207ms
2025-01-21 17:45:08.716 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 17:45:08.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 143.8223ms
2025-01-21 17:45:08.727 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 17:45:08.733 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:45:08.734 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 6.9638ms
2025-01-21 17:45:08.742 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-21 17:45:08.746 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:45:08.748 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 17:45:08.778 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 17:45:08.786 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 17:45:08.818 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 17:45:08.824 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-21 17:45:08.826 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 17:45:08.830 +02:00 [INF] Received request to fetch user by token.
2025-01-21 17:45:08.832 +02:00 [INF] Parsing token...
2025-01-21 17:45:08.834 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 17:45:08.881 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 17:45:08.889 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-21 17:45:09.022 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-21 17:45:09.197 +02:00 [ERR] Error occurred while adding Gift 13 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-21 17:45:09.204 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 382.9406ms.
2025-01-21 17:45:09.207 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 17:45:09.209 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 418.0249ms
2025-01-21 17:45:09.212 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 17:45:09.214 +02:00 [INF] Outgoing Response: 500
2025-01-21 17:45:09.218 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 500 null text/plain; charset=utf-8 476.4226ms
2025-01-21 17:45:54.918 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - null 0
2025-01-21 17:45:54.949 +02:00 [INF] CORS policy execution failed.
2025-01-21 17:45:54.950 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 17:45:54.954 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 17:45:55.015 +02:00 [WRN] Invalid Token
2025-01-21 17:45:55.017 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - 401 null null 99.3462ms
2025-01-21 17:46:05.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 17:46:05.293 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:46:05.295 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.6219ms
2025-01-21 17:46:05.318 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 17:46:05.326 +02:00 [INF] CORS policy execution successful.
2025-01-21 17:46:05.330 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:46:05.338 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 17:46:05.408 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 17:46:05.431 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 17:46:05.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 17:46:05.681 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 17:46:05.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 17:46:05.738 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 327.4086ms.
2025-01-21 17:46:05.741 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 17:46:05.759 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 415.9841ms
2025-01-21 17:46:05.762 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 17:46:05.765 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 446.6913ms
2025-01-21 17:46:31.109 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - null 0
2025-01-21 17:46:31.131 +02:00 [INF] CORS policy execution failed.
2025-01-21 17:46:31.133 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 17:46:31.134 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 17:46:31.137 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 17:46:31.139 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 17:46:31.177 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 17:46:31.197 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 17:46:31.199 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 17:46:31.200 +02:00 [INF] Received request to fetch user by token.
2025-01-21 17:46:31.202 +02:00 [INF] Parsing token...
2025-01-21 17:46:31.205 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 17:46:31.219 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 17:46:31.226 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-21 17:46:31.298 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-21 17:46:31.424 +02:00 [ERR] Error occurred while adding Gift 3 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-21 17:46:31.430 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 232.4947ms.
2025-01-21 17:46:31.432 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 17:46:31.434 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 291.7852ms
2025-01-21 17:46:31.437 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 17:46:31.439 +02:00 [INF] Outgoing Response: 500
2025-01-21 17:46:31.443 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - 500 null text/plain; charset=utf-8 333.3251ms
2025-01-21 17:47:14.935 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - null 0
2025-01-21 17:47:14.957 +02:00 [INF] CORS policy execution failed.
2025-01-21 17:47:14.959 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 17:47:14.962 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 17:47:14.964 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 17:47:14.968 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 17:47:15.003 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 17:47:15.008 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 17:47:26.165 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 17:47:43.543 +02:00 [INF] Received request to fetch user by token.
2025-01-21 17:47:44.606 +02:00 [INF] Parsing token...
2025-01-21 17:48:01.973 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 17:48:21.184 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:04:28.956 +02:00 [INF] Starting up the application
2025-01-21 18:04:32.503 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:04:35.476 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:04:35.684 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:04:36.236 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:04:36.244 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:04:36.247 +02:00 [INF] Hosting environment: Development
2025-01-21 18:04:36.249 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:04:37.418 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:04:37.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 504.3755ms
2025-01-21 18:04:37.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:04:37.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 16.071ms
2025-01-21 18:04:38.090 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:04:38.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 359.8722ms
2025-01-21 18:06:05.185 +02:00 [INF] Starting up the application
2025-01-21 18:06:08.833 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:06:11.208 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:06:11.371 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:06:11.796 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:06:11.804 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:06:11.807 +02:00 [INF] Hosting environment: Development
2025-01-21 18:06:11.809 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:06:13.014 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:06:13.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 456.1601ms
2025-01-21 18:06:13.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:06:13.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.2278ms
2025-01-21 18:06:13.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:06:13.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 264.6323ms
2025-01-21 18:07:49.157 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:07:49.171 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:07:49.177 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 19.4586ms
2025-01-21 18:07:49.202 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 99
2025-01-21 18:07:49.210 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:07:49.214 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:07:49.433 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:07:49.477 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:07:49.740 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:07:50.022 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:07:50.251 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 18:07:50.284 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:07:50.334 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@userId='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE AspNetUsers SET Discriminator = 'User' WHERE Id = @userId
2025-01-21 18:07:50.342 +02:00 [INF] User registered successfully: gh
2025-01-21 18:07:50.344 +02:00 [INF] User registered successfully.
2025-01-21 18:07:50.351 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 603.1913ms.
2025-01-21 18:07:50.367 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:07:50.402 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 916.2309ms
2025-01-21 18:07:50.406 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:07:50.414 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 1211.6694ms
2025-01-21 18:08:27.909 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:08:27.917 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:08:27.920 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 10.8989ms
2025-01-21 18:08:27.945 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 52
2025-01-21 18:08:27.949 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:08:27.958 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:08:27.967 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:08:28.018 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:08:28.066 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:08:28.218 +02:00 [WRN] Invalid login attempt: f@exampdle.com
2025-01-21 18:08:28.221 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 199.1135ms.
2025-01-21 18:08:28.224 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 18:08:28.226 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 255.0557ms
2025-01-21 18:08:28.229 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:08:28.231 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 401 null text/plain; charset=utf-8 286.0632ms
2025-01-21 18:08:57.153 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:08:57.176 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:08:57.178 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 24.7662ms
2025-01-21 18:08:57.204 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 51
2025-01-21 18:08:57.211 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:08:57.215 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:08:57.217 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:08:57.272 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:08:57.280 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:08:57.541 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:08:57.642 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:08:57.703 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:08:57.708 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 433.8642ms.
2025-01-21 18:08:57.711 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:08:57.718 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 492.2215ms
2025-01-21 18:08:57.721 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:08:57.723 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 518.7402ms
2025-01-21 18:09:02.955 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 18:09:02.960 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:02.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.3169ms
2025-01-21 18:09:02.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 18:09:02.976 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:03.079 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 18:09:03.086 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 18:09:03.316 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 18:09:03.321 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T16:09:03.3209661Z"
2025-01-21 18:09:03.348 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 18:09:03.407 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:09:03.4076642Z"
2025-01-21 18:09:03.410 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:09:03.4101946Z"
2025-01-21 18:09:03.411 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:09:03.4117356Z"
2025-01-21 18:09:03.414 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 94.7107ms.
2025-01-21 18:09:03.416 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:09:03.458 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 367.9781ms
2025-01-21 18:09:03.461 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 18:09:03.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 492.445ms
2025-01-21 18:09:07.677 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - null null
2025-01-21 18:09:07.680 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:07.682 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - 204 null null 5.2888ms
2025-01-21 18:09:07.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/16 - application/json null
2025-01-21 18:09:07.693 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:07.697 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 18:09:07.710 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 18:09:07.751 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 18:09:07.762 +02:00 [INF] Starting GetByIdAsync with ID 16 at "2025-01-21T16:09:07.7627139Z"
2025-01-21 18:09:07.766 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T16:09:07.7666866Z"
2025-01-21 18:09:07.771 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T16:09:07.7711743Z"
2025-01-21 18:09:07.789 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 18:09:07.811 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 16 at "2025-01-21T16:09:07.8118868Z"
2025-01-21 18:09:07.813 +02:00 [INF] GetByIdAsync completed successfully with ID 16 at "2025-01-21T16:09:07.8138632Z"
2025-01-21 18:09:07.815 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.7177ms.
2025-01-21 18:09:07.818 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 18:09:07.821 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 104.5226ms
2025-01-21 18:09:07.823 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 18:09:07.828 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/16 - 200 null application/json; charset=utf-8 140.5032ms
2025-01-21 18:09:07.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-21 18:09:07.838 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:07.844 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 9.8445ms
2025-01-21 18:09:07.848 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - application/json 2
2025-01-21 18:09:07.851 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:09:07.854 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:09:07.885 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:09:07.895 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:09:08.060 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:09:08.066 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 1
2025-01-21 18:13:14.588 +02:00 [INF] Starting up the application
2025-01-21 18:13:18.119 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:13:20.369 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:13:20.534 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:13:20.966 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:13:20.973 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:13:20.975 +02:00 [INF] Hosting environment: Development
2025-01-21 18:13:20.977 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:13:21.985 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:13:22.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 402.9858ms
2025-01-21 18:13:22.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:13:22.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 16.0378ms
2025-01-21 18:13:22.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:13:22.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.7554ms
2025-01-21 18:13:58.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1%40example.com&email=Password123%21 - null null
2025-01-21 18:13:58.065 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:13:58.125 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:13:58.350 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:13:58.387 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:13:58.599 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:13:58.604 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: manager1@example.com and Email: Password123!
2025-01-21 18:13:58.767 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:13:58.779 +02:00 [INF] Completed GetByUserNameAndEmailAsync for User: null
2025-01-21 18:13:58.792 +02:00 [INF] Executed action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 180.8468ms.
2025-01-21 18:13:58.809 +02:00 [INF] Executing ObjectResult, writing value of type 'null'.
2025-01-21 18:13:58.820 +02:00 [INF] Executed action project.Controllers.UserController.GetByUserNameAndEmailAsync (project) in 420.0199ms
2025-01-21 18:13:58.823 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:13:58.826 +02:00 [INF] Outgoing Response: 204
2025-01-21 18:13:58.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1%40example.com&email=Password123%21 - 204 null null 787.9211ms
2025-01-21 18:14:11.639 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 18:14:11.649 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:14:11.663 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:14:11.675 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:14:11.739 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:14:11.743 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:14:11.747 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:14:11.751 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:14:11.906 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:14:11.913 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:14:11.915 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:14:11.918 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:14:11.920 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 177.3221ms.
2025-01-21 18:14:11.924 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:14:11.982 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 301.529ms
2025-01-21 18:14:11.986 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:14:11.988 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:14:11.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 351.2083ms
2025-01-21 18:14:30.206 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - null 0
2025-01-21 18:14:30.212 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:14:30.225 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:14:30.231 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:14:30.242 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:14:30.249 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:14:30.286 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:14:30.291 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 18:14:30.293 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 18:14:30.297 +02:00 [INF] Received request to fetch user by token.
2025-01-21 18:14:30.298 +02:00 [INF] Parsing token...
2025-01-21 18:14:30.301 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 18:14:30.313 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:14:30.321 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-21 18:14:30.467 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-21 18:14:30.663 +02:00 [ERR] Error occurred while adding Gift 3 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-21 18:14:30.671 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 382.0072ms.
2025-01-21 18:14:30.674 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-21 18:14:30.676 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 423.064ms
2025-01-21 18:14:30.678 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:14:30.680 +02:00 [INF] Outgoing Response: 500
2025-01-21 18:14:30.681 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - 500 null text/plain; charset=utf-8 475.5334ms
2025-01-21 18:22:56.777 +02:00 [INF] Starting up the application
2025-01-21 18:23:00.650 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:23:03.624 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:23:03.874 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:23:04.371 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:23:04.415 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:23:04.418 +02:00 [INF] Hosting environment: Development
2025-01-21 18:23:04.420 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:23:06.240 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:23:06.609 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 374.9512ms
2025-01-21 18:23:06.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:23:06.648 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.0974ms
2025-01-21 18:23:06.875 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:23:07.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 341.5443ms
2025-01-21 18:26:52.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1%40example.com&email=Password123%21 - null null
2025-01-21 18:26:52.612 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:26:52.674 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:26:52.676 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:26:52.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1%40example.com&email=Password123%21 - 401 null null 83.268ms
2025-01-21 18:27:18.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1%40example.com&email=Password123%21 - null null
2025-01-21 18:27:18.322 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:27:18.653 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:27:18.699 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:27:18.902 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:27:18.910 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: manager1@example.com and Email: Password123!
2025-01-21 18:28:04.974 +02:00 [INF] Starting up the application
2025-01-21 18:28:08.316 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:28:10.572 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:28:10.745 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:28:11.156 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:28:11.163 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:28:11.166 +02:00 [INF] Hosting environment: Development
2025-01-21 18:28:11.168 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:28:12.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:28:12.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 299.594ms
2025-01-21 18:28:12.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:28:12.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.705ms
2025-01-21 18:28:12.875 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:28:13.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.3477ms
2025-01-21 18:29:49.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:29:49.305 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:29:49.310 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 21.41ms
2025-01-21 18:29:49.335 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 103
2025-01-21 18:29:49.339 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:29:49.343 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:29:49.482 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:29:49.523 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:29:49.749 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:29:50.016 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:29:50.054 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:29:50.205 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:29:50.438 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:29:50.453 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 696.5153ms.
2025-01-21 18:29:50.467 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:29:50.503 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 968.907ms
2025-01-21 18:29:50.507 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:29:50.518 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1183.277ms
2025-01-21 18:29:51.856 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 103
2025-01-21 18:29:51.862 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:29:51.868 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:29:51.874 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:29:51.922 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:29:52.086 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:29:52.092 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:29:52.183 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:29:52.344 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:29:52.350 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 426.2773ms.
2025-01-21 18:29:52.353 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:29:52.356 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 478.7857ms
2025-01-21 18:29:52.358 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:29:52.366 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 510.2614ms
2025-01-21 18:30:26.279 +02:00 [INF] Starting up the application
2025-01-21 18:30:29.362 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:30:31.556 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:30:31.715 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:30:32.128 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:30:32.135 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:30:32.137 +02:00 [INF] Hosting environment: Development
2025-01-21 18:30:32.138 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:30:33.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:30:33.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 282.31ms
2025-01-21 18:30:33.501 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:30:33.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.2586ms
2025-01-21 18:30:33.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:30:34.017 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.155ms
2025-01-21 18:30:56.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:30:56.216 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:30:56.221 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 29.2782ms
2025-01-21 18:30:56.245 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 103
2025-01-21 18:30:56.251 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:30:56.253 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:30:56.373 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:30:56.409 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:30:56.671 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:30:56.930 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:30:56.964 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:30:57.117 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:30:57.341 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:30:57.355 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 677.4235ms.
2025-01-21 18:30:57.372 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:30:57.415 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 992.009ms
2025-01-21 18:30:57.420 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:30:57.436 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1190.8491ms
2025-01-21 18:31:21.099 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:31:21.109 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:31:21.111 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 11.424ms
2025-01-21 18:31:21.136 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-21 18:31:21.140 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:31:21.145 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:31:21.148 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:31:21.192 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:31:21.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:31:21.361 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:31:21.449 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:31:21.608 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:31:21.614 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 419.652ms.
2025-01-21 18:31:21.618 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:31:21.621 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 467.1509ms
2025-01-21 18:31:21.623 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:31:21.626 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 489.4754ms
2025-01-21 18:33:56.800 +02:00 [INF] Starting up the application
2025-01-21 18:34:01.598 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:34:04.312 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:34:04.520 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:34:04.928 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:34:04.938 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:34:04.941 +02:00 [INF] Hosting environment: Development
2025-01-21 18:34:04.943 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:34:06.278 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:34:06.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 650.3892ms
2025-01-21 18:34:06.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:34:06.959 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.0449ms
2025-01-21 18:34:07.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:34:07.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 352.2264ms
2025-01-21 18:36:37.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=aaa&email=aaa%40example.com - null null
2025-01-21 18:36:37.225 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:36:37.304 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:36:37.532 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:36:37.583 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:36:37.809 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:36:37.817 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: aaa and Email: aaa@example.com
2025-01-21 18:36:48.244 +02:00 [INF] Starting up the application
2025-01-21 18:36:51.268 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:36:53.583 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:36:53.762 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:36:54.158 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:36:54.164 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:36:54.166 +02:00 [INF] Hosting environment: Development
2025-01-21 18:36:54.168 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:36:55.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:36:55.355 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 322.7966ms
2025-01-21 18:36:55.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:36:55.381 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 7.6904ms
2025-01-21 18:36:55.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:36:55.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 344.4987ms
2025-01-21 18:38:11.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=aaa&email=aaa%40example.com - null null
2025-01-21 18:38:11.110 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:38:11.169 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:38:11.398 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:38:11.451 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:38:11.624 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:38:11.628 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: aaa and Email: aaa@example.com
2025-01-21 18:38:11.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:38:11.783 +02:00 [INF] Completed GetByUserNameAndEmailAsync for User: null
2025-01-21 18:38:11.796 +02:00 [INF] Executed action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 161.7444ms.
2025-01-21 18:38:11.824 +02:00 [INF] Executing ObjectResult, writing value of type 'null'.
2025-01-21 18:38:11.836 +02:00 [INF] Executed action project.Controllers.UserController.GetByUserNameAndEmailAsync (project) in 374.4412ms
2025-01-21 18:38:11.838 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:38:11.842 +02:00 [INF] Outgoing Response: 204
2025-01-21 18:38:11.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=aaa&email=aaa%40example.com - 204 null null 752.773ms
2025-01-21 18:39:00.679 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1&email=manager1%40example.com - null null
2025-01-21 18:39:00.704 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:39:00.713 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:39:00.716 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:39:00.797 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:39:00.800 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: manager1 and Email: manager1@example.com
2025-01-21 18:39:00.829 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:39:00.835 +02:00 [INF] Completed GetByUserNameAndEmailAsync for User: null
2025-01-21 18:39:00.837 +02:00 [INF] Executed action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.1553ms.
2025-01-21 18:39:00.840 +02:00 [INF] Executing ObjectResult, writing value of type 'null'.
2025-01-21 18:39:00.843 +02:00 [INF] Executed action project.Controllers.UserController.GetByUserNameAndEmailAsync (project) in 123.7414ms
2025-01-21 18:39:00.848 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:39:00.850 +02:00 [INF] Outgoing Response: 204
2025-01-21 18:39:00.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=manager1&email=manager1%40example.com - 204 null null 184.5575ms
2025-01-21 18:39:19.331 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:39:19.338 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:39:19.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 12.2344ms
2025-01-21 18:39:19.353 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-21 18:39:19.360 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:39:19.368 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:39:19.381 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:39:19.500 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:39:19.677 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:39:19.709 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:39:19.881 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:39:20.112 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:39:20.121 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 618.1596ms.
2025-01-21 18:39:20.125 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:39:20.154 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 769.7229ms
2025-01-21 18:39:20.158 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:39:20.161 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 807.7124ms
2025-01-21 18:39:25.271 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:39:25.277 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:39:25.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 7.3705ms
2025-01-21 18:39:25.283 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-21 18:39:25.286 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:39:25.289 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:39:25.295 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:39:25.325 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:39:25.471 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:39:25.481 +02:00 [ERR] Registration failed: Username 'aaa' is already taken.
2025-01-21 18:39:25.565 +02:00 [ERR] Error during registration for user aaa.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:39:25.767 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aaa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:39:25.774 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 446.1636ms.
2025-01-21 18:39:25.778 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:39:25.782 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 482.371ms
2025-01-21 18:39:25.784 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:39:25.786 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 502.7928ms
2025-01-21 18:40:02.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 18:40:02.118 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:40:02.122 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 23.9123ms
2025-01-21 18:40:02.146 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-21 18:40:02.149 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:40:02.153 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:40:02.155 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:40:02.199 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:40:02.345 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:40:02.351 +02:00 [ERR] Registration failed: Username 'aa' is already taken.
2025-01-21 18:40:02.430 +02:00 [ERR] Error during registration for user aa.
System.Exception: Registration failed: Username 'aa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:40:02.589 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:40:02.598 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 396.7128ms.
2025-01-21 18:40:02.603 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:40:02.606 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 446.5422ms
2025-01-21 18:40:02.612 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:40:02.616 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 469.3049ms
2025-01-21 18:40:33.878 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 18:40:33.916 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:40:33.918 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:40:33.923 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:40:33.926 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:40:33.966 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:40:34.110 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:40:34.134 +02:00 [ERR] Registration failed: Username 'aa' is already taken.
2025-01-21 18:40:34.213 +02:00 [ERR] Error during registration for user aa.
System.Exception: Registration failed: Username 'aa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 18:40:34.388 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'aa' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 18:40:34.395 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 427.8552ms.
2025-01-21 18:40:34.399 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:40:34.401 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 469.9932ms
2025-01-21 18:40:34.403 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:40:34.406 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 528.0854ms
2025-01-21 18:41:14.899 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 18:41:14.935 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:41:14.936 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:41:14.938 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:41:14.940 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:41:14.981 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:41:45.599 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:42:38.664 +02:00 [INF] Starting up the application
2025-01-21 18:42:41.800 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:42:44.015 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:42:44.180 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:42:44.651 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:42:44.716 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:42:44.723 +02:00 [INF] Hosting environment: Development
2025-01-21 18:42:44.725 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:42:45.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:42:46.290 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 475.2324ms
2025-01-21 18:42:46.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:42:46.380 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 33.2618ms
2025-01-21 18:42:46.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:42:46.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 435.4698ms
2025-01-21 18:43:43.796 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 18:43:43.806 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:43:43.807 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:43:43.813 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:43:43.979 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:43:44.017 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 18:43:44.245 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 18:43:44.517 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:43:44.759 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 18:43:44.791 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:43:44.833 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@userId='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE AspNetUsers SET Discriminator = 'User' WHERE Id = @userId
2025-01-21 18:43:44.840 +02:00 [INF] User registered successfully: tre
2025-01-21 18:43:44.843 +02:00 [INF] User registered successfully.
2025-01-21 18:43:44.851 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 598.5025ms.
2025-01-21 18:43:44.868 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:43:44.903 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 873.8568ms
2025-01-21 18:43:44.907 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 18:43:44.920 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 1123.1639ms
2025-01-21 18:44:09.886 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=tre&email=tre%40gmail - null null
2025-01-21 18:44:09.939 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:44:09.941 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:44:09.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=tre&email=tre%40gmail - 401 null null 57.244ms
2025-01-21 18:44:32.270 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 51
2025-01-21 18:44:32.281 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:44:32.282 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:44:32.286 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:44:32.296 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:44:32.341 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:44:32.396 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:44:32.640 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:44:32.723 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:44:32.795 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:44:32.804 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 460.5548ms.
2025-01-21 18:44:32.812 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:44:32.823 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 523.5673ms
2025-01-21 18:44:32.826 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:44:32.829 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 558.9239ms
2025-01-21 18:44:57.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=tre&email=tre%40gmail - null null
2025-01-21 18:44:57.735 +02:00 [INF] Incoming Request: GET /api/User/getWithEmail
2025-01-21 18:44:57.835 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:44:57.844 +02:00 [INF] Route matched with {action = "GetByUserNameAndEmail", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.User] GetByUserNameAndEmailAsync(System.String, System.String) on controller project.Controllers.UserController (project).
2025-01-21 18:44:57.896 +02:00 [INF] Executing action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project) - Validation state: "Valid"
2025-01-21 18:44:57.901 +02:00 [INF] Starting GetByUserNameAndEmailAsync with UserName: tre and Email: tre@gmail
2025-01-21 18:44:57.966 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:44:57.985 +02:00 [INF] Completed GetByUserNameAndEmailAsync for User: tre
2025-01-21 18:44:57.992 +02:00 [INF] Executed action method project.Controllers.UserController.GetByUserNameAndEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 92.6196ms.
2025-01-21 18:44:57.996 +02:00 [INF] Executing ObjectResult, writing value of type 'project.Models.User'.
2025-01-21 18:44:58.018 +02:00 [INF] Executed action project.Controllers.UserController.GetByUserNameAndEmailAsync (project) in 167.7512ms
2025-01-21 18:44:58.022 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetByUserNameAndEmailAsync (project)'
2025-01-21 18:44:58.026 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:44:58.027 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/getWithEmail?userName=tre&email=tre%40gmail - 200 null application/json; charset=utf-8 299.999ms
2025-01-21 18:45:29.736 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - null 0
2025-01-21 18:45:29.745 +02:00 [INF] CORS policy execution failed.
2025-01-21 18:45:29.748 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 18:45:29.750 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:45:29.765 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:45:29.775 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:45:29.833 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:45:29.840 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 18:45:29.842 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 18:45:29.847 +02:00 [INF] Received request to fetch user by token.
2025-01-21 18:45:29.848 +02:00 [INF] Parsing token...
2025-01-21 18:45:29.851 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 18:45:29.863 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:45:29.870 +02:00 [INF] User successfully found: tre
2025-01-21 18:45:29.876 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 18:45:29.883 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T16:45:29.8834024Z"
2025-01-21 18:45:29.900 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 18:45:29.957 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 18:45:29.962 +02:00 [INF] Starting to add Gift 3 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 18:45:29.980 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 18:45:30.056 +02:00 [INF] Created new UserGift entry for Gift 3 (Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:45:30.096 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 18:45:30.103 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 18:45:30.105 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 1
2025-01-21 18:45:30.107 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 271.2614ms.
2025-01-21 18:45:30.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-01-21 18:45:30.115 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 333.7568ms
2025-01-21 18:45:30.117 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:45:30.120 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:45:30.123 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=1 - 200 null text/plain; charset=utf-8 388.3319ms
2025-01-21 18:45:54.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 18:45:54.400 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 18:45:54.406 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 18:45:54.416 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 18:45:54.458 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 18:45:54.467 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:45:54.475 +02:00 [INF] Start fetching user gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:45:54.527 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:45:54.541 +02:00 [INF] Successfully fetched gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138, result count: 1
2025-01-21 18:45:54.544 +02:00 [INF] Successfully retrieved 1 gifts for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:45:54.546 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 84.8061ms.
2025-01-21 18:45:54.552 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:45:54.568 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 142.5313ms
2025-01-21 18:45:54.572 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 18:45:54.574 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:45:54.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 195.3347ms
2025-01-21 18:46:02.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 18:46:02.448 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:46:02.453 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:02.461 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:46:02.501 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:46:02.506 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:46:02.508 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:46:02.511 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:46:02.515 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:46:02.543 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:46:02.559 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 18:46:02.562 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:46:02.565 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 60.9025ms.
2025-01-21 18:46:02.574 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:46:02.579 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 110.7481ms
2025-01-21 18:46:02.582 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:02.586 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:46:02.590 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 145.5851ms
2025-01-21 18:46:37.941 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:46:37.950 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:46:37.955 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 14.0184ms
2025-01-21 18:46:37.983 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 18:46:37.986 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:46:37.989 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:46:37.994 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:46:38.060 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:46:38.070 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:46:38.236 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:46:38.245 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:46:38.253 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:46:38.268 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 205.3019ms.
2025-01-21 18:46:38.271 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:46:38.277 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 279.6198ms
2025-01-21 18:46:38.280 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:46:38.282 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 299.3041ms
2025-01-21 18:46:41.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:46:41.696 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:46:41.702 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 11.8082ms
2025-01-21 18:46:41.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:46:41.712 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:46:41.714 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:46:41.722 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:41.724 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:46:41.758 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:46:41.761 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:46:41.762 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:41.765 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:41.773 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:46:41.780 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:41.782 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:41.783 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:41.785 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.5334ms.
2025-01-21 18:46:41.788 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:46:41.798 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 70.2594ms
2025-01-21 18:46:41.801 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:41.804 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:46:41.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 97.4382ms
2025-01-21 18:46:44.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 18:46:44.481 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:46:44.482 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:46:44.484 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 6.5926ms
2025-01-21 18:46:45.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:46:45.277 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:46:45.280 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:46:45.333 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:45.336 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:46:45.495 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:46:45.501 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:46:45.506 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:45.509 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:45.516 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:46:45.529 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:45.530 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:45.540 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:46:45.542 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 41.5122ms.
2025-01-21 18:46:45.546 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:46:45.554 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 162.1631ms
2025-01-21 18:46:45.557 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:46:45.560 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:46:45.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 291.4402ms
2025-01-21 18:47:02.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:47:02.228 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:02.230 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.1147ms
2025-01-21 18:47:02.234 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 18:47:02.239 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:02.242 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:47:02.247 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:47:02.280 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:47:02.290 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:47:02.450 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:47:02.461 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:47:02.471 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:47:02.476 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 193.5236ms.
2025-01-21 18:47:02.479 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:47:02.482 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 231.3295ms
2025-01-21 18:47:02.489 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:47:02.493 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 258.1327ms
2025-01-21 18:47:06.247 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:47:06.253 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:06.255 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.6201ms
2025-01-21 18:47:06.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:47:06.267 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:06.269 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:47:06.271 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:47:06.273 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:47:06.306 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:47:06.309 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:47:06.311 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:47:06.313 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:47:06.349 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:47:06.356 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:47:06.362 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 18:47:06.365 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:47:06.367 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 57.4093ms.
2025-01-21 18:47:06.370 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:47:06.375 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 98.7611ms
2025-01-21 18:47:06.378 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:47:06.381 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:47:06.383 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 119.0916ms
2025-01-21 18:47:08.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - null null
2025-01-21 18:47:08.816 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:08.819 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - 204 null null 7.4319ms
2025-01-21 18:47:08.828 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - application/json 14
2025-01-21 18:47:08.835 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:47:08.838 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:47:08.841 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:47:08.843 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:47:08.880 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:47:08.883 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 2
2025-01-21 18:47:08.885 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 18:47:08.887 +02:00 [INF] Received request to fetch user by token.
2025-01-21 18:47:08.888 +02:00 [INF] Parsing token...
2025-01-21 18:47:08.890 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 18:47:08.899 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:47:08.906 +02:00 [INF] User successfully found: tre
2025-01-21 18:47:08.911 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 18:47:08.914 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T16:47:08.9142067Z"
2025-01-21 18:47:08.919 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 18:47:08.927 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 18:47:08.930 +02:00 [INF] Starting to add Gift 3 (Quantity: 2) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 18:47:08.937 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 18:47:08.946 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 2) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:47:08.964 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 18:47:08.978 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 2)
2025-01-21 18:47:08.981 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 2
2025-01-21 18:47:08.983 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 100.1877ms.
2025-01-21 18:47:08.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-01-21 18:47:08.991 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 141.1312ms
2025-01-21 18:47:08.994 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:47:08.996 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:47:08.997 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - 200 null text/plain; charset=utf-8 169.1486ms
2025-01-21 18:48:29.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 18:48:29.631 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:48:29.633 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:48:29.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 22.6815ms
2025-01-21 18:48:30.204 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:48:30.262 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:48:30.265 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 60.4324ms
2025-01-21 18:48:30.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:48:30.281 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:48:30.283 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:48:30.287 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:48:30.289 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:48:30.363 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:48:30.366 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:48:30.370 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:48:30.380 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:48:30.397 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:48:30.408 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:48:30.412 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 2
  }
]
2025-01-21 18:48:30.419 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:48:30.421 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 55.1714ms.
2025-01-21 18:48:30.425 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:48:30.428 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 128.3241ms
2025-01-21 18:48:30.437 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:48:30.441 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:48:30.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 172.4199ms
2025-01-21 18:55:38.415 +02:00 [INF] Starting up the application
2025-01-21 18:55:41.753 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 18:55:44.067 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 18:55:44.258 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 18:55:45.018 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 18:55:45.026 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 18:55:45.029 +02:00 [INF] Hosting environment: Development
2025-01-21 18:55:45.031 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 18:55:46.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 18:55:46.440 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 443.0769ms
2025-01-21 18:55:46.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 18:55:46.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 17.2941ms
2025-01-21 18:55:46.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 18:55:47.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 322.1455ms
2025-01-21 18:56:25.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 18:56:25.345 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 18:56:25.399 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:56:25.406 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:56:25.408 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 71.2576ms
2025-01-21 18:56:26.113 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:56:26.124 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:26.135 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 21.2786ms
2025-01-21 18:56:26.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:56:26.175 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:26.183 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:56:26.647 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:56:26.741 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:56:26.936 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:56:26.943 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:56:26.949 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:26.955 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:27.184 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:56:27.289 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:27.359 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 2
  }
]
2025-01-21 18:56:27.362 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:27.372 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 426.4589ms.
2025-01-21 18:56:27.389 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:56:27.428 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 669.8478ms
2025-01-21 18:56:27.433 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:56:27.440 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:56:27.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 1286.1148ms
2025-01-21 18:56:30.723 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=3 - null null
2025-01-21 18:56:30.729 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:30.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=3 - 204 null null 8.1833ms
2025-01-21 18:56:30.740 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=3 - application/json 14
2025-01-21 18:56:30.744 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:30.747 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:56:30.757 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:56:30.781 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:56:30.859 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:56:30.865 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 3
2025-01-21 18:56:30.867 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 18:56:30.871 +02:00 [INF] Received request to fetch user by token.
2025-01-21 18:56:30.874 +02:00 [INF] Parsing token...
2025-01-21 18:56:30.877 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 18:56:30.963 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:56:30.989 +02:00 [INF] User successfully found: tre
2025-01-21 18:56:30.991 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 18:56:30.997 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T16:56:30.9964769Z"
2025-01-21 18:56:31.020 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 18:56:31.028 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 18:56:31.034 +02:00 [INF] Starting to add Gift 3 (Quantity: 3) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 18:56:31.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 18:56:31.070 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 3) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:31.232 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 18:56:31.256 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 3)
2025-01-21 18:56:31.259 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 3
2025-01-21 18:56:31.267 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 404.3737ms.
2025-01-21 18:56:31.271 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:56:31.290 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 502.7909ms
2025-01-21 18:56:31.293 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:56:31.296 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:56:31.298 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=3 - 200 null application/json; charset=utf-8 557.2319ms
2025-01-21 18:56:32.435 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=4 - null null
2025-01-21 18:56:32.445 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:32.449 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=4 - 204 null null 13.7422ms
2025-01-21 18:56:32.457 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=4 - application/json 14
2025-01-21 18:56:32.466 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:32.469 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 18:56:32.477 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:56:32.480 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 18:56:32.520 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 18:56:32.523 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 4
2025-01-21 18:56:32.524 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 18:56:32.526 +02:00 [INF] Received request to fetch user by token.
2025-01-21 18:56:32.527 +02:00 [INF] Parsing token...
2025-01-21 18:56:32.529 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 18:56:32.539 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 18:56:32.546 +02:00 [INF] User successfully found: tre
2025-01-21 18:56:32.547 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 18:56:32.549 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T16:56:32.5496867Z"
2025-01-21 18:56:32.558 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 18:56:32.564 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 18:56:32.566 +02:00 [INF] Starting to add Gift 3 (Quantity: 4) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 18:56:32.574 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 18:56:32.580 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 4) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:56:32.590 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 18:56:32.597 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 4)
2025-01-21 18:56:32.603 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 4
2025-01-21 18:56:32.607 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84.1481ms.
2025-01-21 18:56:32.610 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:56:32.614 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 128.8964ms
2025-01-21 18:56:32.619 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 18:56:32.622 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:56:32.623 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=4 - 200 null application/json; charset=utf-8 166.8056ms
2025-01-21 18:56:45.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:56:45.407 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:45.410 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.2978ms
2025-01-21 18:56:45.420 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 18:56:45.424 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:56:45.431 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:56:45.441 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:56:45.525 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:56:45.556 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:56:45.761 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:56:45.793 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:56:45.840 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:56:45.861 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 333.2981ms.
2025-01-21 18:56:45.869 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:56:45.882 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 431.3746ms
2025-01-21 18:56:45.884 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:56:45.887 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 466.7846ms
2025-01-21 18:58:25.065 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 18:58:25.074 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:25.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 10.5878ms
2025-01-21 18:58:25.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 18:58:25.105 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:25.109 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 18:58:25.116 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 18:58:25.364 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 18:58:25.369 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T16:58:25.3694246Z"
2025-01-21 18:58:25.384 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 18:58:25.393 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:58:25.3931337Z"
2025-01-21 18:58:25.395 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:58:25.3951095Z"
2025-01-21 18:58:25.397 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T16:58:25.3979168Z"
2025-01-21 18:58:25.399 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.089ms.
2025-01-21 18:58:25.404 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:58:25.426 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 306.0893ms
2025-01-21 18:58:25.432 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 18:58:25.439 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 337.7991ms
2025-01-21 18:58:27.254 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:58:27.259 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:27.262 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.1148ms
2025-01-21 18:58:27.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:58:27.279 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:27.287 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:58:27.290 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:58:27.291 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:58:27.335 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:58:27.338 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:58:27.339 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:58:27.341 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:58:27.358 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:58:27.365 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:58:27.367 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:58:27.368 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 18:58:27.370 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.1729ms.
2025-01-21 18:58:27.379 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:58:27.396 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 93.2278ms
2025-01-21 18:58:27.398 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:58:27.401 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:58:27.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 130.265ms
2025-01-21 18:58:44.064 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 18:58:44.070 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:44.072 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.7587ms
2025-01-21 18:58:44.078 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 18:58:44.086 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:44.088 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:58:44.090 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 18:58:44.141 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 18:58:44.151 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 18:58:44.303 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 18:58:44.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 18:58:44.327 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 18:58:44.334 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 189.741ms.
2025-01-21 18:58:44.340 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 18:58:44.346 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 250.0781ms
2025-01-21 18:58:44.349 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 18:58:44.355 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 275.7293ms
2025-01-21 18:58:47.768 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 18:58:47.773 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:47.775 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 6.8689ms
2025-01-21 18:58:47.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 18:58:47.792 +02:00 [INF] CORS policy execution successful.
2025-01-21 18:58:47.794 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 18:58:47.800 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:58:47.801 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 18:58:47.844 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 18:58:47.847 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 18:58:47.849 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:58:47.851 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:58:47.862 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 18:58:47.868 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:58:47.875 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 4
  }
]
2025-01-21 18:58:47.878 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 18:58:47.880 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.0095ms.
2025-01-21 18:58:47.883 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 18:58:47.886 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 80.9958ms
2025-01-21 18:58:47.892 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 18:58:47.894 +02:00 [INF] Outgoing Response: 200
2025-01-21 18:58:47.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 108.2529ms
2025-01-21 18:59:34.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Winning - null null
2025-01-21 18:59:34.670 +02:00 [INF] Incoming Request: GET /api/Winning
2025-01-21 18:59:34.671 +02:00 [WRN] Missing Authorization Header
2025-01-21 18:59:34.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Winning - 401 null null 28.8017ms
2025-01-21 18:59:51.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Winning - null null
2025-01-21 18:59:51.677 +02:00 [INF] Incoming Request: GET /api/Winning
2025-01-21 18:59:51.681 +02:00 [INF] Executing endpoint 'project.Controllers.WinningController.GetWinningsAsync (project)'
2025-01-21 18:59:51.714 +02:00 [INF] Route matched with {action = "GetWinnings", controller = "Winning"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Winning]] GetWinningsAsync() on controller project.Controllers.WinningController (project).
2025-01-21 18:59:51.729 +02:00 [INF] Executed action project.Controllers.WinningController.GetWinningsAsync (project) in 10.1253ms
2025-01-21 18:59:51.733 +02:00 [INF] Executed endpoint 'project.Controllers.WinningController.GetWinningsAsync (project)'
2025-01-21 18:59:51.843 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'project.Services.IServices.IWinningService' while attempting to activate 'project.Controllers.WinningController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method489(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 18:59:51.955 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Winning - 500 null text/plain; charset=utf-8 284.1591ms
2025-01-21 19:00:09.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Winning/1 - null null
2025-01-21 19:00:09.665 +02:00 [INF] Incoming Request: GET /api/Winning/1
2025-01-21 19:00:09.667 +02:00 [INF] Executing endpoint 'project.Controllers.WinningController.GetByIdAsync (project)'
2025-01-21 19:00:09.678 +02:00 [INF] Route matched with {action = "GetById", controller = "Winning"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.Winning] GetByIdAsync(Int32) on controller project.Controllers.WinningController (project).
2025-01-21 19:00:09.684 +02:00 [INF] Executed action project.Controllers.WinningController.GetByIdAsync (project) in 0.8019ms
2025-01-21 19:00:09.687 +02:00 [INF] Executed endpoint 'project.Controllers.WinningController.GetByIdAsync (project)'
2025-01-21 19:00:09.733 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'project.Services.IServices.IWinningService' while attempting to activate 'project.Controllers.WinningController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method497(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 19:00:09.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Winning/1 - 500 null text/plain; charset=utf-8 96.6105ms
2025-01-21 19:00:36.537 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:00:36.558 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:00:36.560 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 23.0653ms
2025-01-21 19:00:36.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:00:36.587 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:00:36.589 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:00:36.590 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:00:36.624 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:00:36.627 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:00:36.6279683Z"
2025-01-21 19:00:36.634 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:00:36.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:00:36.6393048Z"
2025-01-21 19:00:36.640 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:00:36.6407004Z"
2025-01-21 19:00:36.642 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:00:36.6423025Z"
2025-01-21 19:00:36.644 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.0953ms.
2025-01-21 19:00:36.647 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:00:36.653 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 58.2164ms
2025-01-21 19:00:36.655 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:00:36.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 73.776ms
2025-01-21 19:02:44.896 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - null null
2025-01-21 19:02:44.923 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:44.930 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - 204 null null 33.8761ms
2025-01-21 19:02:44.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-21 19:02:44.964 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:44.968 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:02:44.977 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:02:45.018 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:02:45.024 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T17:02:45.0243244Z"
2025-01-21 19:02:45.028 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:02:45.0285733Z"
2025-01-21 19:02:45.030 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:02:45.0300713Z"
2025-01-21 19:02:45.036 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:02:45.042 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T17:02:45.0425554Z"
2025-01-21 19:02:45.044 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T17:02:45.0446272Z"
2025-01-21 19:02:45.047 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.0469ms.
2025-01-21 19:02:45.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:02:45.053 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 70.4723ms
2025-01-21 19:02:45.055 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:02:45.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 98.8008ms
2025-01-21 19:02:45.065 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-21 19:02:45.071 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:45.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 7.8424ms
2025-01-21 19:02:45.080 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-21 19:02:45.087 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:45.088 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:02:45.092 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:02:45.094 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:02:45.135 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:02:45.138 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-21 19:02:45.140 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:02:45.143 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:02:45.145 +02:00 [INF] Parsing token...
2025-01-21 19:02:45.150 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:02:45.164 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:02:45.170 +02:00 [INF] User successfully found: tre
2025-01-21 19:02:45.172 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:02:45.174 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:02:45.1740743Z"
2025-01-21 19:02:45.177 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:02:45.184 +02:00 [INF] Gift with Id: 15 successfully retrieved.
2025-01-21 19:02:45.186 +02:00 [INF] Starting to add Gift 15 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:02:45.193 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:02:45.232 +02:00 [INF] Created new UserGift entry for Gift 15 (Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:45.284 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 19:02:45.291 +02:00 [INF] Successfully saved changes to database for Gift 15 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:02:45.294 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 15 with Quantity: 1
2025-01-21 19:02:45.296 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.5508ms.
2025-01-21 19:02:45.300 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:02:45.303 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 201.3944ms
2025-01-21 19:02:45.312 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:02:45.314 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:02:45.316 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 200 null application/json; charset=utf-8 236.287ms
2025-01-21 19:02:47.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:02:47.598 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:47.601 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 13.7329ms
2025-01-21 19:02:47.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:02:47.614 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:47.615 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:02:47.617 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:02:47.619 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:02:47.659 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:02:47.661 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:02:47.663 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:47.664 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:47.672 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:02:47.679 +02:00 [INF] Successfully fetched 2 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:47.683 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 4
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 19:02:47.689 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:47.691 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.524ms.
2025-01-21 19:02:47.694 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:02:47.697 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 69.5861ms
2025-01-21 19:02:47.699 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:02:47.704 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:02:47.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 95.8366ms
2025-01-21 19:02:53.052 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-21 19:02:53.059 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:53.062 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 9.8146ms
2025-01-21 19:02:53.067 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - application/json null
2025-01-21 19:02:53.071 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:53.080 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 19:02:53.083 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:02:53.093 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:02:53.126 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 19:02:53.130 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 15
2025-01-21 19:02:53.132 +02:00 [INF] Removing Gift 15 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:02:53.136 +02:00 [INF] Removing Gift 15 for User 3234d92d-b049-42c1-b2d1-2e6828072138 in database
2025-01-21 19:02:53.151 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 19:02:53.197 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:02:53.219 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserGifts]
OUTPUT 1
WHERE [GiftId] = @p0 AND [UserId] = @p1;
2025-01-21 19:02:53.232 +02:00 [INF] Removed Gift 15 for User 3234d92d-b049-42c1-b2d1-2e6828072138 successfully
2025-01-21 19:02:53.234 +02:00 [INF] Removed Gift 15 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket successfully
2025-01-21 19:02:53.236 +02:00 [INF] Completed RemoveGiftFromUserAsync for GiftId: 15
2025-01-21 19:02:53.239 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 110.0953ms.
2025-01-21 19:02:53.244 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 145.0124ms
2025-01-21 19:02:53.248 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:02:53.250 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:02:53.252 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - 200 0 null 184.8723ms
2025-01-21 19:02:53.260 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:02:53.288 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:53.290 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 29.7949ms
2025-01-21 19:02:53.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:02:53.306 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:02:53.312 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:02:53.315 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:02:53.316 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:02:53.349 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:02:53.351 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:02:53.352 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:53.354 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:53.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:02:53.365 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:53.368 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 4
  }
]
2025-01-21 19:02:53.373 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:02:53.376 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.4446ms.
2025-01-21 19:02:53.378 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:02:53.381 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 60.7441ms
2025-01-21 19:02:53.383 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:02:53.387 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:02:53.389 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 85.7219ms
2025-01-21 19:03:28.801 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-21 19:03:28.825 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:28.826 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 25.4423ms
2025-01-21 19:03:28.854 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-21 19:03:28.858 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:28.860 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-21 19:03:28.864 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 19:03:28.871 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:03:28.916 +02:00 [INF] Executing action method project.Controllers.UserController.ConfirmPurchaseAsync (project) - Validation state: "Valid"
2025-01-21 19:03:28.921 +02:00 [INF] Starting ConfirmPurchaseAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.923 +02:00 [INF] Confirming purchase for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.927 +02:00 [INF] Fetching UserGifts for User 3234d92d-b049-42c1-b2d1-2e6828072138 to confirm purchase
2025-01-21 19:03:28.952 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-21 19:03:28.960 +02:00 [INF] Updated Gift 3 to Purchased for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.967 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 19:03:28.972 +02:00 [INF] Purchase confirmed for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.975 +02:00 [INF] Purchase confirmed for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.980 +02:00 [INF] Completed ConfirmPurchaseAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:28.982 +02:00 [INF] Executed action method project.Controllers.UserController.ConfirmPurchaseAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 62.0757ms.
2025-01-21 19:03:28.985 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 107.9598ms
2025-01-21 19:03:28.986 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 19:03:28.988 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:03:28.993 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 138.8ms
2025-01-21 19:03:34.673 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:03:34.684 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:34.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 15.299ms
2025-01-21 19:03:34.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:03:34.701 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:34.702 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:03:34.704 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:03:34.706 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:03:34.745 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:03:34.747 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:03:34.748 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:34.750 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:34.754 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:03:34.759 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:34.764 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 4
  }
]
2025-01-21 19:03:34.767 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:03:34.769 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.1145ms.
2025-01-21 19:03:34.772 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:03:34.776 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 64.9514ms
2025-01-21 19:03:34.782 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:03:34.784 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:03:34.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 89.8363ms
2025-01-21 19:03:40.232 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 19:03:40.238 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:40.241 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 8.9208ms
2025-01-21 19:03:40.247 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=3 - application/json null
2025-01-21 19:03:40.257 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:03:40.260 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 19:03:40.264 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:03:40.269 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:03:40.312 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 19:03:40.315 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 3
2025-01-21 19:03:40.316 +02:00 [INF] Removing Gift 3 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:03:40.318 +02:00 [INF] Removing Gift 3 for User 3234d92d-b049-42c1-b2d1-2e6828072138 in database
2025-01-21 19:03:40.322 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 19:03:40.330 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:03:40.605 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 329.9699ms
2025-01-21 19:03:40.608 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:03:40.746 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 3 from user 3234d92d-b049-42c1-b2d1-2e6828072138 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 158
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 19:03:40.775 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=3 - 500 null text/plain; charset=utf-8 527.4ms
2025-01-21 19:05:37.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:05:37.371 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:05:37.372 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:05:37.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 24.2118ms
2025-01-21 19:05:38.170 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:05:38.175 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:05:38.177 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:05:38.179 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:05:38.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 14.3039ms
2025-01-21 19:06:57.848 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:06:57.852 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:06:57.853 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:06:57.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 7.5148ms
2025-01-21 19:06:58.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:06:58.358 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:06:58.366 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:06:58.368 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:06:58.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 44.8696ms
2025-01-21 19:07:01.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:07:01.331 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:07:01.335 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:07:01.346 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:07:01.348 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 20.7902ms
2025-01-21 19:07:30.522 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:07:30.547 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:07:30.549 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 26.3017ms
2025-01-21 19:07:30.578 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 19:07:30.583 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:07:30.585 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:07:30.587 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:07:30.641 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:07:30.650 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:07:30.808 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:07:30.819 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:07:30.827 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:07:30.834 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 191.1049ms.
2025-01-21 19:07:30.840 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:07:30.843 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 250.3207ms
2025-01-21 19:07:30.848 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:07:30.850 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 271.6663ms
2025-01-21 19:07:35.795 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:07:35.802 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:07:35.804 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.9542ms
2025-01-21 19:07:35.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:07:35.816 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:07:35.818 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:07:35.821 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:07:35.825 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:07:35.867 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:07:35.869 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:07:35.871 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:07:35.872 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:07:35.884 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:07:35.891 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:07:35.897 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 4
  }
]
2025-01-21 19:07:35.899 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:07:35.904 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.8348ms.
2025-01-21 19:07:35.907 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:07:35.909 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 77.22ms
2025-01-21 19:07:35.912 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:07:35.916 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:07:35.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 106.3002ms
2025-01-21 19:08:29.581 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:08:29.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:08:29.716 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:08:29.727 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:08:29.730 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:08:29.733 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:08:29.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 159.903ms
2025-01-21 19:08:29.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 115.0378ms
2025-01-21 19:08:30.264 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:08:30.268 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:08:30.270 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 6.6904ms
2025-01-21 19:08:30.283 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:08:30.291 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:08:30.294 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:08:30.302 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:08:30.307 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:08:30.389 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:08:30.393 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:08:30.395 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:30.398 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:30.419 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:08:30.449 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:30.490 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 4
  }
]
2025-01-21 19:08:30.494 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:30.496 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 102.8374ms.
2025-01-21 19:08:30.506 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:08:30.513 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 182.5788ms
2025-01-21 19:08:30.518 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:08:30.522 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:08:30.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 241.8993ms
2025-01-21 19:08:51.331 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:08:51.337 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:08:51.340 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:08:51.344 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:08:51.391 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:08:51.393 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:08:51.395 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:51.396 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:51.405 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:08:51.410 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:51.412 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 4
  }
]
2025-01-21 19:08:51.414 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:08:51.415 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.4723ms.
2025-01-21 19:08:51.422 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:08:51.427 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 77.6378ms
2025-01-21 19:08:51.429 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:08:51.430 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:08:51.432 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 100.9446ms
2025-01-21 19:09:00.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 19:09:00.591 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 19:09:00.593 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 19:09:00.600 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 19:09:00.636 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 19:09:00.641 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:00.644 +02:00 [INF] Start fetching user gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:00.652 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:09:00.660 +02:00 [INF] Successfully fetched gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138, result count: 1
2025-01-21 19:09:00.662 +02:00 [INF] Successfully retrieved 1 gifts for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:00.666 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.2973ms.
2025-01-21 19:09:00.669 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:00.676 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 69.2894ms
2025-01-21 19:09:00.678 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 19:09:00.682 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:00.683 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 96.7652ms
2025-01-21 19:09:23.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:09:23.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:09:23.921 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:09:23.915 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:09:23.926 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:09:23.927 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:09:23.929 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 18.8954ms
2025-01-21 19:09:23.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 21.4301ms
2025-01-21 19:09:24.474 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:09:24.480 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:24.486 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 11.8303ms
2025-01-21 19:09:24.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:09:24.504 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:24.508 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:09:24.511 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:24.516 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:09:24.579 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:09:24.584 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:09:24.587 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:24.592 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:24.612 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:09:24.623 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:24.630 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 4
  }
]
2025-01-21 19:09:24.634 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:24.643 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 58.8976ms.
2025-01-21 19:09:24.649 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:24.653 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 129.9325ms
2025-01-21 19:09:24.660 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:24.663 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:24.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 172.0317ms
2025-01-21 19:09:27.881 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:09:27.887 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:27.889 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.758ms
2025-01-21 19:09:27.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:09:27.900 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:27.902 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:27.904 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:09:27.940 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:09:27.942 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:09:27.9428085Z"
2025-01-21 19:09:27.948 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:09:27.954 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:27.9546402Z"
2025-01-21 19:09:27.956 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:27.9566212Z"
2025-01-21 19:09:27.959 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:27.9594593Z"
2025-01-21 19:09:27.961 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.8529ms.
2025-01-21 19:09:27.969 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:27.973 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 64.7027ms
2025-01-21 19:09:27.976 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:27.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 87.7632ms
2025-01-21 19:09:29.827 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 19:09:29.832 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:29.834 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 7.1886ms
2025-01-21 19:09:29.841 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 19:09:29.848 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:29.851 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:09:29.854 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:09:29.893 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:09:29.896 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T17:09:29.8965723Z"
2025-01-21 19:09:29.898 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:29.8985466Z"
2025-01-21 19:09:29.900 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:29.9003930Z"
2025-01-21 19:09:29.907 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:09:29.914 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T17:09:29.9147479Z"
2025-01-21 19:09:29.916 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T17:09:29.9166166Z"
2025-01-21 19:09:29.919 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.4905ms.
2025-01-21 19:09:29.925 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:09:29.927 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 65.1489ms
2025-01-21 19:09:29.930 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:09:29.932 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 91.4247ms
2025-01-21 19:09:29.942 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 19:09:29.947 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:29.950 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 7.7715ms
2025-01-21 19:09:29.960 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - application/json 2
2025-01-21 19:09:29.964 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:29.966 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:09:29.968 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:09:29.975 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:09:30.087 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:09:30.091 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 19:09:30.094 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:09:30.095 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:09:30.099 +02:00 [INF] Parsing token...
2025-01-21 19:09:30.101 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:09:30.116 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:09:30.125 +02:00 [INF] User successfully found: tre
2025-01-21 19:09:30.130 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:09:30.132 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:30.1326442Z"
2025-01-21 19:09:30.138 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:09:30.145 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 19:09:30.147 +02:00 [INF] Starting to add Gift 3 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:09:30.155 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:09:30.163 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:30.173 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 19:09:30.177 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:09:30.180 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 1
2025-01-21 19:09:30.183 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.8231ms.
2025-01-21 19:09:30.187 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:09:30.195 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 213.4611ms
2025-01-21 19:09:30.199 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:09:30.202 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:30.206 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - 200 null application/json; charset=utf-8 245.99ms
2025-01-21 19:09:31.101 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:09:31.113 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:31.115 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 14.121ms
2025-01-21 19:09:31.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:09:31.129 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:31.130 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:09:31.133 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:31.134 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:09:31.174 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:09:31.176 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:09:31.178 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:31.179 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:31.187 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:09:31.192 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:31.195 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-21 19:09:31.197 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:31.198 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.855ms.
2025-01-21 19:09:31.204 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:31.207 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 64.4107ms
2025-01-21 19:09:31.210 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:31.212 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:31.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 88.1945ms
2025-01-21 19:09:34.689 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:09:34.695 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:34.698 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.6166ms
2025-01-21 19:09:34.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:09:34.708 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:34.716 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:34.719 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:09:34.756 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:09:34.759 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:09:34.7599027Z"
2025-01-21 19:09:34.764 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:09:34.768 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:34.7688130Z"
2025-01-21 19:09:34.770 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:34.7701063Z"
2025-01-21 19:09:34.771 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:34.7717510Z"
2025-01-21 19:09:34.773 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.4311ms.
2025-01-21 19:09:34.779 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:34.782 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 54.4879ms
2025-01-21 19:09:34.785 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:34.789 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.0082ms
2025-01-21 19:09:39.110 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 19:09:39.114 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:39.116 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 5.7595ms
2025-01-21 19:09:39.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 19:09:39.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:39.129 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:09:39.130 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:09:39.167 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:09:39.172 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T17:09:39.1720421Z"
2025-01-21 19:09:39.174 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:39.1746712Z"
2025-01-21 19:09:39.176 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:39.1766945Z"
2025-01-21 19:09:39.182 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:09:39.191 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T17:09:39.1919586Z"
2025-01-21 19:09:39.194 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T17:09:39.1941025Z"
2025-01-21 19:09:39.196 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.0547ms.
2025-01-21 19:09:39.198 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:09:39.200 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 66.6855ms
2025-01-21 19:09:39.208 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:09:39.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 89.6864ms
2025-01-21 19:09:39.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 19:09:39.227 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:39.230 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 7.9253ms
2025-01-21 19:09:39.237 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - application/json 2
2025-01-21 19:09:39.243 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:39.245 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:09:39.249 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:09:39.252 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:09:39.331 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:09:39.333 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 19:09:39.335 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:09:39.337 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:09:39.339 +02:00 [INF] Parsing token...
2025-01-21 19:09:39.340 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:09:39.354 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:09:39.363 +02:00 [INF] User successfully found: tre
2025-01-21 19:09:39.365 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:09:39.366 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:09:39.3669402Z"
2025-01-21 19:09:39.372 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:09:39.381 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 19:09:39.382 +02:00 [INF] Starting to add Gift 3 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:09:39.391 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:09:39.398 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:39.401 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:09:39.405 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 1
2025-01-21 19:09:39.410 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77.0199ms.
2025-01-21 19:09:39.413 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:09:39.416 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 157.5035ms
2025-01-21 19:09:39.418 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:09:39.421 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:39.425 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - 200 null application/json; charset=utf-8 188.3701ms
2025-01-21 19:09:40.391 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:09:40.396 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:40.397 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 7.8777ms
2025-01-21 19:09:40.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:09:40.409 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:40.411 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:09:40.414 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:40.415 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:09:40.459 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:09:40.461 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:09:40.463 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:40.465 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:40.473 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:09:40.478 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:40.480 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-21 19:09:40.485 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:09:40.487 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.7411ms.
2025-01-21 19:09:40.490 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:40.493 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 70.0925ms
2025-01-21 19:09:40.495 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:09:40.501 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:09:40.503 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 100.7364ms
2025-01-21 19:09:45.781 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:09:45.789 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:45.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.7483ms
2025-01-21 19:09:45.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:09:45.799 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:09:45.802 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:45.807 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:09:45.849 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:09:45.851 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:09:45.8519427Z"
2025-01-21 19:09:45.857 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:09:45.861 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:45.8618108Z"
2025-01-21 19:09:45.863 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:45.8630661Z"
2025-01-21 19:09:45.866 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:09:45.8669664Z"
2025-01-21 19:09:45.868 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.7883ms.
2025-01-21 19:09:45.872 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:09:45.875 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 62.2612ms
2025-01-21 19:09:45.878 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:09:45.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 84.1622ms
2025-01-21 19:10:12.484 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:10:12.506 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:10:12.509 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:10:12.511 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.5079ms
2025-01-21 19:10:13.066 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:10:13.071 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:13.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.0929ms
2025-01-21 19:10:13.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:10:13.087 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:13.091 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:13.093 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:10:13.147 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:10:13.151 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:10:13.1518735Z"
2025-01-21 19:10:13.159 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:10:13.166 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:13.1664490Z"
2025-01-21 19:10:13.168 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:13.1682804Z"
2025-01-21 19:10:13.172 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:13.1722271Z"
2025-01-21 19:10:13.177 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.3874ms.
2025-01-21 19:10:13.182 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:10:13.187 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 84.6779ms
2025-01-21 19:10:13.192 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:13.194 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 112.1469ms
2025-01-21 19:10:18.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:10:18.426 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:10:18.428 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:10:18.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.788ms
2025-01-21 19:10:18.911 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:10:18.917 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:18.920 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.697ms
2025-01-21 19:10:18.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:10:18.938 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:18.941 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:18.943 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:10:19.000 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:10:19.005 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:10:19.0059484Z"
2025-01-21 19:10:19.013 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:10:19.021 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:19.0218319Z"
2025-01-21 19:10:19.023 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:19.0232940Z"
2025-01-21 19:10:19.028 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:19.0282455Z"
2025-01-21 19:10:19.030 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.8114ms.
2025-01-21 19:10:19.035 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:10:19.039 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 84.0259ms
2025-01-21 19:10:19.045 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:19.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 120.7968ms
2025-01-21 19:10:22.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:10:22.375 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:10:22.377 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:10:22.379 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.1269ms
2025-01-21 19:10:23.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:10:23.135 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:23.138 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:23.140 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:10:23.190 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:10:23.193 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:10:23.1936432Z"
2025-01-21 19:10:23.200 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:10:23.209 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:23.2094790Z"
2025-01-21 19:10:23.211 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:23.2112126Z"
2025-01-21 19:10:23.214 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:23.2141522Z"
2025-01-21 19:10:23.216 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.5738ms.
2025-01-21 19:10:23.225 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:10:23.229 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 81.1458ms
2025-01-21 19:10:23.232 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:23.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 104.8631ms
2025-01-21 19:10:29.525 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:10:29.529 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:10:29.531 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:10:29.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.4649ms
2025-01-21 19:10:30.039 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:10:30.044 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:30.049 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 10.1041ms
2025-01-21 19:10:30.074 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:10:30.082 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:10:30.088 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:30.092 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:10:30.170 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:10:30.242 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:10:30.2419859Z"
2025-01-21 19:10:30.274 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:10:30.316 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:30.3167460Z"
2025-01-21 19:10:30.318 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:30.3184947Z"
2025-01-21 19:10:30.320 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:10:30.3205713Z"
2025-01-21 19:10:30.325 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 83.6991ms.
2025-01-21 19:10:30.330 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:10:30.332 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 234.2508ms
2025-01-21 19:10:30.334 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:10:30.340 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 266.0538ms
2025-01-21 19:11:38.660 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - null null
2025-01-21 19:11:38.683 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:38.685 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/16 - 204 null null 24.7748ms
2025-01-21 19:11:38.712 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/16 - application/json null
2025-01-21 19:11:38.716 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:38.718 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:11:38.724 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:11:38.770 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:11:38.773 +02:00 [INF] Starting GetByIdAsync with ID 16 at "2025-01-21T17:11:38.7739290Z"
2025-01-21 19:11:38.776 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T17:11:38.7765206Z"
2025-01-21 19:11:38.778 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T17:11:38.7786120Z"
2025-01-21 19:11:38.785 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:11:38.792 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 16 at "2025-01-21T17:11:38.7927436Z"
2025-01-21 19:11:38.794 +02:00 [INF] GetByIdAsync completed successfully with ID 16 at "2025-01-21T17:11:38.7946206Z"
2025-01-21 19:11:38.796 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.5313ms.
2025-01-21 19:11:38.803 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:11:38.807 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 77.8993ms
2025-01-21 19:11:38.810 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:11:38.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/16 - 200 null application/json; charset=utf-8 99.2623ms
2025-01-21 19:11:38.821 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-21 19:11:38.826 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:38.829 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 7.0456ms
2025-01-21 19:11:38.839 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - application/json 2
2025-01-21 19:11:38.843 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:38.847 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:11:38.849 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:11:38.852 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:11:38.933 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:11:38.937 +02:00 [INF] Starting AddToBasketAsync with GiftId: 16 and Quantity: 1
2025-01-21 19:11:38.941 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:11:38.943 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:11:38.944 +02:00 [INF] Parsing token...
2025-01-21 19:11:38.946 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:11:38.956 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:11:38.964 +02:00 [INF] User successfully found: tre
2025-01-21 19:11:38.967 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:11:38.973 +02:00 [INF] Starting GetByIdAsync for Gift ID 16 at "2025-01-21T17:11:38.9736871Z"
2025-01-21 19:11:38.977 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:11:38.983 +02:00 [INF] Gift with Id: 16 successfully retrieved.
2025-01-21 19:11:38.989 +02:00 [INF] Starting to add Gift 16 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:11:38.997 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:11:39.005 +02:00 [INF] Created new UserGift entry for Gift 16 (Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:11:39.013 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 19:11:39.023 +02:00 [INF] Successfully saved changes to database for Gift 16 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:11:39.026 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 16 with Quantity: 1
2025-01-21 19:11:39.028 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.8298ms.
2025-01-21 19:11:39.031 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:11:39.037 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 179.0971ms
2025-01-21 19:11:39.039 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:11:39.041 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:11:39.043 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=16 - 200 null application/json; charset=utf-8 204.7442ms
2025-01-21 19:11:40.833 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:11:40.841 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:40.844 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 10.6111ms
2025-01-21 19:11:40.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:11:40.856 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:11:40.859 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:11:40.860 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:11:40.862 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:11:40.890 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:11:40.892 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:11:40.894 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:11:40.896 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:11:40.904 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:11:40.910 +02:00 [INF] Successfully fetched 2 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:11:40.914 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 16,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 19:11:40.920 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:11:40.921 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.0405ms.
2025-01-21 19:11:40.924 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:11:40.927 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 61.3026ms
2025-01-21 19:11:40.929 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:11:40.934 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:11:40.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 86.2924ms
2025-01-21 19:13:07.557 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - null null
2025-01-21 19:13:07.564 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:07.565 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - 204 null null 8.8229ms
2025-01-21 19:13:07.588 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - application/json 14
2025-01-21 19:13:07.592 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:07.593 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:13:07.595 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:13:07.598 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:13:07.629 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:13:07.632 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 2
2025-01-21 19:13:07.634 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:13:07.636 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:13:07.637 +02:00 [INF] Parsing token...
2025-01-21 19:13:07.639 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:13:07.649 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:13:07.656 +02:00 [INF] User successfully found: tre
2025-01-21 19:13:07.661 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:13:07.662 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:13:07.6629710Z"
2025-01-21 19:13:07.669 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:13:07.677 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 19:13:07.680 +02:00 [INF] Starting to add Gift 3 (Quantity: 2) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:13:07.687 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:13:07.695 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 2) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:07.705 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 19:13:07.713 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 2)
2025-01-21 19:13:07.715 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 2
2025-01-21 19:13:07.719 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.5268ms.
2025-01-21 19:13:07.722 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:13:07.727 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 124.3824ms
2025-01-21 19:13:07.729 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:13:07.731 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:07.734 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - 200 null application/json; charset=utf-8 145.7162ms
2025-01-21 19:13:09.215 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=3 - null null
2025-01-21 19:13:09.221 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:09.223 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=3 - 204 null null 8.4048ms
2025-01-21 19:13:09.274 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=3 - application/json 14
2025-01-21 19:13:09.278 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:09.279 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:13:09.285 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:13:09.287 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:13:09.313 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:13:09.316 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 3
2025-01-21 19:13:09.318 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:13:09.320 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:13:09.322 +02:00 [INF] Parsing token...
2025-01-21 19:13:09.323 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:13:09.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:13:09.353 +02:00 [INF] User successfully found: tre
2025-01-21 19:13:09.355 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:13:09.357 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T17:13:09.3575544Z"
2025-01-21 19:13:09.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:13:09.369 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 19:13:09.371 +02:00 [INF] Starting to add Gift 3 (Quantity: 3) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:13:09.377 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:13:09.386 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 3) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:09.396 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 19:13:09.404 +02:00 [INF] Successfully saved changes to database for Gift 3 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 3)
2025-01-21 19:13:09.412 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 3 with Quantity: 3
2025-01-21 19:13:09.416 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 99.9085ms.
2025-01-21 19:13:09.424 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:13:09.427 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 136.4296ms
2025-01-21 19:13:09.430 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:13:09.433 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:09.436 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=3 - 200 null application/json; charset=utf-8 162.3787ms
2025-01-21 19:13:10.109 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:13:10.115 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:10.117 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.9745ms
2025-01-21 19:13:10.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:13:10.140 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:10.144 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:13:10.151 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:13:10.179 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:13:10.181 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:13:10.1818274Z"
2025-01-21 19:13:10.186 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:13:10.193 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:10.1930169Z"
2025-01-21 19:13:10.194 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:10.1947358Z"
2025-01-21 19:13:10.196 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:10.1966262Z"
2025-01-21 19:13:10.198 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.4287ms.
2025-01-21 19:13:10.201 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:10.204 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 47.9109ms
2025-01-21 19:13:10.210 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:13:10.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 90.0528ms
2025-01-21 19:13:10.694 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:13:10.701 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:10.703 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 9.4078ms
2025-01-21 19:13:10.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:13:10.719 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:10.721 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:13:10.723 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:10.727 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:13:10.759 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:13:10.762 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:13:10.763 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:10.765 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:10.773 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:13:10.779 +02:00 [INF] Successfully fetched 2 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:10.781 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 16,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 19:13:10.784 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:10.786 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.2488ms.
2025-01-21 19:13:10.794 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:10.797 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 65.9642ms
2025-01-21 19:13:10.800 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:10.802 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:10.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 93.0106ms
2025-01-21 19:13:17.572 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - null null
2025-01-21 19:13:17.578 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:17.580 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=16 - 204 null null 8.4895ms
2025-01-21 19:13:17.590 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - application/json null
2025-01-21 19:13:17.598 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:17.602 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 19:13:17.605 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:13:17.607 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:13:17.642 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 19:13:17.645 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 16
2025-01-21 19:13:17.646 +02:00 [INF] Removing Gift 16 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:13:17.648 +02:00 [INF] Removing Gift 16 for User 3234d92d-b049-42c1-b2d1-2e6828072138 in database
2025-01-21 19:13:17.654 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 19:13:17.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:13:17.678 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserGifts]
OUTPUT 1
WHERE [GiftId] = @p0 AND [UserId] = @p1;
2025-01-21 19:13:17.682 +02:00 [INF] Removed Gift 16 for User 3234d92d-b049-42c1-b2d1-2e6828072138 successfully
2025-01-21 19:13:17.685 +02:00 [INF] Removed Gift 16 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket successfully
2025-01-21 19:13:17.690 +02:00 [INF] Completed RemoveGiftFromUserAsync for GiftId: 16
2025-01-21 19:13:17.691 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 46.5743ms.
2025-01-21 19:13:17.695 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 75.9818ms
2025-01-21 19:13:17.696 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:13:17.698 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:17.700 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=16 - 200 0 null 109.5182ms
2025-01-21 19:13:17.710 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:13:17.713 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:17.715 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 5.238ms
2025-01-21 19:13:17.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:13:17.725 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:17.727 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:13:17.729 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:17.730 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:13:17.847 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:13:17.850 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:13:17.852 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:17.854 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:17.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:13:17.864 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:17.866 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  }
]
2025-01-21 19:13:17.869 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:17.870 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.7483ms.
2025-01-21 19:13:17.873 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:17.879 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 141.2592ms
2025-01-21 19:13:17.881 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:17.883 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:17.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 162.5318ms
2025-01-21 19:13:21.127 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 19:13:21.131 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:21.134 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 7.1838ms
2025-01-21 19:13:21.141 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=3 - application/json null
2025-01-21 19:13:21.145 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:21.146 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 19:13:21.148 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:13:21.150 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:13:21.183 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 19:13:21.188 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 3
2025-01-21 19:13:21.190 +02:00 [INF] Removing Gift 3 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:13:21.193 +02:00 [INF] Removing Gift 3 for User 3234d92d-b049-42c1-b2d1-2e6828072138 in database
2025-01-21 19:13:21.197 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 19:13:21.207 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:13:21.385 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 225.9466ms
2025-01-21 19:13:21.388 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:13:21.515 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 3 from user 3234d92d-b049-42c1-b2d1-2e6828072138 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 158
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 19:13:21.544 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=3 - 500 null text/plain; charset=utf-8 402.8594ms
2025-01-21 19:13:25.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:13:25.157 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:13:25.159 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:13:25.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 8.5449ms
2025-01-21 19:13:25.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:13:25.640 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:25.643 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 58.9135ms
2025-01-21 19:13:25.654 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:13:25.665 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:25.669 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:13:25.674 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:25.678 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:13:25.729 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:13:25.735 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:13:25.738 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:25.741 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:25.757 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:13:25.778 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:25.782 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  }
]
2025-01-21 19:13:25.790 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:13:25.794 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 59.8378ms.
2025-01-21 19:13:25.799 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:25.809 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 120.2523ms
2025-01-21 19:13:25.813 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:13:25.822 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:13:25.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 170.3479ms
2025-01-21 19:13:29.069 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:13:29.074 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:29.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.4846ms
2025-01-21 19:13:29.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:13:29.088 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:29.090 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:13:29.092 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:13:29.124 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:13:29.127 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:13:29.1271702Z"
2025-01-21 19:13:29.131 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:13:29.137 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:29.1371192Z"
2025-01-21 19:13:29.138 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:29.1382221Z"
2025-01-21 19:13:29.139 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:13:29.1396751Z"
2025-01-21 19:13:29.141 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.9737ms.
2025-01-21 19:13:29.143 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:29.146 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 48.5758ms
2025-01-21 19:13:29.153 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:13:29.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 75.5672ms
2025-01-21 19:13:39.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - null null
2025-01-21 19:13:39.522 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:39.524 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:13:39.526 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:13:39.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 401 null null 14.6724ms
2025-01-21 19:13:43.425 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:13:43.429 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:43.431 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.0371ms
2025-01-21 19:13:43.441 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 19:13:43.445 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:43.447 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:13:43.449 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:13:43.492 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:13:43.502 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:13:43.674 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:13:43.687 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:13:43.697 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:13:43.707 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 212.3544ms.
2025-01-21 19:13:43.709 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:13:43.712 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 253.9968ms
2025-01-21 19:13:43.714 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:13:43.722 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 281.177ms
2025-01-21 19:13:46.640 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:13:46.647 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:46.650 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.3575ms
2025-01-21 19:13:46.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:13:46.664 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:13:46.667 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:13:46.676 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:13:46.708 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:13:46.712 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:13:46.714 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:13:46.7149371Z"
2025-01-21 19:13:46.721 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:13:46.7216695Z"
2025-01-21 19:13:46.785 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:13:46.791 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:13:46.7919109Z"
2025-01-21 19:13:46.793 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:13:46.7937181Z"
2025-01-21 19:13:46.796 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:13:46.802 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.4168ms.
2025-01-21 19:13:46.806 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:13:46.816 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 134.7396ms
2025-01-21 19:13:46.819 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:13:46.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 162.7525ms
2025-01-21 19:15:52.617 +02:00 [INF] Starting up the application
2025-01-21 19:15:56.468 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 19:15:58.868 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 19:15:59.043 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 19:15:59.463 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 19:15:59.471 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 19:15:59.474 +02:00 [INF] Hosting environment: Development
2025-01-21 19:15:59.476 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 19:16:00.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 19:16:01.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 457.2543ms
2025-01-21 19:16:01.106 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 19:16:01.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.1748ms
2025-01-21 19:16:01.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 19:16:01.635 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 306.0447ms
2025-01-21 19:16:04.393 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:16:04.405 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 19:16:04.553 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:16:04.594 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:16:05.028 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:16:05.040 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:16:05.044 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:16:05.0438801Z"
2025-01-21 19:16:05.052 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:16:05.0525541Z"
2025-01-21 19:16:05.359 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:16:05.367 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:16:05.3674379Z"
2025-01-21 19:16:05.369 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:16:05.3690392Z"
2025-01-21 19:16:05.370 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:16:05.378 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 341.2229ms.
2025-01-21 19:16:05.395 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:16:05.450 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 843.6319ms
2025-01-21 19:16:05.453 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:16:05.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 1069.7981ms
2025-01-21 19:16:06.019 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:16:06.090 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:16:06.105 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 86.074ms
2025-01-21 19:16:06.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:16:06.126 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:16:06.370 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:16:06.372 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:16:06.414 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:16:06.416 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:16:06.417 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:16:06.4179737Z"
2025-01-21 19:16:06.420 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:16:06.4200761Z"
2025-01-21 19:16:06.455 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:16:06.462 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:16:06.4628100Z"
2025-01-21 19:16:06.464 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:16:06.4641967Z"
2025-01-21 19:16:06.466 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:16:06.469 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.157ms.
2025-01-21 19:16:06.477 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:16:06.483 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 105.8114ms
2025-01-21 19:16:06.488 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:16:06.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 369.4409ms
2025-01-21 19:20:16.071 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:20:16.076 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:20:16.077 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.0979ms
2025-01-21 19:20:16.110 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 19:20:16.117 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:20:16.121 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:20:16.139 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:20:16.238 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:20:16.276 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:20:16.502 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:20:16.543 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:20:16.580 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:20:16.615 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 375.9008ms.
2025-01-21 19:20:16.619 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:20:16.642 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 497.9663ms
2025-01-21 19:20:16.646 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:20:16.648 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 537.9413ms
2025-01-21 19:21:22.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:21:22.419 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:21:22.421 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 17.7093ms
2025-01-21 19:21:22.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:21:22.446 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:21:22.449 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:21:22.450 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:21:22.486 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:21:22.490 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:21:22.492 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:21:22.4920873Z"
2025-01-21 19:21:22.493 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:21:22.4938743Z"
2025-01-21 19:21:22.504 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:21:22.509 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:21:22.5094517Z"
2025-01-21 19:21:22.511 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:21:22.5113288Z"
2025-01-21 19:21:22.513 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:21:22.515 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.7081ms.
2025-01-21 19:21:22.521 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:21:22.525 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 69.8014ms
2025-01-21 19:21:22.527 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:21:22.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 89.3729ms
2025-01-21 19:22:01.027 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:22:01.037 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:01.039 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 11.7224ms
2025-01-21 19:22:01.064 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 19:22:01.068 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:01.070 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:01.073 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:22:01.111 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:22:01.121 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:22:01.291 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:22:01.302 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:22:01.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:22:01.320 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 206.4167ms.
2025-01-21 19:22:01.322 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:22:01.330 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 252.4946ms
2025-01-21 19:22:01.333 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:01.335 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 271.7357ms
2025-01-21 19:22:04.957 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:22:04.963 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:04.966 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.3157ms
2025-01-21 19:22:04.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:22:04.979 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:04.989 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:22:05.001 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:22:05.036 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:22:05.041 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:22:05.0413818Z"
2025-01-21 19:22:05.058 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:22:05.106 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:05.1066709Z"
2025-01-21 19:22:05.109 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:05.1092090Z"
2025-01-21 19:22:05.111 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:05.1112469Z"
2025-01-21 19:22:05.113 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 73.0741ms.
2025-01-21 19:22:05.115 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:22:05.150 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 144.9822ms
2025-01-21 19:22:05.153 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:22:05.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 183.3486ms
2025-01-21 19:22:05.889 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:22:05.895 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:05.898 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.9542ms
2025-01-21 19:22:05.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:22:05.912 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:05.917 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:22:05.948 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:22:05.954 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:22:05.985 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:22:05.992 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:22:05.997 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:06.001 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:06.054 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:22:06.115 +02:00 [INF] Successfully fetched 1 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:06.136 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  }
]
2025-01-21 19:22:06.140 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:06.143 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 155.1177ms.
2025-01-21 19:22:06.147 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:22:06.152 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 194.4335ms
2025-01-21 19:22:06.156 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:22:06.158 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:22:06.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 253.6711ms
2025-01-21 19:22:08.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:22:08.900 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:08.904 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:22:08.906 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:22:08.938 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:22:08.940 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:22:08.9408790Z"
2025-01-21 19:22:08.947 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:22:08.952 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:08.9526395Z"
2025-01-21 19:22:08.953 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:08.9537661Z"
2025-01-21 19:22:08.955 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:22:08.9553346Z"
2025-01-21 19:22:08.956 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.1326ms.
2025-01-21 19:22:08.960 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:22:08.967 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 56.8683ms
2025-01-21 19:22:08.970 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:22:08.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 77.8474ms
2025-01-21 19:22:12.176 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - null null
2025-01-21 19:22:12.182 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:12.185 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - 204 null null 8.2589ms
2025-01-21 19:22:12.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/14 - application/json null
2025-01-21 19:22:12.192 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:12.195 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:22:12.206 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:22:12.255 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:22:12.260 +02:00 [INF] Starting GetByIdAsync with ID 14 at "2025-01-21T17:22:12.2607374Z"
2025-01-21 19:22:12.267 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T17:22:12.2677614Z"
2025-01-21 19:22:12.272 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T17:22:12.2729612Z"
2025-01-21 19:22:12.295 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:22:12.301 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 14 at "2025-01-21T17:22:12.3012038Z"
2025-01-21 19:22:12.302 +02:00 [INF] GetByIdAsync completed successfully with ID 14 at "2025-01-21T17:22:12.3028978Z"
2025-01-21 19:22:12.304 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.5483ms.
2025-01-21 19:22:12.311 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:22:12.315 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 101.2473ms
2025-01-21 19:22:12.318 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:22:12.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/14 - 200 null application/json; charset=utf-8 131.6008ms
2025-01-21 19:22:12.330 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 19:22:12.335 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:12.336 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 6.2059ms
2025-01-21 19:22:12.345 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - application/json 2
2025-01-21 19:22:12.349 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:12.351 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:22:12.353 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:22:12.366 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:22:12.508 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:22:12.513 +02:00 [INF] Starting AddToBasketAsync with GiftId: 14 and Quantity: 1
2025-01-21 19:22:12.515 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:22:12.518 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:22:12.519 +02:00 [INF] Parsing token...
2025-01-21 19:22:12.521 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:22:12.556 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:22:12.562 +02:00 [INF] User successfully found: tre
2025-01-21 19:22:12.564 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:22:12.565 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T17:22:12.5659257Z"
2025-01-21 19:22:12.570 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:22:12.574 +02:00 [INF] Gift with Id: 14 successfully retrieved.
2025-01-21 19:22:12.582 +02:00 [INF] Starting to add Gift 14 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:22:12.594 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:22:12.641 +02:00 [INF] Created new UserGift entry for Gift 14 (Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:12.823 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 19:22:12.844 +02:00 [INF] Successfully saved changes to database for Gift 14 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:22:12.848 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 14 with Quantity: 1
2025-01-21 19:22:12.850 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 339.7836ms.
2025-01-21 19:22:12.853 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:22:12.858 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 488.5816ms
2025-01-21 19:22:12.862 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:22:12.864 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:22:12.866 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 521.6656ms
2025-01-21 19:22:14.037 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - null null
2025-01-21 19:22:14.041 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:14.043 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/15 - 204 null null 6.5392ms
2025-01-21 19:22:14.051 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/15 - application/json null
2025-01-21 19:22:14.055 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:14.058 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:22:14.060 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:22:14.110 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:22:14.114 +02:00 [INF] Starting GetByIdAsync with ID 15 at "2025-01-21T17:22:14.1140805Z"
2025-01-21 19:22:14.116 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:22:14.1169531Z"
2025-01-21 19:22:14.119 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:22:14.1189797Z"
2025-01-21 19:22:14.125 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:22:14.133 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 15 at "2025-01-21T17:22:14.1337737Z"
2025-01-21 19:22:14.136 +02:00 [INF] GetByIdAsync completed successfully with ID 15 at "2025-01-21T17:22:14.1366871Z"
2025-01-21 19:22:14.139 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0372ms.
2025-01-21 19:22:14.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:22:14.150 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 79.3558ms
2025-01-21 19:22:14.153 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:22:14.157 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/15 - 200 null application/json; charset=utf-8 105.7125ms
2025-01-21 19:22:14.163 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-21 19:22:14.167 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:14.169 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 6.0615ms
2025-01-21 19:22:14.178 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - application/json 2
2025-01-21 19:22:14.184 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:14.186 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 19:22:14.190 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:22:14.191 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:22:14.231 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 19:22:14.234 +02:00 [INF] Starting AddToBasketAsync with GiftId: 15 and Quantity: 1
2025-01-21 19:22:14.236 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 19:22:14.238 +02:00 [INF] Received request to fetch user by token.
2025-01-21 19:22:14.240 +02:00 [INF] Parsing token...
2025-01-21 19:22:14.242 +02:00 [INF] Attempting to retrieve user with username: tre and email: tre@gmail
2025-01-21 19:22:14.255 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 19:22:14.263 +02:00 [INF] User successfully found: tre
2025-01-21 19:22:14.268 +02:00 [INF] User with Id: 3234d92d-b049-42c1-b2d1-2e6828072138 successfully retrieved.
2025-01-21 19:22:14.270 +02:00 [INF] Starting GetByIdAsync for Gift ID 15 at "2025-01-21T17:22:14.2702836Z"
2025-01-21 19:22:14.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:22:14.281 +02:00 [INF] Gift with Id: 15 successfully retrieved.
2025-01-21 19:22:14.285 +02:00 [INF] Starting to add Gift 15 (Quantity: 1) to User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:22:14.291 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 19:22:14.301 +02:00 [INF] Created new UserGift entry for Gift 15 (Quantity: 1) and User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:22:14.312 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 19:22:14.318 +02:00 [INF] Successfully saved changes to database for Gift 15 and User 3234d92d-b049-42c1-b2d1-2e6828072138 (Quantity: 1)
2025-01-21 19:22:14.321 +02:00 [INF] Completed AddToBasketAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138 and GiftId: 15 with Quantity: 1
2025-01-21 19:22:14.323 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.592ms.
2025-01-21 19:22:14.327 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:22:14.334 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 136.2519ms
2025-01-21 19:22:14.336 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 19:22:14.338 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:22:14.340 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=15 - 200 null application/json; charset=utf-8 161.8157ms
2025-01-21 19:22:21.015 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:22:21.019 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:21.021 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 5.6046ms
2025-01-21 19:22:21.028 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 19:22:21.034 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:21.036 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:21.038 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:22:21.097 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:22:21.104 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:22:21.284 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:22:21.293 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:22:21.303 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:22:21.313 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 214.3855ms.
2025-01-21 19:22:21.316 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:22:21.319 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 270.5462ms
2025-01-21 19:22:21.321 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:21.326 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 297.4043ms
2025-01-21 19:22:22.953 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:22:22.962 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:22.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 12.6295ms
2025-01-21 19:22:22.974 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:22:22.979 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:22.984 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:22:22.986 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:22:23.013 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:22:23.016 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:22:23.017 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:22:23.0176452Z"
2025-01-21 19:22:23.019 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:22:23.0191500Z"
2025-01-21 19:22:23.028 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:22:23.035 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:22:23.0350031Z"
2025-01-21 19:22:23.036 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:22:23.0363755Z"
2025-01-21 19:22:23.037 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:22:23.039 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.1476ms.
2025-01-21 19:22:23.042 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:22:23.047 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 56.5375ms
2025-01-21 19:22:23.050 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:22:23.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 77.5876ms
2025-01-21 19:22:36.858 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:22:36.864 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:36.866 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.373ms
2025-01-21 19:22:36.871 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 19:22:36.879 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:22:36.882 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:36.884 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:22:36.920 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:22:36.929 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:22:37.124 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:22:37.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:22:37.142 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:22:37.147 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 224.001ms.
2025-01-21 19:22:37.150 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:22:37.152 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 264.0877ms
2025-01-21 19:22:37.154 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:22:37.158 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 287.3105ms
2025-01-21 19:23:17.191 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:23:17.211 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:23:17.215 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 24.1799ms
2025-01-21 19:23:17.239 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 19:23:17.243 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:23:17.248 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:23:17.251 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:23:17.283 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:23:17.291 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:23:17.448 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:23:17.457 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:23:17.469 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:23:17.474 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 188.5137ms.
2025-01-21 19:23:17.482 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:23:17.486 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 231.0799ms
2025-01-21 19:23:17.489 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:23:17.491 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 251.8379ms
2025-01-21 19:23:19.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:23:19.198 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:23:19.204 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 11.5143ms
2025-01-21 19:23:19.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:23:19.219 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:23:19.223 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:23:19.225 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:23:19.227 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:23:19.291 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:23:19.295 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:23:19.296 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:23:19.298 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:23:19.304 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:23:19.315 +02:00 [INF] Successfully fetched 3 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:23:19.318 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 19:23:19.321 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:23:19.323 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.1095ms.
2025-01-21 19:23:19.330 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:23:19.333 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 95.8163ms
2025-01-21 19:23:19.335 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:23:19.337 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:23:19.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 129.3314ms
2025-01-21 19:24:03.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-21 19:24:03.660 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:03.662 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 26.7461ms
2025-01-21 19:24:03.694 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-21 19:24:03.699 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:03.701 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-21 19:24:03.706 +02:00 [WRN] Missing Authorization Header
2025-01-21 19:24:03.708 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 401 null null 14.2032ms
2025-01-21 19:24:37.702 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:24:37.727 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:37.729 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 26.5203ms
2025-01-21 19:24:37.756 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 42
2025-01-21 19:24:37.765 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:37.767 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:24:37.770 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:24:37.822 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:24:37.845 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:24:38.041 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:24:38.061 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:24:38.070 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:24:38.075 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 250.6766ms.
2025-01-21 19:24:38.079 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:24:38.082 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 302.6224ms
2025-01-21 19:24:38.088 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:24:38.090 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 334.5753ms
2025-01-21 19:24:42.827 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:24:42.842 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:42.847 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 19.9848ms
2025-01-21 19:24:42.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:24:42.869 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:24:42.871 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:24:42.878 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:24:42.880 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:24:42.911 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:24:42.913 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:24:42.915 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:24:42.916 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:24:42.927 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:24:42.932 +02:00 [INF] Successfully fetched 3 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:24:42.934 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 19:24:42.940 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:24:42.941 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.9031ms.
2025-01-21 19:24:42.944 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:24:42.947 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 61.8213ms
2025-01-21 19:24:42.949 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:24:42.955 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:24:42.957 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 103.3419ms
2025-01-21 19:25:00.474 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-21 19:25:00.481 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:00.482 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 8.3683ms
2025-01-21 19:25:00.492 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-21 19:25:00.502 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:00.504 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-21 19:25:00.507 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 19:25:00.521 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:25:00.598 +02:00 [INF] Executing action method project.Controllers.UserController.ConfirmPurchaseAsync (project) - Validation state: "Valid"
2025-01-21 19:25:00.614 +02:00 [INF] Starting ConfirmPurchaseAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.616 +02:00 [INF] Confirming purchase for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.620 +02:00 [INF] Fetching UserGifts for User 3234d92d-b049-42c1-b2d1-2e6828072138 to confirm purchase
2025-01-21 19:25:00.646 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-21 19:25:00.654 +02:00 [INF] Updated Gift 3 to Purchased for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.660 +02:00 [INF] Updated Gift 14 to Purchased for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.663 +02:00 [INF] Updated Gift 15 to Purchased for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.721 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 450), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
UPDATE [UserGifts] SET [GiftStatus] = @p3
OUTPUT 1
WHERE [GiftId] = @p4 AND [UserId] = @p5;
2025-01-21 19:25:00.747 +02:00 [INF] Purchase confirmed for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.748 +02:00 [INF] Purchase confirmed for User 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.750 +02:00 [INF] Completed ConfirmPurchaseAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:00.754 +02:00 [INF] Executed action method project.Controllers.UserController.ConfirmPurchaseAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 143.6257ms.
2025-01-21 19:25:00.757 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 229.8354ms
2025-01-21 19:25:00.759 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 19:25:00.761 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:25:00.763 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 270.9231ms
2025-01-21 19:25:03.695 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:25:03.700 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:03.703 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 8.272ms
2025-01-21 19:25:03.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:25:03.722 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:03.724 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:25:03.728 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:25:03.730 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:25:03.779 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:25:03.782 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:25:03.783 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:03.785 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:03.794 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:25:03.803 +02:00 [INF] Successfully fetched 3 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:03.805 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-21 19:25:03.808 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:03.810 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.282ms.
2025-01-21 19:25:03.818 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:25:03.821 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 76.2079ms
2025-01-21 19:25:03.823 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:25:03.825 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:25:03.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 115.4147ms
2025-01-21 19:25:12.175 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:25:12.179 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:12.181 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.496ms
2025-01-21 19:25:12.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:25:12.190 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:12.192 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:25:12.194 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:25:12.246 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:25:12.249 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:25:12.2489989Z"
2025-01-21 19:25:12.253 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:25:12.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:25:12.2577949Z"
2025-01-21 19:25:12.258 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:25:12.2589317Z"
2025-01-21 19:25:12.262 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:25:12.2623441Z"
2025-01-21 19:25:12.263 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.8472ms.
2025-01-21 19:25:12.266 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:25:12.268 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 53.4703ms
2025-01-21 19:25:12.270 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:25:12.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.9138ms
2025-01-21 19:25:14.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:25:14.071 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:14.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 9.8023ms
2025-01-21 19:25:14.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:25:14.092 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:14.098 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:25:14.102 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:25:14.104 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:25:14.149 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:25:14.151 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:25:14.153 +02:00 [INF] Received request to get basket for user: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:14.155 +02:00 [INF] Starting to fetch basket for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:14.163 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:25:14.169 +02:00 [INF] Successfully fetched 3 gifts for userId: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:14.170 +02:00 [INF] Serialized response: [
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Purchased",
    "Quantity": 3
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 14,
    "GiftStatus": "Purchased",
    "Quantity": 1
  },
  {
    "UserId": "3234d92d-b049-42c1-b2d1-2e6828072138",
    "User": null,
    "GiftId": 15,
    "GiftStatus": "Purchased",
    "Quantity": 1
  }
]
2025-01-21 19:25:14.173 +02:00 [INF] Completed GetBasketByUserAsync for User: 3234d92d-b049-42c1-b2d1-2e6828072138
2025-01-21 19:25:14.180 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.6443ms.
2025-01-21 19:25:14.183 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:25:14.186 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 72.2506ms
2025-01-21 19:25:14.188 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:25:14.194 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:25:14.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 109.4729ms
2025-01-21 19:25:18.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - null null
2025-01-21 19:25:18.396 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:18.398 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=15 - 204 null null 8.6431ms
2025-01-21 19:25:18.404 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - application/json null
2025-01-21 19:25:18.414 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:18.416 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 19:25:18.419 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:25:18.431 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 19:25:18.514 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 19:25:18.528 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 15
2025-01-21 19:25:18.531 +02:00 [INF] Removing Gift 15 from User 3234d92d-b049-42c1-b2d1-2e6828072138's basket
2025-01-21 19:25:18.540 +02:00 [INF] Removing Gift 15 for User 3234d92d-b049-42c1-b2d1-2e6828072138 in database
2025-01-21 19:25:18.565 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 19:25:18.615 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:25:18.883 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 447.5025ms
2025-01-21 19:25:18.886 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 19:25:19.032 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 15 from user 3234d92d-b049-42c1-b2d1-2e6828072138 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 158
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 176
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 19:25:19.118 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=15 - 500 null text/plain; charset=utf-8 713.5448ms
2025-01-21 19:25:27.577 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 19:25:27.582 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:27.584 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.0985ms
2025-01-21 19:25:27.589 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 19:25:27.594 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:27.599 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:25:27.601 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 19:25:27.632 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 19:25:27.643 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 19:25:27.804 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 19:25:27.815 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 19:25:27.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 19:25:27.832 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 197.7703ms.
2025-01-21 19:25:27.835 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:25:27.838 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 233.2755ms
2025-01-21 19:25:27.840 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 19:25:27.846 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 256.7038ms
2025-01-21 19:25:30.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:25:30.255 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:30.258 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.5587ms
2025-01-21 19:25:30.267 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:25:30.273 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:25:30.277 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:25:30.279 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:25:30.310 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:25:30.313 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:25:30.314 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:25:30.3149373Z"
2025-01-21 19:25:30.317 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:25:30.3171771Z"
2025-01-21 19:25:30.331 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:25:30.337 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:25:30.3375997Z"
2025-01-21 19:25:30.338 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:25:30.3388349Z"
2025-01-21 19:25:30.340 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:25:30.342 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.9298ms.
2025-01-21 19:25:30.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:25:30.352 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 68.0472ms
2025-01-21 19:25:30.355 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:25:30.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 91.2395ms
2025-01-21 19:32:13.958 +02:00 [INF] Starting up the application
2025-01-21 19:32:17.486 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 19:32:19.961 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 19:32:20.134 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 19:32:20.565 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 19:32:20.614 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 19:32:20.616 +02:00 [INF] Hosting environment: Development
2025-01-21 19:32:20.618 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 19:32:20.679 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:32:20.728 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:20.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 62.9766ms
2025-01-21 19:32:20.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:32:20.764 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:20.768 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 19:32:20.899 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:32:20.944 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:21.007 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:21.088 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:21.093 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:21.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 19:32:21.961 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:32:21.961 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:32:22.009 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:32:22.011 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:32:22.019 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:22.0187049Z"
2025-01-21 19:32:22.023 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:22.0230234Z"
2025-01-21 19:32:22.040 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:22.0403667Z"
2025-01-21 19:32:22.041 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:22.0404658Z"
2025-01-21 19:32:22.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 437.5242ms
2025-01-21 19:32:22.328 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 19:32:22.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 6.9146ms
2025-01-21 19:32:22.480 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:32:22.481 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:32:22.493 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:22.4935248Z"
2025-01-21 19:32:22.496 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:22.4960941Z"
2025-01-21 19:32:22.502 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:22.5020435Z"
2025-01-21 19:32:22.506 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:22.5061081Z"
2025-01-21 19:32:22.510 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:32:22.511 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:32:22.529 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 507.1199ms.
2025-01-21 19:32:22.529 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 513.6958ms.
2025-01-21 19:32:22.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:22.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:22.593 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 19:32:22.699 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 1678.711ms
2025-01-21 19:32:22.699 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 1592.4443ms
2025-01-21 19:32:22.703 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:22.705 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:22.723 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 1972.2467ms
2025-01-21 19:32:22.723 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 1824.0788ms
2025-01-21 19:32:23.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:32:23.094 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:23.104 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:23.113 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:23.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 581.3932ms
2025-01-21 19:32:23.272 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:32:23.288 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:32:23.295 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:23.2953887Z"
2025-01-21 19:32:23.300 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:23.3003258Z"
2025-01-21 19:32:23.378 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:32:23.387 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:23.3872388Z"
2025-01-21 19:32:23.390 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:23.3901548Z"
2025-01-21 19:32:23.398 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:32:23.410 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.9483ms.
2025-01-21 19:32:23.428 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:23.451 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 323.8754ms
2025-01-21 19:32:23.454 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:23.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 373.4842ms
2025-01-21 19:32:33.669 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:32:33.675 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:33.677 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.3972ms
2025-01-21 19:32:33.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:32:33.689 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:33.704 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:32:33.715 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:33.753 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:32:33.758 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:32:33.7587755Z"
2025-01-21 19:32:33.782 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:32:33.843 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:32:33.8433261Z"
2025-01-21 19:32:33.846 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:32:33.8459155Z"
2025-01-21 19:32:33.847 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:32:33.8475971Z"
2025-01-21 19:32:33.849 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 91.729ms.
2025-01-21 19:32:33.854 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:33.899 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 177.1496ms
2025-01-21 19:32:33.905 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:32:33.908 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 224.0138ms
2025-01-21 19:32:36.227 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 19:32:36.232 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:36.235 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 7.7908ms
2025-01-21 19:32:36.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 19:32:36.251 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:36.256 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 19:32:36.293 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:32:36.300 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 19:32:36.331 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 19:32:36.335 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 19:32:36.343 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 19:32:36.347 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 19:32:36.405 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 19:32:36.412 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 19:32:36.414 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 19:32:36.415 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 19:32:36.416 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 82.5296ms.
2025-01-21 19:32:36.420 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:36.435 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 130.5008ms
2025-01-21 19:32:36.438 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 19:32:36.443 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:32:36.445 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 200.7516ms
2025-01-21 19:32:37.413 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:32:37.417 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:37.419 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 6.1285ms
2025-01-21 19:32:37.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:32:37.429 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:37.432 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:32:37.443 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:37.478 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:32:37.483 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:32:37.4839058Z"
2025-01-21 19:32:37.486 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:32:37.4864706Z"
2025-01-21 19:32:37.491 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:32:37.4914640Z"
2025-01-21 19:32:37.538 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:32:37.546 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:32:37.5466197Z"
2025-01-21 19:32:37.548 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:32:37.5482332Z"
2025-01-21 19:32:37.549 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:32:37.5497608Z"
2025-01-21 19:32:37.551 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 68.5647ms.
2025-01-21 19:32:37.555 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:37.559 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 111.5598ms
2025-01-21 19:32:37.564 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:32:37.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 140.8858ms
2025-01-21 19:32:41.133 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:32:41.140 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:41.143 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 10.2228ms
2025-01-21 19:32:41.149 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:32:41.153 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:41.155 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:32:41.167 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:32:41.218 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:32:41.258 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:32:41.264 +02:00 [INF] Fetching all donators.
2025-01-21 19:32:41.268 +02:00 [INF] Fetching all donators.
2025-01-21 19:32:41.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:32:41.300 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:32:41.304 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.622ms.
2025-01-21 19:32:41.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:41.312 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 89.7337ms
2025-01-21 19:32:41.315 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:32:41.317 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:32:41.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 171.5322ms
2025-01-21 19:32:48.498 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:32:48.504 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:48.510 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 11.0534ms
2025-01-21 19:32:48.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:32:48.527 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:48.531 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:48.532 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:32:48.572 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:32:48.575 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:32:48.576 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:48.5763574Z"
2025-01-21 19:32:48.577 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:32:48.5777870Z"
2025-01-21 19:32:48.588 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:32:48.592 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:48.5921159Z"
2025-01-21 19:32:48.593 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:32:48.5932324Z"
2025-01-21 19:32:48.594 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:32:48.596 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.2145ms.
2025-01-21 19:32:48.601 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:48.604 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 61.0025ms
2025-01-21 19:32:48.606 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:32:48.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 91.3585ms
2025-01-21 19:32:50.696 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:32:50.701 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:50.704 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.4682ms
2025-01-21 19:32:50.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:32:50.714 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:50.716 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:32:50.718 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:32:50.723 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:32:50.760 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:32:50.763 +02:00 [INF] Fetching all donators.
2025-01-21 19:32:50.764 +02:00 [INF] Fetching all donators.
2025-01-21 19:32:50.772 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:32:50.778 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:32:50.779 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3609ms.
2025-01-21 19:32:50.788 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:32:50.791 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 63.5609ms
2025-01-21 19:32:50.795 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:32:50.800 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:32:50.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 94.4029ms
2025-01-21 19:32:55.002 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - null null
2025-01-21 19:32:55.007 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:55.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/2 - 204 null null 8.5437ms
2025-01-21 19:32:55.023 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - application/json null
2025-01-21 19:32:55.029 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:32:55.031 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/2
2025-01-21 19:32:55.034 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:32:55.056 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 19:32:55.107 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:32:55.113 +02:00 [INF] Fetching donator with gifts for ID: 2
2025-01-21 19:32:55.116 +02:00 [INF] Fetching donator with ID: 2
2025-01-21 19:32:55.130 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 19:32:55.141 +02:00 [INF] Fetching gifts for donator ID: 2
2025-01-21 19:32:55.156 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 19:32:55.184 +02:00 [INF] Successfully fetched 2 gifts for donator ID: 2
2025-01-21 19:32:55.189 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.4249ms.
2025-01-21 19:32:55.193 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:32:55.230 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 167.9384ms
2025-01-21 19:32:55.232 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:32:55.235 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:32:55.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/2 - 200 null application/json; charset=utf-8 214.9343ms
2025-01-21 19:33:00.731 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - null null
2025-01-21 19:33:00.738 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:00.741 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/1 - 204 null null 9.5938ms
2025-01-21 19:33:00.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - application/json null
2025-01-21 19:33:00.753 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:00.761 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/1
2025-01-21 19:33:00.764 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:33:00.767 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:00.812 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:33:00.815 +02:00 [INF] Fetching donator with gifts for ID: 1
2025-01-21 19:33:00.816 +02:00 [INF] Fetching donator with ID: 1
2025-01-21 19:33:00.823 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 19:33:00.827 +02:00 [INF] Fetching gifts for donator ID: 1
2025-01-21 19:33:00.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 19:33:00.840 +02:00 [INF] Successfully fetched 3 gifts for donator ID: 1
2025-01-21 19:33:00.841 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.5801ms.
2025-01-21 19:33:00.844 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:33:00.848 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 71.2241ms
2025-01-21 19:33:00.850 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:33:00.856 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:00.858 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/1 - 200 null application/json; charset=utf-8 109.7646ms
2025-01-21 19:33:04.761 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:33:04.765 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:04.767 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.1706ms
2025-01-21 19:33:04.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:33:04.781 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:04.798 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:33:04.811 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:04.813 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:04.876 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:33:04.880 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:04.882 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:04.888 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:33:04.897 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:33:04.898 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0086ms.
2025-01-21 19:33:04.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:33:04.914 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 97.1927ms
2025-01-21 19:33:04.922 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:04.927 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:04.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 156.8543ms
2025-01-21 19:33:13.449 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:33:13.453 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:13.457 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.7267ms
2025-01-21 19:33:13.461 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 61
2025-01-21 19:33:13.465 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:13.466 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 19:33:13.468 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 19:33:13.478 +02:00 [INF] Route matched with {action = "CreateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:13.559 +02:00 [INF] Executing action method project.Controllers.DonatorController.CreateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 19:33:13.569 +02:00 [INF] Received request to create donator: jfhj
2025-01-21 19:33:13.572 +02:00 [INF] Creating donator with name: jfhj
2025-01-21 19:33:13.574 +02:00 [INF] Adding donator with name: jfhj
2025-01-21 19:33:13.743 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donators] ([Email], [Name], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 19:33:13.788 +02:00 [INF] Successfully added donator: jfhj
2025-01-21 19:33:13.790 +02:00 [INF] Donator jfhj created successfully.
2025-01-21 19:33:13.792 +02:00 [INF] Successfully created donator: jfhj
2025-01-21 19:33:13.794 +02:00 [INF] Executed action method project.Controllers.DonatorController.CreateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 231.1499ms.
2025-01-21 19:33:13.798 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:33:13.803 +02:00 [INF] Executed action project.Controllers.DonatorController.CreateDonatorAsync (project) in 320.2084ms
2025-01-21 19:33:13.805 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 19:33:13.807 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:13.809 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 347.3349ms
2025-01-21 19:33:13.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:33:13.918 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:13.921 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:33:13.923 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:13.924 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:13.961 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:33:13.963 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:13.965 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:13.970 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:33:13.974 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 19:33:13.975 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.8488ms.
2025-01-21 19:33:13.978 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:33:13.980 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 51.9678ms
2025-01-21 19:33:13.987 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:13.990 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:13.993 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 79.1737ms
2025-01-21 19:33:46.066 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/7 - null null
2025-01-21 19:33:46.090 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:46.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/7 - 204 null null 39.8553ms
2025-01-21 19:33:46.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/7 - application/json null
2025-01-21 19:33:46.107 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:46.111 +02:00 [INF] Incoming Request: GET /api/Donator/7
2025-01-21 19:33:46.115 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 19:33:46.129 +02:00 [INF] Route matched with {action = "GetById", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByIdAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:46.201 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:33:46.224 +02:00 [INF] Fetching donator with ID: 7
2025-01-21 19:33:46.243 +02:00 [INF] Fetching donator with ID: 7
2025-01-21 19:33:46.269 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 19:33:46.314 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.2932ms.
2025-01-21 19:33:46.324 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Donator'.
2025-01-21 19:33:46.328 +02:00 [INF] Executed action project.Controllers.DonatorController.GetByIdAsync (project) in 194.4032ms
2025-01-21 19:33:46.336 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetByIdAsync (project)'
2025-01-21 19:33:46.340 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:46.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/7 - 200 null application/json; charset=utf-8 242.4366ms
2025-01-21 19:33:52.444 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:33:52.448 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:52.450 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.4362ms
2025-01-21 19:33:52.456 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Donator - application/json 71
2025-01-21 19:33:52.459 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:52.464 +02:00 [INF] Incoming Request: PUT /api/Donator
2025-01-21 19:33:52.466 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 19:33:52.474 +02:00 [INF] Route matched with {action = "UpdateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:52.514 +02:00 [INF] Executing action method project.Controllers.DonatorController.UpdateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 19:33:52.519 +02:00 [INF] Updating donator with ID: 7
2025-01-21 19:33:52.522 +02:00 [INF] Updating donator with ID: 7
2025-01-21 19:33:52.540 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donators] SET [Email] = @p0, [Name] = @p1, [Phone] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-21 19:33:52.547 +02:00 [INF] Successfully updated donator with ID: 7
2025-01-21 19:33:52.549 +02:00 [INF] Donator with ID 7 updated successfully.
2025-01-21 19:33:52.550 +02:00 [INF] Executed action method project.Controllers.DonatorController.UpdateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 33.2099ms.
2025-01-21 19:33:52.561 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-01-21 19:33:52.563 +02:00 [INF] Executed action project.Controllers.DonatorController.UpdateDonatorAsync (project) in 83.1812ms
2025-01-21 19:33:52.565 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.UpdateDonatorAsync (project)'
2025-01-21 19:33:52.567 +02:00 [INF] Outgoing Response: 204
2025-01-21 19:33:52.572 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Donator - 204 null null 115.8182ms
2025-01-21 19:33:52.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:33:52.666 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:52.669 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:33:52.672 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:52.674 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:52.717 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:33:52.720 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:52.722 +02:00 [INF] Fetching all donators.
2025-01-21 19:33:52.729 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:33:52.732 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 19:33:52.734 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.4163ms.
2025-01-21 19:33:52.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:33:52.744 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 59.759ms
2025-01-21 19:33:52.747 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:33:52.749 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:52.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 88.8944ms
2025-01-21 19:33:57.775 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/7 - null null
2025-01-21 19:33:57.781 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:57.783 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/giftsByDonator/7 - 204 null null 7.8716ms
2025-01-21 19:33:57.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/7 - application/json null
2025-01-21 19:33:57.798 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:33:57.800 +02:00 [INF] Incoming Request: GET /api/Donator/giftsByDonator/7
2025-01-21 19:33:57.803 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:33:57.812 +02:00 [INF] Route matched with {action = "GetDonatorWithGifts", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorWithGiftsAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 19:33:57.879 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:33:57.881 +02:00 [INF] Fetching donator with gifts for ID: 7
2025-01-21 19:33:57.883 +02:00 [INF] Fetching donator with ID: 7
2025-01-21 19:33:57.890 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 19:33:57.895 +02:00 [INF] Fetching gifts for donator ID: 7
2025-01-21 19:33:57.900 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__donatorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[DonatorId] = @__donatorId_0
2025-01-21 19:33:57.910 +02:00 [WRN] No gifts found for donator ID: 7
2025-01-21 19:33:57.911 +02:00 [INF] Successfully fetched 0 gifts for donator ID: 7
2025-01-21 19:33:57.912 +02:00 [WRN] No gifts found for donator with ID 7.
2025-01-21 19:33:57.914 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.5068ms.
2025-01-21 19:33:57.921 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:33:57.926 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project) in 106.6497ms
2025-01-21 19:33:57.928 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorWithGiftsAsync (project)'
2025-01-21 19:33:57.932 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:33:57.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/giftsByDonator/7 - 200 null application/json; charset=utf-8 139.9893ms
2025-01-21 19:34:01.691 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/7 - null null
2025-01-21 19:34:01.696 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:01.697 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/7 - 204 null null 6.0223ms
2025-01-21 19:34:01.702 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Donator/7 - application/json null
2025-01-21 19:34:01.706 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:01.711 +02:00 [INF] Incoming Request: DELETE /api/Donator/7
2025-01-21 19:34:01.713 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 19:34:01.720 +02:00 [INF] Route matched with {action = "DeleteDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDonatorAsync(Int32) on controller project.Controllers.DonatorController (project).
2025-01-21 19:34:01.759 +02:00 [INF] Executing action method project.Controllers.DonatorController.DeleteDonatorAsync (project) - Validation state: "Valid"
2025-01-21 19:34:01.765 +02:00 [INF] Deleting donator with ID: 7
2025-01-21 19:34:01.767 +02:00 [INF] Attempting to delete donator with ID: 7
2025-01-21 19:34:01.769 +02:00 [INF] Fetching donator with ID: 7
2025-01-21 19:34:01.776 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Id] = @__id_0
2025-01-21 19:34:01.800 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donators]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 19:34:01.811 +02:00 [INF] Successfully deleted donator with ID: 7
2025-01-21 19:34:01.813 +02:00 [INF] Successfully deleted donator with ID: 7
2025-01-21 19:34:01.814 +02:00 [INF] DeleteGiftAsync completed successfully with ID 7 at "2025-01-21T17:34:01.8149446Z"
2025-01-21 19:34:01.816 +02:00 [INF] Executed action method project.Controllers.DonatorController.DeleteDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.0548ms.
2025-01-21 19:34:01.824 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:34:01.829 +02:00 [INF] Executed action project.Controllers.DonatorController.DeleteDonatorAsync (project) in 100.2766ms
2025-01-21 19:34:01.831 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.DeleteDonatorAsync (project)'
2025-01-21 19:34:01.832 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:34:01.839 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Donator/7 - 200 null application/json; charset=utf-8 137.2256ms
2025-01-21 19:34:01.848 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:34:01.855 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:01.857 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 9.5945ms
2025-01-21 19:34:01.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:34:01.867 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:01.869 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:34:01.872 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:01.873 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:34:02.033 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:34:02.037 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:02.039 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:02.046 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:34:02.051 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:34:02.055 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.8914ms.
2025-01-21 19:34:02.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:02.062 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 184.8146ms
2025-01-21 19:34:02.064 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:02.066 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:34:02.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 209.2718ms
2025-01-21 19:34:03.359 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:34:03.364 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:03.366 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.4312ms
2025-01-21 19:34:03.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:34:03.382 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:03.389 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:03.391 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:34:03.438 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:34:03.441 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:03.4416674Z"
2025-01-21 19:34:03.443 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:03.4432133Z"
2025-01-21 19:34:03.444 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:03.4448747Z"
2025-01-21 19:34:03.464 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:34:03.475 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:03.4750919Z"
2025-01-21 19:34:03.479 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:03.4796011Z"
2025-01-21 19:34:03.481 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:03.4818807Z"
2025-01-21 19:34:03.484 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 42.4171ms.
2025-01-21 19:34:03.493 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:03.499 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 101.7715ms
2025-01-21 19:34:03.504 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:03.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 133.8717ms
2025-01-21 19:34:11.231 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:34:11.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 19:34:11.259 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:11.266 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:11.267 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 35.8143ms
2025-01-21 19:34:11.270 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:11.276 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:34:11.284 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:11.284 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 19:34:11.286 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:34:11.329 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 19:34:11.332 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:11.343 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:34:11.397 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:34:11.403 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:11.407 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 19:34:11.408 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:11.429 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:34:11.445 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:34:11.447 +02:00 [INF] Successfully retrieved categories.
2025-01-21 19:34:11.450 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.096ms.
2025-01-21 19:34:11.452 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117.0186ms.
2025-01-21 19:34:11.456 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:11.462 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:11.478 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 130.4548ms
2025-01-21 19:34:11.500 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 209.107ms
2025-01-21 19:34:11.504 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:11.510 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:11.515 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:34:11.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 277.4851ms
2025-01-21 19:34:11.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 254.2181ms
2025-01-21 19:34:20.703 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:34:20.708 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:20.709 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.3065ms
2025-01-21 19:34:20.715 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift - application/json 153
2025-01-21 19:34:20.718 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:20.721 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 19:34:20.727 +02:00 [INF] Route matched with {action = "CreateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:20.782 +02:00 [INF] Executing action method project.Controllers.GiftController.CreateGiftAsync (project) - Validation state: "Valid"
2025-01-21 19:34:20.787 +02:00 [INF] Starting CreateGiftAsync at "2025-01-21T17:34:20.7871500Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 19:34:20.791 +02:00 [INF] Starting CreateGiftAsync for GiftDto: gfj at "2025-01-21T17:34:20.7910707Z"
2025-01-21 19:34:20.794 +02:00 [INF] Fetching donator by name: miri
2025-01-21 19:34:20.805 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
WHERE [d].[Name] = @__name_0
2025-01-21 19:34:20.827 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__categoryName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[name]
FROM [Categories] AS [c]
WHERE [c].[name] = @__categoryName_0
2025-01-21 19:34:20.833 +02:00 [INF] Successfully retrieved category with name: home
2025-01-21 19:34:20.877 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Gifts] AS [g]
        WHERE [g].[Name] = @__name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 19:34:20.898 +02:00 [INF] Starting CreateGiftAsync for Gift: gfj at "2025-01-21T17:34:20.8981623Z"
2025-01-21 19:34:20.950 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [DonatorId], [IsLotteryCompleted], [Name], [Price], [Status], [WinningId], [image])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-01-21 19:34:20.961 +02:00 [INF] CreateGiftAsync completed successfully for Gift: gfj at "2025-01-21T17:34:20.9618991Z"
2025-01-21 19:34:20.964 +02:00 [INF] CreateGiftAsync completed successfully for Gift: gfj at "2025-01-21T17:34:20.9643840Z"
2025-01-21 19:34:20.966 +02:00 [INF] CreateGiftAsync completed successfully at "2025-01-21T17:34:20.9663029Z"
2025-01-21 19:34:20.967 +02:00 [INF] Executed action method project.Controllers.GiftController.CreateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.4036ms.
2025-01-21 19:34:20.971 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:34:20.973 +02:00 [INF] Executed action project.Controllers.GiftController.CreateGiftAsync (project) in 241.3268ms
2025-01-21 19:34:20.978 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.CreateGiftAsync (project)'
2025-01-21 19:34:20.980 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 265.1476ms
2025-01-21 19:34:21.081 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:34:21.090 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:21.093 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 11.8103ms
2025-01-21 19:34:21.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:34:21.113 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:21.116 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:21.121 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:34:21.148 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:34:21.152 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:21.1519855Z"
2025-01-21 19:34:21.153 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:21.1531986Z"
2025-01-21 19:34:21.154 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:21.1547245Z"
2025-01-21 19:34:21.163 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:34:21.171 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:21.1713827Z"
2025-01-21 19:34:21.172 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:21.1728551Z"
2025-01-21 19:34:21.174 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:21.1743632Z"
2025-01-21 19:34:21.175 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.7833ms.
2025-01-21 19:34:21.178 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:21.184 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 58.9736ms
2025-01-21 19:34:21.187 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:21.189 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 89.294ms
2025-01-21 19:34:26.794 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:34:26.794 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - null null
2025-01-21 19:34:26.796 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 19:34:26.799 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:26.804 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:26.808 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:26.812 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 17.3475ms
2025-01-21 19:34:26.813 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - 204 null null 19.0721ms
2025-01-21 19:34:26.816 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:26.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:34:26.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/17 - application/json null
2025-01-21 19:34:26.832 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 19:34:26.837 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:26.844 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:26.913 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 19:34:26.914 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:34:26.916 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:34:26.926 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:26.931 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 19:34:26.932 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:34:26.937 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:26.945 +02:00 [INF] Successfully retrieved categories.
2025-01-21 19:34:27.011 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:34:27.068 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:34:27.069 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 151.0899ms.
2025-01-21 19:34:27.076 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:27.091 +02:00 [INF] Starting GetByIdAsync with ID 17 at "2025-01-21T17:34:27.0917077Z"
2025-01-21 19:34:27.099 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:27.132 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 283.2785ms
2025-01-21 19:34:27.114 +02:00 [INF] Starting GetByIdAsync for Gift ID 17 at "2025-01-21T17:34:27.1145180Z"
2025-01-21 19:34:27.102 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:27.145 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:27.159 +02:00 [INF] Starting GetByIdAsync for Gift ID 17 at "2025-01-21T17:34:27.1589518Z"
2025-01-21 19:34:27.165 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:34:27.166 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 370.117ms
2025-01-21 19:34:27.185 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:34:27.197 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:34:27.199 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 122.8486ms.
2025-01-21 19:34:27.213 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 17 at "2025-01-21T17:34:27.2136487Z"
2025-01-21 19:34:27.215 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:27.218 +02:00 [INF] GetByIdAsync completed successfully with ID 17 at "2025-01-21T17:34:27.2180620Z"
2025-01-21 19:34:27.229 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 273.3118ms
2025-01-21 19:34:27.232 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 147.8773ms.
2025-01-21 19:34:27.238 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:27.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:34:27.244 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:34:27.248 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 230.324ms
2025-01-21 19:34:27.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 433.3781ms
2025-01-21 19:34:27.258 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:34:27.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/17 - 200 null application/json; charset=utf-8 440.9532ms
2025-01-21 19:34:33.310 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:34:33.311 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - null null
2025-01-21 19:34:33.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Category - null null
2025-01-21 19:34:33.316 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:33.321 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:33.330 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:33.332 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 22.152ms
2025-01-21 19:34:33.335 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - 204 null null 24.285ms
2025-01-21 19:34:33.338 +02:00 [INF] Executing endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:33.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:34:33.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/17 - application/json null
2025-01-21 19:34:33.361 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategoriesAsync() on controller project.Controllers.CategoryController (project).
2025-01-21 19:34:33.365 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:33.370 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:33.384 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:34:33.429 +02:00 [INF] Executing action method project.Controllers.CategoryController.GetCategoriesAsync (project) - Validation state: "Valid"
2025-01-21 19:34:33.431 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:34:33.432 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:33.442 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:33.446 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[name]
FROM [Categories] AS [c]
2025-01-21 19:34:33.446 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:34:33.505 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:34:33.513 +02:00 [INF] Successfully retrieved categories.
2025-01-21 19:34:33.612 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:34:33.619 +02:00 [INF] Starting GetByIdAsync with ID 17 at "2025-01-21T17:34:33.6196569Z"
2025-01-21 19:34:33.630 +02:00 [INF] Executed action method project.Controllers.CategoryController.GetCategoriesAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.7702ms.
2025-01-21 19:34:33.655 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Category, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:33.648 +02:00 [INF] Starting GetByIdAsync for Gift ID 17 at "2025-01-21T17:34:33.6482426Z"
2025-01-21 19:34:33.635 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:33.661 +02:00 [INF] Executed action project.Controllers.CategoryController.GetCategoriesAsync (project) in 280.0292ms
2025-01-21 19:34:33.666 +02:00 [INF] Starting GetByIdAsync for Gift ID 17 at "2025-01-21T17:34:33.6660897Z"
2025-01-21 19:34:33.679 +02:00 [INF] Fetching all donators.
2025-01-21 19:34:33.683 +02:00 [INF] Executed endpoint 'project.Controllers.CategoryController.GetCategoriesAsync (project)'
2025-01-21 19:34:33.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Category - 200 null application/json; charset=utf-8 386.1967ms
2025-01-21 19:34:33.700 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:34:33.701 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:34:33.726 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 17 at "2025-01-21T17:34:33.7265035Z"
2025-01-21 19:34:33.737 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:34:33.739 +02:00 [INF] GetByIdAsync completed successfully with ID 17 at "2025-01-21T17:34:33.7399421Z"
2025-01-21 19:34:33.748 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 112.4631ms.
2025-01-21 19:34:33.751 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 131.3023ms.
2025-01-21 19:34:33.756 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:33.763 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 19:34:33.770 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 252.2003ms
2025-01-21 19:34:33.772 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 318.0772ms
2025-01-21 19:34:33.778 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:34:33.781 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 19:34:33.784 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:34:33.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/17 - 200 null application/json; charset=utf-8 427.9876ms
2025-01-21 19:34:33.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 440.4205ms
2025-01-21 19:34:35.894 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:34:35.898 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:35.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.9072ms
2025-01-21 19:34:35.907 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/Gift - application/json 166
2025-01-21 19:34:35.911 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:35.913 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 19:34:35.924 +02:00 [INF] Route matched with {action = "UpdateGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGiftAsync(project.Models.ModelsDto.GiftDto) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:35.957 +02:00 [INF] Executing action method project.Controllers.GiftController.UpdateGiftAsync (project) - Validation state: "Valid"
2025-01-21 19:34:35.962 +02:00 [INF] Starting UpdateGiftAsync at "2025-01-21T17:34:35.9620078Z" with payload: project.Models.ModelsDto.GiftDto
2025-01-21 19:34:35.965 +02:00 [INF] Starting UpdateGiftAsync for Gift ID 17 at "2025-01-21T17:34:35.9656476Z"
2025-01-21 19:34:35.979 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__gift_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__gift_Id_0
2025-01-21 19:34:35.998 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [CategoryId] = @p0, [DonatorId] = @p1, [Name] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-01-21 19:34:36.004 +02:00 [INF] UpdateGiftAsync completed successfully for Gift ID 17 at "2025-01-21T17:34:36.0048420Z"
2025-01-21 19:34:36.006 +02:00 [INF] UpdateGiftAsync completed successfully at "2025-01-21T17:34:36.0066691Z"
2025-01-21 19:34:36.008 +02:00 [INF] Executed action method project.Controllers.GiftController.UpdateGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.5935ms.
2025-01-21 19:34:36.010 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:34:36.017 +02:00 [INF] Executed action project.Controllers.GiftController.UpdateGiftAsync (project) in 87.6821ms
2025-01-21 19:34:36.020 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.UpdateGiftAsync (project)'
2025-01-21 19:34:36.024 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 116.6522ms
2025-01-21 19:34:36.130 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:34:36.144 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:36.149 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 18.901ms
2025-01-21 19:34:36.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:34:36.180 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:36.183 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:36.193 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:34:36.225 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:34:36.227 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:36.2279193Z"
2025-01-21 19:34:36.229 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:36.2294047Z"
2025-01-21 19:34:36.232 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:36.2324544Z"
2025-01-21 19:34:36.244 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:34:36.250 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:36.2507958Z"
2025-01-21 19:34:36.252 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:36.2527077Z"
2025-01-21 19:34:36.254 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:36.2543779Z"
2025-01-21 19:34:36.256 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.0963ms.
2025-01-21 19:34:36.259 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:36.264 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 66.4211ms
2025-01-21 19:34:36.266 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:36.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 101.4686ms
2025-01-21 19:34:39.472 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - null null
2025-01-21 19:34:39.476 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:39.478 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/17 - 204 null null 5.3114ms
2025-01-21 19:34:39.484 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/Gift/17 - application/json null
2025-01-21 19:34:39.489 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:39.493 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-21 19:34:39.499 +02:00 [INF] Route matched with {action = "DeleteGift", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGiftAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:39.559 +02:00 [INF] Executing action method project.Controllers.GiftController.DeleteGiftAsync (project) - Validation state: "Valid"
2025-01-21 19:34:39.564 +02:00 [INF] Starting DeleteGiftAsync with ID 17 at "2025-01-21T17:34:39.5647267Z"
2025-01-21 19:34:39.568 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 17 at "2025-01-21T17:34:39.5687338Z"
2025-01-21 19:34:39.572 +02:00 [INF] Starting DeleteGiftAsync for Gift ID 17 at "2025-01-21T17:34:39.5726883Z"
2025-01-21 19:34:39.574 +02:00 [INF] Starting GetByIdAsync for Gift ID 17 at "2025-01-21T17:34:39.5749019Z"
2025-01-21 19:34:39.583 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 19:34:39.600 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Gifts]
OUTPUT 1
WHERE [Id] = @p0;
2025-01-21 19:34:39.607 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 17 at "2025-01-21T17:34:39.6071617Z"
2025-01-21 19:34:39.610 +02:00 [INF] DeleteGiftAsync completed successfully for Gift ID 17 at "2025-01-21T17:34:39.6106176Z"
2025-01-21 19:34:39.612 +02:00 [INF] DeleteGiftAsync completed successfully with ID 17 at "2025-01-21T17:34:39.6124062Z"
2025-01-21 19:34:39.614 +02:00 [INF] Executed action method project.Controllers.GiftController.DeleteGiftAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.3546ms.
2025-01-21 19:34:39.617 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:34:39.620 +02:00 [INF] Executed action project.Controllers.GiftController.DeleteGiftAsync (project) in 115.1494ms
2025-01-21 19:34:39.625 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.DeleteGiftAsync (project)'
2025-01-21 19:34:39.627 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/Gift/17 - 200 null application/json; charset=utf-8 143.6217ms
2025-01-21 19:34:39.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:34:39.637 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:39.641 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:39.643 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:34:39.748 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:34:39.752 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:39.7525205Z"
2025-01-21 19:34:39.755 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:39.7550111Z"
2025-01-21 19:34:39.757 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:39.7572244Z"
2025-01-21 19:34:39.770 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:34:39.777 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:39.7777045Z"
2025-01-21 19:34:39.779 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:39.7790503Z"
2025-01-21 19:34:39.783 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:39.7831305Z"
2025-01-21 19:34:39.787 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.4971ms.
2025-01-21 19:34:39.791 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:39.794 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 147.7807ms
2025-01-21 19:34:39.800 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:39.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 172.1203ms
2025-01-21 19:34:46.716 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=miri - null null
2025-01-21 19:34:46.722 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:46.723 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/search?text=miri - 204 null null 6.9029ms
2025-01-21 19:34:46.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=miri - application/json null
2025-01-21 19:34:46.732 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:46.734 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-21 19:34:46.743 +02:00 [INF] Route matched with {action = "Search", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchAsync(System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:34:46.792 +02:00 [INF] Executing action method project.Controllers.GiftController.SearchAsync (project) - Validation state: "Valid"
2025-01-21 19:34:46.797 +02:00 [INF] Starting SearchAsync with text 'miri' at "2025-01-21T17:34:46.7971158Z"
2025-01-21 19:34:46.799 +02:00 [INF] Starting SearchAsync with text 'miri' at "2025-01-21T17:34:46.7996366Z"
2025-01-21 19:34:46.804 +02:00 [INF] Starting SearchAsync with text 'miri' at "2025-01-21T17:34:46.8048566Z"
2025-01-21 19:34:46.864 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__text_0_contains='?' (Size = 50), @__text_0='?' (Size = 11) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
WHERE [g].[Name] LIKE @__text_0_contains ESCAPE N'\' OR ([d].[Id] IS NOT NULL AND [d].[Name] LIKE @__text_0_contains ESCAPE N'\') OR COALESCE(CONVERT(varchar(11), (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId])), '') = @__text_0
2025-01-21 19:34:46.872 +02:00 [INF] SearchAsync completed successfully with text 'miri' at "2025-01-21T17:34:46.8722735Z"
2025-01-21 19:34:46.873 +02:00 [INF] SearchAsync completed successfully with text 'miri' at "2025-01-21T17:34:46.8738247Z"
2025-01-21 19:34:46.875 +02:00 [INF] SearchAsync completed successfully with text 'miri' at "2025-01-21T17:34:46.8755687Z"
2025-01-21 19:34:46.880 +02:00 [INF] Executed action method project.Controllers.GiftController.SearchAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85.1151ms.
2025-01-21 19:34:46.886 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:46.890 +02:00 [INF] Executed action project.Controllers.GiftController.SearchAsync (project) in 142.8029ms
2025-01-21 19:34:46.892 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.SearchAsync (project)'
2025-01-21 19:34:46.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/search?text=miri - 200 null application/json; charset=utf-8 169.1024ms
2025-01-21 19:34:50.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:34:50.816 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:34:50.825 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:34:50.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 15.6965ms
2025-01-21 19:34:51.137 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:34:51.158 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:51.160 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 23.6722ms
2025-01-21 19:34:51.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:34:51.215 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:34:51.221 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:51.224 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:34:51.280 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:34:51.283 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:51.2836002Z"
2025-01-21 19:34:51.285 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:51.2856947Z"
2025-01-21 19:34:51.288 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:34:51.2883043Z"
2025-01-21 19:34:51.304 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:34:51.311 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:51.3113492Z"
2025-01-21 19:34:51.313 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:51.3130245Z"
2025-01-21 19:34:51.314 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:34:51.3144680Z"
2025-01-21 19:34:51.316 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.7669ms.
2025-01-21 19:34:51.320 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:34:51.323 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 85.7693ms
2025-01-21 19:34:51.328 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:34:51.329 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 149.4656ms
2025-01-21 19:35:12.370 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:35:12.375 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:12.377 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.6164ms
2025-01-21 19:35:12.383 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:35:12.387 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:12.390 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:12.392 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:35:12.425 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:35:12.428 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:35:12.430 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:12.4301881Z"
2025-01-21 19:35:12.431 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:12.4317961Z"
2025-01-21 19:35:12.441 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:35:12.447 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:12.4478653Z"
2025-01-21 19:35:12.449 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:12.4492821Z"
2025-01-21 19:35:12.451 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:35:12.452 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.2742ms.
2025-01-21 19:35:12.455 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:12.461 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 62.6906ms
2025-01-21 19:35:12.464 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:12.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 83.4562ms
2025-01-21 19:35:22.913 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 19:35:22.918 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:22.921 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 8.4934ms
2025-01-21 19:35:22.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 19:35:22.931 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:22.935 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:22.946 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:35:22.981 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:35:22.986 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-21 19:35:22.991 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T17:35:22.9916933Z"
2025-01-21 19:35:23.018 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-21 19:35:23.023 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:35:23.0239373Z"
2025-01-21 19:35:23.025 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:35:23.026 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.1036ms.
2025-01-21 19:35:23.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:23.034 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 81.3643ms
2025-01-21 19:35:23.036 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:23.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 111.0641ms
2025-01-21 19:35:33.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:35:33.014 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:33.016 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:35:33.050 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:35:33.054 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:35:33.056 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:33.0568257Z"
2025-01-21 19:35:33.058 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:33.0584184Z"
2025-01-21 19:35:33.071 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:35:33.079 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:33.0795041Z"
2025-01-21 19:35:33.081 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:33.0813256Z"
2025-01-21 19:35:33.083 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:35:33.086 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.9912ms.
2025-01-21 19:35:33.091 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:33.100 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 78.2629ms
2025-01-21 19:35:33.104 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:33.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 98.7599ms
2025-01-21 19:35:33.410 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:35:33.415 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:33.418 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.3876ms
2025-01-21 19:35:33.427 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:35:33.431 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:33.434 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:33.436 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:35:33.479 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:35:33.482 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:35:33.483 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:33.4837182Z"
2025-01-21 19:35:33.485 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:33.4858278Z"
2025-01-21 19:35:33.489 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:35:33.494 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:33.4942200Z"
2025-01-21 19:35:33.495 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:33.4955126Z"
2025-01-21 19:35:33.497 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:35:33.498 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4647ms.
2025-01-21 19:35:33.507 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:33.510 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 65.8695ms
2025-01-21 19:35:33.512 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:33.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 86.8399ms
2025-01-21 19:35:41.755 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 19:35:41.760 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:41.762 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.556ms
2025-01-21 19:35:41.767 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 19:35:41.772 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:41.774 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:41.779 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:35:41.812 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:35:41.815 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-21 19:35:41.817 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T17:35:41.8177533Z"
2025-01-21 19:35:41.837 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-21 19:35:41.843 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:35:41.8431905Z"
2025-01-21 19:35:41.844 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:35:41.846 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.7048ms.
2025-01-21 19:35:41.849 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:41.853 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 70.023ms
2025-01-21 19:35:41.859 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:41.861 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 93.6487ms
2025-01-21 19:35:51.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:35:51.249 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:51.252 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:35:51.279 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:35:51.282 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:35:51.284 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:51.2841208Z"
2025-01-21 19:35:51.286 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:51.2859921Z"
2025-01-21 19:35:51.298 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:35:51.303 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:51.3039478Z"
2025-01-21 19:35:51.306 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:51.3061795Z"
2025-01-21 19:35:51.308 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:35:51.312 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.4048ms.
2025-01-21 19:35:51.318 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:51.328 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 71.3157ms
2025-01-21 19:35:51.330 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:51.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 105.7062ms
2025-01-21 19:35:51.581 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:35:51.589 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:51.591 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 9.526ms
2025-01-21 19:35:51.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:35:51.609 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:51.611 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:51.613 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:35:51.651 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:35:51.654 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:35:51.656 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:51.6559887Z"
2025-01-21 19:35:51.657 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:35:51.6577255Z"
2025-01-21 19:35:51.675 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:35:51.684 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:51.6842906Z"
2025-01-21 19:35:51.687 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:35:51.6872327Z"
2025-01-21 19:35:51.689 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:35:51.692 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.8355ms.
2025-01-21 19:35:51.697 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:51.701 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 83.2957ms
2025-01-21 19:35:51.703 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:35:51.707 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 108.9631ms
2025-01-21 19:35:54.658 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 19:35:54.662 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:54.663 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 5.5734ms
2025-01-21 19:35:54.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 19:35:54.675 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:35:54.677 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:54.679 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:35:54.710 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:35:54.714 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-21 19:35:54.716 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T17:35:54.7164172Z"
2025-01-21 19:35:54.732 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-21 19:35:54.740 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:35:54.7403471Z"
2025-01-21 19:35:54.742 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:35:54.744 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.7526ms.
2025-01-21 19:35:54.748 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:35:54.755 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 73.1714ms
2025-01-21 19:35:54.758 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:35:54.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 91.6869ms
2025-01-21 19:36:16.493 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 19:36:16.498 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:16.499 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 6.1249ms
2025-01-21 19:36:16.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 19:36:16.508 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:16.509 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:16.511 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:36:16.543 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:36:16.546 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 19:36:16.548 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T17:36:16.5486226Z"
2025-01-21 19:36:16.565 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:36:16.572 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:36:16.5720650Z"
2025-01-21 19:36:16.574 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:36:16.576 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.4411ms.
2025-01-21 19:36:16.582 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:36:16.586 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 66.8918ms
2025-01-21 19:36:16.588 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:16.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 87.0457ms
2025-01-21 19:36:23.909 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 19:36:23.914 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:23.915 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 6.8861ms
2025-01-21 19:36:23.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 19:36:23.928 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:23.931 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:23.932 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:36:23.959 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:36:23.962 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 19:36:23.964 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T17:36:23.9644942Z"
2025-01-21 19:36:23.974 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:36:23.978 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:36:23.9788497Z"
2025-01-21 19:36:23.980 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:36:23.982 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.6751ms.
2025-01-21 19:36:23.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:36:23.991 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 55.6025ms
2025-01-21 19:36:23.993 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:23.995 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 73.7812ms
2025-01-21 19:36:27.875 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 19:36:27.880 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:27.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 7.1188ms
2025-01-21 19:36:27.887 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 19:36:27.891 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:27.892 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:27.894 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:36:27.924 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:36:27.928 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-21 19:36:27.930 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T17:36:27.9309545Z"
2025-01-21 19:36:27.944 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-21 19:36:27.949 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:36:27.9496229Z"
2025-01-21 19:36:27.951 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:36:27.953 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.913ms.
2025-01-21 19:36:27.955 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:36:27.958 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 55.5458ms
2025-01-21 19:36:27.963 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:27.966 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 79.019ms
2025-01-21 19:36:31.686 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 19:36:31.690 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:31.692 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 5.9311ms
2025-01-21 19:36:31.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 19:36:31.700 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:36:31.702 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:31.704 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:36:31.742 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:36:31.745 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 19:36:31.746 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T17:36:31.7468852Z"
2025-01-21 19:36:31.757 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:36:31.762 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:36:31.7620324Z"
2025-01-21 19:36:31.763 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:36:31.765 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.2108ms.
2025-01-21 19:36:31.768 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:36:31.773 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 62.0446ms
2025-01-21 19:36:31.775 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:36:31.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 80.196ms
2025-01-21 19:37:43.780 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:37:43.798 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:43.799 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 19.6172ms
2025-01-21 19:37:43.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:37:43.823 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:43.825 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:37:43.827 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:37:43.829 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:37:43.861 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:37:43.864 +02:00 [INF] Fetching all donators.
2025-01-21 19:37:43.865 +02:00 [INF] Fetching all donators.
2025-01-21 19:37:43.871 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:37:43.875 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:37:43.876 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.5049ms.
2025-01-21 19:37:43.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:37:43.889 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 57.224ms
2025-01-21 19:37:43.891 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:37:43.893 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:37:43.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 77.2203ms
2025-01-21 19:37:45.179 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:37:45.186 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:45.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.1942ms
2025-01-21 19:37:45.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:37:45.201 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:45.204 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:37:45.206 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:37:45.243 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:37:45.246 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:45.2467835Z"
2025-01-21 19:37:45.248 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:45.2482631Z"
2025-01-21 19:37:45.250 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:45.2505056Z"
2025-01-21 19:37:45.267 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:37:45.274 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:45.2743016Z"
2025-01-21 19:37:45.275 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:45.2755638Z"
2025-01-21 19:37:45.277 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:45.2770078Z"
2025-01-21 19:37:45.278 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.7ms.
2025-01-21 19:37:45.281 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:37:45.289 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 73.449ms
2025-01-21 19:37:45.291 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:37:45.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 96.8993ms
2025-01-21 19:37:52.260 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:37:52.266 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:52.268 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.3146ms
2025-01-21 19:37:52.274 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:37:52.282 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:52.288 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:37:52.290 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:37:52.331 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:37:52.333 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:37:52.3336258Z"
2025-01-21 19:37:52.338 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:37:52.343 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:37:52.3432635Z"
2025-01-21 19:37:52.344 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:37:52.3444067Z"
2025-01-21 19:37:52.345 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:37:52.3459170Z"
2025-01-21 19:37:52.347 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.8046ms.
2025-01-21 19:37:52.350 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:37:52.352 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 51.6156ms
2025-01-21 19:37:52.354 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:37:52.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.9843ms
2025-01-21 19:37:56.509 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:37:56.515 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:56.517 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 7.5589ms
2025-01-21 19:37:56.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:37:56.529 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:37:56.532 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:37:56.535 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:37:56.571 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:37:56.576 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:56.5769548Z"
2025-01-21 19:37:56.578 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:56.5784213Z"
2025-01-21 19:37:56.580 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:37:56.5801307Z"
2025-01-21 19:37:56.593 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:37:56.600 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:56.6002763Z"
2025-01-21 19:37:56.608 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:56.6084091Z"
2025-01-21 19:37:56.611 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:37:56.6116400Z"
2025-01-21 19:37:56.616 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.3547ms.
2025-01-21 19:37:56.624 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:37:56.630 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 91.351ms
2025-01-21 19:37:56.638 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:37:56.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 117.4296ms
2025-01-21 19:38:16.603 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-21 19:38:16.607 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:16.609 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 5.6992ms
2025-01-21 19:38:16.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-21 19:38:16.635 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:16.636 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-21 19:38:16.640 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 19:38:16.647 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-21 19:38:16.676 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportRevenueToExcel (project) - Validation state: "Valid"
2025-01-21 19:38:16.835 +02:00 [INF] Calculating gift revenues.
2025-01-21 19:38:16.890 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN [UserGifts] AS [u0] ON [g0].[Id] = [u0].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN [UserGifts] AS [u] ON [g].[Id] = [u].[GiftId]
GROUP BY [g].[Id]
2025-01-21 19:38:16.901 +02:00 [INF] Total revenue calculated: 220.00.
2025-01-21 19:38:18.117 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportRevenueToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 1437.6539ms.
2025-01-21 19:38:18.121 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-21 19:38:18.135 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 1481.5395ms
2025-01-21 19:38:18.138 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 19:38:18.143 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:38:18.145 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2849 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 1514.7928ms
2025-01-21 19:38:19.386 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 19:38:19.390 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:19.392 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 5.7996ms
2025-01-21 19:38:19.396 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 19:38:19.401 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:19.406 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:38:19.419 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:38:19.468 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 19:38:19.472 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T17:38:19.4726145Z"
2025-01-21 19:38:19.476 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T17:38:19.4761914Z"
2025-01-21 19:38:19.479 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T17:38:19.4791849Z"
2025-01-21 19:38:19.560 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 19:38:19.632 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T17:38:19.6323092Z"
2025-01-21 19:38:19.724 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 19:38:19.751 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 19:38:19.782 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T17:38:19.7827242Z"
2025-01-21 19:38:19.785 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T17:38:19.7858902Z"
2025-01-21 19:38:19.788 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 317.1335ms.
2025-01-21 19:38:19.791 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:38:19.795 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 369.435ms
2025-01-21 19:38:19.801 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:38:19.804 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 407.2959ms
2025-01-21 19:38:27.290 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 19:38:27.295 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:27.297 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 6.7114ms
2025-01-21 19:38:27.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 19:38:27.308 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:27.312 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:38:27.314 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:38:27.349 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 19:38:27.352 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T17:38:27.3528789Z"
2025-01-21 19:38:27.354 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T17:38:27.3548905Z"
2025-01-21 19:38:27.357 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T17:38:27.3571188Z"
2025-01-21 19:38:27.373 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 19:38:27.386 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T17:38:27.3868793Z"
2025-01-21 19:38:27.398 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 19:38:27.408 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 19:38:27.414 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner asd at "2025-01-21T17:38:27.4148550Z"
2025-01-21 19:38:27.420 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T17:38:27.4205167Z"
2025-01-21 19:38:27.423 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 70.5216ms.
2025-01-21 19:38:27.426 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:38:27.428 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 108.7076ms
2025-01-21 19:38:27.430 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:38:27.433 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 129.1073ms
2025-01-21 19:38:54.050 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:38:54.055 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:54.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.2418ms
2025-01-21 19:38:54.106 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:38:54.111 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:38:54.113 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:38:54.115 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:38:54.149 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:38:54.151 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:38:54.1517612Z"
2025-01-21 19:38:54.157 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:38:54.161 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:38:54.1614806Z"
2025-01-21 19:38:54.162 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:38:54.1627785Z"
2025-01-21 19:38:54.164 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:38:54.1642792Z"
2025-01-21 19:38:54.165 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.1781ms.
2025-01-21 19:38:54.168 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:38:54.170 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 50.9247ms
2025-01-21 19:38:54.177 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:38:54.179 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 73.2352ms
2025-01-21 19:39:01.222 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - null null
2025-01-21 19:39:01.226 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:39:01.228 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - 204 null null 6.803ms
2025-01-21 19:39:01.239 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - application/json null
2025-01-21 19:39:01.246 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:39:01.250 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:01.252 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:39:01.278 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:39:01.281 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: category, order: asc
2025-01-21 19:39:01.284 +02:00 [INF] Starting GetGiftsAsync with sortBy: category, order: asc at "2025-01-21T17:39:01.2841274Z"
2025-01-21 19:39:01.303 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [c].[name]
2025-01-21 19:39:01.310 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:39:01.3105659Z"
2025-01-21 19:39:01.311 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:39:01.313 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.7242ms.
2025-01-21 19:39:01.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:39:01.320 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 64.4516ms
2025-01-21 19:39:01.325 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:01.326 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=category&order=asc - 200 null application/json; charset=utf-8 86.9392ms
2025-01-21 19:39:08.174 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 19:39:08.178 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:39:08.180 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 5.6376ms
2025-01-21 19:39:08.186 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:39:08.193 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:39:08.194 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:08.196 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:39:08.226 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:39:08.230 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:39:08.232 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:39:08.2326660Z"
2025-01-21 19:39:08.242 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:39:08.248 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:39:08.2481886Z"
2025-01-21 19:39:08.250 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:39:08.255 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.5858ms.
2025-01-21 19:39:08.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:39:08.261 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 58.7136ms
2025-01-21 19:39:08.263 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:08.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 79.6289ms
2025-01-21 19:39:11.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:39:11.720 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:39:11.722 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:11.724 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:39:11.766 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:39:11.770 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:39:11.772 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:39:11.7728483Z"
2025-01-21 19:39:11.784 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:39:11.792 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:39:11.7920194Z"
2025-01-21 19:39:11.793 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:39:11.795 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0754ms.
2025-01-21 19:39:11.803 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:39:11.806 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 78.0669ms
2025-01-21 19:39:11.809 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:39:11.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 97.7929ms
2025-01-21 19:40:07.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:40:07.694 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:40:07.697 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:40:07.699 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.6306ms
2025-01-21 19:40:08.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:40:08.466 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:08.469 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 35.4276ms
2025-01-21 19:40:08.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:40:08.488 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:08.492 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:08.494 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:40:08.541 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:40:08.544 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:40:08.5446126Z"
2025-01-21 19:40:08.551 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:40:08.558 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:08.5581058Z"
2025-01-21 19:40:08.560 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:08.5604112Z"
2025-01-21 19:40:08.563 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:08.5632734Z"
2025-01-21 19:40:08.566 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.803ms.
2025-01-21 19:40:08.574 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:08.577 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 75.4628ms
2025-01-21 19:40:08.579 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:08.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 99.3103ms
2025-01-21 19:40:16.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:40:16.177 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:40:16.179 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:40:16.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.8396ms
2025-01-21 19:40:17.074 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:40:17.079 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:17.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.0655ms
2025-01-21 19:40:17.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:40:17.103 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:17.113 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:17.120 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:40:17.204 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:40:17.208 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:40:17.2084166Z"
2025-01-21 19:40:17.216 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:40:17.225 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:17.2257141Z"
2025-01-21 19:40:17.227 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:17.2275446Z"
2025-01-21 19:40:17.236 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:17.2361143Z"
2025-01-21 19:40:17.241 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.8349ms.
2025-01-21 19:40:17.254 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:17.264 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 133.4766ms
2025-01-21 19:40:17.270 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:17.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 181.8235ms
2025-01-21 19:40:32.247 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 19:40:32.256 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:32.258 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 11.1969ms
2025-01-21 19:40:32.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:40:32.273 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:32.275 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:32.277 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:40:32.324 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:40:32.327 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:40:32.329 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:40:32.3297679Z"
2025-01-21 19:40:32.340 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:40:32.347 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:32.3471669Z"
2025-01-21 19:40:32.350 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:40:32.352 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.6491ms.
2025-01-21 19:40:32.355 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:32.358 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.1355ms
2025-01-21 19:40:32.363 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:32.367 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 97.5921ms
2025-01-21 19:40:33.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:40:33.552 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:33.555 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:33.557 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:40:33.604 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:40:33.606 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:40:33.608 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:40:33.6085570Z"
2025-01-21 19:40:33.618 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:40:33.623 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:33.6231845Z"
2025-01-21 19:40:33.624 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:40:33.626 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.3992ms.
2025-01-21 19:40:33.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:33.632 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 68.9334ms
2025-01-21 19:40:33.638 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:33.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 95.5638ms
2025-01-21 19:40:35.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:40:35.234 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:35.237 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:35.239 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:40:35.275 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:40:35.277 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:40:35.280 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:40:35.2809517Z"
2025-01-21 19:40:35.294 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:40:35.300 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:35.3008929Z"
2025-01-21 19:40:35.302 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:40:35.304 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.6678ms.
2025-01-21 19:40:35.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:35.312 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 67.6897ms
2025-01-21 19:40:35.314 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:35.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 89.6993ms
2025-01-21 19:40:36.243 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:40:36.249 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:36.252 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:36.254 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:40:36.288 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:40:36.291 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:40:36.293 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:40:36.2931459Z"
2025-01-21 19:40:36.306 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:40:36.312 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:36.3126449Z"
2025-01-21 19:40:36.314 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:40:36.317 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.9434ms.
2025-01-21 19:40:36.320 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:36.323 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 64.6079ms
2025-01-21 19:40:36.330 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:40:36.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 90.3707ms
2025-01-21 19:40:51.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:40:51.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:40:51.128 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:40:51.136 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:40:51.138 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:40:51.143 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:40:51.146 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 28.3077ms
2025-01-21 19:40:51.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.4735ms
2025-01-21 19:40:51.714 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:40:51.719 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:51.721 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.5074ms
2025-01-21 19:40:51.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:40:51.735 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:40:51.738 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:51.741 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:40:51.793 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:40:51.797 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:40:51.7976329Z"
2025-01-21 19:40:51.805 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:40:51.816 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:51.8167199Z"
2025-01-21 19:40:51.819 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:51.8191566Z"
2025-01-21 19:40:51.821 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:40:51.8216963Z"
2025-01-21 19:40:51.824 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.5451ms.
2025-01-21 19:40:51.834 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:40:51.838 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 85.9871ms
2025-01-21 19:40:51.844 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:40:51.848 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 120.5265ms
2025-01-21 19:41:00.362 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:41:00.366 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:41:00.368 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:41:00.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.0356ms
2025-01-21 19:41:00.947 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:41:00.952 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:41:00.954 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.4344ms
2025-01-21 19:41:00.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:41:00.962 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:41:00.965 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:41:00.970 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:41:01.004 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:41:01.006 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:41:01.0069225Z"
2025-01-21 19:41:01.012 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:41:01.023 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:41:01.0238818Z"
2025-01-21 19:41:01.029 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:41:01.0296061Z"
2025-01-21 19:41:01.035 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:41:01.0350966Z"
2025-01-21 19:41:01.039 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.3545ms.
2025-01-21 19:41:01.043 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:41:01.053 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 77.7286ms
2025-01-21 19:41:01.058 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:41:01.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 104.5691ms
2025-01-21 19:41:59.974 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Winning - null null
2025-01-21 19:41:59.979 +02:00 [INF] Incoming Request: GET /api/Winning
2025-01-21 19:41:59.981 +02:00 [INF] Executing endpoint 'project.Controllers.WinningController.GetWinningsAsync (project)'
2025-01-21 19:42:00.003 +02:00 [INF] Route matched with {action = "GetWinnings", controller = "Winning"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Winning]] GetWinningsAsync() on controller project.Controllers.WinningController (project).
2025-01-21 19:42:00.044 +02:00 [INF] Executing action method project.Controllers.WinningController.GetWinningsAsync (project) - Validation state: "Valid"
2025-01-21 19:42:00.050 +02:00 [INF] Received request to fetch all winnings.
2025-01-21 19:42:00.052 +02:00 [INF] Fetching all winnings.
2025-01-21 19:42:00.054 +02:00 [INF] Fetching all winnings from database.
2025-01-21 19:42:00.069 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name]
FROM [Winnings] AS [w]
2025-01-21 19:42:00.094 +02:00 [INF] Successfully fetched 13 winnings.
2025-01-21 19:42:00.096 +02:00 [INF] Successfully fetched 13 winnings.
2025-01-21 19:42:00.099 +02:00 [INF] Successfully retrieved 13 winnings.
2025-01-21 19:42:00.101 +02:00 [INF] Executed action method project.Controllers.WinningController.GetWinningsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 54.2283ms.
2025-01-21 19:42:00.106 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Winning, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:42:00.119 +02:00 [INF] Executed action project.Controllers.WinningController.GetWinningsAsync (project) in 108.7736ms
2025-01-21 19:42:00.123 +02:00 [INF] Executed endpoint 'project.Controllers.WinningController.GetWinningsAsync (project)'
2025-01-21 19:42:00.124 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:42:00.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Winning - 200 null application/json; charset=utf-8 151.5683ms
2025-01-21 19:43:10.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Winning/1 - null null
2025-01-21 19:43:10.369 +02:00 [INF] Incoming Request: GET /api/Winning/1
2025-01-21 19:43:10.370 +02:00 [INF] Executing endpoint 'project.Controllers.WinningController.GetByIdAsync (project)'
2025-01-21 19:43:10.377 +02:00 [INF] Route matched with {action = "GetById", controller = "Winning"}. Executing controller action with signature System.Threading.Tasks.Task`1[project.Models.Winning] GetByIdAsync(Int32) on controller project.Controllers.WinningController (project).
2025-01-21 19:43:10.414 +02:00 [INF] Executing action method project.Controllers.WinningController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 19:43:10.423 +02:00 [INF] Received request to fetch winning by id: 1
2025-01-21 19:43:10.425 +02:00 [INF] Fetching winning by id: 1.
2025-01-21 19:43:10.428 +02:00 [INF] Fetching winning by id: 1 from database.
2025-01-21 19:43:10.440 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name]
FROM [Winnings] AS [w]
WHERE [w].[Id] = @__id_0
2025-01-21 19:43:10.463 +02:00 [INF] Successfully fetched winning with id: 1.
2025-01-21 19:43:10.464 +02:00 [INF] Successfully fetched winning with id: 1.
2025-01-21 19:43:10.466 +02:00 [INF] Successfully retrieved winning with id: 1
2025-01-21 19:43:10.468 +02:00 [INF] Executed action method project.Controllers.WinningController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 45.4579ms.
2025-01-21 19:43:10.472 +02:00 [INF] Executing ObjectResult, writing value of type 'project.Models.Winning'.
2025-01-21 19:43:10.474 +02:00 [INF] Executed action project.Controllers.WinningController.GetByIdAsync (project) in 92.0007ms
2025-01-21 19:43:10.477 +02:00 [INF] Executed endpoint 'project.Controllers.WinningController.GetByIdAsync (project)'
2025-01-21 19:43:10.479 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:43:10.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Winning/1 - 200 null application/json; charset=utf-8 121.9049ms
2025-01-21 19:44:18.085 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 19:44:18.107 +02:00 [INF] CORS policy execution failed.
2025-01-21 19:44:18.109 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 19:44:18.113 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:44:18.115 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 19:44:18.142 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 19:44:18.146 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T17:44:18.1467524Z"
2025-01-21 19:44:18.150 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T17:44:18.1509603Z"
2025-01-21 19:44:18.153 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T17:44:18.1532185Z"
2025-01-21 19:44:18.181 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 19:44:18.192 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T17:44:18.1920346Z"
2025-01-21 19:44:18.198 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 19:44:18.206 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 19:44:18.215 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T17:44:18.2150942Z"
2025-01-21 19:44:18.217 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T17:44:18.2172266Z"
2025-01-21 19:44:18.220 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 74.0702ms.
2025-01-21 19:44:18.223 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 19:44:18.226 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 107.0168ms
2025-01-21 19:44:18.229 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 19:44:18.231 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 145.2341ms
2025-01-21 19:46:23.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:46:23.231 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:46:23.234 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:46:23.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.4641ms
2025-01-21 19:46:24.034 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:46:24.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:24.129 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 95.6896ms
2025-01-21 19:46:24.140 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:46:24.150 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:24.155 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:24.157 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:46:24.211 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:46:24.215 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:46:24.2151293Z"
2025-01-21 19:46:24.219 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:46:24.225 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:24.2258644Z"
2025-01-21 19:46:24.228 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:24.2283276Z"
2025-01-21 19:46:24.230 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:24.2307490Z"
2025-01-21 19:46:24.232 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.5239ms.
2025-01-21 19:46:24.235 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:24.238 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 66.1417ms
2025-01-21 19:46:24.244 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:24.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 107.1015ms
2025-01-21 19:46:29.109 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - null null
2025-01-21 19:46:29.115 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:29.117 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 204 null null 8.6219ms
2025-01-21 19:46:29.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:46:29.133 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:29.135 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:29.137 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:46:29.171 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:46:29.174 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:46:29.176 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:46:29.1765545Z"
2025-01-21 19:46:29.186 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:46:29.190 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:29.1904838Z"
2025-01-21 19:46:29.191 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:46:29.197 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.0733ms.
2025-01-21 19:46:29.202 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:29.206 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 64.9721ms
2025-01-21 19:46:29.213 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:29.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 90.7573ms
2025-01-21 19:46:32.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - application/json null
2025-01-21 19:46:32.906 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:32.908 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:32.910 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:46:32.938 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:46:32.940 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: asc
2025-01-21 19:46:32.943 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: asc at "2025-01-21T17:46:32.9436482Z"
2025-01-21 19:46:32.958 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:46:32.967 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:32.9673031Z"
2025-01-21 19:46:32.969 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:46:32.971 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8707ms.
2025-01-21 19:46:32.975 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:32.978 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 63.73ms
2025-01-21 19:46:32.985 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:32.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=asc - 200 null application/json; charset=utf-8 88.2264ms
2025-01-21 19:46:44.540 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:46:44.545 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:46:44.547 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:46:44.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.0163ms
2025-01-21 19:46:45.183 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:46:45.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:45.190 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.4007ms
2025-01-21 19:46:45.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:46:45.201 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:45.207 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:45.211 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:46:45.257 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:46:45.260 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:46:45.2603410Z"
2025-01-21 19:46:45.266 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:46:45.274 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:45.2749388Z"
2025-01-21 19:46:45.277 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:45.2773620Z"
2025-01-21 19:46:45.279 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:45.2796851Z"
2025-01-21 19:46:45.281 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.2438ms.
2025-01-21 19:46:45.287 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:45.291 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 73.0721ms
2025-01-21 19:46:45.294 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:45.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 99.3556ms
2025-01-21 19:46:51.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:46:51.980 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:46:51.982 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:46:51.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.9829ms
2025-01-21 19:46:52.477 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:46:52.483 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:52.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.43ms
2025-01-21 19:46:52.491 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:46:52.497 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:52.499 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:52.510 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:46:52.589 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:46:52.593 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:46:52.5931305Z"
2025-01-21 19:46:52.602 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:46:52.636 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:52.6359856Z"
2025-01-21 19:46:52.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:52.6394130Z"
2025-01-21 19:46:52.646 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:52.6466294Z"
2025-01-21 19:46:52.650 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 56.9462ms.
2025-01-21 19:46:52.656 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:52.668 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 143.401ms
2025-01-21 19:46:52.671 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:46:52.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 187.17ms
2025-01-21 19:46:57.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 19:46:57.104 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:57.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 7.5863ms
2025-01-21 19:46:57.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 19:46:57.121 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:46:57.122 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:57.127 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:46:57.160 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:46:57.163 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 19:46:57.166 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T17:46:57.1661939Z"
2025-01-21 19:46:57.183 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 19:46:57.188 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:46:57.1881359Z"
2025-01-21 19:46:57.189 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:46:57.191 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.3777ms.
2025-01-21 19:46:57.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:46:57.199 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 65.1044ms
2025-01-21 19:46:57.200 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:46:57.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 89.9412ms
2025-01-21 19:47:02.363 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 19:47:02.366 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:02.368 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 5.5514ms
2025-01-21 19:47:02.374 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 19:47:02.378 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:02.379 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:47:02.381 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 19:47:02.412 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 19:47:02.415 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:47:02.4155229Z"
2025-01-21 19:47:02.418 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:47:02.4184179Z"
2025-01-21 19:47:02.420 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T17:47:02.4202629Z"
2025-01-21 19:47:02.433 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:47:02.441 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:47:02.4413564Z"
2025-01-21 19:47:02.444 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:47:02.4439204Z"
2025-01-21 19:47:02.447 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T17:47:02.4471186Z"
2025-01-21 19:47:02.451 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.4781ms.
2025-01-21 19:47:02.455 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:02.462 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 74.7432ms
2025-01-21 19:47:02.470 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 19:47:02.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 98.3655ms
2025-01-21 19:47:04.867 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:47:04.873 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:04.874 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.2564ms
2025-01-21 19:47:04.881 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:47:04.885 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:04.886 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:47:04.888 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:47:04.893 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:47:04.923 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:47:04.926 +02:00 [INF] Fetching all donators.
2025-01-21 19:47:04.927 +02:00 [INF] Fetching all donators.
2025-01-21 19:47:04.931 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:47:04.935 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:47:04.938 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.8164ms.
2025-01-21 19:47:04.941 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:04.944 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 46.731ms
2025-01-21 19:47:04.947 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:47:04.949 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:47:04.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 69.073ms
2025-01-21 19:47:06.730 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:47:06.738 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:06.742 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 10.8149ms
2025-01-21 19:47:06.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:47:06.755 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:06.757 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:06.759 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:47:06.790 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:47:06.792 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:47:06.796 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:06.7961161Z"
2025-01-21 19:47:06.797 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:06.7976968Z"
2025-01-21 19:47:06.806 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:47:06.812 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:06.8122555Z"
2025-01-21 19:47:06.814 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:06.8141353Z"
2025-01-21 19:47:06.815 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:47:06.817 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.7554ms.
2025-01-21 19:47:06.820 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:06.822 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 52.2731ms
2025-01-21 19:47:06.824 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:06.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 79.3534ms
2025-01-21 19:47:09.596 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - null null
2025-01-21 19:47:09.601 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:09.603 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 204 null null 6.73ms
2025-01-21 19:47:09.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - application/json null
2025-01-21 19:47:09.615 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:09.617 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:09.618 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:47:09.641 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:47:09.645 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: purchases, order: desc
2025-01-21 19:47:09.647 +02:00 [INF] Starting GetGiftsAsync with sortBy: purchases, order: desc at "2025-01-21T17:47:09.6478963Z"
2025-01-21 19:47:09.663 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u0].[Quantity]), 0)
    FROM [UserGifts] AS [u0]
    WHERE [g].[Id] = [u0].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) DESC
2025-01-21 19:47:09.668 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:47:09.6684829Z"
2025-01-21 19:47:09.670 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:47:09.674 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.1768ms.
2025-01-21 19:47:09.678 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:09.680 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 58.5625ms
2025-01-21 19:47:09.683 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:09.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=purchases&order=desc - 200 null application/json; charset=utf-8 77.8293ms
2025-01-21 19:47:11.009 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - null null
2025-01-21 19:47:11.015 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:11.017 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 204 null null 7.9185ms
2025-01-21 19:47:11.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 19:47:11.032 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:11.035 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:11.037 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:47:11.067 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:47:11.071 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 19:47:11.073 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T17:47:11.0737120Z"
2025-01-21 19:47:11.083 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:47:11.090 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:47:11.0902867Z"
2025-01-21 19:47:11.091 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:47:11.094 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.8816ms.
2025-01-21 19:47:11.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:11.099 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 53.6097ms
2025-01-21 19:47:11.104 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:11.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 80.8695ms
2025-01-21 19:47:13.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - application/json null
2025-01-21 19:47:13.581 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:13.582 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:13.584 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:47:13.617 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:47:13.620 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: price, order: desc
2025-01-21 19:47:13.622 +02:00 [INF] Starting GetGiftsAsync with sortBy: price, order: desc at "2025-01-21T17:47:13.6228152Z"
2025-01-21 19:47:13.632 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 19:47:13.638 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:47:13.6383120Z"
2025-01-21 19:47:13.640 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:47:13.642 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.1358ms.
2025-01-21 19:47:13.645 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:13.647 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 54.3252ms
2025-01-21 19:47:13.652 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:47:13.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=price&order=desc - 200 null application/json; charset=utf-8 80.3119ms
2025-01-21 19:47:15.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:47:15.235 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:15.237 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:47:15.263 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:47:15.265 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:47:15.266 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:15.2669177Z"
2025-01-21 19:47:15.270 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:15.2700779Z"
2025-01-21 19:47:15.280 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:47:15.286 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:15.2864916Z"
2025-01-21 19:47:15.287 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:15.2878253Z"
2025-01-21 19:47:15.289 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:47:15.290 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.3404ms.
2025-01-21 19:47:15.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:15.303 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 61.6314ms
2025-01-21 19:47:15.306 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:15.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 78.7391ms
2025-01-21 19:47:15.769 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:47:15.778 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:15.782 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 13.49ms
2025-01-21 19:47:15.833 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:47:15.850 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:15.858 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:15.864 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:47:15.934 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:47:15.939 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:47:15.965 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:15.9657950Z"
2025-01-21 19:47:15.968 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:47:15.9681696Z"
2025-01-21 19:47:15.991 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:47:16.001 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:16.0016360Z"
2025-01-21 19:47:16.003 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:47:16.0034428Z"
2025-01-21 19:47:16.006 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:47:16.018 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.7638ms.
2025-01-21 19:47:16.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:47:16.028 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 154.0821ms
2025-01-21 19:47:16.032 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:47:16.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 204.7772ms
2025-01-21 19:47:19.209 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-21 19:47:19.214 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:19.217 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 7.7286ms
2025-01-21 19:47:19.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 19:47:19.228 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:19.233 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 19:47:19.237 +02:00 [INF] Outgoing Response: 404
2025-01-21 19:47:19.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 404 0 null 14.7453ms
2025-01-21 19:47:19.248 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/3/buyers, Response status code: 404
2025-01-21 19:47:22.309 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 19:47:22.315 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:47:22.317 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 19:47:22.318 +02:00 [INF] Outgoing Response: 404
2025-01-21 19:47:22.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 404 0 null 10.688ms
2025-01-21 19:47:22.326 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/3/buyers, Response status code: 404
2025-01-21 19:48:29.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:29.736 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:29.738 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:29.817 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:29.819 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:29.821 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:29.8213556Z"
2025-01-21 19:48:29.823 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:29.8234571Z"
2025-01-21 19:48:29.837 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:29.845 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:29.8455052Z"
2025-01-21 19:48:29.847 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:29.8471807Z"
2025-01-21 19:48:29.849 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:29.851 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.3322ms.
2025-01-21 19:48:29.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:29.856 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 73.2584ms
2025-01-21 19:48:29.858 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:29.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 229.8505ms
2025-01-21 19:48:30.540 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:30.570 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:30.572 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 31.3739ms
2025-01-21 19:48:30.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:48:30.587 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:30.589 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:30.597 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:30.652 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:30.655 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:30.657 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:30.6570382Z"
2025-01-21 19:48:30.659 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:30.6590305Z"
2025-01-21 19:48:30.670 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:30.680 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:30.6801024Z"
2025-01-21 19:48:30.681 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:30.6818346Z"
2025-01-21 19:48:30.683 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:30.685 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.9045ms.
2025-01-21 19:48:30.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:30.697 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 91.8321ms
2025-01-21 19:48:30.700 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:30.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 123.0848ms
2025-01-21 19:48:33.420 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:33.427 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:33.429 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:33.460 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:33.463 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:33.467 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:33.4670351Z"
2025-01-21 19:48:33.468 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:33.4685336Z"
2025-01-21 19:48:33.478 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:33.485 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:33.4850876Z"
2025-01-21 19:48:33.486 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:33.4864105Z"
2025-01-21 19:48:33.487 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:33.489 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.8055ms.
2025-01-21 19:48:33.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:33.500 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 63.3159ms
2025-01-21 19:48:33.503 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:33.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 85.2556ms
2025-01-21 19:48:33.928 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:48:33.933 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:33.936 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:33.939 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:33.991 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:33.995 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:33.998 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:33.9980302Z"
2025-01-21 19:48:34.000 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:34.0003091Z"
2025-01-21 19:48:34.013 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:34.021 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:34.0216653Z"
2025-01-21 19:48:34.024 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:34.0243207Z"
2025-01-21 19:48:34.028 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:34.035 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.9143ms.
2025-01-21 19:48:34.039 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:34.043 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 96.7638ms
2025-01-21 19:48:34.046 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:34.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 124.0702ms
2025-01-21 19:48:49.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:49.363 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:49.365 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:49.390 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:49.395 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:49.397 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:49.3976045Z"
2025-01-21 19:48:49.400 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:49.4005674Z"
2025-01-21 19:48:49.411 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:49.419 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:49.4194718Z"
2025-01-21 19:48:49.421 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:49.4217637Z"
2025-01-21 19:48:49.423 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:49.426 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1613ms.
2025-01-21 19:48:49.433 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:49.438 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 68.8502ms
2025-01-21 19:48:49.442 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:49.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 90.8356ms
2025-01-21 19:48:50.117 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:50.121 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:50.123 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 6.0874ms
2025-01-21 19:48:50.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:48:50.133 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:50.138 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:50.141 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:50.182 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:50.185 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:50.187 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:50.1874191Z"
2025-01-21 19:48:50.189 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:50.1895531Z"
2025-01-21 19:48:50.195 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:50.204 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:50.2043034Z"
2025-01-21 19:48:50.206 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:50.2060200Z"
2025-01-21 19:48:50.209 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:50.211 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.1939ms.
2025-01-21 19:48:50.220 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:50.226 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 77.2222ms
2025-01-21 19:48:50.232 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:50.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 108.0483ms
2025-01-21 19:48:56.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:56.402 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:56.404 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:56.429 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:56.432 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:56.433 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:56.4335370Z"
2025-01-21 19:48:56.435 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:56.4350264Z"
2025-01-21 19:48:56.444 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:56.450 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:56.4505437Z"
2025-01-21 19:48:56.452 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:56.4527635Z"
2025-01-21 19:48:56.454 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:56.456 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.8756ms.
2025-01-21 19:48:56.460 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:56.466 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 56.9681ms
2025-01-21 19:48:56.468 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:56.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 73.2684ms
2025-01-21 19:48:57.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:48:57.028 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:57.030 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.7517ms
2025-01-21 19:48:57.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:48:57.050 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:48:57.052 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:57.058 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:48:57.100 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:48:57.103 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:48:57.105 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:57.1058049Z"
2025-01-21 19:48:57.108 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:48:57.1084132Z"
2025-01-21 19:48:57.122 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:48:57.130 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:57.1302828Z"
2025-01-21 19:48:57.135 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:48:57.1351575Z"
2025-01-21 19:48:57.137 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:48:57.141 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.3873ms.
2025-01-21 19:48:57.147 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:48:57.154 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 88.5487ms
2025-01-21 19:48:57.158 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:48:57.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 124.1241ms
2025-01-21 19:49:01.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:01.352 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:01.354 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:01.396 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:01.399 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:01.401 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:01.4013852Z"
2025-01-21 19:49:01.403 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:01.4033457Z"
2025-01-21 19:49:01.421 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:01.432 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:01.4320115Z"
2025-01-21 19:49:01.435 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:01.4350468Z"
2025-01-21 19:49:01.437 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:01.441 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.8863ms.
2025-01-21 19:49:01.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:01.450 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 86.2403ms
2025-01-21 19:49:01.454 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:01.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 115.0842ms
2025-01-21 19:49:01.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:49:01.901 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:49:01.904 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:01.906 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:01.966 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:01.969 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:01.975 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:01.9752518Z"
2025-01-21 19:49:01.977 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:01.9770208Z"
2025-01-21 19:49:01.997 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:02.005 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:02.0054653Z"
2025-01-21 19:49:02.010 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:02.0102039Z"
2025-01-21 19:49:02.021 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:02.026 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.754ms.
2025-01-21 19:49:02.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:02.042 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 124.2432ms
2025-01-21 19:49:02.045 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:02.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 151.4299ms
2025-01-21 19:49:09.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:09.364 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:09.366 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:09.406 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:09.412 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:09.414 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:09.4148781Z"
2025-01-21 19:49:09.419 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:09.4193438Z"
2025-01-21 19:49:09.433 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:09.437 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:09.4376408Z"
2025-01-21 19:49:09.439 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:09.4393335Z"
2025-01-21 19:49:09.441 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:09.444 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.1447ms.
2025-01-21 19:49:09.448 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:09.454 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 79.0548ms
2025-01-21 19:49:09.456 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:09.459 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 101.2644ms
2025-01-21 19:49:10.056 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:10.062 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:49:10.065 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.7523ms
2025-01-21 19:49:10.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:49:10.081 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:49:10.083 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:10.086 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:10.150 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:10.154 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:10.156 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:10.1563107Z"
2025-01-21 19:49:10.158 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:10.1587628Z"
2025-01-21 19:49:10.178 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:10.191 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:10.1916998Z"
2025-01-21 19:49:10.196 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:10.1969754Z"
2025-01-21 19:49:10.199 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:10.205 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.4618ms.
2025-01-21 19:49:10.212 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:10.220 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 122.6698ms
2025-01-21 19:49:10.228 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:10.235 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 161.665ms
2025-01-21 19:49:22.205 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:22.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:22.210 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:22.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:22.216 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:22.219 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:22.250 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:22.280 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:22.283 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:22.286 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:22.287 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:22.2876608Z"
2025-01-21 19:49:22.289 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:22.2890925Z"
2025-01-21 19:49:22.291 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:22.2911913Z"
2025-01-21 19:49:22.293 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:22.2939262Z"
2025-01-21 19:49:22.310 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:22.331 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:22.3312015Z"
2025-01-21 19:49:22.339 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:22.340 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:22.3407249Z"
2025-01-21 19:49:22.348 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:22.3482652Z"
2025-01-21 19:49:22.350 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:22.352 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:22.3525294Z"
2025-01-21 19:49:22.354 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.3696ms.
2025-01-21 19:49:22.357 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:22.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:22.366 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 80.4511ms.
2025-01-21 19:49:22.369 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 143.3569ms
2025-01-21 19:49:22.372 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:22.375 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:22.380 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 125.9726ms
2025-01-21 19:49:22.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 176.4672ms
2025-01-21 19:49:22.384 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:22.394 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 188.7713ms
2025-01-21 19:49:23.105 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:49:23.109 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:49:23.112 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 7.3338ms
2025-01-21 19:49:23.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:49:23.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:49:23.131 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:23.134 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:49:23.192 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:49:23.197 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:49:23.200 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:23.2004298Z"
2025-01-21 19:49:23.202 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:49:23.2024068Z"
2025-01-21 19:49:23.216 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:49:23.220 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:23.2209530Z"
2025-01-21 19:49:23.228 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:49:23.2281974Z"
2025-01-21 19:49:23.231 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:49:23.233 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.9996ms.
2025-01-21 19:49:23.244 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:49:23.248 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 106.9024ms
2025-01-21 19:49:23.250 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:49:23.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 133.712ms
2025-01-21 19:51:06.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:51:06.749 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:51:06.751 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:51:06.784 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:51:06.786 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:51:06.787 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:51:06.7879513Z"
2025-01-21 19:51:06.790 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:51:06.7900673Z"
2025-01-21 19:51:06.801 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:51:06.805 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:51:06.8053298Z"
2025-01-21 19:51:06.807 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:51:06.8077030Z"
2025-01-21 19:51:06.813 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:51:06.815 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.9212ms.
2025-01-21 19:51:06.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:51:06.822 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 66.5135ms
2025-01-21 19:51:06.825 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:51:06.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 98.9755ms
2025-01-21 19:51:07.658 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:51:07.711 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:07.713 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 55.4368ms
2025-01-21 19:51:07.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:51:07.728 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:07.730 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:51:07.733 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:51:07.776 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:51:07.780 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:51:07.781 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:51:07.7815551Z"
2025-01-21 19:51:07.783 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:51:07.7832009Z"
2025-01-21 19:51:07.796 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:51:07.800 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:51:07.8004789Z"
2025-01-21 19:51:07.804 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:51:07.8044230Z"
2025-01-21 19:51:07.807 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:51:07.810 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1459ms.
2025-01-21 19:51:07.814 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:51:07.821 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 78.1291ms
2025-01-21 19:51:07.825 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:51:07.828 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 107.6679ms
2025-01-21 19:51:14.503 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:51:14.509 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:14.511 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.319ms
2025-01-21 19:51:14.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:51:14.520 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:14.526 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:51:14.529 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:51:14.570 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:51:14.573 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:51:14.5737366Z"
2025-01-21 19:51:14.580 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:51:14.587 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:14.5879183Z"
2025-01-21 19:51:14.590 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:14.5902366Z"
2025-01-21 19:51:14.593 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:14.5935413Z"
2025-01-21 19:51:14.596 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.4531ms.
2025-01-21 19:51:14.599 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:51:14.603 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 70.9886ms
2025-01-21 19:51:14.606 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:51:14.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 92.0377ms
2025-01-21 19:51:41.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:51:41.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:51:41.467 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:51:41.473 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:51:41.477 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:51:41.479 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:51:41.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 36.2778ms
2025-01-21 19:51:41.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 56.9633ms
2025-01-21 19:51:42.002 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:51:42.008 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:42.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.3851ms
2025-01-21 19:51:42.016 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:51:42.019 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:51:42.025 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:51:42.028 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:51:42.064 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:51:42.068 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:51:42.0688178Z"
2025-01-21 19:51:42.076 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:51:42.082 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:42.0823471Z"
2025-01-21 19:51:42.092 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:42.0920923Z"
2025-01-21 19:51:42.094 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:51:42.0941330Z"
2025-01-21 19:51:42.097 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.4157ms.
2025-01-21 19:51:42.108 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:51:42.113 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.5943ms
2025-01-21 19:51:42.119 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:51:42.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 105.8051ms
2025-01-21 19:52:07.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:52:07.485 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:52:07.490 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:52:07.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 66.7513ms
2025-01-21 19:52:07.777 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:52:07.781 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:52:07.783 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.4969ms
2025-01-21 19:52:07.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:52:07.791 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:52:07.793 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:52:07.796 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:52:07.835 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:52:07.838 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:52:07.8383257Z"
2025-01-21 19:52:07.843 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:52:07.851 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:52:07.8511891Z"
2025-01-21 19:52:07.852 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:52:07.8527016Z"
2025-01-21 19:52:07.854 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:52:07.8546285Z"
2025-01-21 19:52:07.857 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.9777ms.
2025-01-21 19:52:07.860 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:52:07.866 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 61.2132ms
2025-01-21 19:52:07.868 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:52:07.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 83.6432ms
2025-01-21 19:54:02.500 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 19:54:02.526 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 19:54:02.529 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 19:54:02.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 30.5574ms
2025-01-21 19:54:02.799 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 19:54:02.823 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:02.826 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 26.961ms
2025-01-21 19:54:02.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 19:54:02.836 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:02.839 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:54:02.841 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 19:54:02.875 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 19:54:02.877 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T17:54:02.8779444Z"
2025-01-21 19:54:02.883 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 19:54:02.887 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:54:02.8874078Z"
2025-01-21 19:54:02.888 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:54:02.8888518Z"
2025-01-21 19:54:02.890 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:54:02.8907412Z"
2025-01-21 19:54:02.892 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.2683ms.
2025-01-21 19:54:02.894 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:54:02.899 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 53.3776ms
2025-01-21 19:54:02.902 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 19:54:02.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 72.9631ms
2025-01-21 19:54:08.190 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - null null
2025-01-21 19:54:08.198 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:08.199 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 204 null null 9.7397ms
2025-01-21 19:54:08.208 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - application/json null
2025-01-21 19:54:08.213 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:08.214 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:54:08.216 +02:00 [INF] Route matched with {action = "GetGiftsBySort", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGiftsBySortAsync(System.String, System.String) on controller project.Controllers.GiftController (project).
2025-01-21 19:54:08.249 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsBySortAsync (project) - Validation state: "Valid"
2025-01-21 19:54:08.252 +02:00 [INF] Received request for GetGiftsBySortAsync with parameters sortBy: Price, order: asc
2025-01-21 19:54:08.254 +02:00 [INF] Starting GetGiftsAsync with sortBy: Price, order: asc at "2025-01-21T17:54:08.2547241Z"
2025-01-21 19:54:08.267 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases], [c].[name] AS [Category]
FROM [Gifts] AS [g]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
ORDER BY [g].[Price]
2025-01-21 19:54:08.275 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T17:54:08.2751856Z"
2025-01-21 19:54:08.277 +02:00 [INF] Successfully retrieved 5 gifts.
2025-01-21 19:54:08.279 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsBySortAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.6176ms.
2025-01-21 19:54:08.283 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:54:08.286 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsBySortAsync (project) in 61.1417ms
2025-01-21 19:54:08.289 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsBySortAsync (project)'
2025-01-21 19:54:08.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/sortBy?sortBy=Price&order=asc - 200 null application/json; charset=utf-8 84.0463ms
2025-01-21 19:54:20.300 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:54:20.306 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:20.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.5769ms
2025-01-21 19:54:20.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:54:20.323 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:20.325 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:54:20.327 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:54:20.357 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:54:20.360 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:54:20.361 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:54:20.3617041Z"
2025-01-21 19:54:20.365 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:54:20.3651589Z"
2025-01-21 19:54:20.375 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:54:20.380 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:54:20.3807503Z"
2025-01-21 19:54:20.382 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:54:20.3821777Z"
2025-01-21 19:54:20.383 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:54:20.385 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.1855ms.
2025-01-21 19:54:20.389 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:54:20.392 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 57.3726ms
2025-01-21 19:54:20.398 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:54:20.400 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 82.4413ms
2025-01-21 19:54:29.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-21 19:54:29.705 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:29.708 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 17.1358ms
2025-01-21 19:54:29.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 19:54:29.719 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:29.723 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 19:54:29.727 +02:00 [INF] Outgoing Response: 404
2025-01-21 19:54:29.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 404 0 null 16.1162ms
2025-01-21 19:54:29.740 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/3/buyers, Response status code: 404
2025-01-21 19:54:46.106 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - null null
2025-01-21 19:54:46.112 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:46.114 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - 204 null null 8.537ms
2025-01-21 19:54:46.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - application/json null
2025-01-21 19:54:46.129 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:54:46.131 +02:00 [INF] Incoming Request: GET /api/User/13/buyers
2025-01-21 19:54:46.135 +02:00 [INF] Outgoing Response: 404
2025-01-21 19:54:46.137 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - 404 0 null 15.3865ms
2025-01-21 19:54:46.152 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/13/buyers, Response status code: 404
2025-01-21 19:56:29.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:56:29.056 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:29.058 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:56:29.084 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:56:29.088 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:56:29.090 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:29.0904996Z"
2025-01-21 19:56:29.092 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:29.0919971Z"
2025-01-21 19:56:29.105 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:56:29.112 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:29.1129473Z"
2025-01-21 19:56:29.116 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:29.1162876Z"
2025-01-21 19:56:29.121 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:56:29.124 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.82ms.
2025-01-21 19:56:29.129 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:56:29.132 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 67.4058ms
2025-01-21 19:56:29.134 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:29.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 98.7373ms
2025-01-21 19:56:30.108 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:56:30.113 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:30.117 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.497ms
2025-01-21 19:56:30.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:56:30.155 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:30.159 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:30.160 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:56:30.258 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:56:30.267 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:56:30.269 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:30.2699045Z"
2025-01-21 19:56:30.273 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:30.2733969Z"
2025-01-21 19:56:30.302 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:56:30.308 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:30.3087602Z"
2025-01-21 19:56:30.312 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:30.3126950Z"
2025-01-21 19:56:30.315 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:56:30.317 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.2126ms.
2025-01-21 19:56:30.323 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:56:30.336 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 157.409ms
2025-01-21 19:56:30.352 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:30.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 213.0464ms
2025-01-21 19:56:32.238 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/userBasket - null null
2025-01-21 19:56:32.269 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:32.271 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/userBasket - 204 null null 33.0295ms
2025-01-21 19:56:32.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/15/userBasket - application/json null
2025-01-21 19:56:32.284 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:32.288 +02:00 [INF] Incoming Request: GET /api/User/15/userBasket
2025-01-21 19:56:32.291 +02:00 [INF] Outgoing Response: 404
2025-01-21 19:56:32.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/15/userBasket - 404 0 null 16.6503ms
2025-01-21 19:56:32.302 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5062/api/User/15/userBasket, Response status code: 404
2025-01-21 19:56:39.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:56:39.341 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:39.343 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:56:39.367 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:56:39.371 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:56:39.372 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:39.3728655Z"
2025-01-21 19:56:39.375 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:39.3756320Z"
2025-01-21 19:56:39.385 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:56:39.391 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:39.3913954Z"
2025-01-21 19:56:39.392 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:39.3927133Z"
2025-01-21 19:56:39.394 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:56:39.395 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.5788ms.
2025-01-21 19:56:39.398 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:56:39.400 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 52.865ms
2025-01-21 19:56:39.407 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:39.409 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 72.3252ms
2025-01-21 19:56:40.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:56:40.321 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:40.323 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 6.4369ms
2025-01-21 19:56:40.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:56:40.338 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:56:40.340 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:40.347 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:56:40.391 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:56:40.395 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:56:40.397 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:40.3975093Z"
2025-01-21 19:56:40.400 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:56:40.4001047Z"
2025-01-21 19:56:40.416 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:56:40.429 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:40.4294714Z"
2025-01-21 19:56:40.431 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:56:40.4314244Z"
2025-01-21 19:56:40.433 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:56:40.436 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.0078ms.
2025-01-21 19:56:40.444 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:56:40.448 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 93.7137ms
2025-01-21 19:56:40.452 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:56:40.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 125.0467ms
2025-01-21 19:58:57.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:58:57.521 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:58:57.661 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:58:57.757 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:58:57.760 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:58:57.762 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:58:57.7619959Z"
2025-01-21 19:58:57.763 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:58:57.7638385Z"
2025-01-21 19:58:57.780 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:58:57.836 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:58:57.8359933Z"
2025-01-21 19:58:57.837 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:58:57.8379355Z"
2025-01-21 19:58:57.840 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:58:57.842 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.2075ms.
2025-01-21 19:58:57.846 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:58:57.854 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 173.7476ms
2025-01-21 19:58:57.856 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:58:57.859 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 379.0858ms
2025-01-21 19:58:59.095 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:58:59.116 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:58:59.146 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 50.3019ms
2025-01-21 19:58:59.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:58:59.180 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:58:59.185 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:58:59.189 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:58:59.342 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:58:59.350 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:58:59.355 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:58:59.3557276Z"
2025-01-21 19:58:59.379 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:58:59.3791624Z"
2025-01-21 19:58:59.415 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:58:59.422 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:58:59.4220094Z"
2025-01-21 19:58:59.424 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:58:59.4245425Z"
2025-01-21 19:58:59.427 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:58:59.436 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85.2199ms.
2025-01-21 19:58:59.443 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:58:59.451 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 245.0187ms
2025-01-21 19:58:59.459 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:58:59.466 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 289.9734ms
2025-01-21 19:58:59.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 19:58:59.938 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:58:59.940 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:58:59.998 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:59:00.005 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:59:00.009 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:59:00.0091768Z"
2025-01-21 19:59:00.013 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:59:00.0137758Z"
2025-01-21 19:59:00.055 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:59:00.079 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:59:00.0799063Z"
2025-01-21 19:59:00.083 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:59:00.0831131Z"
2025-01-21 19:59:00.089 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:59:00.097 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.2512ms.
2025-01-21 19:59:00.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:59:00.125 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 178.0038ms
2025-01-21 19:59:00.128 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:59:00.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 205.278ms
2025-01-21 19:59:01.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 19:59:01.178 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:01.182 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:59:01.193 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 19:59:01.372 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 19:59:01.381 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 19:59:01.383 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:59:01.3831151Z"
2025-01-21 19:59:01.412 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T17:59:01.4120346Z"
2025-01-21 19:59:01.441 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 19:59:01.455 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:59:01.4553113Z"
2025-01-21 19:59:01.458 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T17:59:01.4585668Z"
2025-01-21 19:59:01.461 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 19:59:01.464 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.1527ms.
2025-01-21 19:59:01.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:59:01.475 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 249.0334ms
2025-01-21 19:59:01.482 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 19:59:01.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 311.5743ms
2025-01-21 19:59:02.735 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:59:02.739 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:02.741 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.1202ms
2025-01-21 19:59:02.746 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:59:02.753 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:02.756 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:59:02.759 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:02.760 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:59:02.795 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:59:02.800 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:02.803 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:02.812 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:59:02.820 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:59:02.822 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.8801ms.
2025-01-21 19:59:02.831 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:59:02.836 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 71.7369ms
2025-01-21 19:59:02.839 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:02.842 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:59:02.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 102.7662ms
2025-01-21 19:59:04.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:59:04.475 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:04.477 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:59:04.480 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:04.482 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:59:04.519 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:59:04.521 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:04.523 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:04.531 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:59:04.538 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:59:04.539 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.9052ms.
2025-01-21 19:59:04.543 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:59:04.548 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 59.2765ms
2025-01-21 19:59:04.553 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:04.555 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:59:04.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 87.6343ms
2025-01-21 19:59:11.122 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 19:59:11.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:11.129 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.9293ms
2025-01-21 19:59:11.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 19:59:11.142 +02:00 [INF] CORS policy execution successful.
2025-01-21 19:59:11.145 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 19:59:11.147 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:11.149 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 19:59:11.184 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 19:59:11.187 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:11.188 +02:00 [INF] Fetching all donators.
2025-01-21 19:59:11.192 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 19:59:11.201 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 19:59:11.203 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.5964ms.
2025-01-21 19:59:11.207 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 19:59:11.209 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 50.688ms
2025-01-21 19:59:11.215 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 19:59:11.218 +02:00 [INF] Outgoing Response: 200
2025-01-21 19:59:11.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 85.7839ms
2025-01-21 20:03:37.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 20:03:37.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 20:03:37.260 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:03:37.267 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:03:37.268 +02:00 [WRN] Missing Authorization Header
2025-01-21 20:03:37.270 +02:00 [WRN] Missing Authorization Header
2025-01-21 20:03:37.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 36.2891ms
2025-01-21 20:03:37.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 32.0922ms
2025-01-21 20:03:38.308 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 20:03:38.332 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:03:38.335 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 26.8054ms
2025-01-21 20:03:38.343 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 20:03:38.348 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:03:38.351 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:03:38.355 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:03:38.361 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 20:03:38.406 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 20:03:38.410 +02:00 [INF] Fetching all donators.
2025-01-21 20:03:38.412 +02:00 [INF] Fetching all donators.
2025-01-21 20:03:38.419 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 20:03:38.427 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 20:03:38.430 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.5305ms.
2025-01-21 20:03:38.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:03:38.445 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 75.9281ms
2025-01-21 20:03:38.448 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:03:38.454 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:03:38.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 112.8528ms
2025-01-21 20:07:30.677 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 20:07:30.697 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:07:30.699 +02:00 [WRN] Missing Authorization Header
2025-01-21 20:07:30.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 24.1056ms
2025-01-21 20:07:31.586 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 20:07:31.601 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:07:31.604 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 17.8891ms
2025-01-21 20:07:31.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 20:07:31.701 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:07:31.706 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:07:31.714 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:07:31.738 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 20:07:31.823 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 20:07:31.826 +02:00 [INF] Fetching all donators.
2025-01-21 20:07:31.829 +02:00 [INF] Fetching all donators.
2025-01-21 20:07:31.892 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 20:07:31.902 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 20:07:31.904 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.163ms.
2025-01-21 20:07:31.916 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:07:31.926 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 151.7118ms
2025-01-21 20:07:31.930 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:07:31.934 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:07:31.946 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 319.117ms
2025-01-21 20:11:18.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 20:11:18.591 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:11:18.594 +02:00 [WRN] Missing Authorization Header
2025-01-21 20:11:18.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 52.6823ms
2025-01-21 20:11:19.532 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 20:11:19.709 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:11:19.713 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 180.9677ms
2025-01-21 20:11:19.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 20:11:19.756 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:11:19.759 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:11:19.763 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:11:19.770 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 20:11:19.885 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 20:11:19.898 +02:00 [INF] Fetching all donators.
2025-01-21 20:11:19.901 +02:00 [INF] Fetching all donators.
2025-01-21 20:11:19.913 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 20:11:19.932 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 20:11:19.936 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.0153ms.
2025-01-21 20:11:19.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:11:19.956 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 178.8675ms
2025-01-21 20:11:19.970 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:11:19.974 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:11:19.977 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 247.2066ms
2025-01-21 20:11:20.865 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 20:11:20.870 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:11:20.873 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.0549ms
2025-01-21 20:11:20.878 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 20:11:20.882 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:11:20.884 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:11:20.890 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 20:11:20.940 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 20:11:20.943 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T18:11:20.9437855Z"
2025-01-21 20:11:20.951 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 20:11:20.957 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:11:20.9572304Z"
2025-01-21 20:11:20.960 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:11:20.9602900Z"
2025-01-21 20:11:20.966 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:11:20.9660064Z"
2025-01-21 20:11:20.967 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.9202ms.
2025-01-21 20:11:20.971 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:11:20.978 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 82.0662ms
2025-01-21 20:11:20.986 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:11:20.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 110.1268ms
2025-01-21 20:13:24.049 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 20:13:24.088 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:24.093 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 43.8861ms
2025-01-21 20:13:24.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 20:13:24.137 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:24.138 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 20:13:24.144 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 20:13:24.177 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 20:13:24.180 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:13:24.1801411Z"
2025-01-21 20:13:24.181 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:13:24.1815811Z"
2025-01-21 20:13:24.183 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:13:24.1830542Z"
2025-01-21 20:13:24.202 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 20:13:24.208 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:13:24.2088264Z"
2025-01-21 20:13:24.210 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:13:24.2103803Z"
2025-01-21 20:13:24.212 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:13:24.2123725Z"
2025-01-21 20:13:24.214 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 33.9439ms.
2025-01-21 20:13:24.216 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:13:24.222 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 74.2106ms
2025-01-21 20:13:24.225 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 20:13:24.228 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 94.6522ms
2025-01-21 20:13:34.352 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - null null
2025-01-21 20:13:34.356 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:34.360 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/lottery - 204 null null 8.4617ms
2025-01-21 20:13:34.365 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 2
2025-01-21 20:13:34.369 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:34.370 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 20:13:34.372 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 20:13:34.417 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 20:13:34.420 +02:00 [INF] Starting LotteryAsync for Gift ID 15 at "2025-01-21T18:13:34.4208131Z"
2025-01-21 20:13:34.424 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 15 at "2025-01-21T18:13:34.4244742Z"
2025-01-21 20:13:34.427 +02:00 [INF] Fetching Gift with participants for Gift ID 15 at "2025-01-21T18:13:34.4271390Z"
2025-01-21 20:13:34.456 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 20:13:34.480 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 15 at "2025-01-21T18:13:34.4808038Z"
2025-01-21 20:13:34.500 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 20:13:34.517 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 20:13:34.529 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 15 with Winner tre at "2025-01-21T18:13:34.5297500Z"
2025-01-21 20:13:34.535 +02:00 [INF] LotteryAsync completed successfully for Gift ID 15 at "2025-01-21T18:13:34.5355692Z"
2025-01-21 20:13:34.538 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117.7113ms.
2025-01-21 20:13:34.542 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 20:13:34.550 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 168.7895ms
2025-01-21 20:13:34.552 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 20:13:34.555 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 190.3136ms
2025-01-21 20:13:47.293 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - null null
2025-01-21 20:13:47.300 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:47.302 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/revenue - 204 null null 8.8252ms
2025-01-21 20:13:47.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - application/json null
2025-01-21 20:13:47.316 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:13:47.326 +02:00 [INF] Incoming Request: GET /api/Report/excel/revenue
2025-01-21 20:13:47.329 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 20:13:47.332 +02:00 [INF] Route matched with {action = "ExportRevenueToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRevenueToExcel() on controller project.Controllers.ReportController (project).
2025-01-21 20:13:47.385 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportRevenueToExcel (project) - Validation state: "Valid"
2025-01-21 20:13:47.391 +02:00 [INF] Calculating gift revenues.
2025-01-21 20:13:47.413 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT (
    SELECT TOP(1) [g0].[Name]
    FROM [Gifts] AS [g0]
    INNER JOIN [UserGifts] AS [u0] ON [g0].[Id] = [u0].[GiftId]
    WHERE [g].[Id] = [g0].[Id]) AS [GiftName], CAST(COALESCE(SUM([u].[Quantity] * [g].[Price]), 0) AS decimal(18,2)) AS [Revenue]
FROM [Gifts] AS [g]
INNER JOIN [UserGifts] AS [u] ON [g].[Id] = [u].[GiftId]
GROUP BY [g].[Id]
2025-01-21 20:13:47.420 +02:00 [INF] Total revenue calculated: 220.00.
2025-01-21 20:13:47.596 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportRevenueToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 208.3016ms.
2025-01-21 20:13:47.601 +02:00 [INF] Executing FileContentResult, sending file with download name 'RevenueReport.xlsx' ...
2025-01-21 20:13:47.615 +02:00 [INF] Executed action project.Controllers.ReportController.ExportRevenueToExcel (project) in 271.8267ms
2025-01-21 20:13:47.618 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportRevenueToExcel (project)'
2025-01-21 20:13:47.619 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:13:47.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/revenue - 200 2849 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 309.7017ms
2025-01-21 20:14:05.164 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - null null
2025-01-21 20:14:05.169 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:14:05.173 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Report/excel/winners - 204 null null 8.4644ms
2025-01-21 20:14:05.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - application/json null
2025-01-21 20:14:05.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:14:05.189 +02:00 [INF] Incoming Request: GET /api/Report/excel/winners
2025-01-21 20:14:05.198 +02:00 [INF] Executing endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-21 20:14:05.228 +02:00 [INF] Route matched with {action = "ExportWinnersToExcel", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportWinnersToExcel() on controller project.Controllers.ReportController (project).
2025-01-21 20:14:05.279 +02:00 [INF] Executing action method project.Controllers.ReportController.ExportWinnersToExcel (project) - Validation state: "Valid"
2025-01-21 20:14:05.318 +02:00 [INF] Starting to fetch winners with their gifts.
2025-01-21 20:14:05.401 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image], [w].[Id], [w].[Date], [w].[LinkedUserId], [w].[Name], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Gifts] AS [g]
LEFT JOIN [Winnings] AS [w] ON [g].[WinningId] = [w].[Id]
LEFT JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [w].[LinkedUserId] = [a0].[Id]
WHERE [g].[WinningId] IS NOT NULL
2025-01-21 20:14:05.417 +02:00 [INF] Successfully fetched 2 gifts for 2 winners.
2025-01-21 20:14:05.444 +02:00 [INF] Executed action method project.Controllers.ReportController.ExportWinnersToExcel (project), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 163.0118ms.
2025-01-21 20:14:05.449 +02:00 [INF] Executing FileContentResult, sending file with download name 'WinnersReport.xlsx' ...
2025-01-21 20:14:05.451 +02:00 [INF] Executed action project.Controllers.ReportController.ExportWinnersToExcel (project) in 219.0306ms
2025-01-21 20:14:05.454 +02:00 [INF] Executed endpoint 'project.Controllers.ReportController.ExportWinnersToExcel (project)'
2025-01-21 20:14:05.460 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:14:05.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Report/excel/winners - 200 2729 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 287.251ms
2025-01-21 20:16:05.787 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 20:16:05.811 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:16:05.815 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 28.0511ms
2025-01-21 20:16:05.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 20:16:05.848 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:16:05.850 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:16:05.852 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 20:16:05.891 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 20:16:05.893 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T18:16:05.8938016Z"
2025-01-21 20:16:05.899 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 20:16:05.903 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:16:05.9031005Z"
2025-01-21 20:16:05.904 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:16:05.9043791Z"
2025-01-21 20:16:05.906 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:16:05.9060509Z"
2025-01-21 20:16:05.907 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.7876ms.
2025-01-21 20:16:05.910 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:16:05.913 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 53.416ms
2025-01-21 20:16:05.918 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:16:05.921 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 76.316ms
2025-01-21 20:19:10.200 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 20:19:10.209 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 20:19:10.211 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 20:19:10.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 13.1592ms
2025-01-21 20:19:10.683 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 20:19:10.708 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:19:10.710 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 28.3246ms
2025-01-21 20:19:10.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 20:19:10.721 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:19:10.726 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:10.728 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 20:19:10.772 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 20:19:10.776 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T18:19:10.7760948Z"
2025-01-21 20:19:10.783 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 20:19:10.791 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:10.7913367Z"
2025-01-21 20:19:10.793 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:10.7934031Z"
2025-01-21 20:19:10.795 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:10.7959689Z"
2025-01-21 20:19:10.798 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.3398ms.
2025-01-21 20:19:10.809 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:19:10.813 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.0294ms
2025-01-21 20:19:10.816 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:10.823 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 106.4636ms
2025-01-21 20:19:15.450 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 20:19:15.454 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 20:19:15.458 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 20:19:15.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.4052ms
2025-01-21 20:19:15.735 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 20:19:15.740 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:19:15.742 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.2622ms
2025-01-21 20:19:15.746 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 20:19:15.749 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:19:15.751 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:15.756 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 20:19:15.788 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 20:19:15.792 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T18:19:15.7921784Z"
2025-01-21 20:19:15.796 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 20:19:15.802 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:15.8024242Z"
2025-01-21 20:19:15.805 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:15.8049984Z"
2025-01-21 20:19:15.806 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:15.8063566Z"
2025-01-21 20:19:15.807 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.6741ms.
2025-01-21 20:19:15.810 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:19:15.813 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 51.2304ms
2025-01-21 20:19:15.817 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:15.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 74.4457ms
2025-01-21 20:19:19.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 20:19:19.978 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 20:19:19.981 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 20:19:19.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.047ms
2025-01-21 20:19:20.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 20:19:20.210 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:19:20.212 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:20.214 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 20:19:20.249 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 20:19:20.254 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T18:19:20.2541177Z"
2025-01-21 20:19:20.260 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 20:19:20.285 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:20.2858598Z"
2025-01-21 20:19:20.288 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:20.2881097Z"
2025-01-21 20:19:20.290 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T18:19:20.2899943Z"
2025-01-21 20:19:20.292 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.8957ms.
2025-01-21 20:19:20.295 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:19:20.299 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.7479ms
2025-01-21 20:19:20.304 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 20:19:20.308 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 101.7129ms
2025-01-21 20:30:08.573 +02:00 [INF] Starting up the application
2025-01-21 20:30:12.497 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:30:15.499 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 20:30:15.672 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 20:30:16.187 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 20:30:16.194 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:30:16.196 +02:00 [INF] Hosting environment: Development
2025-01-21 20:30:16.197 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 20:30:17.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 20:30:18.143 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 597.2622ms
2025-01-21 20:30:18.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 20:30:18.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 56.404ms
2025-01-21 20:30:18.446 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 20:30:18.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 376.3444ms
2025-01-21 20:30:40.695 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 20:30:40.707 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:30:40.713 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 18.3949ms
2025-01-21 20:30:40.720 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 20:30:40.727 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:30:40.732 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 20:30:40.941 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 20:30:40.992 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 20:30:41.273 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 20:30:41.417 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 20:30:41.699 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 20:30:41.786 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 20:30:41.860 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 20:30:41.895 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 614.2042ms.
2025-01-21 20:30:41.911 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 20:30:41.953 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 949.1931ms
2025-01-21 20:30:41.956 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 20:30:41.965 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 1245.4558ms
2025-01-21 20:31:13.630 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 20:31:13.638 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:31:13.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.0258ms
2025-01-21 20:31:13.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 20:31:13.686 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:31:13.691 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:31:13.837 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:31:13.846 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 20:31:14.074 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 20:31:14.084 +02:00 [INF] Fetching all donators.
2025-01-21 20:31:14.088 +02:00 [INF] Fetching all donators.
2025-01-21 20:31:14.128 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 20:31:14.159 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 20:31:14.163 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85.5573ms.
2025-01-21 20:31:14.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:31:14.201 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 350.6182ms
2025-01-21 20:31:14.203 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:31:14.205 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:31:14.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 557.5825ms
2025-01-21 20:31:33.016 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - null null
2025-01-21 20:31:33.021 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 20:31:33.027 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:31:33.037 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:31:33.085 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:31:33.145 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:31:33.154 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 66.9264ms.
2025-01-21 20:31:33.163 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:31:33.175 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 134.2082ms
2025-01-21 20:31:33.179 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:31:33.183 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:31:33.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 200 null application/json; charset=utf-8 168.9835ms
2025-01-21 20:38:04.313 +02:00 [INF] Starting up the application
2025-01-21 20:38:07.646 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:38:10.058 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 20:38:10.227 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 20:38:10.643 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 20:38:10.650 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:38:10.653 +02:00 [INF] Hosting environment: Development
2025-01-21 20:38:10.655 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 20:38:11.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 20:38:12.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 444.1943ms
2025-01-21 20:38:12.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 20:38:12.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 33.4757ms
2025-01-21 20:38:12.698 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 20:38:13.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 305.3311ms
2025-01-21 20:38:36.990 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - null null
2025-01-21 20:38:37.002 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 20:38:37.047 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 20:38:37.347 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:37.385 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:38:37.588 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:38:37.847 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:38:37.874 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 274.0601ms.
2025-01-21 20:38:37.893 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:38:37.953 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 557.8058ms
2025-01-21 20:38:37.958 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:37.961 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:38:37.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 200 null application/json; charset=utf-8 981.5939ms
2025-01-21 20:38:48.695 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:38:48.705 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:48.711 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 16.7266ms
2025-01-21 20:38:48.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:38:48.724 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:48.732 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:38:48.745 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:38:48.982 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:38:48.988 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:38:48.993 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:38:48.9933253Z"
2025-01-21 20:38:49.000 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:38:48.9999804Z"
2025-01-21 20:38:49.074 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:38:49.081 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:38:49.0813622Z"
2025-01-21 20:38:49.083 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:38:49.0835324Z"
2025-01-21 20:38:49.088 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:38:49.091 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.8734ms.
2025-01-21 20:38:49.099 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:38:49.123 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 373.8374ms
2025-01-21 20:38:49.126 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:38:49.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 413.9275ms
2025-01-21 20:38:51.354 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - null null
2025-01-21 20:38:51.360 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:51.362 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - 204 null null 8.7805ms
2025-01-21 20:38:51.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - application/json null
2025-01-21 20:38:51.374 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:51.378 +02:00 [INF] Incoming Request: GET /api/User/14/buyers
2025-01-21 20:38:51.383 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:51.386 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:38:51.433 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:38:51.457 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:38:51.467 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.809ms.
2025-01-21 20:38:51.472 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:38:51.480 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 90.0826ms
2025-01-21 20:38:51.483 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:51.487 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:38:51.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - 200 null application/json; charset=utf-8 118.2507ms
2025-01-21 20:38:56.678 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-21 20:38:56.683 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:56.686 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 7.5869ms
2025-01-21 20:38:56.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 20:38:56.731 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:38:56.733 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 20:38:56.738 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:56.746 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:38:56.801 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:38:56.822 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:38:56.832 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.0441ms.
2025-01-21 20:38:56.843 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:38:56.847 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 94.5035ms
2025-01-21 20:38:56.854 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:38:56.858 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:38:56.861 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 200 null application/json; charset=utf-8 134.629ms
2025-01-21 20:39:39.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:39:39.036 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:39.037 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:39.074 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:39.096 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:39.097 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:39.0976949Z"
2025-01-21 20:39:39.099 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:39.0991882Z"
2025-01-21 20:39:39.113 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:39.118 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:39.1179680Z"
2025-01-21 20:39:39.120 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:39.1202210Z"
2025-01-21 20:39:39.124 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:39.126 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1989ms.
2025-01-21 20:39:39.129 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:39.132 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 90.016ms
2025-01-21 20:39:39.134 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:39.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 116.8596ms
2025-01-21 20:39:40.163 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:39:40.168 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:39:40.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.5682ms
2025-01-21 20:39:40.179 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:39:40.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:39:40.190 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:40.192 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:40.262 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:40.265 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:40.267 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:40.2675940Z"
2025-01-21 20:39:40.270 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:40.2702414Z"
2025-01-21 20:39:40.290 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:40.297 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:40.2976066Z"
2025-01-21 20:39:40.299 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:40.2996971Z"
2025-01-21 20:39:40.302 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:40.305 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.7462ms.
2025-01-21 20:39:40.321 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:40.328 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 130.977ms
2025-01-21 20:39:40.331 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:40.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 156.6523ms
2025-01-21 20:39:44.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:39:44.712 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:44.714 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:44.752 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:44.755 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:44.756 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:44.7564806Z"
2025-01-21 20:39:44.757 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:44.7579562Z"
2025-01-21 20:39:44.767 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:44.772 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:44.7723706Z"
2025-01-21 20:39:44.773 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:44.7736004Z"
2025-01-21 20:39:44.778 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:44.781 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.5432ms.
2025-01-21 20:39:44.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:44.787 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 67.3357ms
2025-01-21 20:39:44.789 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:44.793 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 84.9854ms
2025-01-21 20:39:45.298 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:39:45.303 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:39:45.307 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 8.7503ms
2025-01-21 20:39:45.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:39:45.325 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:39:45.329 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:45.333 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:45.418 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:45.422 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:45.425 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:45.4252899Z"
2025-01-21 20:39:45.427 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:45.4276225Z"
2025-01-21 20:39:45.446 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:45.453 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:45.4533016Z"
2025-01-21 20:39:45.455 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:45.4553925Z"
2025-01-21 20:39:45.458 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:45.460 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.1956ms.
2025-01-21 20:39:45.472 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:45.484 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 129.8339ms
2025-01-21 20:39:45.491 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:45.499 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 183.2584ms
2025-01-21 20:39:48.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:39:48.794 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:48.796 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:48.833 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:48.837 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:48.839 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:48.8396771Z"
2025-01-21 20:39:48.841 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:48.8414403Z"
2025-01-21 20:39:48.853 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:48.863 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:48.8629978Z"
2025-01-21 20:39:48.865 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:48.8653655Z"
2025-01-21 20:39:48.870 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:48.872 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.2165ms.
2025-01-21 20:39:48.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:48.880 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 78.7557ms
2025-01-21 20:39:48.882 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:48.891 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 100.2475ms
2025-01-21 20:39:49.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:39:49.561 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:39:49.565 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:49.568 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:39:49.663 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:39:49.666 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:39:49.669 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:49.6693556Z"
2025-01-21 20:39:49.671 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:39:49.6717709Z"
2025-01-21 20:39:49.693 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:39:49.699 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:49.6999523Z"
2025-01-21 20:39:49.702 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:39:49.7022516Z"
2025-01-21 20:39:49.704 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:39:49.707 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.4568ms.
2025-01-21 20:39:49.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:39:49.720 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 143.372ms
2025-01-21 20:39:49.723 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:39:49.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 176.8824ms
2025-01-21 20:41:21.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:21.652 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:21.654 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:21.714 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:21.717 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:21.718 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:21.7186142Z"
2025-01-21 20:41:21.720 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:21.7202607Z"
2025-01-21 20:41:21.740 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:21.749 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:21.7491043Z"
2025-01-21 20:41:21.750 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:21.7509065Z"
2025-01-21 20:41:21.753 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:21.757 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.3831ms.
2025-01-21 20:41:21.764 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:21.771 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 112.1795ms
2025-01-21 20:41:21.775 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:21.794 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 147.1639ms
2025-01-21 20:41:22.496 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:22.529 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:22.532 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 35.4559ms
2025-01-21 20:41:22.541 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:41:22.546 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:22.549 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:22.554 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:22.623 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:22.626 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:22.628 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:22.6286656Z"
2025-01-21 20:41:22.631 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:22.6310027Z"
2025-01-21 20:41:22.647 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:22.654 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:22.6546013Z"
2025-01-21 20:41:22.656 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:22.6565866Z"
2025-01-21 20:41:22.659 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:22.664 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.4101ms.
2025-01-21 20:41:22.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:22.693 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 132.8217ms
2025-01-21 20:41:22.696 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:22.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 159.1313ms
2025-01-21 20:41:23.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:23.664 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:23.666 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:23.708 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:23.711 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:23.713 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:23.7136549Z"
2025-01-21 20:41:23.715 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:23.7154822Z"
2025-01-21 20:41:23.726 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:23.730 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:23.7303591Z"
2025-01-21 20:41:23.732 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:23.7321834Z"
2025-01-21 20:41:23.734 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:23.738 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.3596ms.
2025-01-21 20:41:23.742 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:23.745 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 73.2442ms
2025-01-21 20:41:23.747 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:23.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 91.3677ms
2025-01-21 20:41:24.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:41:24.618 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:24.621 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:24.624 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:24.700 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:24.704 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:24.706 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:24.7069182Z"
2025-01-21 20:41:24.709 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:24.7096541Z"
2025-01-21 20:41:24.727 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:24.733 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:24.7337939Z"
2025-01-21 20:41:24.736 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:24.7361723Z"
2025-01-21 20:41:24.738 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:24.744 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.2387ms.
2025-01-21 20:41:24.748 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:24.753 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 110.7647ms
2025-01-21 20:41:24.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:24.762 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 149.1767ms
2025-01-21 20:41:25.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:25.885 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:25.887 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:25.941 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:25.944 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:25.946 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:25.9468240Z"
2025-01-21 20:41:25.949 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:25.9493540Z"
2025-01-21 20:41:25.976 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:26.007 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:26.0069868Z"
2025-01-21 20:41:26.009 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:26.0098168Z"
2025-01-21 20:41:26.013 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:26.023 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.0335ms.
2025-01-21 20:41:26.029 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:26.035 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 139.9552ms
2025-01-21 20:41:26.039 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:26.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 161.9077ms
2025-01-21 20:41:26.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:41:26.778 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:26.781 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:26.783 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:26.838 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:26.841 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:26.843 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:26.8434758Z"
2025-01-21 20:41:26.846 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:26.8462250Z"
2025-01-21 20:41:26.864 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:26.873 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:26.8733343Z"
2025-01-21 20:41:26.878 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:26.8786102Z"
2025-01-21 20:41:26.881 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:26.886 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.2819ms.
2025-01-21 20:41:26.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:26.905 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 111.5755ms
2025-01-21 20:41:26.910 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:26.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 140.0376ms
2025-01-21 20:41:35.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:35.394 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:35.396 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:35.449 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:35.454 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:35.456 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:35.4561316Z"
2025-01-21 20:41:35.458 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:35.4581340Z"
2025-01-21 20:41:35.473 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:35.479 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:35.4798684Z"
2025-01-21 20:41:35.485 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:35.4851998Z"
2025-01-21 20:41:35.487 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:35.490 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.386ms.
2025-01-21 20:41:35.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:35.504 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 101.2435ms
2025-01-21 20:41:35.508 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:35.511 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 142.3068ms
2025-01-21 20:41:36.190 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - null null
2025-01-21 20:41:36.231 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:36.234 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithPurchases - 204 null null 44.6395ms
2025-01-21 20:41:36.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - application/json null
2025-01-21 20:41:36.269 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:36.272 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:36.277 +02:00 [INF] Route matched with {action = "GetGiftsWithPurchases", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]]] GetGiftsWithPurchases() on controller project.Controllers.GiftController (project).
2025-01-21 20:41:36.374 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithPurchases (project) - Validation state: "Valid"
2025-01-21 20:41:36.377 +02:00 [INF] Received request to get gifts with purchases.
2025-01-21 20:41:36.379 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:36.3796526Z"
2025-01-21 20:41:36.381 +02:00 [INF] Starting GetGiftsWithPurchasesAsync at "2025-01-21T18:41:36.3818168Z"
2025-01-21 20:41:36.436 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], (
    SELECT COALESCE(SUM([u].[Quantity]), 0)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId] AND [u].[GiftStatus] = N'Purchased') AS [Purchases]
FROM [Gifts] AS [g]
2025-01-21 20:41:36.445 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:36.4455954Z"
2025-01-21 20:41:36.453 +02:00 [INF] GetGiftsWithPurchasesAsync completed successfully at "2025-01-21T18:41:36.4531341Z"
2025-01-21 20:41:36.455 +02:00 [INF] Successfully retrieved 5 gifts with purchases.
2025-01-21 20:41:36.457 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithPurchases (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.5831ms.
2025-01-21 20:41:36.461 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:36.470 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithPurchases (project) in 178.3474ms
2025-01-21 20:41:36.475 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithPurchases (project)'
2025-01-21 20:41:36.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithPurchases - 200 null application/json; charset=utf-8 218.7385ms
2025-01-21 20:41:36.803 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - null null
2025-01-21 20:41:36.813 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:36.816 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/15/buyers - 204 null null 12.2805ms
2025-01-21 20:41:36.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - application/json null
2025-01-21 20:41:36.859 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:36.861 +02:00 [INF] Incoming Request: GET /api/User/15/buyers
2025-01-21 20:41:36.864 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:36.866 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:36.909 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:36.924 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:36.929 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.372ms.
2025-01-21 20:41:36.931 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:36.938 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 60.7663ms
2025-01-21 20:41:36.941 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:36.943 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:36.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/15/buyers - 200 null application/json; charset=utf-8 116.6912ms
2025-01-21 20:41:42.002 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - null null
2025-01-21 20:41:42.008 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:42.012 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - 204 null null 10.25ms
2025-01-21 20:41:42.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - application/json null
2025-01-21 20:41:42.022 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:42.029 +02:00 [INF] Incoming Request: GET /api/User/14/buyers
2025-01-21 20:41:42.031 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:42.034 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:42.093 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:42.108 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:42.113 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.0748ms.
2025-01-21 20:41:42.122 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:42.125 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 81.3354ms
2025-01-21 20:41:42.127 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:42.129 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:42.131 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - 200 null application/json; charset=utf-8 113.1433ms
2025-01-21 20:41:43.688 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - null null
2025-01-21 20:41:43.693 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:43.695 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/13/buyers - 204 null null 7.5392ms
2025-01-21 20:41:43.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - application/json null
2025-01-21 20:41:43.711 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:43.713 +02:00 [INF] Incoming Request: GET /api/User/13/buyers
2025-01-21 20:41:43.720 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:43.723 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:43.765 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:43.779 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:43.785 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.9232ms.
2025-01-21 20:41:43.790 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:43.793 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 66.3661ms
2025-01-21 20:41:43.800 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:43.802 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:43.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - 200 null application/json; charset=utf-8 97.44ms
2025-01-21 20:41:45.651 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - application/json null
2025-01-21 20:41:45.657 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:45.662 +02:00 [INF] Incoming Request: GET /api/User/13/buyers
2025-01-21 20:41:45.664 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:45.666 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:45.707 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:45.718 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:45.727 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.2296ms.
2025-01-21 20:41:45.730 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:45.732 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 60.7068ms
2025-01-21 20:41:45.735 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:45.744 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:45.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/13/buyers - 200 null application/json; charset=utf-8 94.7707ms
2025-01-21 20:41:47.183 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - null null
2025-01-21 20:41:47.188 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:47.191 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/14/buyers - 204 null null 7.6142ms
2025-01-21 20:41:47.200 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - application/json null
2025-01-21 20:41:47.206 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:47.208 +02:00 [INF] Incoming Request: GET /api/User/14/buyers
2025-01-21 20:41:47.210 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:47.214 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:47.249 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:47.264 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:47.273 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.4825ms.
2025-01-21 20:41:47.280 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:47.285 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 65.2696ms
2025-01-21 20:41:47.290 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:47.297 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:47.300 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/14/buyers - 200 null application/json; charset=utf-8 100.5593ms
2025-01-21 20:41:50.307 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - null null
2025-01-21 20:41:50.312 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:50.315 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/3/buyers - 204 null null 8.4352ms
2025-01-21 20:41:50.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - application/json null
2025-01-21 20:41:50.327 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:50.328 +02:00 [INF] Incoming Request: GET /api/User/3/buyers
2025-01-21 20:41:50.331 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:50.333 +02:00 [INF] Route matched with {action = "GetGiftBuyers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetGiftBuyers(Int32) on controller project.Controllers.UserController (project).
2025-01-21 20:41:50.378 +02:00 [INF] Executing action method project.Controllers.UserController.GetGiftBuyers (project) - Validation state: "Valid"
2025-01-21 20:41:50.408 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[GiftId], [g].[Name] AS [GiftName], [g].[image] AS [GiftImage], [g].[Price] AS [GiftPrice], [u].[UserId], [a0].[UserName], [a0].[Email] AS [UserEmail], [u].[Quantity]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
INNER JOIN (
    SELECT [a].[Id], [a].[Email], [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [a0] ON [u].[UserId] = [a0].[Id]
WHERE [u].[GiftId] = @__giftId_0
2025-01-21 20:41:50.420 +02:00 [INF] Executed action method project.Controllers.UserController.GetGiftBuyers (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.4267ms.
2025-01-21 20:41:50.426 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:50.436 +02:00 [INF] Executed action project.Controllers.UserController.GetGiftBuyers (project) in 91.9532ms
2025-01-21 20:41:50.440 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetGiftBuyers (project)'
2025-01-21 20:41:50.446 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:50.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/3/buyers - 200 null application/json; charset=utf-8 129.6136ms
2025-01-21 20:41:59.759 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 20:41:59.768 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:59.770 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 10.6574ms
2025-01-21 20:41:59.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 20:41:59.782 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:41:59.785 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 20:41:59.803 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 20:41:59.811 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 20:41:59.844 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 20:41:59.848 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 20:41:59.856 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 20:41:59.860 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 20:41:59.924 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 20:41:59.929 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 20:41:59.931 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 20:41:59.932 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 20:41:59.934 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 87.6198ms.
2025-01-21 20:41:59.939 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:41:59.960 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 145.1015ms
2025-01-21 20:41:59.963 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 20:41:59.967 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:41:59.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 191.3749ms
2025-01-21 20:42:01.312 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 20:42:01.317 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:42:01.319 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.6925ms
2025-01-21 20:42:01.326 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 20:42:01.330 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:42:01.333 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 20:42:01.346 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:42:01.356 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 20:42:01.399 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 20:42:01.411 +02:00 [INF] Fetching all donators.
2025-01-21 20:42:01.418 +02:00 [INF] Fetching all donators.
2025-01-21 20:42:01.434 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 20:42:01.482 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 20:42:01.486 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.3486ms.
2025-01-21 20:42:01.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:42:01.505 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 144.9424ms
2025-01-21 20:42:01.508 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 20:42:01.510 +02:00 [INF] Outgoing Response: 200
2025-01-21 20:42:01.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 186.7958ms
2025-01-21 20:42:02.723 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 20:42:02.730 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:42:02.733 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 10.2316ms
2025-01-21 20:42:02.744 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 20:42:02.750 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:42:02.759 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 20:42:02.772 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 20:42:02.817 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 20:42:02.821 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:42:02.8218947Z"
2025-01-21 20:42:02.824 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:42:02.8244309Z"
2025-01-21 20:42:02.830 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T18:42:02.8301578Z"
2025-01-21 20:42:02.884 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 20:42:02.892 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:42:02.8928355Z"
2025-01-21 20:42:02.896 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:42:02.8969778Z"
2025-01-21 20:42:02.900 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T18:42:02.9004956Z"
2025-01-21 20:42:02.902 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 82.1246ms.
2025-01-21 20:42:02.907 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 20:42:02.915 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 138.0372ms
2025-01-21 20:42:02.919 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 20:42:02.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 177.5007ms
2025-01-21 20:44:23.986 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 20:44:23.998 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:44:24.001 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 14.408ms
2025-01-21 20:44:24.025 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 103
2025-01-21 20:44:24.028 +02:00 [INF] CORS policy execution successful.
2025-01-21 20:44:24.030 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 20:44:24.037 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 20:44:24.135 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 20:44:24.326 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 20:44:24.356 +02:00 [ERR] Registration failed: Username 'yj' is already taken.
2025-01-21 20:44:24.577 +02:00 [ERR] Error during registration for user yj.
System.Exception: Registration failed: Username 'yj' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
2025-01-21 20:44:24.802 +02:00 [ERR] Registration failed.
System.Exception: Registration failed: Username 'yj' is already taken.
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 52
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 62
2025-01-21 20:44:24.808 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 670.8893ms.
2025-01-21 20:44:24.811 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 20:44:24.828 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 785.7466ms
2025-01-21 20:44:24.832 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 20:44:24.835 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 809.7784ms
2025-01-21 20:51:33.420 +02:00 [INF] Starting up the application
2025-01-21 20:51:36.739 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 20:51:39.357 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 20:51:39.665 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 20:51:40.091 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 20:51:40.097 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 20:51:40.099 +02:00 [INF] Hosting environment: Development
2025-01-21 20:51:40.102 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 20:51:41.051 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 20:51:41.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 349.9887ms
2025-01-21 20:51:41.406 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 20:51:41.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.3061ms
2025-01-21 20:51:41.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 20:51:41.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 349.0659ms
2025-01-21 20:52:14.744 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 110
2025-01-21 20:52:14.754 +02:00 [INF] CORS policy execution failed.
2025-01-21 20:52:14.758 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 20:52:14.763 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 20:52:14.913 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 20:52:14.955 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 20:52:15.198 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 20:52:15.304 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 20:52:15.338 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 20:52:15.364 +02:00 [WRN] Registration failed: Email 'vv@gmail.com' is already registered.
2025-01-21 20:52:15.497 +02:00 [ERR] Error during registration for user jhyf.
System.Exception: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
2025-01-21 20:52:15.701 +02:00 [ERR] Registration failed.
System.Exception: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-21 20:52:15.715 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 509.5019ms.
2025-01-21 20:52:15.734 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 20:52:15.771 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 807.4959ms
2025-01-21 20:52:15.776 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 20:52:15.786 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1041.9057ms
2025-01-21 21:03:43.142 +02:00 [INF] Starting up the application
2025-01-21 21:03:46.891 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:03:49.179 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:03:49.343 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:03:49.744 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:03:49.750 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:03:49.753 +02:00 [INF] Hosting environment: Development
2025-01-21 21:03:49.754 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:03:50.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:03:51.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 408.9892ms
2025-01-21 21:03:51.300 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:03:51.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 21.2601ms
2025-01-21 21:03:51.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:03:51.900 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 344.0524ms
2025-01-21 21:04:52.608 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 108
2025-01-21 21:04:52.622 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:04:52.631 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:04:52.635 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:04:52.908 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:04:52.951 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:04:53.187 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:04:53.295 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:04:53.327 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:04:53.360 +02:00 [WRN] Registration failed: Email 'vv@gmail.com' is already registered.
2025-01-21 21:04:53.664 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-21 21:04:53.743 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 546.3624ms.
2025-01-21 21:04:53.762 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:04:53.804 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 841.3914ms
2025-01-21 21:04:53.807 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:04:53.817 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1209.0865ms
2025-01-21 21:05:07.089 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 108
2025-01-21 21:05:07.095 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:05:07.096 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:05:07.104 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:05:07.106 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:05:07.155 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:05:07.177 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:05:07.186 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:05:07.194 +02:00 [WRN] Registration failed: Email 'vv@gmail.com' is already registered.
2025-01-21 21:05:07.391 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-21 21:05:07.402 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 244.5924ms.
2025-01-21 21:05:07.405 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:05:07.408 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 297.4389ms
2025-01-21 21:05:07.410 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:05:07.417 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 327.1059ms
2025-01-21 21:05:59.020 +02:00 [INF] Starting up the application
2025-01-21 21:06:02.338 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:06:04.655 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:06:04.815 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:06:05.204 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:06:05.211 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:06:05.213 +02:00 [INF] Hosting environment: Development
2025-01-21 21:06:05.214 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:06:06.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:06:06.682 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 424.16ms
2025-01-21 21:06:06.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:06:06.722 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 14.6923ms
2025-01-21 21:06:06.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:06:07.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.9897ms
2025-01-21 21:13:47.044 +02:00 [INF] Starting up the application
2025-01-21 21:13:50.793 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:13:53.398 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:13:53.562 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:13:53.982 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:13:53.989 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:13:53.991 +02:00 [INF] Hosting environment: Development
2025-01-21 21:13:53.993 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:13:55.120 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:13:55.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 456.8284ms
2025-01-21 21:13:55.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:13:55.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 63.4601ms
2025-01-21 21:13:55.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:13:56.166 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 364.4121ms
2025-01-21 21:14:59.192 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 113
2025-01-21 21:14:59.203 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:14:59.206 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:14:59.210 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:14:59.533 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:14:59.582 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:14:59.848 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:14:59.965 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:14:59.997 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:15:00.026 +02:00 [WRN] Registration failed: Email 'a@gmail.com' is already registered.
2025-01-21 21:15:00.329 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-21 21:15:00.401 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 545.2034ms.
2025-01-21 21:15:00.417 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:15:00.457 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 865.2174ms
2025-01-21 21:15:00.461 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:15:00.471 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1278.685ms
2025-01-21 21:19:38.988 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - application/json 1
2025-01-21 21:19:38.993 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:19:38.994 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:19:39.017 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 21:19:39.030 +02:00 [INF] Route matched with {action = "Lottery", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LotteryAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 21:19:39.274 +02:00 [INF] Executing action method project.Controllers.GiftController.LotteryAsync (project) - Validation state: "Valid"
2025-01-21 21:19:39.285 +02:00 [INF] Starting LotteryAsync for Gift ID 3 at "2025-01-21T19:19:39.2848159Z"
2025-01-21 21:19:39.291 +02:00 [INF] Starting LotteryAsync in Service for Gift ID 3 at "2025-01-21T19:19:39.2914669Z"
2025-01-21 21:19:39.300 +02:00 [INF] Fetching Gift with participants for Gift ID 3 at "2025-01-21T19:19:39.3001670Z"
2025-01-21 21:19:39.547 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g0].[Id], [g0].[CategoryId], [g0].[DonatorId], [g0].[IsLotteryCompleted], [g0].[Name], [g0].[Price], [g0].[Status], [g0].[WinningId], [g0].[image], [s].[UserId], [s].[GiftId], [s].[GiftStatus], [s].[Quantity], [s].[Id], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[Discriminator], [s].[Email], [s].[EmailConfirmed], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UserName]
FROM (
    SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
    FROM [Gifts] AS [g]
    WHERE [g].[Id] = @__giftId_0
) AS [g0]
LEFT JOIN (
    SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Discriminator], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [UserGifts] AS [u]
    INNER JOIN (
        SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Discriminator] = N'User'
    ) AS [a0] ON [u].[UserId] = [a0].[Id]
) AS [s] ON [g0].[Id] = [s].[GiftId]
ORDER BY [g0].[Id], [s].[UserId], [s].[GiftId]
2025-01-21 21:19:39.676 +02:00 [INF] Starting LotteryAsync in Repository for Gift ID 3 at "2025-01-21T19:19:39.6763363Z"
2025-01-21 21:19:40.010 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Winnings] ([Date], [LinkedUserId], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 21:19:40.070 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Gifts] SET [WinningId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-01-21 21:19:40.108 +02:00 [INF] LotteryAsync completed successfully in Repository for Gift ID 3 with Winner dfs at "2025-01-21T19:19:40.1082997Z"
2025-01-21 21:19:40.111 +02:00 [INF] LotteryAsync completed successfully for Gift ID 3 at "2025-01-21T19:19:40.1113949Z"
2025-01-21 21:19:40.113 +02:00 [INF] Executed action method project.Controllers.GiftController.LotteryAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 835.6761ms.
2025-01-21 21:19:40.116 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:19:40.121 +02:00 [INF] Executed action project.Controllers.GiftController.LotteryAsync (project) in 1087.8147ms
2025-01-21 21:19:40.125 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.LotteryAsync (project)'
2025-01-21 21:19:40.127 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Gift/lottery - 200 null application/json; charset=utf-8 1139.2731ms
2025-01-21 21:26:34.967 +02:00 [INF] Starting up the application
2025-01-21 21:26:38.773 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:26:41.291 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:26:41.501 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:26:41.901 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:26:41.907 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:26:41.910 +02:00 [INF] Hosting environment: Development
2025-01-21 21:26:41.912 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:26:42.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:26:43.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 466.735ms
2025-01-21 21:26:43.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:26:43.379 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.131ms
2025-01-21 21:26:43.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:26:43.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 261.9254ms
2025-01-21 21:26:59.990 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 21:26:59.999 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:27:00.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 20.4256ms
2025-01-21 21:27:00.017 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 21:27:00.025 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:27:00.027 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:27:00.205 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:27:00.243 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 21:27:00.493 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 21:27:00.613 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:27:00.863 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 21:27:00.931 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 21:27:00.998 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 21:27:01.030 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 530.3462ms.
2025-01-21 21:27:01.046 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:27:01.090 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 837.355ms
2025-01-21 21:27:01.094 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:27:01.103 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 1085.7398ms
2025-01-21 21:28:29.544 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 21:28:29.564 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:29.566 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 21.6186ms
2025-01-21 21:28:29.591 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 100
2025-01-21 21:28:29.595 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:29.602 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:28:29.611 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:28:29.664 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:28:29.702 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:28:29.715 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:28:29.870 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:28:30.073 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 21:28:30.096 +02:00 [INF] User registered successfully: jjj
2025-01-21 21:28:30.098 +02:00 [INF] User registered successfully.
2025-01-21 21:28:30.100 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 432.6601ms.
2025-01-21 21:28:30.104 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:28:30.111 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 494.9764ms
2025-01-21 21:28:30.113 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:28:30.116 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 524.6869ms
2025-01-21 21:28:51.257 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 21:28:51.262 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:51.264 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.0471ms
2025-01-21 21:28:51.332 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 52
2025-01-21 21:28:51.337 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:51.342 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:28:51.344 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 21:28:51.389 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 21:28:51.397 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:28:51.545 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 21:28:51.555 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 21:28:51.563 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 21:28:51.571 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 179.633ms.
2025-01-21 21:28:51.575 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:28:51.577 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 230.0298ms
2025-01-21 21:28:51.579 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:28:51.581 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 249.7294ms
2025-01-21 21:28:54.535 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 21:28:54.542 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:54.545 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.8564ms
2025-01-21 21:28:54.550 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 21:28:54.554 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:54.636 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:28:54.643 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 21:28:54.845 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 21:28:54.850 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T19:28:54.8501787Z"
2025-01-21 21:28:54.871 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 21:28:54.921 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:28:54.9213950Z"
2025-01-21 21:28:54.924 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:28:54.9242191Z"
2025-01-21 21:28:54.925 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:28:54.9258553Z"
2025-01-21 21:28:54.928 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 80.4491ms.
2025-01-21 21:28:54.932 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:28:54.977 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 331.0522ms
2025-01-21 21:28:54.980 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:28:54.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 431.8764ms
2025-01-21 21:28:56.575 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 21:28:56.594 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:56.597 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 21.9868ms
2025-01-21 21:28:56.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 21:28:56.611 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:56.618 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:28:56.626 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 21:28:56.663 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 21:28:56.669 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T19:28:56.6695971Z"
2025-01-21 21:28:56.672 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T19:28:56.6727540Z"
2025-01-21 21:28:56.680 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T19:28:56.6808541Z"
2025-01-21 21:28:56.698 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:28:56.704 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T19:28:56.7045550Z"
2025-01-21 21:28:56.706 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T19:28:56.7061346Z"
2025-01-21 21:28:56.708 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.7887ms.
2025-01-21 21:28:56.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 21:28:56.714 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 85.0679ms
2025-01-21 21:28:56.718 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:28:56.722 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 114.4623ms
2025-01-21 21:28:56.732 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 21:28:56.738 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:56.740 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 8.7156ms
2025-01-21 21:28:56.748 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-21 21:28:56.753 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:56.755 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 21:28:56.785 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:28:56.793 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 21:28:56.936 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 21:28:56.944 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-21 21:28:56.946 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 21:28:56.952 +02:00 [INF] Received request to fetch user by token.
2025-01-21 21:28:56.953 +02:00 [INF] Parsing token...
2025-01-21 21:28:56.956 +02:00 [INF] Attempting to retrieve user with username: jjj and email: jhgu@example.com
2025-01-21 21:28:57.000 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 21:28:57.007 +02:00 [INF] User successfully found: jjj
2025-01-21 21:28:57.009 +02:00 [INF] User with Id: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 successfully retrieved.
2025-01-21 21:28:57.013 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T19:28:57.0137863Z"
2025-01-21 21:28:57.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:28:57.022 +02:00 [INF] Gift with Id: 13 successfully retrieved.
2025-01-21 21:28:57.027 +02:00 [INF] Starting to add Gift 13 (Quantity: 1) to User d7aeb052-bd16-4835-9f59-99c23fe9ffe6's basket
2025-01-21 21:28:57.043 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 21:28:57.136 +02:00 [INF] Created new UserGift entry for Gift 13 (Quantity: 1) and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:57.176 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 21:28:57.182 +02:00 [INF] Successfully saved changes to database for Gift 13 and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6 (Quantity: 1)
2025-01-21 21:28:57.186 +02:00 [INF] Completed AddToBasketAsync for User: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 and GiftId: 13 with Quantity: 1
2025-01-21 21:28:57.188 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 248.2336ms.
2025-01-21 21:28:57.191 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:28:57.194 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 397.046ms
2025-01-21 21:28:57.201 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:28:57.204 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:28:57.206 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 458.2838ms
2025-01-21 21:28:58.082 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 21:28:58.089 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 9.3944ms
2025-01-21 21:28:58.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 21:28:58.102 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.111 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:28:58.113 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 21:28:58.159 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 21:28:58.162 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T19:28:58.1627986Z"
2025-01-21 21:28:58.164 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:28:58.1647501Z"
2025-01-21 21:28:58.167 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:28:58.1678539Z"
2025-01-21 21:28:58.175 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:28:58.183 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T19:28:58.1830884Z"
2025-01-21 21:28:58.188 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T19:28:58.1881107Z"
2025-01-21 21:28:58.191 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.2797ms.
2025-01-21 21:28:58.194 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 21:28:58.196 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 76.3238ms
2025-01-21 21:28:58.198 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:28:58.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 111.8567ms
2025-01-21 21:28:58.218 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 21:28:58.224 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 8.6343ms
2025-01-21 21:28:58.234 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - application/json 2
2025-01-21 21:28:58.239 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.241 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 21:28:58.244 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:28:58.247 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 21:28:58.353 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 21:28:58.356 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 21:28:58.359 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 21:28:58.362 +02:00 [INF] Received request to fetch user by token.
2025-01-21 21:28:58.363 +02:00 [INF] Parsing token...
2025-01-21 21:28:58.364 +02:00 [INF] Attempting to retrieve user with username: jjj and email: jhgu@example.com
2025-01-21 21:28:58.372 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 21:28:58.378 +02:00 [INF] User successfully found: jjj
2025-01-21 21:28:58.380 +02:00 [INF] User with Id: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 successfully retrieved.
2025-01-21 21:28:58.382 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:28:58.3822056Z"
2025-01-21 21:28:58.386 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:28:58.394 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 21:28:58.395 +02:00 [INF] Starting to add Gift 3 (Quantity: 1) to User d7aeb052-bd16-4835-9f59-99c23fe9ffe6's basket
2025-01-21 21:28:58.401 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 21:28:58.409 +02:00 [INF] Created new UserGift entry for Gift 3 (Quantity: 1) and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:58.416 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 21:28:58.422 +02:00 [INF] Successfully saved changes to database for Gift 3 and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6 (Quantity: 1)
2025-01-21 21:28:58.424 +02:00 [INF] Completed AddToBasketAsync for User: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 and GiftId: 3 with Quantity: 1
2025-01-21 21:28:58.427 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.15ms.
2025-01-21 21:28:58.430 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:28:58.438 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 184.708ms
2025-01-21 21:28:58.442 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:28:58.444 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:28:58.446 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - 200 null application/json; charset=utf-8 211.2318ms
2025-01-21 21:28:58.786 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 21:28:58.797 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.801 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 14.5982ms
2025-01-21 21:28:58.809 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 21:28:58.813 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:28:58.816 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 21:28:58.820 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:28:58.830 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 21:28:58.868 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 21:28:58.874 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 21:28:58.878 +02:00 [INF] Received request to get basket for user: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:58.880 +02:00 [INF] Starting to fetch basket for userId: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:58.921 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 21:28:58.935 +02:00 [INF] Successfully fetched 2 gifts for userId: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:58.952 +02:00 [INF] Serialized response: [
  {
    "UserId": "d7aeb052-bd16-4835-9f59-99c23fe9ffe6",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "d7aeb052-bd16-4835-9f59-99c23fe9ffe6",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 21:28:58.955 +02:00 [INF] Completed GetBasketByUserAsync for User: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:28:58.957 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 84.0829ms.
2025-01-21 21:28:58.960 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:28:58.970 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 133.6462ms
2025-01-21 21:28:58.973 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:28:58.976 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:28:58.979 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 169.2701ms
2025-01-21 21:29:39.209 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 21:29:39.232 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:39.235 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 26.0024ms
2025-01-21 21:29:39.262 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 21:29:39.265 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:39.267 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:29:39.270 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 21:29:39.304 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 21:29:39.313 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:29:39.477 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 21:29:39.487 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 21:29:39.497 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 21:29:39.505 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 197.7762ms.
2025-01-21 21:29:39.508 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:29:39.513 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 236.2478ms
2025-01-21 21:29:39.516 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:29:39.518 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 256.6754ms
2025-01-21 21:29:40.913 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 21:29:40.919 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:40.921 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.4602ms
2025-01-21 21:29:40.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 21:29:40.934 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:40.936 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:29:40.937 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 21:29:40.967 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 21:29:40.971 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T19:29:40.9713940Z"
2025-01-21 21:29:40.981 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 21:29:40.996 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:29:40.9968697Z"
2025-01-21 21:29:40.999 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:29:40.9996466Z"
2025-01-21 21:29:41.002 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:29:41.0023015Z"
2025-01-21 21:29:41.005 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.0458ms.
2025-01-21 21:29:41.011 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:29:41.014 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 72.7182ms
2025-01-21 21:29:41.016 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:29:41.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 92.6479ms
2025-01-21 21:29:43.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - null null
2025-01-21 21:29:43.162 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:43.165 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/3 - 204 null null 6.1711ms
2025-01-21 21:29:43.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/3 - application/json null
2025-01-21 21:29:43.180 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:43.184 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:29:43.190 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 21:29:43.228 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 21:29:43.231 +02:00 [INF] Starting GetByIdAsync with ID 3 at "2025-01-21T19:29:43.2319037Z"
2025-01-21 21:29:43.235 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:29:43.2350029Z"
2025-01-21 21:29:43.237 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:29:43.2373292Z"
2025-01-21 21:29:43.243 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:29:43.247 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 3 at "2025-01-21T19:29:43.2478087Z"
2025-01-21 21:29:43.253 +02:00 [INF] GetByIdAsync completed successfully with ID 3 at "2025-01-21T19:29:43.2531440Z"
2025-01-21 21:29:43.257 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.2167ms.
2025-01-21 21:29:43.260 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 21:29:43.262 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 65.852ms
2025-01-21 21:29:43.265 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 21:29:43.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/3 - 200 null application/json; charset=utf-8 95.6666ms
2025-01-21 21:29:43.277 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - null null
2025-01-21 21:29:43.286 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:43.288 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3 - 204 null null 11.0362ms
2025-01-21 21:29:43.295 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - application/json 2
2025-01-21 21:29:43.304 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:43.306 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 21:29:43.309 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:29:43.311 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 21:29:43.413 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 21:29:43.416 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 1
2025-01-21 21:29:43.418 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 21:29:43.420 +02:00 [INF] Received request to fetch user by token.
2025-01-21 21:29:43.421 +02:00 [INF] Parsing token...
2025-01-21 21:29:43.425 +02:00 [INF] Attempting to retrieve user with username: manager1 and email: manager1@example.com
2025-01-21 21:29:43.435 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 21:29:43.442 +02:00 [ERR] User not found with username: manager1 and email: manager1@example.com
2025-01-21 21:29:43.529 +02:00 [ERR] An error occurred while fetching user by token.
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
2025-01-21 21:29:43.715 +02:00 [ERR] Error occurred while adding Gift 3 to User null's basket
System.Exception: User not found.
   at project.Controllers.UserController.GetUserByTokenAsync(String token) in E:\פרויקט\server\project\Controllers\UserController.cs:line 83
   at project.Controllers.UserController.AddToBasketAsync(Int32 giftId, Int32 quantity) in E:\פרויקט\server\project\Controllers\UserController.cs:line 136
2025-01-21 21:29:43.724 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 308.4853ms.
2025-01-21 21:29:43.727 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:29:43.729 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 409.209ms
2025-01-21 21:29:43.732 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:29:43.735 +02:00 [INF] Outgoing Response: 500
2025-01-21 21:29:43.736 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3 - 500 null application/json; charset=utf-8 441.1415ms
2025-01-21 21:29:45.693 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 21:29:45.701 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:45.703 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 10.8172ms
2025-01-21 21:29:45.715 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 21:29:45.720 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:29:45.727 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 21:29:45.729 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:29:45.730 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 21:29:45.765 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 21:29:45.768 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 21:29:45.769 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 21:29:45.771 +02:00 [INF] Starting to fetch basket for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 21:29:45.779 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 21:29:45.784 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 21:29:45.786 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 21:29:45.789 +02:00 [INF] Completed GetBasketByUserAsync for User: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 21:29:45.791 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.0838ms.
2025-01-21 21:29:45.794 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:29:45.805 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 68.4693ms
2025-01-21 21:29:45.807 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:29:45.809 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:29:45.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 96.4146ms
2025-01-21 21:30:02.479 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 21:30:02.485 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:02.487 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.8935ms
2025-01-21 21:30:02.492 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 52
2025-01-21 21:30:02.500 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:02.502 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:30:02.504 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 21:30:02.538 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 21:30:02.546 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:30:02.717 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 21:30:02.728 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 21:30:02.742 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 21:30:02.752 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 212.586ms.
2025-01-21 21:30:02.756 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:30:02.759 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 249.8744ms
2025-01-21 21:30:02.761 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:30:02.769 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 277.1653ms
2025-01-21 21:30:05.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - null null
2025-01-21 21:30:05.640 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:05.642 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/basket - 204 null null 6.6712ms
2025-01-21 21:30:05.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/basket - application/json null
2025-01-21 21:30:05.656 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:05.658 +02:00 [INF] Incoming Request: GET /api/User/basket
2025-01-21 21:30:05.667 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:30:05.669 +02:00 [INF] Route matched with {action = "GetBasketByUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.UserGift]] GetBasketByUserAsync() on controller project.Controllers.UserController (project).
2025-01-21 21:30:05.703 +02:00 [INF] Executing action method project.Controllers.UserController.GetBasketByUserAsync (project) - Validation state: "Valid"
2025-01-21 21:30:05.705 +02:00 [INF] Starting GetBasketByUserAsync
2025-01-21 21:30:05.707 +02:00 [INF] Received request to get basket for user: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:30:05.709 +02:00 [INF] Starting to fetch basket for userId: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:30:05.715 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 21:30:05.721 +02:00 [INF] Successfully fetched 2 gifts for userId: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:30:05.726 +02:00 [INF] Serialized response: [
  {
    "UserId": "d7aeb052-bd16-4835-9f59-99c23fe9ffe6",
    "User": null,
    "GiftId": 3,
    "GiftStatus": "Draft",
    "Quantity": 1
  },
  {
    "UserId": "d7aeb052-bd16-4835-9f59-99c23fe9ffe6",
    "User": null,
    "GiftId": 13,
    "GiftStatus": "Draft",
    "Quantity": 1
  }
]
2025-01-21 21:30:05.730 +02:00 [INF] Completed GetBasketByUserAsync for User: d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:30:05.732 +02:00 [INF] Executed action method project.Controllers.UserController.GetBasketByUserAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.1865ms.
2025-01-21 21:30:05.735 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.UserGift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:05.737 +02:00 [INF] Executed action project.Controllers.UserController.GetBasketByUserAsync (project) in 64.081ms
2025-01-21 21:30:05.744 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetBasketByUserAsync (project)'
2025-01-21 21:30:05.747 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:30:05.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/basket - 200 null application/json; charset=utf-8 98.4194ms
2025-01-21 21:30:09.173 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - null null
2025-01-21 21:30:09.177 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:09.179 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=3&quantity=2 - 204 null null 6.0487ms
2025-01-21 21:30:09.190 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - application/json 14
2025-01-21 21:30:09.195 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:09.196 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 21:30:09.199 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:30:09.205 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 21:30:09.259 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 21:30:09.261 +02:00 [INF] Starting AddToBasketAsync with GiftId: 3 and Quantity: 2
2025-01-21 21:30:09.263 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 21:30:09.266 +02:00 [INF] Received request to fetch user by token.
2025-01-21 21:30:09.267 +02:00 [INF] Parsing token...
2025-01-21 21:30:09.269 +02:00 [INF] Attempting to retrieve user with username: jjj and email: jhgu@example.com
2025-01-21 21:30:09.276 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 21:30:09.289 +02:00 [INF] User successfully found: jjj
2025-01-21 21:30:09.290 +02:00 [INF] User with Id: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 successfully retrieved.
2025-01-21 21:30:09.292 +02:00 [INF] Starting GetByIdAsync for Gift ID 3 at "2025-01-21T19:30:09.2926026Z"
2025-01-21 21:30:09.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 21:30:09.305 +02:00 [INF] Gift with Id: 3 successfully retrieved.
2025-01-21 21:30:09.306 +02:00 [INF] Starting to add Gift 3 (Quantity: 2) to User d7aeb052-bd16-4835-9f59-99c23fe9ffe6's basket
2025-01-21 21:30:09.311 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 21:30:09.322 +02:00 [INF] Updated existing UserGift entry for Gift 3 (New Quantity: 2) and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6
2025-01-21 21:30:09.341 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [Quantity] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 21:30:09.351 +02:00 [INF] Successfully saved changes to database for Gift 3 and User d7aeb052-bd16-4835-9f59-99c23fe9ffe6 (Quantity: 2)
2025-01-21 21:30:09.355 +02:00 [INF] Completed AddToBasketAsync for User: d7aeb052-bd16-4835-9f59-99c23fe9ffe6 and GiftId: 3 with Quantity: 2
2025-01-21 21:30:09.358 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.1741ms.
2025-01-21 21:30:09.363 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:30:09.367 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 156.7179ms
2025-01-21 21:30:09.371 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 21:30:09.373 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:30:09.377 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=3&quantity=2 - 200 null application/json; charset=utf-8 187.8111ms
2025-01-21 21:30:17.234 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 21:30:17.240 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:17.241 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.0856ms
2025-01-21 21:30:17.246 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 21:30:17.250 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:17.256 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:30:17.258 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 21:30:17.291 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 21:30:17.296 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:30:17.443 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 21:30:17.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 21:30:17.462 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 21:30:17.468 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 174.4927ms.
2025-01-21 21:30:17.474 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType19`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:30:17.476 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 215.0264ms
2025-01-21 21:30:17.479 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 21:30:17.482 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 236.0551ms
2025-01-21 21:30:18.594 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 21:30:18.612 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:18.614 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 19.277ms
2025-01-21 21:30:18.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 21:30:18.625 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:18.629 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:30:18.631 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 21:30:18.667 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 21:30:18.670 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T19:30:18.6702856Z"
2025-01-21 21:30:18.674 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 21:30:18.680 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:18.6805148Z"
2025-01-21 21:30:18.682 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:18.6826810Z"
2025-01-21 21:30:18.684 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:18.6848350Z"
2025-01-21 21:30:18.687 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.6816ms.
2025-01-21 21:30:18.694 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:18.697 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 61.0784ms
2025-01-21 21:30:18.699 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:30:18.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 81.2493ms
2025-01-21 21:30:29.261 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:30:29.267 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:29.269 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.3665ms
2025-01-21 21:30:29.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:30:29.285 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:29.287 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:30:29.291 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:30:29.301 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:30:29.338 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:30:29.343 +02:00 [INF] Fetching all donators.
2025-01-21 21:30:29.346 +02:00 [INF] Fetching all donators.
2025-01-21 21:30:29.358 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:30:29.379 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:30:29.380 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.2373ms.
2025-01-21 21:30:29.384 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:29.391 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 83.9734ms
2025-01-21 21:30:29.393 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:30:29.395 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:30:29.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 123.3016ms
2025-01-21 21:30:29.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 21:30:29.828 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:29.832 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 9.4636ms
2025-01-21 21:30:29.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 21:30:29.843 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:29.847 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:30:29.855 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 21:30:29.889 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 21:30:29.893 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:29.8934552Z"
2025-01-21 21:30:29.895 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:29.8955239Z"
2025-01-21 21:30:29.899 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:29.8990386Z"
2025-01-21 21:30:29.975 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 21:30:29.987 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:29.9874843Z"
2025-01-21 21:30:29.989 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:29.9897512Z"
2025-01-21 21:30:29.991 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:29.9915877Z"
2025-01-21 21:30:29.993 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 101.2088ms.
2025-01-21 21:30:29.996 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:30.008 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 147.1826ms
2025-01-21 21:30:30.010 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:30:30.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 174.7428ms
2025-01-21 21:30:51.472 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 21:30:51.477 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:51.479 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2229ms
2025-01-21 21:30:51.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 21:30:51.508 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:51.510 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:30:51.513 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 21:30:51.543 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 21:30:51.547 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T19:30:51.5473652Z"
2025-01-21 21:30:51.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 21:30:51.557 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:51.5570775Z"
2025-01-21 21:30:51.558 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:51.5582112Z"
2025-01-21 21:30:51.561 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T19:30:51.5618132Z"
2025-01-21 21:30:51.563 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.9893ms.
2025-01-21 21:30:51.566 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:51.569 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 49.7716ms
2025-01-21 21:30:51.571 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 21:30:51.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 68.1493ms
2025-01-21 21:30:53.716 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:30:53.721 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:53.724 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.4637ms
2025-01-21 21:30:53.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:30:53.739 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:53.740 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:30:53.742 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:30:53.747 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:30:53.777 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:30:53.782 +02:00 [INF] Fetching all donators.
2025-01-21 21:30:53.784 +02:00 [INF] Fetching all donators.
2025-01-21 21:30:53.787 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:30:53.793 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:30:53.795 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.4865ms.
2025-01-21 21:30:53.798 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:53.801 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 47.6906ms
2025-01-21 21:30:53.803 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:30:53.810 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:30:53.813 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 76.9619ms
2025-01-21 21:30:55.261 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 21:30:55.267 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:55.269 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.0765ms
2025-01-21 21:30:55.274 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 21:30:55.280 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:30:55.282 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:30:55.288 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 21:30:55.324 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 21:30:55.326 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:55.3266013Z"
2025-01-21 21:30:55.328 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:55.3281702Z"
2025-01-21 21:30:55.329 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:30:55.3295837Z"
2025-01-21 21:30:55.336 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 21:30:55.342 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:55.3424283Z"
2025-01-21 21:30:55.343 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:55.3437068Z"
2025-01-21 21:30:55.345 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:30:55.3452056Z"
2025-01-21 21:30:55.346 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.1343ms.
2025-01-21 21:30:55.355 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:30:55.357 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 63.1277ms
2025-01-21 21:30:55.360 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:30:55.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 91.5214ms
2025-01-21 21:31:03.206 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:31:03.211 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:03.214 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 7.9646ms
2025-01-21 21:31:03.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:31:03.233 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:03.239 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:31:03.243 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:31:03.245 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:03.278 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:31:03.280 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:03.282 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:03.288 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:03.292 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:03.293 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.9387ms.
2025-01-21 21:31:03.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:31:03.303 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 51.893ms
2025-01-21 21:31:03.306 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:31:03.309 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:03.311 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 84.5167ms
2025-01-21 21:31:04.638 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:31:04.642 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:04.645 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 7.2191ms
2025-01-21 21:31:04.652 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:31:04.656 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:04.662 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:31:04.666 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:04.675 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:04.707 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:31:04.712 +02:00 [INF] Filtering donators by name.
2025-01-21 21:31:04.714 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:04.719 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:04.726 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:04.729 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.4816ms.
2025-01-21 21:31:04.733 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:31:04.739 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 58.0859ms
2025-01-21 21:31:04.744 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:04.747 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:04.750 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 97.9274ms
2025-01-21 21:31:06.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:31:06.148 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:06.152 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:31:06.153 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:06.155 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:06.192 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:31:06.195 +02:00 [INF] Filtering donators by name.
2025-01-21 21:31:06.197 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:06.202 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:06.206 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:06.207 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.938ms.
2025-01-21 21:31:06.213 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:31:06.217 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 57.6067ms
2025-01-21 21:31:06.219 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:06.222 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:06.223 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 80.0472ms
2025-01-21 21:31:06.434 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:31:06.440 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:06.442 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:31:06.444 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:06.446 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:06.479 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:31:06.482 +02:00 [INF] Filtering donators by name.
2025-01-21 21:31:06.483 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:06.488 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:06.496 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:06.497 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.662ms.
2025-01-21 21:31:06.501 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:31:06.504 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 53.3369ms
2025-01-21 21:31:06.511 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:31:06.515 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:06.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 83.5119ms
2025-01-21 21:31:08.220 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-21 21:31:08.226 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:08.228 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 8.0298ms
2025-01-21 21:31:08.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-21 21:31:08.238 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:08.239 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-21 21:31:08.241 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:31:08.253 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:08.287 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByEmailAsync (project) - Validation state: "Valid"
2025-01-21 21:31:08.293 +02:00 [INF] Filtering donators by email.
2025-01-21 21:31:08.294 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:08.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:08.305 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:08.306 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.6778ms.
2025-01-21 21:31:08.310 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:31:08.312 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 53.1145ms
2025-01-21 21:31:08.315 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:31:08.317 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:08.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 87.5266ms
2025-01-21 21:31:08.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-21 21:31:08.520 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:08.521 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-21 21:31:08.524 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:31:08.525 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:31:08.553 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByEmailAsync (project) - Validation state: "Valid"
2025-01-21 21:31:08.556 +02:00 [INF] Filtering donators by email.
2025-01-21 21:31:08.558 +02:00 [INF] Fetching all donators.
2025-01-21 21:31:08.561 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:31:08.566 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:31:08.567 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.8756ms.
2025-01-21 21:31:08.573 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:31:08.576 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 47.4162ms
2025-01-21 21:31:08.579 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:31:08.582 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:31:08.583 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 67.5039ms
2025-01-21 21:31:12.973 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 21:31:12.984 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:12.986 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 13.3347ms
2025-01-21 21:31:12.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 21:31:13.002 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:31:13.004 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:31:13.008 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 21:31:13.037 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 21:31:13.040 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:31:13.0401444Z"
2025-01-21 21:31:13.041 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:31:13.0415713Z"
2025-01-21 21:31:13.043 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:31:13.0430124Z"
2025-01-21 21:31:13.055 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 21:31:13.059 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:31:13.0593047Z"
2025-01-21 21:31:13.060 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:31:13.0609167Z"
2025-01-21 21:31:13.062 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:31:13.0625228Z"
2025-01-21 21:31:13.064 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.6873ms.
2025-01-21 21:31:13.071 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:31:13.074 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 61.3315ms
2025-01-21 21:31:13.076 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:31:13.078 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 81.6403ms
2025-01-21 21:32:41.943 +02:00 [INF] Starting up the application
2025-01-21 21:32:45.377 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:32:47.791 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:32:47.956 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:32:48.349 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:32:48.357 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:32:48.359 +02:00 [INF] Hosting environment: Development
2025-01-21 21:32:48.361 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:32:49.502 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:32:49.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 321.5907ms
2025-01-21 21:32:49.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:32:49.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 10.9852ms
2025-01-21 21:32:50.058 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:32:50.397 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 338.5923ms
2025-01-21 21:33:26.326 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 114
2025-01-21 21:33:26.337 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:33:26.339 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:33:26.343 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:33:26.504 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:33:26.544 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:33:26.825 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:33:26.934 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:33:26.965 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:33:26.998 +02:00 [WRN] Registration failed: Email 'jhgu@example.com' is already registered.
2025-01-21 21:33:27.277 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 39
2025-01-21 21:33:27.344 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 511.8196ms.
2025-01-21 21:33:27.361 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:33:27.397 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 843.04ms
2025-01-21 21:33:27.400 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:33:27.411 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1085.1484ms
2025-01-21 21:36:55.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 21:36:55.400 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 21:36:55.412 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 21:36:55.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 401 0 null 30.8187ms
2025-01-21 21:36:56.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 21:36:56.323 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:36:56.411 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 93.8838ms
2025-01-21 21:36:56.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 21:36:56.443 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:36:56.592 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:36:56.604 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 21:36:56.950 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 21:36:56.958 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:36:56.9578943Z"
2025-01-21 21:36:56.963 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:36:56.9634819Z"
2025-01-21 21:36:56.971 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T19:36:56.9712449Z"
2025-01-21 21:36:57.176 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 21:36:57.184 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:36:57.1843769Z"
2025-01-21 21:36:57.186 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:36:57.1864111Z"
2025-01-21 21:36:57.188 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T19:36:57.1884715Z"
2025-01-21 21:36:57.190 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 237.5942ms.
2025-01-21 21:36:57.194 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:36:57.223 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 611.4843ms
2025-01-21 21:36:57.225 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 21:36:57.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 810.4435ms
2025-01-21 21:37:04.896 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:37:04.901 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:04.903 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.7716ms
2025-01-21 21:37:04.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:37:04.915 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:04.917 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:04.957 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:04.964 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:05.000 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:37:05.006 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:05.012 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:05.025 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:05.057 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:37:05.060 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.0997ms.
2025-01-21 21:37:05.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:37:05.089 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 120.8692ms
2025-01-21 21:37:05.092 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:05.094 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:05.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 189.1526ms
2025-01-21 21:37:07.076 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:37:07.081 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:07.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 6.3401ms
2025-01-21 21:37:07.088 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:37:07.091 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:07.097 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:37:07.099 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:07.106 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:07.139 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:37:07.145 +02:00 [INF] Filtering donators by name.
2025-01-21 21:37:07.146 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:07.150 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:07.155 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:37:07.161 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.188ms.
2025-01-21 21:37:07.165 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:37:07.170 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 54.9351ms
2025-01-21 21:37:07.174 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:07.176 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:07.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 90.1065ms
2025-01-21 21:37:15.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:37:15.320 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:15.321 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:37:15.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 6.6332ms
2025-01-21 21:37:15.776 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:37:15.805 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:15.817 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 41.8595ms
2025-01-21 21:37:15.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:37:15.871 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:15.873 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:15.878 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:15.880 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:15.949 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:37:15.954 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:15.956 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:15.970 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:15.982 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:37:15.984 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2821ms.
2025-01-21 21:37:15.990 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:37:15.998 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 109.5363ms
2025-01-21 21:37:16.000 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:16.003 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:16.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 140.9127ms
2025-01-21 21:37:17.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:37:17.961 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:17.963 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:17.965 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:17.967 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:18.017 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:37:18.020 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:18.021 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:18.025 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:18.031 +02:00 [INF] Successfully fetched 2 donators.
2025-01-21 21:37:18.032 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.5913ms.
2025-01-21 21:37:18.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:37:18.040 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 64.3386ms
2025-01-21 21:37:18.042 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:18.045 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:18.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 101.5563ms
2025-01-21 21:37:40.103 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:37:40.107 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:40.108 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 4.8975ms
2025-01-21 21:37:40.114 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Donator - application/json 59
2025-01-21 21:37:40.117 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:40.120 +02:00 [INF] Incoming Request: POST /api/Donator
2025-01-21 21:37:40.122 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 21:37:40.130 +02:00 [INF] Route matched with {action = "CreateDonator", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDonatorAsync(project.Models.Donator) on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:40.180 +02:00 [INF] Executing action method project.Controllers.DonatorController.CreateDonatorAsync (project) - Validation state: "Valid"
2025-01-21 21:37:40.184 +02:00 [INF] Received request to create donator: aa
2025-01-21 21:37:40.186 +02:00 [INF] Creating donator with name: aa
2025-01-21 21:37:40.191 +02:00 [INF] Adding donator with name: aa
2025-01-21 21:37:40.390 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donators] ([Email], [Name], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-01-21 21:37:40.453 +02:00 [INF] Successfully added donator: aa
2025-01-21 21:37:40.457 +02:00 [INF] Donator aa created successfully.
2025-01-21 21:37:40.458 +02:00 [INF] Successfully created donator: aa
2025-01-21 21:37:40.461 +02:00 [INF] Executed action method project.Controllers.DonatorController.CreateDonatorAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 277.8339ms.
2025-01-21 21:37:40.465 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:37:40.470 +02:00 [INF] Executed action project.Controllers.DonatorController.CreateDonatorAsync (project) in 336.8943ms
2025-01-21 21:37:40.472 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.CreateDonatorAsync (project)'
2025-01-21 21:37:40.475 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:40.477 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 363.1689ms
2025-01-21 21:37:40.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:37:40.598 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:40.600 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:40.605 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:40.607 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:40.657 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:37:40.660 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:40.662 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:40.670 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:40.676 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:37:40.678 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.7441ms.
2025-01-21 21:37:40.686 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:37:40.690 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 76.689ms
2025-01-21 21:37:40.692 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:40.696 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:40.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 110.3434ms
2025-01-21 21:37:45.066 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:37:45.070 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:45.072 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 6.4924ms
2025-01-21 21:37:45.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:37:45.082 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:45.084 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:37:45.086 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:45.090 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:45.124 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:37:45.127 +02:00 [INF] Filtering donators by name.
2025-01-21 21:37:45.129 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:45.134 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:45.139 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:37:45.141 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1396ms.
2025-01-21 21:37:45.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:37:45.146 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 50.7831ms
2025-01-21 21:37:45.148 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:45.153 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:45.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 76.3113ms
2025-01-21 21:37:47.507 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:37:47.512 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:47.514 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:37:47.516 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:47.518 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:47.560 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:37:47.563 +02:00 [INF] Filtering donators by name.
2025-01-21 21:37:47.564 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:47.608 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:47.616 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:37:47.619 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55.8788ms.
2025-01-21 21:37:47.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:37:47.624 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 99.203ms
2025-01-21 21:37:47.626 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:37:47.631 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:47.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 125.0583ms
2025-01-21 21:37:52.274 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - null null
2025-01-21 21:37:52.279 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:52.280 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByEmail - 204 null null 6.4463ms
2025-01-21 21:37:52.286 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - application/json null
2025-01-21 21:37:52.290 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:52.291 +02:00 [INF] Incoming Request: GET /api/Donator/filterByEmail
2025-01-21 21:37:52.294 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:37:52.300 +02:00 [INF] Route matched with {action = "FilterByEmail", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByEmailAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:52.338 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByEmailAsync (project) - Validation state: "Valid"
2025-01-21 21:37:52.343 +02:00 [INF] Filtering donators by email.
2025-01-21 21:37:52.345 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:52.350 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:52.354 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:37:52.355 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByEmailAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.1836ms.
2025-01-21 21:37:52.358 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:37:52.364 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByEmailAsync (project) in 59.084ms
2025-01-21 21:37:52.366 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByEmailAsync (project)'
2025-01-21 21:37:52.368 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:52.370 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByEmail - 200 null application/json; charset=utf-8 83.3305ms
2025-01-21 21:37:55.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:37:55.141 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:55.143 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:37:55.145 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.664ms
2025-01-21 21:37:55.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:37:55.772 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:55.775 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 145.1926ms
2025-01-21 21:37:55.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:37:55.818 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:37:55.822 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:37:55.828 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:55.833 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:37:55.898 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:37:55.903 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:55.905 +02:00 [INF] Fetching all donators.
2025-01-21 21:37:55.912 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:37:55.918 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:37:55.920 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.421ms.
2025-01-21 21:37:55.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:37:55.937 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 98.9506ms
2025-01-21 21:37:55.947 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:37:55.949 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:37:55.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 168.6018ms
2025-01-21 21:42:40.094 +02:00 [INF] Starting up the application
2025-01-21 21:42:43.247 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:42:45.551 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:42:45.718 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:42:46.122 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:42:46.129 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:42:46.132 +02:00 [INF] Hosting environment: Development
2025-01-21 21:42:46.133 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:42:47.363 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:42:47.708 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 350.7756ms
2025-01-21 21:42:47.733 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:42:47.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.6409ms
2025-01-21 21:42:47.968 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:42:48.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 329.8783ms
2025-01-21 21:43:17.080 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 21:43:17.092 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:43:17.094 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:43:17.101 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:43:17.261 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:17.321 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:43:17.586 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:43:17.734 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:43:17.770 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:43:17.990 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:43:18.228 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 21:43:18.255 +02:00 [INF] User registered successfully: jhg
2025-01-21 21:43:18.259 +02:00 [INF] User registered successfully.
2025-01-21 21:43:18.267 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 673.0328ms.
2025-01-21 21:43:18.283 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:43:18.318 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 985.5691ms
2025-01-21 21:43:18.322 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:18.332 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 1252.1476ms
2025-01-21 21:43:33.824 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 21:43:33.831 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:43:33.833 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:43:33.846 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:33.849 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:43:33.913 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:43:33.942 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:43:33.953 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:43:33.962 +02:00 [WRN] Registration failed: Email 'ssdaS@332' is already registered.
2025-01-21 21:43:34.282 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:43:34.364 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 448.7287ms.
2025-01-21 21:43:34.367 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:43:34.369 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 507.101ms
2025-01-21 21:43:34.376 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:34.379 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 554.6962ms
2025-01-21 21:43:37.802 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 21:43:37.808 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:43:37.809 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:43:37.830 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:37.831 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:43:37.883 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:43:37.892 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:43:37.901 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:43:37.909 +02:00 [WRN] Registration failed: Email 'ssdaS@332' is already registered.
2025-01-21 21:43:38.103 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:43:38.114 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 227.916ms.
2025-01-21 21:43:38.117 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:43:38.119 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 283.9906ms
2025-01-21 21:43:38.126 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:43:38.128 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 326.6967ms
2025-01-21 21:51:51.395 +02:00 [INF] Starting up the application
2025-01-21 21:51:54.941 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:51:57.327 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:51:57.517 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:51:57.940 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:51:57.949 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:51:57.951 +02:00 [INF] Hosting environment: Development
2025-01-21 21:51:57.953 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:51:59.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:51:59.477 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 314.2121ms
2025-01-21 21:51:59.502 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:51:59.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.0971ms
2025-01-21 21:51:59.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:52:00.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 436.1765ms
2025-01-21 21:52:04.951 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:52:04.961 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:04.966 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 14.6871ms
2025-01-21 21:52:04.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:04.980 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:04.983 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:52:05.024 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:05.327 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:05.364 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:05.773 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:05.781 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:05.786 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:05.893 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:05.931 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:05.940 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 159.4841ms.
2025-01-21 21:52:05.957 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:06.033 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 659.3888ms
2025-01-21 21:52:06.037 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:06.041 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:06.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 1077.523ms
2025-01-21 21:52:07.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:07.480 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:07.485 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:07.490 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:07.493 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:07.538 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:07.541 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:07.543 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:07.566 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:07.571 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:07.572 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8714ms.
2025-01-21 21:52:07.575 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:07.580 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 83.8085ms
2025-01-21 21:52:07.582 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:07.585 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:07.588 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 113.7157ms
2025-01-21 21:52:07.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:07.754 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:07.755 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:07.761 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:07.765 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:07.799 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:07.802 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:07.803 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:07.808 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:07.815 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:07.816 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2209ms.
2025-01-21 21:52:07.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:07.822 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 50.343ms
2025-01-21 21:52:07.824 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:07.829 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:07.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 82.9642ms
2025-01-21 21:52:20.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:52:20.824 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:20.826 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:52:20.828 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.432ms
2025-01-21 21:52:21.308 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:52:21.314 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:21.316 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.1615ms
2025-01-21 21:52:21.323 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:52:21.327 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:21.332 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:21.342 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:21.361 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:21.417 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:52:21.432 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:21.434 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:21.445 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:21.454 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:21.457 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.861ms.
2025-01-21 21:52:21.462 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:52:21.470 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 102.3621ms
2025-01-21 21:52:21.475 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:21.478 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:21.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 158.0293ms
2025-01-21 21:52:27.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:52:27.762 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:27.764 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:52:27.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.8473ms
2025-01-21 21:52:28.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:52:28.290 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:28.293 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 12.0279ms
2025-01-21 21:52:28.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:52:28.307 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:28.310 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:28.324 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:28.335 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:28.648 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:52:28.652 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:28.655 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:28.663 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:28.669 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:28.671 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.6801ms.
2025-01-21 21:52:28.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:52:28.685 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 332.2874ms
2025-01-21 21:52:28.694 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:28.697 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:28.701 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 398.8435ms
2025-01-21 21:52:39.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:52:39.129 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:39.131 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:52:39.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.9812ms
2025-01-21 21:52:39.648 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:52:39.708 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:39.711 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 63.064ms
2025-01-21 21:52:39.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:52:39.725 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:39.728 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:39.732 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:39.745 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:39.852 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:52:39.856 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:39.859 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:39.868 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:39.883 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:39.890 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.0961ms.
2025-01-21 21:52:39.927 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:52:39.933 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 174.0716ms
2025-01-21 21:52:39.940 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:39.943 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:39.945 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 227.9411ms
2025-01-21 21:52:41.685 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:52:41.690 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:41.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 7.6551ms
2025-01-21 21:52:41.698 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:41.702 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:41.706 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:41.708 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:41.709 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:41.746 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:41.750 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:41.752 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:41.757 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:41.762 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:41.763 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1835ms.
2025-01-21 21:52:41.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:41.772 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 59.5423ms
2025-01-21 21:52:41.774 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:41.777 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:41.780 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 82.0992ms
2025-01-21 21:52:43.386 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:43.391 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:43.392 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:43.394 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:43.396 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:43.432 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:43.436 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:43.438 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:43.443 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:43.448 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:43.449 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1634ms.
2025-01-21 21:52:43.452 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:43.458 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 58.1318ms
2025-01-21 21:52:43.460 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:43.462 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:43.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 78.2245ms
2025-01-21 21:52:51.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:52:51.814 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:51.816 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:52:51.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.0955ms
2025-01-21 21:52:52.251 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:52:52.256 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:52.258 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 6.7359ms
2025-01-21 21:52:52.264 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:52:52.269 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:52.271 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:52:52.274 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:52.288 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:52.437 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:52:52.440 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:52.443 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:52.487 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:52.517 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:52.521 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.0387ms.
2025-01-21 21:52:52.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:52:52.556 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 255.8418ms
2025-01-21 21:52:52.640 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:52:52.645 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:52.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 395.1529ms
2025-01-21 21:52:53.747 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 21:52:53.769 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:53.773 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 25.1882ms
2025-01-21 21:52:53.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:53.787 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:53.790 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:53.792 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:53.793 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:53.826 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:53.829 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:53.831 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:53.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:53.840 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:53.841 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.8511ms.
2025-01-21 21:52:53.846 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:53.849 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 48.636ms
2025-01-21 21:52:53.852 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:53.854 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:53.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 77.5858ms
2025-01-21 21:52:55.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 21:52:55.231 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:52:55.233 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 21:52:55.235 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:55.237 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:52:55.269 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 21:52:55.272 +02:00 [INF] Filtering donators by name.
2025-01-21 21:52:55.273 +02:00 [INF] Fetching all donators.
2025-01-21 21:52:55.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:52:55.285 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:52:55.286 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.1486ms.
2025-01-21 21:52:55.289 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:52:55.295 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 54.4164ms
2025-01-21 21:52:55.298 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 21:52:55.303 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:52:55.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 77.7546ms
2025-01-21 21:53:04.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:53:04.875 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:53:04.876 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:53:04.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 7.0588ms
2025-01-21 21:53:05.333 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 21:53:05.338 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:53:05.341 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.0164ms
2025-01-21 21:53:05.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:53:05.357 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:53:05.359 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:53:05.363 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:53:05.373 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:53:05.444 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:53:05.449 +02:00 [INF] Fetching all donators.
2025-01-21 21:53:05.451 +02:00 [INF] Fetching all donators.
2025-01-21 21:53:05.458 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:53:05.473 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:53:05.475 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.1389ms.
2025-01-21 21:53:05.484 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:53:05.491 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 109.0132ms
2025-01-21 21:53:05.499 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:53:05.503 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:53:05.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 159.7266ms
2025-01-21 21:53:07.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 21:53:07.320 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:53:07.321 +02:00 [WRN] Missing Authorization Header
2025-01-21 21:53:07.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 6.8825ms
2025-01-21 21:53:07.887 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 21:53:07.893 +02:00 [INF] CORS policy execution successful.
2025-01-21 21:53:07.896 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 21:53:07.899 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:53:07.904 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 21:53:08.014 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 21:53:08.020 +02:00 [INF] Fetching all donators.
2025-01-21 21:53:08.026 +02:00 [INF] Fetching all donators.
2025-01-21 21:53:08.037 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 21:53:08.093 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 21:53:08.103 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.5272ms.
2025-01-21 21:53:08.139 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 21:53:08.153 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 233.1288ms
2025-01-21 21:53:08.165 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 21:53:08.170 +02:00 [INF] Outgoing Response: 200
2025-01-21 21:53:08.172 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 285.6206ms
2025-01-21 21:53:57.141 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 21:53:57.152 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:53:57.153 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:53:57.157 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:53:57.175 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:53:57.261 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:53:57.285 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:53:57.311 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:53:57.341 +02:00 [WRN] Registration failed: Email 'ssdaS@332' is already registered.
2025-01-21 21:53:57.625 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:53:57.690 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 426.4476ms.
2025-01-21 21:53:57.693 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:53:57.712 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 532.6597ms
2025-01-21 21:53:57.716 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:53:57.719 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 577.7329ms
2025-01-21 21:54:16.196 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 21:54:16.201 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:54:16.202 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:54:16.205 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:54:16.207 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:54:16.247 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:54:16.256 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:54:16.269 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:54:16.275 +02:00 [WRN] Registration failed: Email 'ssdaS@332' is already registered.
2025-01-21 21:54:16.471 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:54:16.481 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 231.2813ms.
2025-01-21 21:54:16.485 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:54:16.487 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 276.5698ms
2025-01-21 21:54:16.489 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:54:16.491 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 295.5369ms
2025-01-21 21:54:34.754 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 21:54:34.759 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:54:34.761 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:54:34.763 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:54:34.769 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:54:34.827 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:54:56.891 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:55:00.885 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:55:47.969 +02:00 [WRN] Registration failed: Email 'ssdaS@332' is already registered.
2025-01-21 21:56:28.365 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:57:09.472 +02:00 [INF] Starting up the application
2025-01-21 21:57:12.744 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 21:57:15.112 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 21:57:15.292 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:57:15.704 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 21:57:15.711 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 21:57:15.714 +02:00 [INF] Hosting environment: Development
2025-01-21 21:57:15.715 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 21:57:16.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 21:57:17.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 443.0209ms
2025-01-21 21:57:17.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 21:57:17.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.2204ms
2025-01-21 21:57:17.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 21:57:17.908 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 376.6188ms
2025-01-21 21:57:49.611 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 101
2025-01-21 21:57:49.621 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:57:49.623 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:57:49.631 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 21:57:49.779 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:57:49.819 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:57:50.063 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:57:50.166 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:57:50.195 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:57:50.376 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:57:50.644 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 21:57:50.667 +02:00 [INF] User registered successfully: dff
2025-01-21 21:57:50.669 +02:00 [INF] User registered successfully.
2025-01-21 21:57:50.677 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 605.8967ms.
2025-01-21 21:57:50.693 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:57:50.733 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 902.6473ms
2025-01-21 21:57:50.736 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:57:50.748 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 1136.1928ms
2025-01-21 21:58:06.035 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 21:58:06.040 +02:00 [INF] CORS policy execution failed.
2025-01-21 21:58:06.041 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 21:58:06.049 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:58:06.051 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 21:58:06.097 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 21:58:06.126 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 21:58:06.146 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 21:58:06.154 +02:00 [WRN] Registration failed: Email 'Sdg!23' is already registered.
2025-01-21 21:58:06.434 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 21:58:06.500 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 401.263ms.
2025-01-21 21:58:06.507 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Exception, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 21:58:06.540 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 485.009ms
2025-01-21 21:58:06.543 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 21:58:06.741 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported. Path: $.ex.TargetSite.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Reflection.MethodBase' instances is not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, Exception innerException)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 40
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 21:58:06.819 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null text/plain; charset=utf-8 783.7962ms
2025-01-21 22:01:30.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:01:30.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:01:30.967 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:01:30.971 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:01:30.972 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:01:30.974 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:01:30.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 28.9973ms
2025-01-21 22:01:30.977 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 30.4794ms
2025-01-21 22:01:32.023 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:01:32.052 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:01:32.063 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 40.0625ms
2025-01-21 22:01:32.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:01:32.078 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:01:32.083 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:01:32.401 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:01:32.417 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:01:32.790 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:01:32.801 +02:00 [INF] Fetching all donators.
2025-01-21 22:01:32.805 +02:00 [INF] Fetching all donators.
2025-01-21 22:01:32.837 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:01:32.872 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:01:32.874 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 81.0413ms.
2025-01-21 22:01:32.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:01:32.909 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 486.8023ms
2025-01-21 22:01:32.912 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:01:32.914 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:01:32.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 843.7954ms
2025-01-21 22:02:00.938 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 22:02:00.946 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:00.948 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 9.6972ms
2025-01-21 22:02:00.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 22:02:00.973 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:00.979 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 22:02:00.985 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:02:00.995 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:02:01.032 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 22:02:01.038 +02:00 [INF] Filtering donators by name.
2025-01-21 22:02:01.039 +02:00 [INF] Fetching all donators.
2025-01-21 22:02:01.044 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:02:01.048 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:02:01.050 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7241ms.
2025-01-21 22:02:01.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:02:01.060 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 60.8224ms
2025-01-21 22:02:01.063 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:02:01.065 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:02:01.069 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 98.9181ms
2025-01-21 22:02:02.554 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 22:02:02.559 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:02.562 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 22:02:02.565 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:02:02.569 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:02:02.602 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 22:02:02.605 +02:00 [INF] Filtering donators by name.
2025-01-21 22:02:02.606 +02:00 [INF] Fetching all donators.
2025-01-21 22:02:02.611 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:02:02.617 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:02:02.618 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.5357ms.
2025-01-21 22:02:02.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:02:02.624 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 51.2234ms
2025-01-21 22:02:02.626 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:02:02.633 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:02:02.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 80.1939ms
2025-01-21 22:02:18.884 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 22:02:18.889 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:18.891 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 6.6107ms
2025-01-21 22:02:18.897 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 47
2025-01-21 22:02:18.900 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:18.902 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:02:18.913 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 22:02:18.961 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 22:02:18.972 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:02:19.144 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 225.7083ms
2025-01-21 22:02:19.147 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:02:19.278 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains more than one element.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at project.Services.AuthService.LoginAsync(Login model) in E:\פרויקט\server\project\Services\AuthService.cs:line 172
   at project.Controllers.AuthController.Login(Login model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 40
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 22:02:19.320 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 500 null text/plain; charset=utf-8 423.5299ms
2025-01-21 22:02:55.433 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:02:55.453 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:55.454 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 21.2113ms
2025-01-21 22:02:55.480 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 97
2025-01-21 22:02:55.483 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:02:55.484 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:02:55.486 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:02:55.523 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:02:55.532 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:02:55.544 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:02:55.712 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:02:55.729 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 22:02:55.737 +02:00 [INF] User registered successfully: hhh
2025-01-21 22:02:55.739 +02:00 [INF] User registered successfully.
2025-01-21 22:02:55.744 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 217.6811ms.
2025-01-21 22:02:55.748 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:02:55.751 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 257.8802ms
2025-01-21 22:02:55.753 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:02:55.758 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 278.0557ms
2025-01-21 22:03:24.984 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 22:03:25.007 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:25.009 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 25.8448ms
2025-01-21 22:03:25.036 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 50
2025-01-21 22:03:25.040 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:25.045 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:03:25.048 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 22:03:25.080 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 22:03:25.087 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:03:25.333 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 22:03:25.366 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 22:03:25.426 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 22:03:25.432 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 350.1561ms.
2025-01-21 22:03:25.435 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:03:25.442 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 391.2284ms
2025-01-21 22:03:25.445 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:03:25.448 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 411.1594ms
2025-01-21 22:03:28.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:03:28.621 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:28.623 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2167ms
2025-01-21 22:03:28.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:03:28.638 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:28.640 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:03:28.653 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:03:28.703 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:03:28.707 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:03:28.7074779Z"
2025-01-21 22:03:28.722 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:03:28.777 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:03:28.7773901Z"
2025-01-21 22:03:28.781 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:03:28.7813976Z"
2025-01-21 22:03:28.783 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:03:28.7838574Z"
2025-01-21 22:03:28.787 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 82.4912ms.
2025-01-21 22:03:28.790 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:03:28.804 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 141.8929ms
2025-01-21 22:03:28.807 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:03:28.810 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 180.3552ms
2025-01-21 22:03:30.260 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 22:03:30.266 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:30.268 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 7.6124ms
2025-01-21 22:03:30.276 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 22:03:30.280 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:30.283 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 22:03:30.292 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 22:03:30.325 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 22:03:30.330 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T20:03:30.3307825Z"
2025-01-21 22:03:30.334 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T20:03:30.3341828Z"
2025-01-21 22:03:30.338 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T20:03:30.3387892Z"
2025-01-21 22:03:30.353 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 22:03:30.361 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T20:03:30.3610144Z"
2025-01-21 22:03:30.363 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T20:03:30.3632552Z"
2025-01-21 22:03:30.368 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.3882ms.
2025-01-21 22:03:30.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 22:03:30.377 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 78.1334ms
2025-01-21 22:03:30.380 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 22:03:30.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 109.4575ms
2025-01-21 22:03:30.393 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 22:03:30.400 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:30.402 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 9.1807ms
2025-01-21 22:03:30.408 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-21 22:03:30.416 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:30.417 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 22:03:30.420 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 22:03:30.428 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 22:03:30.471 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 22:03:30.477 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-21 22:03:30.480 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 22:03:30.483 +02:00 [INF] Received request to fetch user by token.
2025-01-21 22:03:30.484 +02:00 [INF] Parsing token...
2025-01-21 22:03:30.487 +02:00 [INF] Attempting to retrieve user with username: hhh and email: hyg@example.com
2025-01-21 22:03:30.534 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 22:03:30.544 +02:00 [INF] User successfully found: hhh
2025-01-21 22:03:30.548 +02:00 [INF] User with Id: 788a3284-9e30-4867-a7a0-77653bd10f0d successfully retrieved.
2025-01-21 22:03:30.550 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T20:03:30.5507427Z"
2025-01-21 22:03:30.557 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 22:03:30.563 +02:00 [INF] Gift with Id: 13 successfully retrieved.
2025-01-21 22:03:30.570 +02:00 [INF] Starting to add Gift 13 (Quantity: 1) to User 788a3284-9e30-4867-a7a0-77653bd10f0d's basket
2025-01-21 22:03:30.589 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 22:03:30.656 +02:00 [INF] Created new UserGift entry for Gift 13 (Quantity: 1) and User 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:03:30.695 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 22:03:30.701 +02:00 [INF] Successfully saved changes to database for Gift 13 and User 788a3284-9e30-4867-a7a0-77653bd10f0d (Quantity: 1)
2025-01-21 22:03:30.704 +02:00 [INF] Completed AddToBasketAsync for User: 788a3284-9e30-4867-a7a0-77653bd10f0d and GiftId: 13 with Quantity: 1
2025-01-21 22:03:30.706 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 232.6988ms.
2025-01-21 22:03:30.709 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:03:30.715 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 280.8121ms
2025-01-21 22:03:30.718 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 22:03:30.720 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:03:30.722 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 313.8863ms
2025-01-21 22:03:31.228 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 22:03:31.250 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:31.253 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 24.7483ms
2025-01-21 22:03:31.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 22:03:31.267 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:03:31.269 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:03:31.277 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:03:31.283 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 22:03:31.323 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 22:03:31.328 +02:00 [INF] Received request to get basket for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:03:31.332 +02:00 [INF] Start fetching user gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:03:31.377 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 22:03:31.390 +02:00 [INF] Successfully fetched gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d, result count: 1
2025-01-21 22:03:31.395 +02:00 [INF] Successfully retrieved 1 gifts for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:03:31.398 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 72.6468ms.
2025-01-21 22:03:31.401 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:03:31.408 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 118.1716ms
2025-01-21 22:03:31.416 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:03:31.419 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:03:31.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 159.0348ms
2025-01-21 22:05:36.166 +02:00 [INF] Starting up the application
2025-01-21 22:05:39.910 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 22:05:42.297 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 22:05:42.494 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:05:43.062 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 22:05:43.141 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 22:05:43.144 +02:00 [INF] Hosting environment: Development
2025-01-21 22:05:43.146 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 22:05:44.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 22:05:44.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 306.7581ms
2025-01-21 22:05:44.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 22:05:44.454 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.8539ms
2025-01-21 22:05:44.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 22:05:44.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 341.2875ms
2025-01-21 22:06:32.365 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 111
2025-01-21 22:06:32.377 +02:00 [INF] CORS policy execution failed.
2025-01-21 22:06:32.388 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 22:06:32.397 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 22:06:32.601 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:06:32.650 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:06:32.918 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:06:33.029 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:06:33.065 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:06:33.095 +02:00 [WRN] Registration failed: Email 'hyg@example.com' is already registered.
2025-01-21 22:06:33.406 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:06:33.483 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 556.3741ms.
2025-01-21 22:06:33.499 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:06:33.536 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 876.4366ms
2025-01-21 22:06:33.541 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:06:33.550 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1184.9842ms
2025-01-21 22:07:47.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 22:07:47.927 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:07:47.930 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:07:47.933 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 35.9053ms
2025-01-21 22:07:48.434 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 22:07:48.442 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:07:48.450 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 15.9056ms
2025-01-21 22:07:48.457 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 22:07:48.493 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:07:48.497 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:07:48.753 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:07:48.762 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 22:07:48.811 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 22:07:48.821 +02:00 [INF] Received request to get basket for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:48.835 +02:00 [INF] Start fetching user gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:49.075 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 22:07:49.200 +02:00 [INF] Successfully fetched gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d, result count: 1
2025-01-21 22:07:49.202 +02:00 [INF] Successfully retrieved 1 gifts for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:49.205 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 390.0626ms.
2025-01-21 22:07:49.208 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:07:49.237 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 470.1158ms
2025-01-21 22:07:49.240 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:07:49.244 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:07:49.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 789.0514ms
2025-01-21 22:07:52.131 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 22:07:52.135 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:07:52.136 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:07:52.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 8.0795ms
2025-01-21 22:07:52.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 22:07:52.626 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:07:52.629 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:07:52.646 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:07:52.660 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 22:07:52.740 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 22:07:52.745 +02:00 [INF] Received request to get basket for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:52.751 +02:00 [INF] Start fetching user gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:52.763 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 22:07:52.785 +02:00 [INF] Successfully fetched gifts for userId: 788a3284-9e30-4867-a7a0-77653bd10f0d, result count: 1
2025-01-21 22:07:52.802 +02:00 [INF] Successfully retrieved 1 gifts for user: 788a3284-9e30-4867-a7a0-77653bd10f0d
2025-01-21 22:07:52.813 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 68.3222ms.
2025-01-21 22:07:52.819 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:07:52.827 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 161.3042ms
2025-01-21 22:07:52.830 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:07:52.833 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:07:52.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 214.0813ms
2025-01-21 22:07:58.097 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 22:07:58.102 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:07:58.105 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.3002ms
2025-01-21 22:07:58.111 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 22:07:58.119 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:07:58.123 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:07:58.132 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 22:07:58.176 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 22:07:58.187 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:07:58.398 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 22:07:58.431 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 22:07:58.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 22:07:58.484 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 304.5269ms.
2025-01-21 22:07:58.487 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:07:58.497 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 361.0938ms
2025-01-21 22:07:58.500 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:07:58.502 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 391.0687ms
2025-01-21 22:08:01.611 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:08:01.617 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:01.619 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.5154ms
2025-01-21 22:08:01.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:08:01.637 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:01.643 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:08:01.656 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:08:01.906 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:01.911 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:08:01.9109132Z"
2025-01-21 22:08:01.933 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:08:01.940 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:08:01.9401333Z"
2025-01-21 22:08:01.943 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:08:01.9432169Z"
2025-01-21 22:08:01.947 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:08:01.9475372Z"
2025-01-21 22:08:01.949 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 39.4193ms.
2025-01-21 22:08:01.953 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:01.986 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 321.2693ms
2025-01-21 22:08:01.989 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:08:01.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 363.4059ms
2025-01-21 22:08:02.603 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:08:02.609 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:02.611 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 8.5433ms
2025-01-21 22:08:02.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:02.628 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:02.630 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:02.636 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:02.645 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:02.678 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:02.684 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:02.689 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:02.702 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:02.723 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:02.725 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 43.2926ms.
2025-01-21 22:08:02.730 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:02.738 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 89.6021ms
2025-01-21 22:08:02.741 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:02.746 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:02.748 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 130.8573ms
2025-01-21 22:08:04.614 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - null null
2025-01-21 22:08:04.618 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:04.619 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator/filterByName - 204 null null 5.4568ms
2025-01-21 22:08:04.624 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 22:08:04.627 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:04.632 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 22:08:04.634 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:08:04.640 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:04.675 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 22:08:04.686 +02:00 [INF] Filtering donators by name.
2025-01-21 22:08:04.688 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:04.693 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:04.698 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:04.699 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.4813ms.
2025-01-21 22:08:04.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:08:04.706 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 60.5122ms
2025-01-21 22:08:04.712 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:08:04.713 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:04.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 90.5926ms
2025-01-21 22:08:06.062 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - application/json null
2025-01-21 22:08:06.066 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:06.071 +02:00 [INF] Incoming Request: GET /api/Donator/filterByName
2025-01-21 22:08:06.073 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:08:06.075 +02:00 [INF] Route matched with {action = "FilterByName", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FilterByNameAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:06.109 +02:00 [INF] Executing action method project.Controllers.DonatorController.FilterByNameAsync (project) - Validation state: "Valid"
2025-01-21 22:08:06.113 +02:00 [INF] Filtering donators by name.
2025-01-21 22:08:06.115 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:06.118 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:06.123 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:06.124 +02:00 [INF] Executed action method project.Controllers.DonatorController.FilterByNameAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1056ms.
2025-01-21 22:08:06.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:08:06.132 +02:00 [INF] Executed action project.Controllers.DonatorController.FilterByNameAsync (project) in 53.9923ms
2025-01-21 22:08:06.135 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.FilterByNameAsync (project)'
2025-01-21 22:08:06.138 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:06.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator/filterByName - 200 null application/json; charset=utf-8 78.3004ms
2025-01-21 22:08:12.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:12.986 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:12.988 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:12.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 10.1752ms
2025-01-21 22:08:13.492 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:08:13.519 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:13.523 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 31.117ms
2025-01-21 22:08:13.566 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:13.581 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:13.583 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:13.590 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:13.596 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:13.675 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:13.680 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:13.682 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:13.696 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:13.710 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:13.712 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.9028ms.
2025-01-21 22:08:13.720 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:13.738 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 137.4926ms
2025-01-21 22:08:13.741 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:13.746 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:13.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 184.5883ms
2025-01-21 22:08:26.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:26.619 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:26.622 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:26.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.317ms
2025-01-21 22:08:27.371 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:08:27.382 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:27.384 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 13.5097ms
2025-01-21 22:08:27.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:27.408 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:27.415 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:27.419 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:27.422 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:27.490 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:27.494 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:27.496 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:27.507 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:27.522 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:27.524 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1104ms.
2025-01-21 22:08:27.528 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:27.537 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 104.8001ms
2025-01-21 22:08:27.541 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:27.544 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:27.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 150.4655ms
2025-01-21 22:08:28.590 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:28.596 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:28.597 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:28.599 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.9439ms
2025-01-21 22:08:29.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:29.481 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:29.486 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:29.494 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:29.496 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:29.602 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:29.608 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:29.615 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:29.637 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:29.659 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:29.666 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.892ms.
2025-01-21 22:08:29.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:29.916 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 404.4907ms
2025-01-21 22:08:29.919 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:29.942 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:29.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 480.4914ms
2025-01-21 22:08:30.962 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:30.967 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:30.968 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:30.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 8.6242ms
2025-01-21 22:08:31.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:31.454 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:31.466 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:31.474 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:31.479 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:31.556 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:31.560 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:31.564 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:31.594 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:31.615 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:31.623 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.5811ms.
2025-01-21 22:08:31.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:31.630 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 144.3593ms
2025-01-21 22:08:31.636 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:31.639 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:31.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 227.6949ms
2025-01-21 22:08:39.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:39.693 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:39.695 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:39.696 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 6.9873ms
2025-01-21 22:08:40.097 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:08:40.102 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:40.109 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.962ms
2025-01-21 22:08:40.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:40.126 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:40.130 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:40.145 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:40.153 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:40.229 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:40.238 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:40.240 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:40.247 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:40.260 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:40.263 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.4778ms.
2025-01-21 22:08:40.279 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:40.284 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 117.3711ms
2025-01-21 22:08:40.290 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:40.293 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:40.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 184.5307ms
2025-01-21 22:08:50.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - null null
2025-01-21 22:08:50.826 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:50.828 +02:00 [WRN] Missing Authorization Header
2025-01-21 22:08:50.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 401 null null 9.2392ms
2025-01-21 22:08:51.362 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - null null
2025-01-21 22:08:51.371 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:51.374 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Donator - 204 null null 11.6229ms
2025-01-21 22:08:51.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Donator - application/json null
2025-01-21 22:08:51.424 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:08:51.426 +02:00 [INF] Incoming Request: GET /api/Donator
2025-01-21 22:08:51.453 +02:00 [INF] Executing endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:51.459 +02:00 [INF] Route matched with {action = "GetDonators", controller = "Donator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDonatorsAsync() on controller project.Controllers.DonatorController (project).
2025-01-21 22:08:51.603 +02:00 [INF] Executing action method project.Controllers.DonatorController.GetDonatorsAsync (project) - Validation state: "Valid"
2025-01-21 22:08:51.612 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:51.614 +02:00 [INF] Fetching all donators.
2025-01-21 22:08:51.635 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[Phone]
FROM [Donators] AS [d]
2025-01-21 22:08:51.650 +02:00 [INF] Successfully fetched 3 donators.
2025-01-21 22:08:51.652 +02:00 [INF] Executed action method project.Controllers.DonatorController.GetDonatorsAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.739ms.
2025-01-21 22:08:51.658 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Donator, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:08:51.669 +02:00 [INF] Executed action project.Controllers.DonatorController.GetDonatorsAsync (project) in 155.6651ms
2025-01-21 22:08:51.683 +02:00 [INF] Executed endpoint 'project.Controllers.DonatorController.GetDonatorsAsync (project)'
2025-01-21 22:08:51.691 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:08:51.706 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Donator - 200 null application/json; charset=utf-8 313.4754ms
2025-01-21 22:10:02.692 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:10:02.700 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:10:02.702 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 11.0702ms
2025-01-21 22:10:02.731 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 102
2025-01-21 22:10:02.734 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:10:02.741 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:10:02.743 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:10:02.791 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:10:02.800 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:10:02.810 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:10:02.966 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:10:03.179 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 22:10:03.202 +02:00 [INF] User registered successfully: aad
2025-01-21 22:10:03.207 +02:00 [INF] User registered successfully.
2025-01-21 22:10:03.209 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 415.3985ms.
2025-01-21 22:10:03.212 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:10:03.216 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 467.8123ms
2025-01-21 22:10:03.221 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:10:03.223 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 492.7001ms
2025-01-21 22:10:27.194 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:10:27.199 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:10:27.201 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.6323ms
2025-01-21 22:10:27.208 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 104
2025-01-21 22:10:27.211 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:10:27.213 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:10:27.214 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:10:27.257 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:10:27.262 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:10:27.270 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:10:27.276 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:10:27.500 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:10:27.508 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 248.6156ms.
2025-01-21 22:10:27.511 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:10:27.513 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 288.6361ms
2025-01-21 22:10:27.519 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:10:27.523 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 315.3778ms
2025-01-21 22:12:33.406 +02:00 [INF] Starting up the application
2025-01-21 22:12:38.097 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 22:12:40.463 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 22:12:40.628 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:12:41.034 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 22:12:41.040 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 22:12:41.043 +02:00 [INF] Hosting environment: Development
2025-01-21 22:12:41.045 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 22:12:42.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 22:12:42.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 383.6217ms
2025-01-21 22:12:42.861 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 22:12:42.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.56ms
2025-01-21 22:12:43.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 22:12:43.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 382.0236ms
2025-01-21 22:13:56.717 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 118
2025-01-21 22:13:56.731 +02:00 [INF] CORS policy execution failed.
2025-01-21 22:13:56.733 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 22:13:56.738 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 22:13:56.932 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:13:56.978 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:13:57.227 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:13:57.343 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:13:57.390 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:13:57.423 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:13:57.722 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:13:57.791 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 554.8742ms.
2025-01-21 22:13:57.813 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:13:57.850 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 862.5119ms
2025-01-21 22:13:57.853 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:13:57.863 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1146.1098ms
2025-01-21 22:22:14.431 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:22:14.437 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:22:14.446 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 14.7443ms
2025-01-21 22:22:14.476 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 105
2025-01-21 22:22:14.480 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:22:14.485 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:22:14.490 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:22:14.551 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:22:14.602 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:22:14.612 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:22:14.618 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:22:14.813 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:22:14.821 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 267.3396ms.
2025-01-21 22:22:14.825 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:22:14.829 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 334.6215ms
2025-01-21 22:22:14.834 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:22:14.837 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 361.3101ms
2025-01-21 22:23:23.639 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 22:23:23.663 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:23.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 25.7631ms
2025-01-21 22:23:23.694 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 22:23:23.697 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:23.702 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:23:23.711 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 22:23:23.759 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 22:23:23.771 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:23:24.004 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 22:23:24.067 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 22:23:24.123 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 22:23:24.152 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 390.6571ms.
2025-01-21 22:23:24.156 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:23:24.165 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 449.3581ms
2025-01-21 22:23:24.167 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:23:24.170 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 475.5862ms
2025-01-21 22:23:27.128 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:23:27.135 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:27.139 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.4511ms
2025-01-21 22:23:27.178 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:23:27.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:27.271 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:23:27.278 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:23:27.507 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:23:27.514 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:23:27.5137484Z"
2025-01-21 22:23:27.537 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:23:27.607 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:27.6067564Z"
2025-01-21 22:23:27.609 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:27.6091100Z"
2025-01-21 22:23:27.612 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:27.6122196Z"
2025-01-21 22:23:27.614 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 103.4812ms.
2025-01-21 22:23:27.617 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:23:27.670 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 388.9153ms
2025-01-21 22:23:27.673 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:23:27.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 498.0416ms
2025-01-21 22:23:50.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:23:50.477 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:23:50.489 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:23:50.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 22.9172ms
2025-01-21 22:23:50.927 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:23:50.937 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:50.941 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 13.8859ms
2025-01-21 22:23:50.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:23:50.999 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:23:51.008 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:23:51.010 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:23:51.073 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:23:51.077 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:23:51.0778384Z"
2025-01-21 22:23:51.091 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:23:51.138 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:51.1384408Z"
2025-01-21 22:23:51.139 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:51.1396351Z"
2025-01-21 22:23:51.141 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:23:51.1412269Z"
2025-01-21 22:23:51.142 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 65.4468ms.
2025-01-21 22:23:51.146 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:23:51.149 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 130.6214ms
2025-01-21 22:23:51.158 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:23:51.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 167.7297ms
2025-01-21 22:24:18.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:18.537 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:18.541 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:18.543 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 15.465ms
2025-01-21 22:24:19.133 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:24:19.138 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:19.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.0878ms
2025-01-21 22:24:19.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:19.187 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:19.190 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:19.195 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:19.255 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:19.258 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:19.2586199Z"
2025-01-21 22:24:19.266 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:19.276 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:19.2761757Z"
2025-01-21 22:24:19.278 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:19.2781252Z"
2025-01-21 22:24:19.280 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:19.2804739Z"
2025-01-21 22:24:19.282 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.1477ms.
2025-01-21 22:24:19.289 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:19.293 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 90.5831ms
2025-01-21 22:24:19.296 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:19.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 115.4527ms
2025-01-21 22:24:26.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:26.948 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:26.950 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:26.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.8584ms
2025-01-21 22:24:27.495 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:24:27.502 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:27.504 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 8.8975ms
2025-01-21 22:24:27.511 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:27.523 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:27.529 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:27.538 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:27.604 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:27.607 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:27.6076303Z"
2025-01-21 22:24:27.613 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:27.647 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:27.6478769Z"
2025-01-21 22:24:27.649 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:27.6494350Z"
2025-01-21 22:24:27.651 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:27.6518155Z"
2025-01-21 22:24:27.654 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 46.9204ms.
2025-01-21 22:24:27.663 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:27.667 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 122.6711ms
2025-01-21 22:24:27.671 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:27.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 166.638ms
2025-01-21 22:24:29.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:29.731 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:29.734 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:29.737 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.9369ms
2025-01-21 22:24:30.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:30.469 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:30.471 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:30.473 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:30.526 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:30.530 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:30.5304339Z"
2025-01-21 22:24:30.536 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:30.546 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:30.5460596Z"
2025-01-21 22:24:30.547 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:30.5477139Z"
2025-01-21 22:24:30.550 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:30.5505581Z"
2025-01-21 22:24:30.557 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.7244ms.
2025-01-21 22:24:30.563 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:30.568 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 85.8057ms
2025-01-21 22:24:30.574 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:30.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 113.8207ms
2025-01-21 22:24:36.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:36.711 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:36.715 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:36.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.1033ms
2025-01-21 22:24:37.230 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:24:37.236 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:37.238 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.4371ms
2025-01-21 22:24:37.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:37.253 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:37.256 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:37.262 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:37.312 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:37.316 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:37.3162291Z"
2025-01-21 22:24:37.322 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:37.328 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:37.3287396Z"
2025-01-21 22:24:37.330 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:37.3305120Z"
2025-01-21 22:24:37.337 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:37.3373482Z"
2025-01-21 22:24:37.340 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.9504ms.
2025-01-21 22:24:37.344 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:37.352 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 84.1723ms
2025-01-21 22:24:37.355 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:37.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 111.8911ms
2025-01-21 22:24:39.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:39.419 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:39.422 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:39.425 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.0885ms
2025-01-21 22:24:39.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:39.892 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:39.896 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:39.898 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:39.975 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:39.979 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:39.9796420Z"
2025-01-21 22:24:39.997 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:40.006 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:40.0068448Z"
2025-01-21 22:24:40.014 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:40.0128634Z"
2025-01-21 22:24:40.016 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:40.0164843Z"
2025-01-21 22:24:40.044 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 64.8399ms.
2025-01-21 22:24:40.054 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:40.063 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 154.7859ms
2025-01-21 22:24:40.068 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:40.079 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 190.6879ms
2025-01-21 22:24:51.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:51.762 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:51.774 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:51.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 35.4696ms
2025-01-21 22:24:52.356 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:24:52.359 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:52.362 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.0403ms
2025-01-21 22:24:52.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:52.372 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:52.374 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:52.376 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:52.431 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:52.435 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:52.4351030Z"
2025-01-21 22:24:52.443 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:52.448 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:52.4481558Z"
2025-01-21 22:24:52.449 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:52.4493037Z"
2025-01-21 22:24:52.452 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:52.4526270Z"
2025-01-21 22:24:52.455 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.2819ms.
2025-01-21 22:24:52.462 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:52.465 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 78.8316ms
2025-01-21 22:24:52.468 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:52.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 103.1801ms
2025-01-21 22:24:53.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:24:53.466 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:24:53.468 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:24:53.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.6734ms
2025-01-21 22:24:53.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:24:53.703 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:24:53.706 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:53.707 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:24:53.752 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:24:53.756 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:24:53.7565282Z"
2025-01-21 22:24:53.764 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:24:53.772 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:53.7722768Z"
2025-01-21 22:24:53.776 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:53.7763321Z"
2025-01-21 22:24:53.778 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:24:53.7784696Z"
2025-01-21 22:24:53.781 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.4354ms.
2025-01-21 22:24:53.785 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:24:53.791 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 76.2021ms
2025-01-21 22:24:53.793 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:24:53.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 96.5183ms
2025-01-21 22:25:04.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:04.582 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:04.586 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:04.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 12.329ms
2025-01-21 22:25:04.850 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:25:04.854 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:04.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.5228ms
2025-01-21 22:25:04.860 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:04.863 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:04.865 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:04.867 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:04.912 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:04.915 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:04.9152208Z"
2025-01-21 22:25:04.920 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:04.926 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:04.9265060Z"
2025-01-21 22:25:04.927 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:04.9277326Z"
2025-01-21 22:25:04.929 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:04.9291877Z"
2025-01-21 22:25:04.930 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.5567ms.
2025-01-21 22:25:04.934 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:04.940 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 64.5321ms
2025-01-21 22:25:04.942 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:04.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 83.5761ms
2025-01-21 22:25:09.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:09.432 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:09.434 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:09.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.2288ms
2025-01-21 22:25:09.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:09.642 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:09.644 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:09.646 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:09.706 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:09.710 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:09.7103535Z"
2025-01-21 22:25:09.727 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:09.732 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:09.7325101Z"
2025-01-21 22:25:09.734 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:09.7346496Z"
2025-01-21 22:25:09.737 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:09.7370202Z"
2025-01-21 22:25:09.738 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.4663ms.
2025-01-21 22:25:09.745 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:09.748 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 93.99ms
2025-01-21 22:25:09.755 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:09.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 119.1091ms
2025-01-21 22:25:23.304 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:23.309 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:23.312 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:23.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.2259ms
2025-01-21 22:25:23.535 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:25:23.539 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:23.542 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.6842ms
2025-01-21 22:25:23.546 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:23.550 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:23.552 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:23.554 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:23.626 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:23.628 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:23.6288560Z"
2025-01-21 22:25:23.635 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:23.639 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:23.6399701Z"
2025-01-21 22:25:23.641 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:23.6411366Z"
2025-01-21 22:25:23.642 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:23.6427637Z"
2025-01-21 22:25:23.644 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.0931ms.
2025-01-21 22:25:23.648 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:23.656 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 91.4308ms
2025-01-21 22:25:23.660 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:23.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 115.6076ms
2025-01-21 22:25:32.339 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:32.343 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:32.345 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:32.346 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.6015ms
2025-01-21 22:25:32.570 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:25:32.574 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:32.575 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.686ms
2025-01-21 22:25:32.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:32.586 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:32.588 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:32.593 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:32.636 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:32.640 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:32.6408364Z"
2025-01-21 22:25:32.644 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:32.648 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:32.6488777Z"
2025-01-21 22:25:32.650 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:32.6503252Z"
2025-01-21 22:25:32.652 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:32.6522173Z"
2025-01-21 22:25:32.656 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.3518ms.
2025-01-21 22:25:32.659 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:32.662 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 59.645ms
2025-01-21 22:25:32.664 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:32.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.4008ms
2025-01-21 22:25:42.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:42.735 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:42.737 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:42.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.1203ms
2025-01-21 22:25:42.953 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:25:42.957 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:42.959 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.2782ms
2025-01-21 22:25:42.968 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:42.972 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:42.975 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:42.978 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:43.027 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:43.029 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:43.0297351Z"
2025-01-21 22:25:43.033 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:43.038 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:43.0383075Z"
2025-01-21 22:25:43.039 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:43.0396595Z"
2025-01-21 22:25:43.041 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:43.0411461Z"
2025-01-21 22:25:43.044 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.0935ms.
2025-01-21 22:25:43.047 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:43.050 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 61.7459ms
2025-01-21 22:25:43.053 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:43.055 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 86.6625ms
2025-01-21 22:25:55.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:25:55.243 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:25:55.245 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:25:55.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.3231ms
2025-01-21 22:25:55.505 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:25:55.509 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:55.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.5466ms
2025-01-21 22:25:55.516 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:25:55.520 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:25:55.523 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:55.524 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:25:55.568 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:25:55.571 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:25:55.5717196Z"
2025-01-21 22:25:55.576 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:25:55.579 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:55.5798548Z"
2025-01-21 22:25:55.581 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:55.5811204Z"
2025-01-21 22:25:55.582 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:25:55.5826583Z"
2025-01-21 22:25:55.585 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.3227ms.
2025-01-21 22:25:55.587 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:25:55.594 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 60.6844ms
2025-01-21 22:25:55.597 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:25:55.599 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 82.9473ms
2025-01-21 22:26:08.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:08.981 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:08.984 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:08.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.1038ms
2025-01-21 22:26:09.431 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:26:09.436 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:09.438 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.6231ms
2025-01-21 22:26:09.443 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:26:09.447 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:09.451 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:09.454 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:26:09.523 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:26:09.528 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:26:09.5279801Z"
2025-01-21 22:26:09.537 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:26:09.545 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:09.5453256Z"
2025-01-21 22:26:09.547 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:09.5471272Z"
2025-01-21 22:26:09.557 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:09.5573386Z"
2025-01-21 22:26:09.559 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.7683ms.
2025-01-21 22:26:09.564 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:26:09.574 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 112.4928ms
2025-01-21 22:26:09.577 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:09.581 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 137.7893ms
2025-01-21 22:26:10.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:10.713 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:10.716 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:10.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.5571ms
2025-01-21 22:26:10.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:26:10.969 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:10.971 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:10.972 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:26:11.010 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:26:11.013 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:26:11.0134434Z"
2025-01-21 22:26:11.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:26:11.023 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:11.0236870Z"
2025-01-21 22:26:11.025 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:11.0253175Z"
2025-01-21 22:26:11.027 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:11.0272997Z"
2025-01-21 22:26:11.028 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.4077ms.
2025-01-21 22:26:11.031 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:26:11.039 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 60.8281ms
2025-01-21 22:26:11.042 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:11.046 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 81.7634ms
2025-01-21 22:26:21.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:21.481 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:21.484 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:21.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 30.5809ms
2025-01-21 22:26:21.753 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:26:21.757 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:21.760 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.1915ms
2025-01-21 22:26:21.771 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:26:21.780 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:21.792 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:21.794 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:26:21.848 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:26:21.852 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:26:21.8528657Z"
2025-01-21 22:26:21.860 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:26:21.870 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:21.8708168Z"
2025-01-21 22:26:21.872 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:21.8723220Z"
2025-01-21 22:26:21.874 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:21.8741595Z"
2025-01-21 22:26:21.876 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.1613ms.
2025-01-21 22:26:21.889 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:26:21.897 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 92.8077ms
2025-01-21 22:26:21.901 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:21.905 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 133.5424ms
2025-01-21 22:26:44.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:44.659 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:44.673 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:44.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 29.3315ms
2025-01-21 22:26:45.001 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:26:45.004 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:45.006 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.4688ms
2025-01-21 22:26:45.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:26:45.019 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:45.022 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:45.024 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:26:45.069 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:26:45.072 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:26:45.0721807Z"
2025-01-21 22:26:45.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:26:45.082 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:45.0827266Z"
2025-01-21 22:26:45.084 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:45.0848433Z"
2025-01-21 22:26:45.086 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:45.0868635Z"
2025-01-21 22:26:45.088 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.5365ms.
2025-01-21 22:26:45.094 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:26:45.097 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 64.6721ms
2025-01-21 22:26:45.100 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:45.102 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 91.3684ms
2025-01-21 22:26:54.765 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:54.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:26:54.792 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:54.777 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:26:54.805 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:54.809 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:26:54.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 45.0429ms
2025-01-21 22:26:54.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 49.0891ms
2025-01-21 22:26:55.218 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:26:55.222 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:55.223 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.5129ms
2025-01-21 22:26:55.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:26:55.233 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:26:55.236 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:55.238 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:26:55.287 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:26:55.290 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:26:55.2901442Z"
2025-01-21 22:26:55.296 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:26:55.302 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:55.3022903Z"
2025-01-21 22:26:55.305 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:55.3054687Z"
2025-01-21 22:26:55.307 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:26:55.3070125Z"
2025-01-21 22:26:55.308 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.3371ms.
2025-01-21 22:26:55.311 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:26:55.313 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 67.4827ms
2025-01-21 22:26:55.316 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:26:55.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 94.0267ms
2025-01-21 22:27:10.639 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:27:10.660 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:27:10.662 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:27:10.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 24.2275ms
2025-01-21 22:27:10.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 22:27:10.920 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:27:10.922 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 22:27:10.924 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 22:27:10.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.9715ms
2025-01-21 22:27:45.132 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:27:45.153 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:27:45.156 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 24.3133ms
2025-01-21 22:27:45.179 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 109
2025-01-21 22:27:45.183 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:27:45.188 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:27:45.191 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:27:45.235 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:27:45.244 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:27:45.257 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:27:45.266 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:27:45.471 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:27:45.479 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 241.3849ms.
2025-01-21 22:27:45.482 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:27:45.487 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 291.3905ms
2025-01-21 22:27:45.490 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:27:45.492 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 312.9414ms
2025-01-21 22:28:51.894 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 122
2025-01-21 22:28:51.914 +02:00 [INF] CORS policy execution failed.
2025-01-21 22:28:51.916 +02:00 [INF] Request origin http://localhost:5062 does not have permission to access the resource.
2025-01-21 22:28:51.920 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:28:51.921 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:28:51.968 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:28:51.979 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:28:51.990 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:28:51.999 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:28:52.196 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:28:52.208 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 237.0448ms.
2025-01-21 22:28:52.211 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:28:52.214 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 288.8246ms
2025-01-21 22:28:52.217 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:28:52.222 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 328.8119ms
2025-01-21 22:32:32.891 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:32:32.910 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:32:32.912 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 22.0496ms
2025-01-21 22:32:32.936 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 109
2025-01-21 22:32:32.941 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:32:32.942 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:32:32.944 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:32:32.977 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:32:32.987 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:32:32.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:32:33.006 +02:00 [WRN] Registration failed: Email 'mhyg@example.com' is already registered.
2025-01-21 22:32:33.184 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Email is already registered
 ---> System.ApplicationException: Email is already registered
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 86
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:32:33.194 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 214.2874ms.
2025-01-21 22:32:33.198 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:32:33.201 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 251.7365ms
2025-01-21 22:32:33.204 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:32:33.210 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 273.4725ms
2025-01-21 22:34:08.368 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:34:08.388 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:34:08.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 22.3582ms
2025-01-21 22:34:08.415 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 106
2025-01-21 22:34:08.418 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:34:08.421 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:34:08.423 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:34:08.451 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:34:08.461 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:34:08.469 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:34:08.658 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:34:08.667 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 212.774ms.
2025-01-21 22:34:08.670 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:34:08.677 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 249.1998ms
2025-01-21 22:34:08.679 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:34:08.682 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 267.286ms
2025-01-21 22:35:37.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:35:37.043 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:35:37.045 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 20.9124ms
2025-01-21 22:35:37.071 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 110
2025-01-21 22:35:37.075 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:35:37.077 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:35:37.082 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:35:37.116 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:35:37.123 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:35:37.130 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:35:37.318 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:35:37.330 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 211.6836ms.
2025-01-21 22:35:37.333 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:35:37.336 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 248.7583ms
2025-01-21 22:35:37.339 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:35:37.341 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 270.5184ms
2025-01-21 22:38:44.336 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:38:44.358 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:38:44.359 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 23.3503ms
2025-01-21 22:38:44.385 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 107
2025-01-21 22:38:44.388 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:38:44.390 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:38:44.391 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:38:44.421 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:38:44.430 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:38:44.438 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:38:44.626 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:38:44.634 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 211.0389ms.
2025-01-21 22:38:44.637 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:38:44.640 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 243.4605ms
2025-01-21 22:38:44.642 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:38:44.645 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 260.1243ms
2025-01-21 22:40:16.972 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:40:16.976 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:40:16.978 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.141ms
2025-01-21 22:40:17.004 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 107
2025-01-21 22:40:17.007 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:40:17.010 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:40:17.012 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:40:17.048 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:40:17.057 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:40:17.065 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:40:17.256 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:40:17.264 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 212.6269ms.
2025-01-21 22:40:17.269 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:40:17.272 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 252.3071ms
2025-01-21 22:40:17.274 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:40:17.277 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 273.0361ms
2025-01-21 22:42:33.738 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:42:33.780 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:42:33.782 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 43.7462ms
2025-01-21 22:42:33.789 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 107
2025-01-21 22:42:33.794 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:42:33.797 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:42:33.801 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:42:33.837 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:42:33.846 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:42:33.853 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:42:34.032 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:42:34.042 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 203.2259ms.
2025-01-21 22:42:34.046 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:42:34.048 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 241.8086ms
2025-01-21 22:42:34.056 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:42:34.059 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 269.6834ms
2025-01-21 22:46:10.956 +02:00 [INF] Starting up the application
2025-01-21 22:46:15.383 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 22:46:18.625 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 22:46:18.818 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:46:19.335 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 22:46:19.343 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 22:46:19.345 +02:00 [INF] Hosting environment: Development
2025-01-21 22:46:19.346 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 22:46:20.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 22:46:21.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 549.6188ms
2025-01-21 22:46:21.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 22:46:21.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 36.328ms
2025-01-21 22:46:21.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 22:46:21.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.0103ms
2025-01-21 22:48:19.096 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 22:48:19.108 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:48:19.113 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 16.7714ms
2025-01-21 22:48:19.136 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 107
2025-01-21 22:48:19.142 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:48:19.145 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 22:48:19.356 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:48:19.397 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 22:48:19.665 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 22:48:19.779 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:48:19.811 +02:00 [WRN] Registration failed: Username 'yj' is already taken.
2025-01-21 22:48:20.098 +02:00 [ERR] Registration failed.
System.Net.Http.HttpRequestException: Username is already taken
 ---> System.ApplicationException: Username is already taken
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 79
   --- End of inner exception stack trace ---
   at project.Services.AuthService.RegisterAsync(Register model) in E:\פרויקט\server\project\Services\AuthService.cs:line 108
   at project.Controllers.AuthController.Register(Register model) in E:\פרויקט\server\project\Controllers\AuthController .cs:line 47
2025-01-21 22:48:20.190 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 517.3394ms.
2025-01-21 22:48:20.206 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:48:20.247 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 837.4449ms
2025-01-21 22:48:20.251 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 22:48:20.263 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 500 null application/json; charset=utf-8 1126.746ms
2025-01-21 22:56:02.961 +02:00 [INF] Starting up the application
2025-01-21 22:56:06.340 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 22:56:08.811 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 22:56:08.990 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 22:56:09.390 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 22:56:09.396 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 22:56:09.399 +02:00 [INF] Hosting environment: Development
2025-01-21 22:56:09.401 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 22:56:10.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 22:56:10.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 376.7885ms
2025-01-21 22:56:10.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 22:56:10.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 11.8906ms
2025-01-21 22:56:11.150 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 22:56:11.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 328.2473ms
2025-01-21 22:56:39.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 22:56:39.947 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:39.953 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 16.9291ms
2025-01-21 22:56:39.982 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 58
2025-01-21 22:56:39.988 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:39.991 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 22:56:40.116 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:56:40.156 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 22:56:40.386 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 22:56:40.502 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 22:56:40.777 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 22:56:40.871 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 22:56:40.931 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 22:56:40.970 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 577.0275ms.
2025-01-21 22:56:40.986 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 22:56:41.027 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 860.777ms
2025-01-21 22:56:41.031 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 22:56:41.043 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 1060.5567ms
2025-01-21 22:56:43.058 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - null null
2025-01-21 22:56:43.064 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:43.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 204 null null 8.0949ms
2025-01-21 22:56:43.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - application/json null
2025-01-21 22:56:43.076 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:43.201 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 22:56:43.210 +02:00 [INF] Route matched with {action = "GetGiftsWithDonatorAndCategory", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDto.GiftDto]] GetGiftsWithDonatorAndCategory() on controller project.Controllers.GiftController (project).
2025-01-21 22:56:43.477 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) - Validation state: "Valid"
2025-01-21 22:56:43.484 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T20:56:43.4843673Z"
2025-01-21 22:56:43.489 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T20:56:43.4888061Z"
2025-01-21 22:56:43.496 +02:00 [INF] Starting GetGiftsWithDonatorAndCategory at "2025-01-21T20:56:43.4963863Z"
2025-01-21 22:56:43.605 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[Price], [g].[image], [g].[IsLotteryCompleted], [d].[Name] AS [DonatorName], [c].[name] AS [Category], [g].[CategoryId], (
    SELECT COUNT(*)
    FROM [UserGifts] AS [u]
    WHERE [g].[Id] = [u].[GiftId]) AS [Purchases]
FROM [Gifts] AS [g]
LEFT JOIN [Donators] AS [d] ON [g].[DonatorId] = [d].[Id]
LEFT JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
2025-01-21 22:56:43.613 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T20:56:43.6134040Z"
2025-01-21 22:56:43.615 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T20:56:43.6157308Z"
2025-01-21 22:56:43.621 +02:00 [INF] GetGiftsWithDonatorAndCategory completed successfully at "2025-01-21T20:56:43.6211639Z"
2025-01-21 22:56:43.625 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 145.2603ms.
2025-01-21 22:56:43.630 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDto.GiftDto, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:56:43.668 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project) in 453.2647ms
2025-01-21 22:56:43.670 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsWithDonatorAndCategory (project)'
2025-01-21 22:56:43.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/giftsWithDonatorAndCategory - 200 null application/json; charset=utf-8 601.4338ms
2025-01-21 22:56:45.404 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 22:56:45.411 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:45.414 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.9017ms
2025-01-21 22:56:45.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 22:56:45.427 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:45.430 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 22:56:45.470 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:56:45.477 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 22:56:45.514 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 22:56:45.521 +02:00 [INF] Received request to get basket for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 22:56:45.526 +02:00 [INF] Start fetching user gifts for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 22:56:45.565 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 22:56:45.571 +02:00 [WRN] No gifts found for userId: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 22:56:45.573 +02:00 [INF] No gifts found for user: 1d8e9ca4-bac9-4755-b51a-a48c531ff799
2025-01-21 22:56:45.574 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 56.8978ms.
2025-01-21 22:56:45.577 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.EmptyPartition`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:56:45.592 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 111.8934ms
2025-01-21 22:56:45.594 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 22:56:45.603 +02:00 [INF] Outgoing Response: 200
2025-01-21 22:56:45.605 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 181.9915ms
2025-01-21 22:56:47.370 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 22:56:47.375 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:47.378 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.9483ms
2025-01-21 22:56:47.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 22:56:47.388 +02:00 [INF] CORS policy execution successful.
2025-01-21 22:56:47.394 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:56:47.404 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 22:56:47.440 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 22:56:47.444 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T20:56:47.4441332Z"
2025-01-21 22:56:47.460 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 22:56:47.514 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:56:47.5141684Z"
2025-01-21 22:56:47.516 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:56:47.5165699Z"
2025-01-21 22:56:47.518 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T20:56:47.5184244Z"
2025-01-21 22:56:47.520 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 77.2228ms.
2025-01-21 22:56:47.523 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 22:56:47.576 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 165.6482ms
2025-01-21 22:56:47.578 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 22:56:47.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 196.9139ms
2025-01-21 23:23:50.460 +02:00 [INF] Starting up the application
2025-01-21 23:23:55.383 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:23:59.058 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:23:59.258 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:23:59.792 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:23:59.798 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:23:59.800 +02:00 [INF] Hosting environment: Development
2025-01-21 23:23:59.802 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:24:00.958 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:24:01.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 453.5577ms
2025-01-21 23:24:01.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:24:01.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 15.6311ms
2025-01-21 23:24:01.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:24:02.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 470.9334ms
2025-01-21 23:24:09.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:09.793 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:24:09.994 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:10.004 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:10.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 223.0228ms
2025-01-21 23:24:10.934 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:24:10.940 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:10.945 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 11.5979ms
2025-01-21 23:24:10.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:10.957 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:11.177 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:11.226 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:12.119 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:12.131 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:12.1311039Z"
2025-01-21 23:24:12.515 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:12.610 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:12.6105265Z"
2025-01-21 23:24:12.615 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:12.6143820Z"
2025-01-21 23:24:12.620 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:12.6204555Z"
2025-01-21 23:24:12.632 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 500.9159ms.
2025-01-21 23:24:12.654 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:12.777 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 1537.2121ms
2025-01-21 23:24:12.780 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:12.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 1846.2491ms
2025-01-21 23:24:13.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:13.764 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:13.768 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:13.770 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 19.6131ms
2025-01-21 23:24:14.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:14.471 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:14.482 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:14.486 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:14.603 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:14.624 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:14.6236097Z"
2025-01-21 23:24:14.691 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:14.699 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:14.6999099Z"
2025-01-21 23:24:14.702 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:14.7020506Z"
2025-01-21 23:24:14.705 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:14.7052655Z"
2025-01-21 23:24:14.719 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 93.3129ms.
2025-01-21 23:24:14.726 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:14.744 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 241.5468ms
2025-01-21 23:24:14.751 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:14.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 289.7805ms
2025-01-21 23:24:35.406 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:35.411 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:35.413 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:35.414 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 7.9649ms
2025-01-21 23:24:36.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:24:36.097 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:36.102 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 21.6976ms
2025-01-21 23:24:36.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:36.124 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:36.127 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:36.132 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:36.197 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:36.201 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:36.2010774Z"
2025-01-21 23:24:36.210 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:36.218 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:36.2182569Z"
2025-01-21 23:24:36.220 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:36.2203660Z"
2025-01-21 23:24:36.223 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:36.2233750Z"
2025-01-21 23:24:36.230 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.868ms.
2025-01-21 23:24:36.236 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:36.245 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 107.7007ms
2025-01-21 23:24:36.248 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:36.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 132.5664ms
2025-01-21 23:24:39.602 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:39.607 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:39.610 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:39.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.9695ms
2025-01-21 23:24:40.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:40.122 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:40.130 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:40.132 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:40.222 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:40.227 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:40.2272328Z"
2025-01-21 23:24:40.235 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:40.243 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:40.2437530Z"
2025-01-21 23:24:40.245 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:40.2456559Z"
2025-01-21 23:24:40.253 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:40.2533665Z"
2025-01-21 23:24:40.263 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.0093ms.
2025-01-21 23:24:40.279 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:40.287 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 118.8271ms
2025-01-21 23:24:40.293 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:40.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 182.4173ms
2025-01-21 23:24:42.554 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:42.559 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:42.562 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:42.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.6939ms
2025-01-21 23:24:43.128 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:24:43.135 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:43.138 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 9.2018ms
2025-01-21 23:24:43.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:43.154 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:43.157 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:43.160 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:43.235 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:43.238 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:43.2384573Z"
2025-01-21 23:24:43.245 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:43.252 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:43.2527237Z"
2025-01-21 23:24:43.254 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:43.2546961Z"
2025-01-21 23:24:43.257 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:43.2572059Z"
2025-01-21 23:24:43.259 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 21.3206ms.
2025-01-21 23:24:43.267 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:43.271 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 100.1144ms
2025-01-21 23:24:43.274 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:43.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 133.8437ms
2025-01-21 23:24:45.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:45.597 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:45.600 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:45.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.5248ms
2025-01-21 23:24:46.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:46.293 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:46.296 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:46.298 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:46.365 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:46.369 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:46.3695646Z"
2025-01-21 23:24:46.381 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:46.394 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:46.3942947Z"
2025-01-21 23:24:46.398 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:46.3979615Z"
2025-01-21 23:24:46.413 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:46.4130617Z"
2025-01-21 23:24:46.420 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 51.1007ms.
2025-01-21 23:24:46.435 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:46.443 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 131.0515ms
2025-01-21 23:24:46.449 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:46.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 163.9479ms
2025-01-21 23:24:48.556 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:48.561 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:48.564 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:48.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.3505ms
2025-01-21 23:24:49.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:24:49.078 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:49.080 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.7811ms
2025-01-21 23:24:49.090 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:49.094 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:49.096 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:49.098 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:49.163 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:49.167 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:49.1675873Z"
2025-01-21 23:24:49.176 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:49.186 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:49.1866897Z"
2025-01-21 23:24:49.189 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:49.1896781Z"
2025-01-21 23:24:49.192 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:49.1922208Z"
2025-01-21 23:24:49.195 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.4643ms.
2025-01-21 23:24:49.203 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:49.209 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 99.7622ms
2025-01-21 23:24:49.215 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:49.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 128.2843ms
2025-01-21 23:24:52.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:52.569 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:52.571 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:52.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.2766ms
2025-01-21 23:24:53.089 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:53.094 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:53.097 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:53.099 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:53.165 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:53.168 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:53.1686415Z"
2025-01-21 23:24:53.177 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:53.185 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:53.1851102Z"
2025-01-21 23:24:53.187 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:53.1872548Z"
2025-01-21 23:24:53.190 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:53.1900175Z"
2025-01-21 23:24:53.195 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.9554ms.
2025-01-21 23:24:53.200 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:53.203 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 98.4327ms
2025-01-21 23:24:53.206 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:53.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 123.5174ms
2025-01-21 23:24:56.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:24:56.753 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:24:56.755 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:24:56.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.3967ms
2025-01-21 23:24:57.295 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:24:57.303 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:57.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 16.3407ms
2025-01-21 23:24:57.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:24:57.334 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:24:57.341 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:57.345 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:24:57.426 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:24:57.434 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:24:57.4338311Z"
2025-01-21 23:24:57.455 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:24:57.489 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:57.4892695Z"
2025-01-21 23:24:57.495 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:57.4953895Z"
2025-01-21 23:24:57.498 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:24:57.4982896Z"
2025-01-21 23:24:57.500 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 67.0102ms.
2025-01-21 23:24:57.504 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:24:57.515 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 148.0093ms
2025-01-21 23:24:57.518 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:24:57.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 193.4048ms
2025-01-21 23:25:16.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:25:16.113 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:25:16.115 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:25:16.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.2931ms
2025-01-21 23:25:16.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:25:16.419 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:25:16.422 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.4337ms
2025-01-21 23:25:16.427 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:25:16.430 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:25:16.432 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:16.434 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:25:16.482 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:25:16.484 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:25:16.4847350Z"
2025-01-21 23:25:16.490 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:25:16.495 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:16.4950522Z"
2025-01-21 23:25:16.496 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:16.4963977Z"
2025-01-21 23:25:16.499 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:16.4997876Z"
2025-01-21 23:25:16.501 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.6859ms.
2025-01-21 23:25:16.504 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:25:16.507 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 63.4672ms
2025-01-21 23:25:16.510 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:16.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 85.2795ms
2025-01-21 23:25:26.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:25:26.804 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:25:26.806 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:25:26.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 29.405ms
2025-01-21 23:25:27.102 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:25:27.118 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:25:27.122 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 19.4749ms
2025-01-21 23:25:27.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:25:27.134 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:25:27.163 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:27.169 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:25:27.225 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:25:27.231 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:25:27.2315509Z"
2025-01-21 23:25:27.238 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:25:27.249 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:27.2499110Z"
2025-01-21 23:25:27.252 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:27.2521145Z"
2025-01-21 23:25:27.255 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:27.2549799Z"
2025-01-21 23:25:27.263 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 32.1725ms.
2025-01-21 23:25:27.271 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:25:27.286 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 110.2417ms
2025-01-21 23:25:27.300 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:27.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 185.106ms
2025-01-21 23:25:28.002 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:25:28.007 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:25:28.011 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:25:28.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.0727ms
2025-01-21 23:25:28.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:25:28.273 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:25:28.275 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:28.278 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:25:28.332 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:25:28.334 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:25:28.3349156Z"
2025-01-21 23:25:28.340 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:25:28.346 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:28.3463721Z"
2025-01-21 23:25:28.347 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:28.3475025Z"
2025-01-21 23:25:28.348 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:25:28.3489631Z"
2025-01-21 23:25:28.350 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.5279ms.
2025-01-21 23:25:28.353 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:25:28.355 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 72.075ms
2025-01-21 23:25:28.362 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:25:28.364 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 95.7234ms
2025-01-21 23:27:05.861 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:27:05.890 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:27:05.896 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:27:05.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 36.5521ms
2025-01-21 23:27:06.272 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:27:06.281 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:27:06.285 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 13.1051ms
2025-01-21 23:27:06.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:27:06.322 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:27:06.325 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:27:06.327 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:27:06.394 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:27:06.470 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:27:06.4709473Z"
2025-01-21 23:27:06.480 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:27:06.485 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:06.4857703Z"
2025-01-21 23:27:06.487 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:06.4873840Z"
2025-01-21 23:27:06.492 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:06.4919715Z"
2025-01-21 23:27:06.493 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.9691ms.
2025-01-21 23:27:06.496 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:27:06.499 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 163.9912ms
2025-01-21 23:27:06.501 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:27:06.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 190.035ms
2025-01-21 23:27:19.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:27:19.635 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:27:19.637 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:27:19.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 27.1681ms
2025-01-21 23:27:19.972 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:27:19.977 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:27:19.979 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.0035ms
2025-01-21 23:27:19.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:27:19.992 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:27:19.995 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:27:19.998 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:27:20.052 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:27:20.056 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:27:20.0562127Z"
2025-01-21 23:27:20.064 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:27:20.070 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:20.0701913Z"
2025-01-21 23:27:20.073 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:20.0730381Z"
2025-01-21 23:27:20.079 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:27:20.0793319Z"
2025-01-21 23:27:20.081 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.4666ms.
2025-01-21 23:27:20.085 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:27:20.089 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 80.6516ms
2025-01-21 23:27:20.096 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:27:20.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 111.492ms
2025-01-21 23:28:23.834 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:28:23.853 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:28:23.855 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:28:23.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 22.8503ms
2025-01-21 23:28:24.125 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:28:24.147 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:24.150 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 25.7386ms
2025-01-21 23:28:24.157 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:28:24.163 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:24.168 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:24.170 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:28:24.216 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:28:24.219 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:28:24.2190118Z"
2025-01-21 23:28:24.225 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:28:24.232 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:24.2328970Z"
2025-01-21 23:28:24.234 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:24.2345996Z"
2025-01-21 23:28:24.236 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:24.2366380Z"
2025-01-21 23:28:24.240 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.9849ms.
2025-01-21 23:28:24.252 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:28:24.256 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 79.513ms
2025-01-21 23:28:24.262 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:24.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 107.3495ms
2025-01-21 23:28:26.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:28:26.694 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:28:26.696 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:28:26.699 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.8333ms
2025-01-21 23:28:26.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:28:26.945 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:26.949 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:26.951 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:28:26.997 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:28:27.000 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:28:27.0001054Z"
2025-01-21 23:28:27.005 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:28:27.033 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:27.0333691Z"
2025-01-21 23:28:27.035 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:27.0352933Z"
2025-01-21 23:28:27.037 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:27.0378168Z"
2025-01-21 23:28:27.043 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.2049ms.
2025-01-21 23:28:27.047 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:28:27.051 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 95.3691ms
2025-01-21 23:28:27.053 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:27.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 119.5149ms
2025-01-21 23:28:34.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:28:34.625 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:28:34.627 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:28:34.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.3791ms
2025-01-21 23:28:34.980 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:28:34.985 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:34.986 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.806ms
2025-01-21 23:28:34.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:28:34.996 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:35.002 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:35.004 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:28:35.096 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:28:35.114 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:28:35.1145758Z"
2025-01-21 23:28:35.131 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:28:35.148 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:35.1482126Z"
2025-01-21 23:28:35.152 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:35.1521778Z"
2025-01-21 23:28:35.164 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:35.1648600Z"
2025-01-21 23:28:35.167 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 53.1872ms.
2025-01-21 23:28:35.179 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:28:35.202 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 184.4114ms
2025-01-21 23:28:35.241 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:35.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 253.6916ms
2025-01-21 23:28:36.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:28:36.579 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:28:36.583 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:28:36.585 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.849ms
2025-01-21 23:28:36.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:28:36.861 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:28:36.864 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:36.866 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:28:36.902 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:28:36.905 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:28:36.9059318Z"
2025-01-21 23:28:36.912 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:28:36.916 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:36.9160089Z"
2025-01-21 23:28:36.917 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:36.9172181Z"
2025-01-21 23:28:36.921 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:28:36.9215058Z"
2025-01-21 23:28:36.924 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.0638ms.
2025-01-21 23:28:36.928 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:28:36.930 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 60.1938ms
2025-01-21 23:28:36.932 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:28:36.936 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 79.88ms
2025-01-21 23:29:20.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:29:20.553 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:29:20.555 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:29:20.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 11.6222ms
2025-01-21 23:29:20.798 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:29:20.820 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:29:20.823 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 24.546ms
2025-01-21 23:29:20.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:29:20.835 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:29:20.839 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:29:20.841 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:29:20.881 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:29:20.884 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:29:20.8842395Z"
2025-01-21 23:29:20.889 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:29:20.895 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:20.8950431Z"
2025-01-21 23:29:20.896 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:20.8961602Z"
2025-01-21 23:29:20.897 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:20.8976091Z"
2025-01-21 23:29:20.899 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.8581ms.
2025-01-21 23:29:20.901 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:29:20.905 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 56.1236ms
2025-01-21 23:29:20.910 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:29:20.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 81.1601ms
2025-01-21 23:29:27.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:29:27.699 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:29:27.701 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:29:27.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.883ms
2025-01-21 23:29:28.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:29:28.218 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:29:28.228 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 28.1521ms
2025-01-21 23:29:28.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:29:28.374 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:29:28.380 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:29:28.382 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:29:28.428 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:29:28.433 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:29:28.4335335Z"
2025-01-21 23:29:28.452 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:29:28.483 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:28.4835187Z"
2025-01-21 23:29:28.485 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:28.4856697Z"
2025-01-21 23:29:28.493 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:29:28.4936525Z"
2025-01-21 23:29:28.495 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 62.3801ms.
2025-01-21 23:29:28.500 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:29:28.514 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 124.766ms
2025-01-21 23:29:28.521 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:29:28.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 159.3451ms
2025-01-21 23:35:54.635 +02:00 [INF] Starting up the application
2025-01-21 23:35:58.440 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:36:01.096 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:36:01.298 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:36:01.751 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:36:01.828 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:36:01.831 +02:00 [INF] Hosting environment: Development
2025-01-21 23:36:01.833 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:36:03.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:36:03.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 382.8914ms
2025-01-21 23:36:04.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:36:04.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 13.7596ms
2025-01-21 23:36:04.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:36:04.405 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - project.Controllers.AuthController.Register (project). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:36:04.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 178.5957ms
2025-01-21 23:37:04.040 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:37:04.065 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:04.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 32.9316ms
2025-01-21 23:37:04.102 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 116
2025-01-21 23:37:04.107 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:04.111 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:37:04.297 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 194.6109ms
2025-01-21 23:37:04.306 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:37:16.666 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:37:16.672 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:16.673 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.697ms
2025-01-21 23:37:16.678 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 111
2025-01-21 23:37:16.681 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:16.686 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 8.4972ms
2025-01-21 23:37:16.696 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:37:21.622 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 115
2025-01-21 23:37:21.626 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:21.630 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 8.1156ms
2025-01-21 23:37:21.638 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:37:28.027 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:37:28.032 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:28.034 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 6.8726ms
2025-01-21 23:37:28.041 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 118
2025-01-21 23:37:28.045 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:28.046 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 5.0917ms
2025-01-21 23:37:28.056 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:37:47.752 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:37:47.758 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:47.760 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 7.6375ms
2025-01-21 23:37:47.767 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 124
2025-01-21 23:37:47.774 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:37:47.776 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 9.6905ms
2025-01-21 23:37:47.782 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:38:04.524 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:38:04.528 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:04.530 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.8705ms
2025-01-21 23:38:04.537 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 124
2025-01-21 23:38:04.540 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:04.542 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 4.8318ms
2025-01-21 23:38:04.547 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:38:07.764 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 124
2025-01-21 23:38:07.770 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:07.772 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 7.4935ms
2025-01-21 23:38:07.778 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:38:30.974 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:38:30.979 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:30.982 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 7.5683ms
2025-01-21 23:38:30.989 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 124
2025-01-21 23:38:30.997 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:31.001 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 12.0373ms
2025-01-21 23:38:31.008 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:38:54.157 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:38:54.161 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:54.163 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 5.8174ms
2025-01-21 23:38:54.169 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 124
2025-01-21 23:38:54.173 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:38:54.174 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 404 0 null 5.0742ms
2025-01-21 23:38:54.185 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5062/api/Auth/register, Response status code: 404
2025-01-21 23:40:02.747 +02:00 [INF] Starting up the application
2025-01-21 23:40:06.083 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:40:08.481 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:40:08.642 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:40:09.095 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:40:09.104 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:40:09.107 +02:00 [INF] Hosting environment: Development
2025-01-21 23:40:09.108 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:40:10.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:40:10.435 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 409.4963ms
2025-01-21 23:40:10.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:40:10.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 12.8722ms
2025-01-21 23:40:10.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:40:11.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 344.3958ms
2025-01-21 23:40:30.047 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:40:30.060 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:40:30.067 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 19.7277ms
2025-01-21 23:40:30.074 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 111
2025-01-21 23:40:30.086 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:40:30.092 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:40:30.261 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 23:40:30.306 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 23:40:30.571 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 23:40:30.681 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:40:30.724 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 23:40:30.912 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:40:31.162 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 23:40:31.185 +02:00 [INF] User registered successfully: fdh
2025-01-21 23:40:31.187 +02:00 [INF] User registered successfully.
2025-01-21 23:40:31.196 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 616.3941ms.
2025-01-21 23:40:31.214 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 23:40:31.249 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 932.9018ms
2025-01-21 23:40:31.252 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 23:40:31.265 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 1190.8993ms
2025-01-21 23:40:55.957 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - null null
2025-01-21 23:40:55.963 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:40:55.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/register - 204 null null 7.9474ms
2025-01-21 23:40:55.972 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/register - application/json 112
2025-01-21 23:40:55.977 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:40:55.986 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 23:40:55.989 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(project.Models.Register) on controller project.Controllers.AuthController (project).
2025-01-21 23:40:56.087 +02:00 [INF] Executing action method project.Controllers.AuthController.Register (project) - Validation state: "Valid"
2025-01-21 23:40:56.126 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:40:56.136 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 23:40:56.283 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:40:56.301 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 13), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-01-21 23:40:56.308 +02:00 [INF] User registered successfully: asas
2025-01-21 23:40:56.309 +02:00 [INF] User registered successfully.
2025-01-21 23:40:56.310 +02:00 [INF] Executed action method project.Controllers.AuthController.Register (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 220.1394ms.
2025-01-21 23:40:56.315 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 23:40:56.321 +02:00 [INF] Executed action project.Controllers.AuthController.Register (project) in 328.4744ms
2025-01-21 23:40:56.323 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Register (project)'
2025-01-21 23:40:56.326 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/register - 200 null application/json; charset=utf-8 353.5265ms
2025-01-21 23:41:09.507 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - null null
2025-01-21 23:41:09.512 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:09.515 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Auth/login - 204 null null 7.8065ms
2025-01-21 23:41:09.523 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/Auth/login - application/json 60
2025-01-21 23:41:09.527 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:09.535 +02:00 [INF] Executing endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 23:41:09.548 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(project.Models.Login) on controller project.Controllers.AuthController (project).
2025-01-21 23:41:09.605 +02:00 [INF] Executing action method project.Controllers.AuthController.Login (project) - Validation state: "Valid"
2025-01-21 23:41:09.623 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-21 23:41:09.950 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-21 23:41:10.028 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-21 23:41:10.100 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-21 23:41:10.107 +02:00 [INF] Executed action method project.Controllers.AuthController.Login (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 499.6786ms.
2025-01-21 23:41:10.109 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 23:41:10.116 +02:00 [INF] Executed action project.Controllers.AuthController.Login (project) in 561.3091ms
2025-01-21 23:41:10.120 +02:00 [INF] Executed endpoint 'project.Controllers.AuthController.Login (project)'
2025-01-21 23:41:10.123 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/Auth/login - 200 null application/json; charset=utf-8 600.1602ms
2025-01-21 23:41:14.899 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:41:14.904 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:14.907 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.9447ms
2025-01-21 23:41:14.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:14.921 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:15.052 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:15.059 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:15.284 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:15.289 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:15.2890740Z"
2025-01-21 23:41:15.310 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:15.362 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:15.3617561Z"
2025-01-21 23:41:15.365 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:15.3651051Z"
2025-01-21 23:41:15.366 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:15.3666861Z"
2025-01-21 23:41:15.369 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 81.6719ms.
2025-01-21 23:41:15.371 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:15.421 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 356.7235ms
2025-01-21 23:41:15.423 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:15.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 510.5394ms
2025-01-21 23:41:28.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:28.644 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:28.661 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:28.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 38.729ms
2025-01-21 23:41:29.283 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:41:29.288 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:29.290 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 7.2702ms
2025-01-21 23:41:29.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:29.321 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:29.338 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:29.349 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:29.424 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:29.427 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:29.4276789Z"
2025-01-21 23:41:29.435 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:29.439 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:29.4397141Z"
2025-01-21 23:41:29.441 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:29.4412118Z"
2025-01-21 23:41:29.443 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:29.4430207Z"
2025-01-21 23:41:29.445 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.6014ms.
2025-01-21 23:41:29.453 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:29.455 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 95.3024ms
2025-01-21 23:41:29.457 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:29.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 158.5063ms
2025-01-21 23:41:30.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:30.623 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:30.626 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:30.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 9.8351ms
2025-01-21 23:41:30.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:30.876 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:30.878 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:30.880 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:30.916 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:30.918 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:30.9183017Z"
2025-01-21 23:41:30.923 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:30.927 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:30.9272300Z"
2025-01-21 23:41:30.930 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:30.9308374Z"
2025-01-21 23:41:30.932 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:30.9325676Z"
2025-01-21 23:41:30.934 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.9067ms.
2025-01-21 23:41:30.937 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:30.939 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 55.0007ms
2025-01-21 23:41:30.942 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:30.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 76.3196ms
2025-01-21 23:41:33.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:33.924 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:33.925 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:33.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 10.2721ms
2025-01-21 23:41:34.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:34.165 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:34.167 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:34.169 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:34.204 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:34.206 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:34.2068223Z"
2025-01-21 23:41:34.212 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:34.218 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:34.2185335Z"
2025-01-21 23:41:34.219 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:34.2197007Z"
2025-01-21 23:41:34.221 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:34.2212029Z"
2025-01-21 23:41:34.222 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.8615ms.
2025-01-21 23:41:34.225 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:34.227 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 54.9852ms
2025-01-21 23:41:34.234 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:34.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 74.8434ms
2025-01-21 23:41:37.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:37.968 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:37.973 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:37.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 12.206ms
2025-01-21 23:41:38.304 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:41:38.308 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:38.310 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.2557ms
2025-01-21 23:41:38.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:38.320 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:38.324 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:38.326 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:38.373 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:38.376 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:38.3762265Z"
2025-01-21 23:41:38.383 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:38.405 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:38.4056125Z"
2025-01-21 23:41:38.406 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:38.4068136Z"
2025-01-21 23:41:38.410 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:38.4101751Z"
2025-01-21 23:41:38.412 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36.3461ms.
2025-01-21 23:41:38.417 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:38.420 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 86.735ms
2025-01-21 23:41:38.422 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:38.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 108.8444ms
2025-01-21 23:41:46.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:46.258 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:46.260 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:46.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.2616ms
2025-01-21 23:41:46.500 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:41:46.504 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:46.505 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 5.7566ms
2025-01-21 23:41:46.512 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:46.520 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:46.524 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:46.528 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:46.570 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:46.573 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:46.5735773Z"
2025-01-21 23:41:46.578 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:46.583 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:46.5838295Z"
2025-01-21 23:41:46.585 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:46.5854908Z"
2025-01-21 23:41:46.587 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:46.5872586Z"
2025-01-21 23:41:46.588 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.2649ms.
2025-01-21 23:41:46.591 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:46.600 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 62.8774ms
2025-01-21 23:41:46.603 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:46.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 93.795ms
2025-01-21 23:41:56.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - null null
2025-01-21 23:41:56.033 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-01-21 23:41:56.035 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-01-21 23:41:56.037 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 401 0 null 8.1326ms
2025-01-21 23:41:56.272 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - null null
2025-01-21 23:41:56.276 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:56.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift - 204 null null 6.8863ms
2025-01-21 23:41:56.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift - application/json null
2025-01-21 23:41:56.290 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:41:56.293 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:56.298 +02:00 [INF] Route matched with {action = "GetGifts", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.Gift]] GetGiftsAsync() on controller project.Controllers.GiftController (project).
2025-01-21 23:41:56.357 +02:00 [INF] Executing action method project.Controllers.GiftController.GetGiftsAsync (project) - Validation state: "Valid"
2025-01-21 23:41:56.359 +02:00 [INF] Starting GetGiftsAsync at "2025-01-21T21:41:56.3598912Z"
2025-01-21 23:41:56.365 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
2025-01-21 23:41:56.369 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:56.3693043Z"
2025-01-21 23:41:56.370 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:56.3704225Z"
2025-01-21 23:41:56.371 +02:00 [INF] GetGiftsAsync completed successfully at "2025-01-21T21:41:56.3718722Z"
2025-01-21 23:41:56.373 +02:00 [INF] Executed action method project.Controllers.GiftController.GetGiftsAsync (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.4636ms.
2025-01-21 23:41:56.376 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.Gift, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:41:56.378 +02:00 [INF] Executed action project.Controllers.GiftController.GetGiftsAsync (project) in 71.4711ms
2025-01-21 23:41:56.384 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetGiftsAsync (project)'
2025-01-21 23:41:56.386 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift - 200 null application/json; charset=utf-8 101.823ms
2025-01-21 23:42:05.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - null null
2025-01-21 23:42:05.028 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:05.030 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/13 - 204 null null 6.6378ms
2025-01-21 23:42:05.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/13 - application/json null
2025-01-21 23:42:05.041 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:05.043 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 23:42:05.053 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 23:42:05.091 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 23:42:05.095 +02:00 [INF] Starting GetByIdAsync with ID 13 at "2025-01-21T21:42:05.0958677Z"
2025-01-21 23:42:05.099 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T21:42:05.0996451Z"
2025-01-21 23:42:05.109 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T21:42:05.1091664Z"
2025-01-21 23:42:05.125 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 23:42:05.133 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 13 at "2025-01-21T21:42:05.1334136Z"
2025-01-21 23:42:05.136 +02:00 [INF] GetByIdAsync completed successfully with ID 13 at "2025-01-21T21:42:05.1364066Z"
2025-01-21 23:42:05.138 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.3896ms.
2025-01-21 23:42:05.141 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 23:42:05.143 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 85.4254ms
2025-01-21 23:42:05.146 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 23:42:05.154 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/13 - 200 null application/json; charset=utf-8 116.4582ms
2025-01-21 23:42:05.160 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 23:42:05.167 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:05.169 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 9.119ms
2025-01-21 23:42:05.175 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - application/json 2
2025-01-21 23:42:05.184 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:05.186 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 23:42:05.214 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 23:42:05.222 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:42:05.383 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 23:42:05.392 +02:00 [INF] Starting AddToBasketAsync with GiftId: 13 and Quantity: 1
2025-01-21 23:42:05.394 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 23:42:05.399 +02:00 [INF] Received request to fetch user by token.
2025-01-21 23:42:05.400 +02:00 [INF] Parsing token...
2025-01-21 23:42:05.403 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-21 23:42:05.444 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 23:42:05.450 +02:00 [INF] User successfully found: asas
2025-01-21 23:42:05.451 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-21 23:42:05.453 +02:00 [INF] Starting GetByIdAsync for Gift ID 13 at "2025-01-21T21:42:05.4534883Z"
2025-01-21 23:42:05.456 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 23:42:05.461 +02:00 [INF] Gift with Id: 13 successfully retrieved.
2025-01-21 23:42:05.468 +02:00 [INF] Starting to add Gift 13 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:42:05.483 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 23:42:05.569 +02:00 [INF] Created new UserGift entry for Gift 13 (Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:05.614 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 23:42:05.620 +02:00 [INF] Successfully saved changes to database for Gift 13 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-21 23:42:05.623 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 13 with Quantity: 1
2025-01-21 23:42:05.625 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 238.558ms.
2025-01-21 23:42:05.628 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 23:42:05.632 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 405.4448ms
2025-01-21 23:42:05.634 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 23:42:05.639 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:42:05.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=13 - 200 null application/json; charset=utf-8 465.9409ms
2025-01-21 23:42:08.956 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - null null
2025-01-21 23:42:08.960 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:08.963 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/Gift/14 - 204 null null 6.8027ms
2025-01-21 23:42:08.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Gift/14 - application/json null
2025-01-21 23:42:08.976 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:08.983 +02:00 [INF] Executing endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 23:42:08.986 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[project.Models.Gift]] GetByIdAsync(Int32) on controller project.Controllers.GiftController (project).
2025-01-21 23:42:09.025 +02:00 [INF] Executing action method project.Controllers.GiftController.GetByIdAsync (project) - Validation state: "Valid"
2025-01-21 23:42:09.031 +02:00 [INF] Starting GetByIdAsync with ID 14 at "2025-01-21T21:42:09.0311394Z"
2025-01-21 23:42:09.034 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T21:42:09.0345885Z"
2025-01-21 23:42:09.037 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T21:42:09.0373116Z"
2025-01-21 23:42:09.044 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 23:42:09.055 +02:00 [INF] GetByIdAsync completed successfully for Gift ID 14 at "2025-01-21T21:42:09.0549919Z"
2025-01-21 23:42:09.056 +02:00 [INF] GetByIdAsync completed successfully with ID 14 at "2025-01-21T21:42:09.0565148Z"
2025-01-21 23:42:09.059 +02:00 [INF] Executed action method project.Controllers.GiftController.GetByIdAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.0528ms.
2025-01-21 23:42:09.068 +02:00 [INF] Executing OkObjectResult, writing value of type 'project.Models.Gift'.
2025-01-21 23:42:09.070 +02:00 [INF] Executed action project.Controllers.GiftController.GetByIdAsync (project) in 77.8032ms
2025-01-21 23:42:09.072 +02:00 [INF] Executed endpoint 'project.Controllers.GiftController.GetByIdAsync (project)'
2025-01-21 23:42:09.074 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Gift/14 - 200 null application/json; charset=utf-8 102.5448ms
2025-01-21 23:42:09.084 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:42:09.088 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:09.089 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 5.2872ms
2025-01-21 23:42:09.097 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - application/json 2
2025-01-21 23:42:09.101 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:09.103 +02:00 [INF] Incoming Request: POST /api/User
2025-01-21 23:42:09.104 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 23:42:09.106 +02:00 [INF] Route matched with {action = "AddToBasket", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToBasketAsync(Int32, Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:42:09.180 +02:00 [INF] Executing action method project.Controllers.UserController.AddToBasketAsync (project) - Validation state: "Valid"
2025-01-21 23:42:09.183 +02:00 [INF] Starting AddToBasketAsync with GiftId: 14 and Quantity: 1
2025-01-21 23:42:09.185 +02:00 [INF] Authorization token received, attempting to retrieve user.
2025-01-21 23:42:09.187 +02:00 [INF] Received request to fetch user by token.
2025-01-21 23:42:09.188 +02:00 [INF] Parsing token...
2025-01-21 23:42:09.190 +02:00 [INF] Attempting to retrieve user with username: asas and email: manager11@example.com
2025-01-21 23:42:09.200 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM (
    SELECT * FROM AspNetUsers WHERE NormalizedUserName = @p0 AND Email = @p1 AND Discriminator = 'User'
) AS [m]
WHERE [m].[Discriminator] = N'User'
2025-01-21 23:42:09.209 +02:00 [INF] User successfully found: asas
2025-01-21 23:42:09.211 +02:00 [INF] User with Id: d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully retrieved.
2025-01-21 23:42:09.213 +02:00 [INF] Starting GetByIdAsync for Gift ID 14 at "2025-01-21T21:42:09.2137189Z"
2025-01-21 23:42:09.217 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-01-21 23:42:09.223 +02:00 [INF] Gift with Id: 14 successfully retrieved.
2025-01-21 23:42:09.225 +02:00 [INF] Starting to add Gift 14 (Quantity: 1) to User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:42:09.231 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450), @__gift_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__user_Id_0 AND [u].[GiftId] = @__gift_Id_1
2025-01-21 23:42:09.240 +02:00 [INF] Created new UserGift entry for Gift 14 (Quantity: 1) and User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:09.250 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserGifts] ([GiftId], [UserId], [GiftStatus], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
2025-01-21 23:42:09.257 +02:00 [INF] Successfully saved changes to database for Gift 14 and User d23fde6c-0675-4ef6-8506-8a21e9a1f431 (Quantity: 1)
2025-01-21 23:42:09.260 +02:00 [INF] Completed AddToBasketAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431 and GiftId: 14 with Quantity: 1
2025-01-21 23:42:09.267 +02:00 [INF] Executed action method project.Controllers.UserController.AddToBasketAsync (project), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 83.8201ms.
2025-01-21 23:42:09.273 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-21 23:42:09.278 +02:00 [INF] Executed action project.Controllers.UserController.AddToBasketAsync (project) in 164.876ms
2025-01-21 23:42:09.283 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.AddToBasketAsync (project)'
2025-01-21 23:42:09.287 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:42:09.290 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User?giftId=14 - 200 null application/json; charset=utf-8 193.3418ms
2025-01-21 23:42:10.604 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:42:10.618 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:10.621 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 17.2729ms
2025-01-21 23:42:10.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:42:10.639 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:10.641 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:42:10.647 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:42:10.653 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:42:10.702 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:42:10.709 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:10.713 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:10.778 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:42:10.816 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 2
2025-01-21 23:42:10.821 +02:00 [INF] Successfully retrieved 2 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:10.824 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 117.9213ms.
2025-01-21 23:42:10.829 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:42:10.845 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 187.9777ms
2025-01-21 23:42:10.851 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:42:10.854 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:42:10.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 221.6993ms
2025-01-21 23:42:41.205 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:42:41.274 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:42:41.276 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:42:41.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 72.5532ms
2025-01-21 23:42:41.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:42:41.629 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:41.632 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 47.7924ms
2025-01-21 23:42:41.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:42:41.641 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:42:41.643 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:42:41.649 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:42:41.651 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:42:41.694 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:42:41.698 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:41.701 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:41.719 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:42:41.729 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 2
2025-01-21 23:42:41.732 +02:00 [INF] Successfully retrieved 2 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:42:41.736 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.2226ms.
2025-01-21 23:42:41.744 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:42:41.748 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 92.0816ms
2025-01-21 23:42:41.752 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:42:41.756 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:42:41.759 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 121.496ms
2025-01-21 23:43:02.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:43:02.371 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:43:02.374 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:43:02.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 17.6568ms
2025-01-21 23:43:02.735 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:43:02.742 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:02.745 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 9.9429ms
2025-01-21 23:43:02.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:43:02.756 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:02.758 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:43:02.765 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:02.766 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:43:02.826 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:43:02.830 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:02.832 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:02.842 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:43:02.849 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 2
2025-01-21 23:43:02.850 +02:00 [INF] Successfully retrieved 2 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:02.855 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25.4068ms.
2025-01-21 23:43:02.861 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:43:02.864 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 93.5426ms
2025-01-21 23:43:02.868 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:02.873 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:43:02.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 123.3358ms
2025-01-21 23:43:49.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:43:49.490 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:43:49.493 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:43:49.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 34.0375ms
2025-01-21 23:43:49.938 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:43:49.969 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:49.972 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 33.0502ms
2025-01-21 23:43:49.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:43:49.984 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:49.986 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:43:49.988 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:49.990 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:43:50.035 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:43:50.038 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:50.040 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:50.051 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:43:50.060 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 2
2025-01-21 23:43:50.063 +02:00 [INF] Successfully retrieved 2 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:50.066 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 27.7567ms.
2025-01-21 23:43:50.069 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:43:50.075 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 76.1934ms
2025-01-21 23:43:50.079 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:50.082 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:43:50.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 103.7622ms
2025-01-21 23:43:54.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - null null
2025-01-21 23:43:54.419 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:54.421 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=13 - 204 null null 5.8936ms
2025-01-21 23:43:54.426 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - application/json null
2025-01-21 23:43:54.434 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:54.436 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:43:54.438 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:43:54.448 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:43:54.492 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:43:54.497 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 13
2025-01-21 23:43:54.500 +02:00 [INF] Removing Gift 13 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:43:54.504 +02:00 [INF] Removing Gift 13 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:43:54.519 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:43:54.573 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:43:54.601 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserGifts]
OUTPUT 1
WHERE [GiftId] = @p0 AND [UserId] = @p1;
2025-01-21 23:43:54.617 +02:00 [INF] Removed Gift 13 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 successfully
2025-01-21 23:43:54.620 +02:00 [INF] Removed Gift 13 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket successfully
2025-01-21 23:43:54.622 +02:00 [INF] Completed RemoveGiftFromUserAsync for GiftId: 13
2025-01-21 23:43:54.625 +02:00 [INF] Executed action method project.Controllers.UserController.RemoveGiftFromUserAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 129.4999ms.
2025-01-21 23:43:54.629 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 175.7807ms
2025-01-21 23:43:54.632 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:43:54.635 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:43:54.637 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=13 - 200 0 null 211.3337ms
2025-01-21 23:43:54.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:43:54.647 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:43:54.652 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:43:54.655 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:54.656 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:43:54.805 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:43:54.808 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:54.811 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:54.819 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:43:54.828 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:43:54.830 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:43:54.835 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 26.7634ms.
2025-01-21 23:43:54.838 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:43:54.841 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 181.2958ms
2025-01-21 23:43:54.844 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:43:54.850 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:43:54.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 209.6197ms
2025-01-21 23:44:17.529 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - null null
2025-01-21 23:44:17.552 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:17.554 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/confirmPurchase - 204 null null 25.3049ms
2025-01-21 23:44:17.581 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - application/json 2
2025-01-21 23:44:17.586 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:17.587 +02:00 [INF] Incoming Request: POST /api/User/confirmPurchase
2025-01-21 23:44:17.589 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 23:44:17.597 +02:00 [INF] Route matched with {action = "ConfirmPurchase", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task ConfirmPurchaseAsync() on controller project.Controllers.UserController (project).
2025-01-21 23:44:17.636 +02:00 [INF] Executing action method project.Controllers.UserController.ConfirmPurchaseAsync (project) - Validation state: "Valid"
2025-01-21 23:44:17.640 +02:00 [INF] Starting ConfirmPurchaseAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.647 +02:00 [INF] Confirming purchase for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.652 +02:00 [INF] Fetching UserGifts for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 to confirm purchase
2025-01-21 23:44:17.674 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0 AND [g].[Status] = N'Draft'
2025-01-21 23:44:17.686 +02:00 [INF] Updated Gift 14 to Purchased for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.699 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserGifts] SET [GiftStatus] = @p0
OUTPUT 1
WHERE [GiftId] = @p1 AND [UserId] = @p2;
2025-01-21 23:44:17.705 +02:00 [INF] Purchase confirmed for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.706 +02:00 [INF] Purchase confirmed for User d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.708 +02:00 [INF] Completed ConfirmPurchaseAsync for User: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:17.714 +02:00 [INF] Executed action method project.Controllers.UserController.ConfirmPurchaseAsync (project), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 75.5317ms.
2025-01-21 23:44:17.719 +02:00 [INF] Executed action project.Controllers.UserController.ConfirmPurchaseAsync (project) in 116.4966ms
2025-01-21 23:44:17.721 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.ConfirmPurchaseAsync (project)'
2025-01-21 23:44:17.723 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:44:17.724 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/User/confirmPurchase - 200 0 null 143.3894ms
2025-01-21 23:44:45.765 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:44:45.769 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:45.772 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.5493ms
2025-01-21 23:44:45.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:44:45.786 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:45.787 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:44:45.789 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:44:45.791 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:44:45.823 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:44:45.827 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:45.830 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:45.839 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:44:45.849 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:44:45.852 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:44:45.855 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 28.2277ms.
2025-01-21 23:44:45.859 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:44:45.867 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 71.4216ms
2025-01-21 23:44:45.871 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:44:45.874 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:44:45.876 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 97.5176ms
2025-01-21 23:44:47.978 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:44:47.984 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:47.986 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.5021ms
2025-01-21 23:44:47.991 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:44:47.996 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:44:48.003 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:44:48.005 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:44:48.006 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:44:48.042 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:44:48.046 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:44:48.049 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:44:48.051 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:44:48.056 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:44:48.068 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:44:48.331 +02:00 [ERR] Error occurred while removing gift with GiftId: 14
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
2025-01-21 23:44:48.475 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 464.048ms
2025-01-21 23:44:48.478 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:44:48.601 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:44:48.649 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 657.822ms
2025-01-21 23:47:02.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:02.795 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:02.797 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:47:02.799 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 38.4677ms
2025-01-21 23:47:03.090 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:03.119 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:03.121 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 31.0637ms
2025-01-21 23:47:03.126 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:47:03.133 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:03.135 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:03.137 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:03.139 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:47:03.180 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:47:03.183 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:03.184 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:03.194 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:47:03.199 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:47:03.200 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:03.202 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 19.7156ms.
2025-01-21 23:47:03.206 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:47:03.214 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 64.9203ms
2025-01-21 23:47:03.217 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:03.218 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:47:03.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 93.4419ms
2025-01-21 23:47:16.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:16.237 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:16.239 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:47:16.241 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 28.2735ms
2025-01-21 23:47:16.481 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:16.489 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:16.494 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 12.2232ms
2025-01-21 23:47:16.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:47:16.520 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:16.521 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:16.524 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:16.527 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:47:16.566 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:47:16.568 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:16.569 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:16.579 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:47:16.585 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:47:16.586 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:16.588 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 20.1263ms.
2025-01-21 23:47:16.596 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:47:16.599 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 65.3071ms
2025-01-21 23:47:16.602 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:16.604 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:47:16.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 92.1905ms
2025-01-21 23:47:23.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:23.607 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:23.609 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:47:23.611 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 7.4445ms
2025-01-21 23:47:23.853 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:47:23.857 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:23.859 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.0134ms
2025-01-21 23:47:23.868 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:47:23.873 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:47:23.877 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:47:23.880 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:23.884 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:47:23.919 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:47:23.922 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:23.924 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:23.931 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:47:23.937 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:47:23.938 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:47:23.940 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 17.9257ms.
2025-01-21 23:47:23.950 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:47:23.954 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 65.1825ms
2025-01-21 23:47:23.956 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:47:23.961 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:47:23.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 96.3767ms
2025-01-21 23:49:30.652 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:49:30.735 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:49:30.739 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:49:30.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 92.2329ms
2025-01-21 23:49:31.033 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:49:31.037 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:49:31.040 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.7203ms
2025-01-21 23:49:31.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:49:31.050 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:49:31.052 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:49:31.059 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:49:31.061 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:49:31.114 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:49:31.117 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:49:31.119 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:49:31.127 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:49:31.133 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:49:31.137 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:49:31.140 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 23.375ms.
2025-01-21 23:49:31.145 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:49:31.148 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 82.0244ms
2025-01-21 23:49:31.154 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:49:31.156 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:49:31.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 113.9392ms
2025-01-21 23:49:51.455 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:49:51.461 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:49:51.463 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 7.3388ms
2025-01-21 23:49:51.467 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:49:51.470 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:49:51.478 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:49:51.480 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:49:51.482 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:49:51.521 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:49:51.524 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:49:51.527 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:49:51.529 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:49:51.537 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:49:51.550 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:49:51.754 +02:00 [ERR] Error occurred while removing gift with GiftId: 14
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
2025-01-21 23:49:51.828 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 338.0491ms
2025-01-21 23:49:51.831 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:49:51.958 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:49:51.999 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 532.2537ms
2025-01-21 23:51:10.296 +02:00 [INF] Starting up the application
2025-01-21 23:51:13.309 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:51:15.643 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:51:15.819 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:51:16.242 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:51:16.304 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:51:16.307 +02:00 [INF] Hosting environment: Development
2025-01-21 23:51:16.309 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:51:17.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:51:17.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 404.8642ms
2025-01-21 23:51:17.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:51:17.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 15.4776ms
2025-01-21 23:51:17.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:51:18.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 373.7772ms
2025-01-21 23:51:21.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:51:21.844 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:51:21.888 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:51:21.890 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:51:21.894 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 62.5069ms
2025-01-21 23:51:22.196 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:51:22.210 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:51:22.223 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 26.5376ms
2025-01-21 23:51:22.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:51:22.235 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:51:22.241 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:51:22.498 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:51:22.530 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:51:22.683 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:51:22.690 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:51:22.694 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:51:22.921 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:51:23.020 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:51:23.023 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:51:23.033 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 342.2702ms.
2025-01-21 23:51:23.050 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:51:23.107 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 565.7161ms
2025-01-21 23:51:23.110 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:51:23.113 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:51:23.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 893.8103ms
2025-01-21 23:51:25.153 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:51:25.160 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:51:25.162 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 9.358ms
2025-01-21 23:51:25.167 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:51:25.171 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:51:25.174 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:51:25.187 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:51:25.212 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:51:25.277 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:51:25.282 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:51:25.284 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:51:25.288 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:51:25.328 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:51:25.378 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:51:25.611 +02:00 [ERR] Error occurred while removing gift with GiftId: 14
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
2025-01-21 23:51:25.761 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 545.8392ms
2025-01-21 23:51:25.765 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:51:25.908 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:51:25.946 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 778.7561ms
2025-01-21 23:53:36.257 +02:00 [INF] Starting up the application
2025-01-21 23:53:39.395 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:53:42.172 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:53:42.383 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:53:42.808 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:53:42.814 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:53:42.816 +02:00 [INF] Hosting environment: Development
2025-01-21 23:53:42.817 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:53:44.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:53:44.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 321.606ms
2025-01-21 23:53:44.391 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:53:44.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 8.2561ms
2025-01-21 23:53:44.679 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:53:45.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 385.2498ms
2025-01-21 23:54:28.226 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:54:28.236 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:54:28.242 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 16.0442ms
2025-01-21 23:54:28.268 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:54:28.274 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:54:28.279 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:54:28.321 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:54:28.579 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:54:28.617 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:54:28.839 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:54:28.847 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:54:28.850 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:54:28.854 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:54:28.957 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:54:29.034 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:54:29.387 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 758.6444ms
2025-01-21 23:54:29.390 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:54:29.531 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:54:29.597 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 1328.9884ms
2025-01-21 23:55:36.082 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:55:36.105 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:55:36.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 24.7796ms
2025-01-21 23:55:36.138 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:55:36.144 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:55:36.150 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:55:36.160 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:55:36.163 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:55:36.259 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:55:36.261 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:55:46.939 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:55:49.156 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:55:49.659 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:55:52.627 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:56:21.306 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 45138.4885ms
2025-01-21 23:56:21.309 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:56:21.601 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:56:21.633 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 45495.1913ms
2025-01-21 23:57:03.739 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:57:03.761 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:57:03.778 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:57:03.781 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:57:03.787 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:57:03.789 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:57:03.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 52.8786ms
2025-01-21 23:57:03.833 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 71.973ms
2025-01-21 23:57:04.122 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:57:04.127 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:57:04.130 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 7.3347ms
2025-01-21 23:57:04.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:57:04.144 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:57:04.148 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:57:04.160 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:57:04.172 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:57:04.219 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:57:04.225 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:57:04.229 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:57:04.361 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:57:04.447 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:57:04.450 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:57:04.459 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 231.2639ms.
2025-01-21 23:57:04.474 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:57:04.526 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 347.0367ms
2025-01-21 23:57:04.528 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:57:04.530 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:57:04.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 393.3448ms
2025-01-21 23:57:16.658 +02:00 [INF] Starting up the application
2025-01-21 23:57:19.830 +02:00 [INF] User profile is available. Using 'C:\Users\user1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-01-21 23:57:22.422 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-21 23:57:22.630 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-21 23:57:23.104 +02:00 [INF] Now listening on: http://localhost:5062
2025-01-21 23:57:23.110 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-21 23:57:23.112 +02:00 [INF] Hosting environment: Development
2025-01-21 23:57:23.113 +02:00 [INF] Content root path: E:\פרויקט\server\project
2025-01-21 23:57:24.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-01-21 23:57:24.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 368.5179ms
2025-01-21 23:57:24.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-01-21 23:57:24.705 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 9.2012ms
2025-01-21 23:57:24.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-01-21 23:57:25.196 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.304ms
2025-01-21 23:57:28.210 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - null null
2025-01-21 23:57:28.220 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:57:28.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User?giftId=14 - 204 null null 15.7961ms
2025-01-21 23:57:28.231 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - application/json null
2025-01-21 23:57:28.240 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:57:28.243 +02:00 [WRN] Failed to determine the https port for redirect.
2025-01-21 23:57:28.286 +02:00 [INF] Incoming Request: DELETE /api/User
2025-01-21 23:57:28.528 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:57:28.565 +02:00 [INF] Route matched with {action = "RemoveGiftFromUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task RemoveGiftFromUserAsync(Int32) on controller project.Controllers.UserController (project).
2025-01-21 23:57:28.733 +02:00 [INF] Executing action method project.Controllers.UserController.RemoveGiftFromUserAsync (project) - Validation state: "Valid"
2025-01-21 23:57:28.738 +02:00 [INF] Starting RemoveGiftFromUserAsync for GiftId: 14
2025-01-21 23:57:28.741 +02:00 [INF] Removing Gift 14 from User d23fde6c-0675-4ef6-8506-8a21e9a1f431's basket
2025-01-21 23:57:28.746 +02:00 [INF] Removing Gift 14 for User d23fde6c-0675-4ef6-8506-8a21e9a1f431 in database
2025-01-21 23:57:28.857 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450), @__giftId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity]
FROM [UserGifts] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[GiftId] = @__giftId_1
2025-01-21 23:57:28.935 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__giftId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserGifts] AS [u]
        WHERE [u].[GiftId] = @__giftId_0 AND [u].[GiftStatus] = N'Purchased') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-21 23:57:29.282 +02:00 [INF] Executed action project.Controllers.UserController.RemoveGiftFromUserAsync (project) in 705.6619ms
2025-01-21 23:57:29.286 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.RemoveGiftFromUserAsync (project)'
2025-01-21 23:57:29.444 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot remove gift with ID 14 from user d23fde6c-0675-4ef6-8506-8a21e9a1f431 because it is purchased.
   at project.Repository.UserRepository.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Repositories\UserRepository.cs:line 138
   at project.Services.UserService.RemoveGiftFromUserAsync(String userId, Int32 giftId) in E:\פרויקט\server\project\Services\UserService.cs:line 80
   at project.Controllers.UserController.RemoveGiftFromUserAsync(Int32 giftId) in E:\פרויקט\server\project\Controllers\UserController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at project.Controllers.Middlewares.OurMiddleware.Invoke(HttpContext context) in E:\פרויקט\server\project\Controllers\Middlewares\OurMiddleware.cs:line 64
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-21 23:57:29.513 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5062/api/User?giftId=14 - 500 null text/plain; charset=utf-8 1281.7901ms
2025-01-21 23:59:44.465 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:59:44.484 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:44.487 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:59:44.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 34.6582ms
2025-01-21 23:59:44.786 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:59:44.810 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:59:44.813 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 26.9868ms
2025-01-21 23:59:44.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:59:44.827 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:59:44.831 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:44.843 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:44.857 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:59:44.955 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:59:44.964 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:44.970 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:45.162 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:59:45.235 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:59:45.237 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:45.244 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 279.5123ms.
2025-01-21 23:59:45.256 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:59:45.305 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 441.1807ms
2025-01-21 23:59:45.308 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:45.310 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:59:45.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 489.3107ms
2025-01-21 23:59:47.326 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:59:47.332 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:47.334 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:59:47.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 10.1528ms
2025-01-21 23:59:47.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:59:47.654 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:59:47.656 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:47.665 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:47.667 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:59:47.709 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:59:47.712 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:47.714 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:47.727 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:59:47.736 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:59:47.740 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:47.743 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.0258ms.
2025-01-21 23:59:47.747 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:59:47.753 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 81.9451ms
2025-01-21 23:59:47.756 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:47.758 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:59:47.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 110.683ms
2025-01-21 23:59:57.772 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:59:57.775 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:57.776 +02:00 [WRN] Missing Authorization Header
2025-01-21 23:59:57.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 401 null null 6.3376ms
2025-01-21 23:59:58.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - null null
2025-01-21 23:59:58.139 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:59:58.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5062/api/User/userBasket - 204 null null 6.2729ms
2025-01-21 23:59:58.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/User/userBasket - application/json null
2025-01-21 23:59:58.155 +02:00 [INF] CORS policy execution successful.
2025-01-21 23:59:58.157 +02:00 [INF] Incoming Request: GET /api/User/userBasket
2025-01-21 23:59:58.160 +02:00 [INF] Executing endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:58.164 +02:00 [INF] Route matched with {action = "GetUserGifts", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[project.Models.ModelsDTO.UserGiftDTO]] GetUserGifts() on controller project.Controllers.UserController (project).
2025-01-21 23:59:58.211 +02:00 [INF] Executing action method project.Controllers.UserController.GetUserGifts (project) - Validation state: "Valid"
2025-01-21 23:59:58.214 +02:00 [INF] Received request to get basket for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:58.216 +02:00 [INF] Start fetching user gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:58.229 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[GiftId], [u].[GiftStatus], [u].[Quantity], [g].[Id], [g].[CategoryId], [g].[DonatorId], [g].[IsLotteryCompleted], [g].[Name], [g].[Price], [g].[Status], [g].[WinningId], [g].[image]
FROM [UserGifts] AS [u]
INNER JOIN [Gifts] AS [g] ON [u].[GiftId] = [g].[Id]
WHERE [u].[UserId] = @__userId_0
2025-01-21 23:59:58.238 +02:00 [INF] Successfully fetched gifts for userId: d23fde6c-0675-4ef6-8506-8a21e9a1f431, result count: 1
2025-01-21 23:59:58.241 +02:00 [INF] Successfully retrieved 1 gifts for user: d23fde6c-0675-4ef6-8506-8a21e9a1f431
2025-01-21 23:59:58.243 +02:00 [INF] Executed action method project.Controllers.UserController.GetUserGifts (project), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 29.648ms.
2025-01-21 23:59:58.246 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[project.Models.ModelsDTO.UserGiftDTO, project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-21 23:59:58.251 +02:00 [INF] Executed action project.Controllers.UserController.GetUserGifts (project) in 80.6797ms
2025-01-21 23:59:58.257 +02:00 [INF] Executed endpoint 'project.Controllers.UserController.GetUserGifts (project)'
2025-01-21 23:59:58.259 +02:00 [INF] Outgoing Response: 200
2025-01-21 23:59:58.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/User/userBasket - 200 null application/json; charset=utf-8 111.6233ms
